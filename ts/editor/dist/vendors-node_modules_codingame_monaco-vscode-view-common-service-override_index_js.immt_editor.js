(self["webpackChunkimmt_editor"] = self["webpackChunkimmt_editor"] || []).push([["vendors-node_modules_codingame_monaco-vscode-view-common-service-override_index_js"],{

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/assets/fake.html":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/assets/fake.html ***!
  \*********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "867c598137f964486c1a.html";

/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/assets/index-no-csp.html":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/assets/index-no-csp.html ***!
  \*****************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "94b40ea4706a8a4ad13a.html";

/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/assets/index.html":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/assets/index.html ***!
  \**********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "c01b4be7577bea419b0b.html";

/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/assets/service-worker.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/assets/service-worker.js ***!
  \*****************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "0ebf0de36ba241676db7.js";

/***/ }),

/***/ "./node_modules/vscode/assets/continue-tb.png":
/*!****************************************************!*\
  !*** ./node_modules/vscode/assets/continue-tb.png ***!
  \****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "47f1d7816777f9facc10.png";

/***/ }),

/***/ "./node_modules/vscode/assets/pause-tb.png":
/*!*************************************************!*\
  !*** ./node_modules/vscode/assets/pause-tb.png ***!
  \*************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "55aebc839621756e7a15.png";

/***/ }),

/***/ "./node_modules/vscode/assets/restart-tb.png":
/*!***************************************************!*\
  !*** ./node_modules/vscode/assets/restart-tb.png ***!
  \***************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "0bb0b78d1eb964f9450d.png";

/***/ }),

/***/ "./node_modules/vscode/assets/run-with-debugging-tb.png":
/*!**************************************************************!*\
  !*** ./node_modules/vscode/assets/run-with-debugging-tb.png ***!
  \**************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "fbc7ad28873131d62658.png";

/***/ }),

/***/ "./node_modules/vscode/assets/stepinto-tb.png":
/*!****************************************************!*\
  !*** ./node_modules/vscode/assets/stepinto-tb.png ***!
  \****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "6c9dd9df3a914e4dbf1d.png";

/***/ }),

/***/ "./node_modules/vscode/assets/stepout-tb.png":
/*!***************************************************!*\
  !*** ./node_modules/vscode/assets/stepout-tb.png ***!
  \***************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "0bbf353e2a239d63f7ab.png";

/***/ }),

/***/ "./node_modules/vscode/assets/stepover-tb.png":
/*!****************************************************!*\
  !*** ./node_modules/vscode/assets/stepover-tb.png ***!
  \****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "326b2218cc5bc94af756.png";

/***/ }),

/***/ "./node_modules/vscode/assets/stop-tb.png":
/*!************************************************!*\
  !*** ./node_modules/vscode/assets/stop-tb.png ***!
  \************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "b84dfe91623eb7388cdc.png";

/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-bulk-edit-service-override/bulkEdit.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-bulk-edit-service-override/bulkEdit.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getServiceOverride)
/* harmony export */ });
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/descriptors */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/descriptors.js");
/* harmony import */ var vscode_vscode_vs_editor_browser_services_bulkEditService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/editor/browser/services/bulkEditService */ "./node_modules/vscode/vscode/src/vs/editor/browser/services/bulkEditService.js");
/* harmony import */ var _vscode_src_vs_workbench_contrib_bulkEdit_browser_bulkEditService_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./vscode/src/vs/workbench/contrib/bulkEdit/browser/bulkEditService.js */ "./node_modules/@codingame/monaco-vscode-bulk-edit-service-override/vscode/src/vs/workbench/contrib/bulkEdit/browser/bulkEditService.js");
/* harmony import */ var _vscode_src_vs_workbench_contrib_bulkEdit_browser_preview_bulkEdit_contribution_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./vscode/src/vs/workbench/contrib/bulkEdit/browser/preview/bulkEdit.contribution.js */ "./node_modules/@codingame/monaco-vscode-bulk-edit-service-override/vscode/src/vs/workbench/contrib/bulkEdit/browser/preview/bulkEdit.contribution.js");





function getServiceOverride() {
    return {
        [( vscode_vscode_vs_editor_browser_services_bulkEditService__WEBPACK_IMPORTED_MODULE_1__.IBulkEditService.toString())]: new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_0__.SyncDescriptor(_vscode_src_vs_workbench_contrib_bulkEdit_browser_bulkEditService_js__WEBPACK_IMPORTED_MODULE_2__.BulkEditService, [], true)
    };
}




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-bulk-edit-service-override/index.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-bulk-edit-service-override/index.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _bulkEdit_js__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _bulkEdit_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bulkEdit.js */ "./node_modules/@codingame/monaco-vscode-bulk-edit-service-override/bulkEdit.js");



/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-bulk-edit-service-override/vscode/src/vs/workbench/contrib/bulkEdit/browser/bulkEditService.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-bulk-edit-service-override/vscode/src/vs/workbench/contrib/bulkEdit/browser/bulkEditService.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BulkEditService: () => (/* binding */ BulkEditService)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_base_common_cancellation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/common/cancellation */ "./node_modules/vscode/vscode/src/vs/base/common/cancellation.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_base_common_linkedList__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/common/linkedList */ "./node_modules/vscode/vscode/src/vs/base/common/linkedList.js");
/* harmony import */ var vscode_vscode_vs_base_common_map__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/base/common/map */ "./node_modules/vscode/vscode/src/vs/base/common/map.js");
/* harmony import */ var vscode_vscode_vs_editor_browser_editorBrowser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/editor/browser/editorBrowser */ "./node_modules/vscode/vscode/src/vs/editor/browser/editorBrowser.js");
/* harmony import */ var vscode_vscode_vs_editor_browser_services_bulkEditService__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/editor/browser/services/bulkEditService */ "./node_modules/vscode/vscode/src/vs/editor/browser/services/bulkEditService.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/platform/configuration/common/configuration.service */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var vscode_vscode_vs_platform_configuration_common_configurationRegistry__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/platform/configuration/common/configurationRegistry */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configurationRegistry.js");
/* harmony import */ var vscode_vscode_vs_platform_dialogs_common_dialogs_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/platform/dialogs/common/dialogs.service */ "./node_modules/vscode/vscode/src/vs/platform/dialogs/common/dialogs.service.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_platform_log_common_log_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/platform/log/common/log.service */ "./node_modules/vscode/vscode/src/vs/platform/log/common/log.service.js");
/* harmony import */ var vscode_vscode_vs_platform_progress_common_progress__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/platform/progress/common/progress */ "./node_modules/vscode/vscode/src/vs/platform/progress/common/progress.js");
/* harmony import */ var vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/platform/registry/common/platform */ "./node_modules/vscode/vscode/src/vs/platform/registry/common/platform.js");
/* harmony import */ var vscode_vscode_vs_platform_undoRedo_common_undoRedo__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/platform/undoRedo/common/undoRedo */ "./node_modules/vscode/vscode/src/vs/platform/undoRedo/common/undoRedo.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_bulkEdit_browser_bulkCellEdits__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/bulkEdit/browser/bulkCellEdits */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/bulkEdit/browser/bulkCellEdits.js");
/* harmony import */ var _bulkFileEdits_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./bulkFileEdits.js */ "./node_modules/@codingame/monaco-vscode-bulk-edit-service-override/vscode/src/vs/workbench/contrib/bulkEdit/browser/bulkFileEdits.js");
/* harmony import */ var _bulkTextEdits_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./bulkTextEdits.js */ "./node_modules/@codingame/monaco-vscode-bulk-edit-service-override/vscode/src/vs/workbench/contrib/bulkEdit/browser/bulkTextEdits.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_lifecycle_common_lifecycle_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/lifecycle/common/lifecycle.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/lifecycle/common/lifecycle.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_workingCopy_common_workingCopyService_service__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/workingCopy/common/workingCopyService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/workingCopy/common/workingCopyService.service.js");























function liftEdits(edits) {
    return (
         (edits.map(edit => {
            if (vscode_vscode_vs_editor_browser_services_bulkEditService__WEBPACK_IMPORTED_MODULE_6__.ResourceTextEdit.is(edit)) {
                return vscode_vscode_vs_editor_browser_services_bulkEditService__WEBPACK_IMPORTED_MODULE_6__.ResourceTextEdit.lift(edit);
            }
            if (vscode_vscode_vs_editor_browser_services_bulkEditService__WEBPACK_IMPORTED_MODULE_6__.ResourceFileEdit.is(edit)) {
                return vscode_vscode_vs_editor_browser_services_bulkEditService__WEBPACK_IMPORTED_MODULE_6__.ResourceFileEdit.lift(edit);
            }
            if (vscode_vscode_vs_workbench_contrib_bulkEdit_browser_bulkCellEdits__WEBPACK_IMPORTED_MODULE_16__.ResourceNotebookCellEdit.is(edit)) {
                return vscode_vscode_vs_workbench_contrib_bulkEdit_browser_bulkCellEdits__WEBPACK_IMPORTED_MODULE_16__.ResourceNotebookCellEdit.lift(edit);
            }
            throw ( (new Error('Unsupported edit')));
        }))
    );
}
let BulkEdit = class BulkEdit {
    constructor(_label, _code, _editor, _progress, _token, _edits, _undoRedoGroup, _undoRedoSource, _confirmBeforeUndo, _instaService, _logService) {
        this._label = _label;
        this._code = _code;
        this._editor = _editor;
        this._progress = _progress;
        this._token = _token;
        this._edits = _edits;
        this._undoRedoGroup = _undoRedoGroup;
        this._undoRedoSource = _undoRedoSource;
        this._confirmBeforeUndo = _confirmBeforeUndo;
        this._instaService = _instaService;
        this._logService = _logService;
    }
    ariaMessage() {
        const otherResources = ( (new vscode_vscode_vs_base_common_map__WEBPACK_IMPORTED_MODULE_4__.ResourceMap()));
        const textEditResources = ( (new vscode_vscode_vs_base_common_map__WEBPACK_IMPORTED_MODULE_4__.ResourceMap()));
        let textEditCount = 0;
        for (const edit of this._edits) {
            if (edit instanceof vscode_vscode_vs_editor_browser_services_bulkEditService__WEBPACK_IMPORTED_MODULE_6__.ResourceTextEdit) {
                textEditCount += 1;
                textEditResources.set(edit.resource, true);
            }
            else if (edit instanceof vscode_vscode_vs_editor_browser_services_bulkEditService__WEBPACK_IMPORTED_MODULE_6__.ResourceFileEdit) {
                otherResources.set(edit.oldResource ?? edit.newResource, true);
            }
        }
        if (this._edits.length === 0) {
            return ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(2113, "Made no edits"));
        }
        else if (otherResources.size === 0) {
            if (textEditCount > 1 && textEditResources.size > 1) {
                return ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(
                    2114,
                    "Made {0} text edits in {1} files",
                    textEditCount,
                    textEditResources.size
                ));
            }
            else {
                return ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(2115, "Made {0} text edits in one file", textEditCount));
            }
        }
        else {
            return ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(
                2116,
                "Made {0} text edits in {1} files, also created or deleted {2} files",
                textEditCount,
                textEditResources.size,
                otherResources.size
            ));
        }
    }
    async perform() {
        if (this._edits.length === 0) {
            return [];
        }
        const ranges = [1];
        for (let i = 1; i < this._edits.length; i++) {
            if (Object.getPrototypeOf(this._edits[i - 1]) === Object.getPrototypeOf(this._edits[i])) {
                ranges[ranges.length - 1]++;
            }
            else {
                ranges.push(1);
            }
        }
        const increment = this._edits.length > 1 ? 0 : undefined;
        this._progress.report({ increment, total: 100 });
        const progress = { report: _ => this._progress.report({ increment: 100 / this._edits.length }) };
        const resources = [];
        let index = 0;
        for (const range of ranges) {
            if (this._token.isCancellationRequested) {
                break;
            }
            const group = this._edits.slice(index, index + range);
            if (group[0] instanceof vscode_vscode_vs_editor_browser_services_bulkEditService__WEBPACK_IMPORTED_MODULE_6__.ResourceFileEdit) {
                resources.push(await this._performFileEdits(group, this._undoRedoGroup, this._undoRedoSource, this._confirmBeforeUndo, progress));
            }
            else if (group[0] instanceof vscode_vscode_vs_editor_browser_services_bulkEditService__WEBPACK_IMPORTED_MODULE_6__.ResourceTextEdit) {
                resources.push(await this._performTextEdits(group, this._undoRedoGroup, this._undoRedoSource, progress));
            }
            else if (group[0] instanceof vscode_vscode_vs_workbench_contrib_bulkEdit_browser_bulkCellEdits__WEBPACK_IMPORTED_MODULE_16__.ResourceNotebookCellEdit) {
                resources.push(await this._performCellEdits(group, this._undoRedoGroup, this._undoRedoSource, progress));
            }
            else {
                console.log('UNKNOWN EDIT');
            }
            index = index + range;
        }
        return resources.flat();
    }
    async _performFileEdits(edits, undoRedoGroup, undoRedoSource, confirmBeforeUndo, progress) {
        this._logService.debug('_performFileEdits', JSON.stringify(edits));
        const model = this._instaService.createInstance(_bulkFileEdits_js__WEBPACK_IMPORTED_MODULE_17__.BulkFileEdits, this._label || ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(2117, "Workspace Edit")), this._code || 'undoredo.workspaceEdit', undoRedoGroup, undoRedoSource, confirmBeforeUndo, progress, this._token, edits);
        return await model.apply();
    }
    async _performTextEdits(edits, undoRedoGroup, undoRedoSource, progress) {
        this._logService.debug('_performTextEdits', JSON.stringify(edits));
        const model = this._instaService.createInstance(_bulkTextEdits_js__WEBPACK_IMPORTED_MODULE_18__.BulkTextEdits, this._label || ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(2117, "Workspace Edit")), this._code || 'undoredo.workspaceEdit', this._editor, undoRedoGroup, undoRedoSource, progress, this._token, edits);
        return await model.apply();
    }
    async _performCellEdits(edits, undoRedoGroup, undoRedoSource, progress) {
        this._logService.debug('_performCellEdits', JSON.stringify(edits));
        const model = this._instaService.createInstance(vscode_vscode_vs_workbench_contrib_bulkEdit_browser_bulkCellEdits__WEBPACK_IMPORTED_MODULE_16__.BulkCellEdits, undoRedoGroup, undoRedoSource, progress, this._token, edits);
        return await model.apply();
    }
};
BulkEdit = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_11__.IInstantiationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, vscode_vscode_vs_platform_log_common_log_service__WEBPACK_IMPORTED_MODULE_12__.ILogService)))
], BulkEdit)));
let BulkEditService = class BulkEditService {
    constructor(_instaService, _logService, _editorService, _lifecycleService, _dialogService, _workingCopyService, _configService) {
        this._instaService = _instaService;
        this._logService = _logService;
        this._editorService = _editorService;
        this._lifecycleService = _lifecycleService;
        this._dialogService = _dialogService;
        this._workingCopyService = _workingCopyService;
        this._configService = _configService;
        this._activeUndoRedoGroups = ( (new vscode_vscode_vs_base_common_linkedList__WEBPACK_IMPORTED_MODULE_3__.LinkedList()));
    }
    setPreviewHandler(handler) {
        this._previewHandler = handler;
        return (0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_2__.toDisposable)(() => {
            if (this._previewHandler === handler) {
                this._previewHandler = undefined;
            }
        });
    }
    hasPreviewHandler() {
        return Boolean(this._previewHandler);
    }
    async apply(editsIn, options) {
        let edits = liftEdits(Array.isArray(editsIn) ? editsIn : editsIn.edits);
        if (edits.length === 0) {
            return { ariaSummary: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(2118, "Made no edits")), isApplied: false };
        }
        if (this._previewHandler && (options?.showPreview || ( (edits.some(value => value.metadata?.needsConfirmation))))) {
            edits = await this._previewHandler(edits, options);
        }
        let codeEditor = options?.editor;
        if (!codeEditor) {
            const candidate = this._editorService.activeTextEditorControl;
            if ((0,vscode_vscode_vs_editor_browser_editorBrowser__WEBPACK_IMPORTED_MODULE_5__.isCodeEditor)(candidate)) {
                codeEditor = candidate;
            }
            else if ((0,vscode_vscode_vs_editor_browser_editorBrowser__WEBPACK_IMPORTED_MODULE_5__.isDiffEditor)(candidate)) {
                codeEditor = candidate.getModifiedEditor();
            }
        }
        if (codeEditor && codeEditor.getOption(94 )) {
            codeEditor = undefined;
        }
        let undoRedoGroup;
        let undoRedoGroupRemove = () => { };
        if (typeof options?.undoRedoGroupId === 'number') {
            for (const candidate of this._activeUndoRedoGroups) {
                if (candidate.id === options.undoRedoGroupId) {
                    undoRedoGroup = candidate;
                    break;
                }
            }
        }
        if (!undoRedoGroup) {
            undoRedoGroup = ( (new vscode_vscode_vs_platform_undoRedo_common_undoRedo__WEBPACK_IMPORTED_MODULE_15__.UndoRedoGroup()));
            undoRedoGroupRemove = this._activeUndoRedoGroups.push(undoRedoGroup);
        }
        const label = options?.quotableLabel || options?.label;
        const bulkEdit = this._instaService.createInstance(BulkEdit, label, options?.code, codeEditor, options?.progress ?? vscode_vscode_vs_platform_progress_common_progress__WEBPACK_IMPORTED_MODULE_13__.Progress.None, options?.token ?? vscode_vscode_vs_base_common_cancellation__WEBPACK_IMPORTED_MODULE_1__.CancellationToken.None, edits, undoRedoGroup, options?.undoRedoSource, !!options?.confirmBeforeUndo);
        let listener;
        try {
            listener = this._lifecycleService.onBeforeShutdown(e => e.veto(this._shouldVeto(label, e.reason), 'veto.blukEditService'));
            const resources = await bulkEdit.perform();
            if (options?.respectAutoSaveConfig && this._configService.getValue(autoSaveSetting) === true && resources.length > 1) {
                await this._saveAll(resources);
            }
            return { ariaSummary: bulkEdit.ariaMessage(), isApplied: edits.length > 0 };
        }
        catch (err) {
            this._logService.error(err);
            throw err;
        }
        finally {
            listener?.dispose();
            undoRedoGroupRemove();
        }
    }
    async _saveAll(resources) {
        const set = ( (new vscode_vscode_vs_base_common_map__WEBPACK_IMPORTED_MODULE_4__.ResourceSet(resources)));
        const saves = ( (this._workingCopyService.dirtyWorkingCopies.map(async (copy) => {
            if (( (set.has(copy.resource)))) {
                await copy.save();
            }
        })));
        const result = await Promise.allSettled(saves);
        for (const item of result) {
            if (item.status === 'rejected') {
                this._logService.warn(item.reason);
            }
        }
    }
    async _shouldVeto(label, reason) {
        let message;
        let primaryButton;
        switch (reason) {
            case 1 :
                message = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(2119, "Are you sure you want to close the window?"));
                primaryButton = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(2120, "&&Close Window"));
                break;
            case 4 :
                message = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(2121, "Are you sure you want to change the workspace?"));
                primaryButton = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(2122, "Change &&Workspace"));
                break;
            case 3 :
                message = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(2123, "Are you sure you want to reload the window?"));
                primaryButton = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(2124, "&&Reload Window"));
                break;
            default:
                message = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(2125, "Are you sure you want to quit?"));
                primaryButton = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(2126, "&&Quit"));
                break;
        }
        const result = await this._dialogService.confirm({
            message,
            detail: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(2127, "'{0}' is in progress.", label || ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(2128, "File operation")))),
            primaryButton
        });
        return !result.confirmed;
    }
};
BulkEditService = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_11__.IInstantiationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_platform_log_common_log_service__WEBPACK_IMPORTED_MODULE_12__.ILogService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_19__.IEditorService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_workbench_services_lifecycle_common_lifecycle_service__WEBPACK_IMPORTED_MODULE_20__.ILifecycleService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_platform_dialogs_common_dialogs_service__WEBPACK_IMPORTED_MODULE_10__.IDialogService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, vscode_vscode_vs_workbench_services_workingCopy_common_workingCopyService_service__WEBPACK_IMPORTED_MODULE_21__.IWorkingCopyService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_8__.IConfigurationService)))
], BulkEditService)));
const autoSaveSetting = 'files.refactoring.autoSave';
( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_14__.Registry.as(vscode_vscode_vs_platform_configuration_common_configurationRegistry__WEBPACK_IMPORTED_MODULE_9__.Extensions.Configuration))).registerConfiguration({
    id: 'files',
    properties: {
        [autoSaveSetting]: {
            description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(
                2129,
                "Controls if files that were part of a refactoring are saved automatically"
            )),
            default: true,
            type: 'boolean'
        }
    }
});




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-bulk-edit-service-override/vscode/src/vs/workbench/contrib/bulkEdit/browser/bulkFileEdits.js":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-bulk-edit-service-override/vscode/src/vs/workbench/contrib/bulkEdit/browser/bulkFileEdits.js ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BulkFileEdits: () => (/* binding */ BulkFileEdits)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_platform_files_common_files_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/platform/files/common/files.service */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.service.js");
/* harmony import */ var vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/platform/configuration/common/configuration.service */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_workingCopy_common_workingCopyFileService_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/workingCopy/common/workingCopyFileService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/workingCopy/common/workingCopyFileService.service.js");
/* harmony import */ var vscode_vscode_vs_platform_undoRedo_common_undoRedo_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/platform/undoRedo/common/undoRedo.service */ "./node_modules/vscode/vscode/src/vs/platform/undoRedo/common/undoRedo.service.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_platform_log_common_log_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/platform/log/common/log.service */ "./node_modules/vscode/vscode/src/vs/platform/log/common/log.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_cancellation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/base/common/cancellation */ "./node_modules/vscode/vscode/src/vs/base/common/cancellation.js");
/* harmony import */ var vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/base/common/arrays */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_textfile_common_textfiles_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/textfile/common/textfiles.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/textfile/common/textfiles.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/base/common/network */ "./node_modules/vscode/vscode/src/vs/base/common/network.js");












var RenameOperation_1;
class Noop {
    constructor() {
        this.uris = [];
    }
    async perform() { return this; }
    toString() {
        return '(noop)';
    }
}
class RenameEdit {
    constructor(newUri, oldUri, options) {
        this.newUri = newUri;
        this.oldUri = oldUri;
        this.options = options;
        this.type = 'rename';
    }
}
let RenameOperation = RenameOperation_1 = class RenameOperation {
    constructor(_edits, _undoRedoInfo, _workingCopyFileService, _fileService) {
        this._edits = _edits;
        this._undoRedoInfo = _undoRedoInfo;
        this._workingCopyFileService = _workingCopyFileService;
        this._fileService = _fileService;
    }
    get uris() {
        return this._edits.flatMap(edit => [edit.newUri, edit.oldUri]);
    }
    async perform(token) {
        const moves = [];
        const undoes = [];
        for (const edit of this._edits) {
            const skip = edit.options.overwrite === undefined && edit.options.ignoreIfExists && (await this._fileService.exists(edit.newUri));
            if (!skip) {
                moves.push({
                    file: { source: edit.oldUri, target: edit.newUri },
                    overwrite: edit.options.overwrite
                });
                undoes.push(( new RenameEdit(edit.oldUri, edit.newUri, edit.options)));
            }
        }
        if (moves.length === 0) {
            return ( new Noop());
        }
        await this._workingCopyFileService.move(moves, token, this._undoRedoInfo);
        return ( new RenameOperation_1(
            undoes,
            { isUndoing: true },
            this._workingCopyFileService,
            this._fileService
        ));
    }
    toString() {
        return `(rename ${( this._edits.map(edit => `${edit.oldUri} to ${edit.newUri}`)).join(', ')})`;
    }
};
RenameOperation = RenameOperation_1 = ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_workbench_services_workingCopy_common_workingCopyFileService_service__WEBPACK_IMPORTED_MODULE_3__.IWorkingCopyFileService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_platform_files_common_files_service__WEBPACK_IMPORTED_MODULE_1__.IFileService))
], RenameOperation));
class CopyEdit {
    constructor(newUri, oldUri, options) {
        this.newUri = newUri;
        this.oldUri = oldUri;
        this.options = options;
        this.type = 'copy';
    }
}
let CopyOperation = class CopyOperation {
    constructor(_edits, _undoRedoInfo, _workingCopyFileService, _fileService, _instaService) {
        this._edits = _edits;
        this._undoRedoInfo = _undoRedoInfo;
        this._workingCopyFileService = _workingCopyFileService;
        this._fileService = _fileService;
        this._instaService = _instaService;
    }
    get uris() {
        return this._edits.flatMap(edit => [edit.newUri, edit.oldUri]);
    }
    async perform(token) {
        const copies = [];
        for (const edit of this._edits) {
            const skip = edit.options.overwrite === undefined && edit.options.ignoreIfExists && (await this._fileService.exists(edit.newUri));
            if (!skip) {
                copies.push({ file: { source: edit.oldUri, target: edit.newUri }, overwrite: edit.options.overwrite });
            }
        }
        if (copies.length === 0) {
            return ( new Noop());
        }
        const stats = await this._workingCopyFileService.copy(copies, token, this._undoRedoInfo);
        const undoes = [];
        for (let i = 0; i < stats.length; i++) {
            const stat = stats[i];
            const edit = this._edits[i];
            undoes.push(( new DeleteEdit(
                stat.resource,
                { recursive: true, folder: this._edits[i].options.folder || stat.isDirectory, ...edit.options },
                false
            )));
        }
        return this._instaService.createInstance(DeleteOperation, undoes, { isUndoing: true });
    }
    toString() {
        return `(copy ${( this._edits.map(edit => `${edit.oldUri} to ${edit.newUri}`)).join(', ')})`;
    }
};
CopyOperation = ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_workbench_services_workingCopy_common_workingCopyFileService_service__WEBPACK_IMPORTED_MODULE_3__.IWorkingCopyFileService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_platform_files_common_files_service__WEBPACK_IMPORTED_MODULE_1__.IFileService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_5__.IInstantiationService))
], CopyOperation));
class CreateEdit {
    constructor(newUri, options, contents) {
        this.newUri = newUri;
        this.options = options;
        this.contents = contents;
        this.type = 'create';
    }
}
let CreateOperation = class CreateOperation {
    constructor(_edits, _undoRedoInfo, _fileService, _workingCopyFileService, _instaService, _textFileService) {
        this._edits = _edits;
        this._undoRedoInfo = _undoRedoInfo;
        this._fileService = _fileService;
        this._workingCopyFileService = _workingCopyFileService;
        this._instaService = _instaService;
        this._textFileService = _textFileService;
    }
    get uris() {
        return ( this._edits.map(edit => edit.newUri));
    }
    async perform(token) {
        const folderCreates = [];
        const fileCreates = [];
        const undoes = [];
        for (const edit of this._edits) {
            if (edit.newUri.scheme === vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_10__.Schemas.untitled) {
                continue;
            }
            if (edit.options.overwrite === undefined && edit.options.ignoreIfExists && (await this._fileService.exists(edit.newUri))) {
                continue;
            }
            if (edit.options.folder) {
                folderCreates.push({ resource: edit.newUri });
            }
            else {
                const encodedReadable = typeof edit.contents !== 'undefined' ? edit.contents : await this._textFileService.getEncodedReadable(edit.newUri);
                fileCreates.push({ resource: edit.newUri, contents: encodedReadable, overwrite: edit.options.overwrite });
            }
            undoes.push(( new DeleteEdit(edit.newUri, edit.options, !edit.options.folder && !edit.contents)));
        }
        if (folderCreates.length === 0 && fileCreates.length === 0) {
            return ( new Noop());
        }
        await this._workingCopyFileService.createFolder(folderCreates, token, this._undoRedoInfo);
        await this._workingCopyFileService.create(fileCreates, token, this._undoRedoInfo);
        return this._instaService.createInstance(DeleteOperation, undoes, { isUndoing: true });
    }
    toString() {
        return `(create ${( this._edits.map(
            edit => edit.options.folder ? `folder ${edit.newUri}` : `file ${edit.newUri} with ${edit.contents?.byteLength || 0} bytes`
        )).join(', ')})`;
    }
};
CreateOperation = ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_platform_files_common_files_service__WEBPACK_IMPORTED_MODULE_1__.IFileService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_workbench_services_workingCopy_common_workingCopyFileService_service__WEBPACK_IMPORTED_MODULE_3__.IWorkingCopyFileService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_5__.IInstantiationService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, vscode_vscode_vs_workbench_services_textfile_common_textfiles_service__WEBPACK_IMPORTED_MODULE_9__.ITextFileService))
], CreateOperation));
class DeleteEdit {
    constructor(oldUri, options, undoesCreate) {
        this.oldUri = oldUri;
        this.options = options;
        this.undoesCreate = undoesCreate;
        this.type = 'delete';
    }
}
let DeleteOperation = class DeleteOperation {
    constructor(_edits, _undoRedoInfo, _workingCopyFileService, _fileService, _configurationService, _instaService, _logService) {
        this._edits = _edits;
        this._undoRedoInfo = _undoRedoInfo;
        this._workingCopyFileService = _workingCopyFileService;
        this._fileService = _fileService;
        this._configurationService = _configurationService;
        this._instaService = _instaService;
        this._logService = _logService;
    }
    get uris() {
        return ( this._edits.map(edit => edit.oldUri));
    }
    async perform(token) {
        const deletes = [];
        const undoes = [];
        for (const edit of this._edits) {
            let fileStat;
            try {
                fileStat = await this._fileService.resolve(edit.oldUri, { resolveMetadata: true });
            }
            catch (err) {
                if (!edit.options.ignoreIfNotExists) {
                    throw ( new Error(`${edit.oldUri} does not exist and can not be deleted`));
                }
                continue;
            }
            deletes.push({
                resource: edit.oldUri,
                recursive: edit.options.recursive,
                useTrash: !edit.options.skipTrashBin && this._fileService.hasCapability(edit.oldUri, 4096 ) && this._configurationService.getValue('files.enableTrash')
            });
            let fileContent;
            if (!edit.undoesCreate && !edit.options.folder && !(typeof edit.options.maxSize === 'number' && fileStat.size > edit.options.maxSize)) {
                try {
                    fileContent = await this._fileService.readFile(edit.oldUri);
                }
                catch (err) {
                    this._logService.error(err);
                }
            }
            if (fileContent !== undefined) {
                undoes.push(( new CreateEdit(edit.oldUri, edit.options, fileContent.value)));
            }
        }
        if (deletes.length === 0) {
            return ( new Noop());
        }
        await this._workingCopyFileService.delete(deletes, token, this._undoRedoInfo);
        if (undoes.length === 0) {
            return ( new Noop());
        }
        return this._instaService.createInstance(CreateOperation, undoes, { isUndoing: true });
    }
    toString() {
        return `(delete ${( this._edits.map(edit => edit.oldUri)).join(', ')})`;
    }
};
DeleteOperation = ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_workbench_services_workingCopy_common_workingCopyFileService_service__WEBPACK_IMPORTED_MODULE_3__.IWorkingCopyFileService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_platform_files_common_files_service__WEBPACK_IMPORTED_MODULE_1__.IFileService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_2__.IConfigurationService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_5__.IInstantiationService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, vscode_vscode_vs_platform_log_common_log_service__WEBPACK_IMPORTED_MODULE_6__.ILogService))
], DeleteOperation));
class FileUndoRedoElement {
    constructor(label, code, operations, confirmBeforeUndo) {
        this.label = label;
        this.code = code;
        this.operations = operations;
        this.confirmBeforeUndo = confirmBeforeUndo;
        this.type = 1 ;
        this.resources = operations.flatMap(op => op.uris);
    }
    async undo() {
        await this._reverse();
    }
    async redo() {
        await this._reverse();
    }
    async _reverse() {
        for (let i = 0; i < this.operations.length; i++) {
            const op = this.operations[i];
            const undo = await op.perform(vscode_vscode_vs_base_common_cancellation__WEBPACK_IMPORTED_MODULE_7__.CancellationToken.None);
            this.operations[i] = undo;
        }
    }
    toString() {
        return ( this.operations.map(op => String(op))).join(', ');
    }
}
let BulkFileEdits = class BulkFileEdits {
    constructor(_label, _code, _undoRedoGroup, _undoRedoSource, _confirmBeforeUndo, _progress, _token, _edits, _instaService, _undoRedoService) {
        this._label = _label;
        this._code = _code;
        this._undoRedoGroup = _undoRedoGroup;
        this._undoRedoSource = _undoRedoSource;
        this._confirmBeforeUndo = _confirmBeforeUndo;
        this._progress = _progress;
        this._token = _token;
        this._edits = _edits;
        this._instaService = _instaService;
        this._undoRedoService = _undoRedoService;
    }
    async apply() {
        const undoOperations = [];
        const undoRedoInfo = { undoRedoGroupId: this._undoRedoGroup.id };
        const edits = [];
        for (const edit of this._edits) {
            if (edit.newResource && edit.oldResource && !edit.options?.copy) {
                edits.push(( new RenameEdit(edit.newResource, edit.oldResource, edit.options ?? {})));
            }
            else if (edit.newResource && edit.oldResource && edit.options?.copy) {
                edits.push(( new CopyEdit(edit.newResource, edit.oldResource, edit.options ?? {})));
            }
            else if (!edit.newResource && edit.oldResource) {
                edits.push(( new DeleteEdit(edit.oldResource, edit.options ?? {}, false)));
            }
            else if (edit.newResource && !edit.oldResource) {
                edits.push(( new CreateEdit(edit.newResource, edit.options ?? {}, await edit.options.contents)));
            }
        }
        if (edits.length === 0) {
            return [];
        }
        const groups = [];
        groups[0] = [edits[0]];
        for (let i = 1; i < edits.length; i++) {
            const edit = edits[i];
            const lastGroup = (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_8__.tail)(groups);
            if (lastGroup?.[0].type === edit.type) {
                lastGroup.push(edit);
            }
            else {
                groups.push([edit]);
            }
        }
        for (const group of groups) {
            if (this._token.isCancellationRequested) {
                break;
            }
            let op;
            switch (group[0].type) {
                case 'rename':
                    op = this._instaService.createInstance(RenameOperation, group, undoRedoInfo);
                    break;
                case 'copy':
                    op = this._instaService.createInstance(CopyOperation, group, undoRedoInfo);
                    break;
                case 'delete':
                    op = this._instaService.createInstance(DeleteOperation, group, undoRedoInfo);
                    break;
                case 'create':
                    op = this._instaService.createInstance(CreateOperation, group, undoRedoInfo);
                    break;
            }
            if (op) {
                const undoOp = await op.perform(this._token);
                undoOperations.push(undoOp);
            }
            this._progress.report(undefined);
        }
        const undoRedoElement = ( new FileUndoRedoElement(this._label, this._code, undoOperations, this._confirmBeforeUndo));
        this._undoRedoService.pushElement(undoRedoElement, this._undoRedoGroup, this._undoRedoSource);
        return undoRedoElement.resources;
    }
};
BulkFileEdits = ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_5__.IInstantiationService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, vscode_vscode_vs_platform_undoRedo_common_undoRedo_service__WEBPACK_IMPORTED_MODULE_4__.IUndoRedoService))
], BulkFileEdits));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-bulk-edit-service-override/vscode/src/vs/workbench/contrib/bulkEdit/browser/bulkTextEdits.js":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-bulk-edit-service-override/vscode/src/vs/workbench/contrib/bulkEdit/browser/bulkTextEdits.js ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BulkTextEdits: () => (/* binding */ BulkTextEdits)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_editor_common_core_editOperation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/core/editOperation */ "./node_modules/vscode/vscode/src/vs/editor/common/core/editOperation.js");
/* harmony import */ var vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/core/range */ "./node_modules/vscode/vscode/src/vs/editor/common/core/range.js");
/* harmony import */ var vscode_vscode_vs_editor_common_services_resolverService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/services/resolverService */ "./node_modules/vscode/vscode/src/vs/editor/common/services/resolverService.js");
/* harmony import */ var vscode_vscode_vs_editor_common_services_editorWorker__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/services/editorWorker */ "./node_modules/vscode/vscode/src/vs/editor/common/services/editorWorker.js");
/* harmony import */ var vscode_vscode_vs_platform_undoRedo_common_undoRedo_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/platform/undoRedo/common/undoRedo.service */ "./node_modules/vscode/vscode/src/vs/platform/undoRedo/common/undoRedo.service.js");
/* harmony import */ var vscode_vscode_vs_editor_common_model_editStack__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/model/editStack */ "./node_modules/vscode/vscode/src/vs/editor/common/model/editStack.js");
/* harmony import */ var vscode_vscode_vs_base_common_map__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/base/common/map */ "./node_modules/vscode/vscode/src/vs/base/common/map.js");
/* harmony import */ var vscode_vscode_vs_editor_common_services_model__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/services/model */ "./node_modules/vscode/vscode/src/vs/editor/common/services/model.js");
/* harmony import */ var vscode_vscode_vs_editor_browser_services_bulkEditService__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/editor/browser/services/bulkEditService */ "./node_modules/vscode/vscode/src/vs/editor/browser/services/bulkEditService.js");
/* harmony import */ var vscode_vscode_vs_editor_contrib_snippet_browser_snippetController2__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/editor/contrib/snippet/browser/snippetController2 */ "./node_modules/vscode/vscode/src/vs/editor/contrib/snippet/browser/snippetController2.js");
/* harmony import */ var vscode_vscode_vs_editor_contrib_snippet_browser_snippetParser__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/editor/contrib/snippet/browser/snippetParser */ "./node_modules/vscode/vscode/src/vs/editor/contrib/snippet/browser/snippetParser.js");














class ModelEditTask {
    constructor(_modelReference) {
        this._modelReference = _modelReference;
        this.model = this._modelReference.object.textEditorModel;
        this._edits = [];
    }
    dispose() {
        this._modelReference.dispose();
    }
    isNoOp() {
        if (this._edits.length > 0) {
            return false;
        }
        if (this._newEol !== undefined && this._newEol !== this.model.getEndOfLineSequence()) {
            return false;
        }
        return true;
    }
    addEdit(resourceEdit) {
        this._expectedModelVersionId = resourceEdit.versionId;
        const { textEdit } = resourceEdit;
        if (typeof textEdit.eol === 'number') {
            this._newEol = textEdit.eol;
        }
        if (!textEdit.range && !textEdit.text) {
            return;
        }
        if (vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_3__.Range.isEmpty(textEdit.range) && !textEdit.text) {
            return;
        }
        let range;
        if (!textEdit.range) {
            range = this.model.getFullModelRange();
        }
        else {
            range = vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_3__.Range.lift(textEdit.range);
        }
        this._edits.push({ ...vscode_vscode_vs_editor_common_core_editOperation__WEBPACK_IMPORTED_MODULE_2__.EditOperation.replaceMove(range, textEdit.text), insertAsSnippet: textEdit.insertAsSnippet });
    }
    validate() {
        if (typeof this._expectedModelVersionId === 'undefined' || this.model.getVersionId() === this._expectedModelVersionId) {
            return { canApply: true };
        }
        return { canApply: false, reason: this.model.uri };
    }
    getBeforeCursorState() {
        return null;
    }
    apply() {
        if (this._edits.length > 0) {
            this._edits = (
            this._edits
                .map(this._transformSnippetStringToInsertText, this))
                .sort((a, b) => vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_3__.Range.compareRangesUsingStarts(a.range, b.range));
            this.model.pushEditOperations(null, this._edits, () => null);
        }
        if (this._newEol !== undefined) {
            this.model.pushEOL(this._newEol);
        }
    }
    _transformSnippetStringToInsertText(edit) {
        if (!edit.insertAsSnippet) {
            return edit;
        }
        if (!edit.text) {
            return edit;
        }
        const text = vscode_vscode_vs_editor_contrib_snippet_browser_snippetParser__WEBPACK_IMPORTED_MODULE_12__.SnippetParser.asInsertText(edit.text);
        return { ...edit, insertAsSnippet: false, text };
    }
}
class EditorEditTask extends ModelEditTask {
    constructor(modelReference, editor) {
        super(modelReference);
        this._editor = editor;
    }
    getBeforeCursorState() {
        return this._canUseEditor() ? this._editor.getSelections() : null;
    }
    apply() {
        if (!this._canUseEditor()) {
            super.apply();
            return;
        }
        if (this._edits.length > 0) {
            const snippetCtrl = vscode_vscode_vs_editor_contrib_snippet_browser_snippetController2__WEBPACK_IMPORTED_MODULE_11__.SnippetController2.get(this._editor);
            if (snippetCtrl && ( this._edits.some(edit => edit.insertAsSnippet))) {
                const snippetEdits = [];
                for (const edit of this._edits) {
                    if (edit.range && edit.text !== null) {
                        snippetEdits.push({
                            range: vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_3__.Range.lift(edit.range),
                            template: edit.insertAsSnippet ? edit.text : vscode_vscode_vs_editor_contrib_snippet_browser_snippetParser__WEBPACK_IMPORTED_MODULE_12__.SnippetParser.escape(edit.text)
                        });
                    }
                }
                snippetCtrl.apply(snippetEdits, { undoStopBefore: false, undoStopAfter: false });
            }
            else {
                this._edits = (
                this._edits
                    .map(this._transformSnippetStringToInsertText, this))
                    .sort((a, b) => vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_3__.Range.compareRangesUsingStarts(a.range, b.range));
                this._editor.executeEdits('', this._edits);
            }
        }
        if (this._newEol !== undefined) {
            if (this._editor.hasModel()) {
                this._editor.getModel().pushEOL(this._newEol);
            }
        }
    }
    _canUseEditor() {
        return this._editor?.getModel()?.uri.toString() === ( this.model.uri.toString());
    }
}
let BulkTextEdits = class BulkTextEdits {
    constructor(_label, _code, _editor, _undoRedoGroup, _undoRedoSource, _progress, _token, edits, _editorWorker, _modelService, _textModelResolverService, _undoRedoService) {
        this._label = _label;
        this._code = _code;
        this._editor = _editor;
        this._undoRedoGroup = _undoRedoGroup;
        this._undoRedoSource = _undoRedoSource;
        this._progress = _progress;
        this._token = _token;
        this._editorWorker = _editorWorker;
        this._modelService = _modelService;
        this._textModelResolverService = _textModelResolverService;
        this._undoRedoService = _undoRedoService;
        this._edits = ( new vscode_vscode_vs_base_common_map__WEBPACK_IMPORTED_MODULE_8__.ResourceMap());
        for (const edit of edits) {
            let array = this._edits.get(edit.resource);
            if (!array) {
                array = [];
                this._edits.set(edit.resource, array);
            }
            array.push(edit);
        }
    }
    _validateBeforePrepare() {
        for (const array of ( this._edits.values())) {
            for (const edit of array) {
                if (typeof edit.versionId === 'number') {
                    const model = this._modelService.getModel(edit.resource);
                    if (model && model.getVersionId() !== edit.versionId) {
                        throw ( new Error(`${( model.uri.toString())} has changed in the meantime`));
                    }
                }
            }
        }
    }
    async _createEditsTasks() {
        const tasks = [];
        const promises = [];
        for (const [key, edits] of this._edits) {
            const promise = this._textModelResolverService.createModelReference(key).then(async (ref) => {
                let task;
                let makeMinimal = false;
                if (this._editor?.getModel()?.uri.toString() === ( ref.object.textEditorModel.uri.toString())) {
                    task = ( new EditorEditTask(ref, this._editor));
                    makeMinimal = true;
                }
                else {
                    task = ( new ModelEditTask(ref));
                }
                tasks.push(task);
                if (!makeMinimal) {
                    edits.forEach(task.addEdit, task);
                    return;
                }
                const makeGroupMoreMinimal = async (start, end) => {
                    const oldEdits = edits.slice(start, end);
                    const newEdits = await this._editorWorker.computeMoreMinimalEdits(ref.object.textEditorModel.uri, ( oldEdits.map(e => e.textEdit)), false);
                    if (!newEdits) {
                        oldEdits.forEach(task.addEdit, task);
                    }
                    else {
                        newEdits.forEach(edit => task.addEdit(( new vscode_vscode_vs_editor_browser_services_bulkEditService__WEBPACK_IMPORTED_MODULE_10__.ResourceTextEdit(ref.object.textEditorModel.uri, edit, undefined, undefined))));
                    }
                };
                let start = 0;
                let i = 0;
                for (; i < edits.length; i++) {
                    if (edits[i].textEdit.insertAsSnippet || edits[i].metadata) {
                        await makeGroupMoreMinimal(start, i);
                        task.addEdit(edits[i]);
                        start = i + 1;
                    }
                }
                await makeGroupMoreMinimal(start, i);
            });
            promises.push(promise);
        }
        await Promise.all(promises);
        return tasks;
    }
    _validateTasks(tasks) {
        for (const task of tasks) {
            const result = task.validate();
            if (!result.canApply) {
                return result;
            }
        }
        return { canApply: true };
    }
    async apply() {
        this._validateBeforePrepare();
        const tasks = await this._createEditsTasks();
        try {
            if (this._token.isCancellationRequested) {
                return [];
            }
            const resources = [];
            const validation = this._validateTasks(tasks);
            if (!validation.canApply) {
                throw ( new Error(`${( validation.reason.toString())} has changed in the meantime`));
            }
            if (tasks.length === 1) {
                const task = tasks[0];
                if (!task.isNoOp()) {
                    const singleModelEditStackElement = ( new vscode_vscode_vs_editor_common_model_editStack__WEBPACK_IMPORTED_MODULE_7__.SingleModelEditStackElement(this._label, this._code, task.model, task.getBeforeCursorState()));
                    this._undoRedoService.pushElement(singleModelEditStackElement, this._undoRedoGroup, this._undoRedoSource);
                    task.apply();
                    singleModelEditStackElement.close();
                    resources.push(task.model.uri);
                }
                this._progress.report(undefined);
            }
            else {
                const multiModelEditStackElement = ( new vscode_vscode_vs_editor_common_model_editStack__WEBPACK_IMPORTED_MODULE_7__.MultiModelEditStackElement(this._label, this._code, ( tasks.map(t => ( new vscode_vscode_vs_editor_common_model_editStack__WEBPACK_IMPORTED_MODULE_7__.SingleModelEditStackElement(this._label, this._code, t.model, t.getBeforeCursorState()))))));
                this._undoRedoService.pushElement(multiModelEditStackElement, this._undoRedoGroup, this._undoRedoSource);
                for (const task of tasks) {
                    task.apply();
                    this._progress.report(undefined);
                    resources.push(task.model.uri);
                }
                multiModelEditStackElement.close();
            }
            return resources;
        }
        finally {
            (0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_1__.dispose)(tasks);
        }
    }
};
BulkTextEdits = ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, vscode_vscode_vs_editor_common_services_editorWorker__WEBPACK_IMPORTED_MODULE_5__.IEditorWorkerService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, vscode_vscode_vs_editor_common_services_model__WEBPACK_IMPORTED_MODULE_9__.IModelService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, vscode_vscode_vs_editor_common_services_resolverService__WEBPACK_IMPORTED_MODULE_4__.ITextModelService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(11, vscode_vscode_vs_platform_undoRedo_common_undoRedo_service__WEBPACK_IMPORTED_MODULE_6__.IUndoRedoService))
], BulkTextEdits));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-bulk-edit-service-override/vscode/src/vs/workbench/contrib/bulkEdit/browser/conflicts.js":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-bulk-edit-service-override/vscode/src/vs/workbench/contrib/bulkEdit/browser/conflicts.js ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ConflictDetector: () => (/* binding */ ConflictDetector)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_platform_files_common_files_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/platform/files/common/files.service */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.service.js");
/* harmony import */ var vscode_vscode_vs_editor_common_services_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/services/model */ "./node_modules/vscode/vscode/src/vs/editor/common/services/model.js");
/* harmony import */ var vscode_vscode_vs_base_common_map__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/common/map */ "./node_modules/vscode/vscode/src/vs/base/common/map.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_editor_browser_services_bulkEditService__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/editor/browser/services/bulkEditService */ "./node_modules/vscode/vscode/src/vs/editor/browser/services/bulkEditService.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_bulkEdit_browser_bulkCellEdits__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/bulkEdit/browser/bulkCellEdits */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/bulkEdit/browser/bulkCellEdits.js");
/* harmony import */ var vscode_vscode_vs_platform_log_common_log_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/platform/log/common/log.service */ "./node_modules/vscode/vscode/src/vs/platform/log/common/log.service.js");










let ConflictDetector = class ConflictDetector {
    constructor(edits, fileService, modelService, logService) {
        this._conflicts = ( new vscode_vscode_vs_base_common_map__WEBPACK_IMPORTED_MODULE_3__.ResourceMap());
        this._disposables = ( new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__.DisposableStore());
        this._onDidConflict = ( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_5__.Emitter());
        this.onDidConflict = this._onDidConflict.event;
        const _workspaceEditResources = ( new vscode_vscode_vs_base_common_map__WEBPACK_IMPORTED_MODULE_3__.ResourceMap());
        for (const edit of edits) {
            if (edit instanceof vscode_vscode_vs_editor_browser_services_bulkEditService__WEBPACK_IMPORTED_MODULE_6__.ResourceTextEdit) {
                _workspaceEditResources.set(edit.resource, true);
                if (typeof edit.versionId === 'number') {
                    const model = modelService.getModel(edit.resource);
                    if (model && model.getVersionId() !== edit.versionId) {
                        this._conflicts.set(edit.resource, true);
                        this._onDidConflict.fire(this);
                    }
                }
            }
            else if (edit instanceof vscode_vscode_vs_editor_browser_services_bulkEditService__WEBPACK_IMPORTED_MODULE_6__.ResourceFileEdit) {
                if (edit.newResource) {
                    _workspaceEditResources.set(edit.newResource, true);
                }
                else if (edit.oldResource) {
                    _workspaceEditResources.set(edit.oldResource, true);
                }
            }
            else if (edit instanceof vscode_vscode_vs_workbench_contrib_bulkEdit_browser_bulkCellEdits__WEBPACK_IMPORTED_MODULE_7__.ResourceNotebookCellEdit) {
                _workspaceEditResources.set(edit.resource, true);
            }
            else {
                logService.warn('UNKNOWN edit type', edit);
            }
        }
        this._disposables.add(fileService.onDidFilesChange(e => {
            for (const uri of ( _workspaceEditResources.keys())) {
                if (!modelService.getModel(uri) && e.contains(uri)) {
                    this._conflicts.set(uri, true);
                    this._onDidConflict.fire(this);
                    break;
                }
            }
        }));
        const onDidChangeModel = (model) => {
            if (( _workspaceEditResources.has(model.uri))) {
                this._conflicts.set(model.uri, true);
                this._onDidConflict.fire(this);
            }
        };
        for (const model of modelService.getModels()) {
            this._disposables.add(model.onDidChangeContent(() => onDidChangeModel(model)));
        }
    }
    dispose() {
        this._disposables.dispose();
        this._onDidConflict.dispose();
    }
    list() {
        return [...( this._conflicts.keys())];
    }
    hasConflicts() {
        return this._conflicts.size > 0;
    }
};
ConflictDetector = ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_platform_files_common_files_service__WEBPACK_IMPORTED_MODULE_1__.IFileService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_editor_common_services_model__WEBPACK_IMPORTED_MODULE_2__.IModelService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_platform_log_common_log_service__WEBPACK_IMPORTED_MODULE_8__.ILogService))
], ConflictDetector));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-bulk-edit-service-override/vscode/src/vs/workbench/contrib/bulkEdit/browser/preview/bulkEdit.contribution.js":
/*!************************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-bulk-edit-service-override/vscode/src/vs/workbench/contrib/bulkEdit/browser/preview/bulkEdit.contribution.js ***!
  \************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/platform/registry/common/platform */ "./node_modules/vscode/vscode/src/vs/platform/registry/common/platform.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_contributions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/contributions */ "./node_modules/vscode/vscode/src/vs/workbench/common/contributions.js");
/* harmony import */ var vscode_vscode_vs_editor_browser_services_bulkEditService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/editor/browser/services/bulkEditService */ "./node_modules/vscode/vscode/src/vs/editor/browser/services/bulkEditService.js");
/* harmony import */ var _bulkEditPane_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./bulkEditPane.js */ "./node_modules/@codingame/monaco-vscode-bulk-edit-service-override/vscode/src/vs/workbench/contrib/bulkEdit/browser/preview/bulkEditPane.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/views */ "./node_modules/vscode/vscode/src/vs/workbench/common/views.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_views_common_viewsService_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/views/common/viewsService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/views/common/viewsService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/contextkeys */ "./node_modules/vscode/vscode/src/vs/workbench/common/contextkeys.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_views_viewPaneContainer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/views/viewPaneContainer */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/views/viewPaneContainer.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey.service */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorGroupsService_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorGroupsService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorGroupsService.service.js");
/* harmony import */ var vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/platform/list/browser/listService */ "./node_modules/vscode/vscode/src/vs/platform/list/browser/listService.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/descriptors */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/descriptors.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/editor */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor.js");
/* harmony import */ var vscode_vscode_vs_base_common_cancellation__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/base/common/cancellation */ "./node_modules/vscode/vscode/src/vs/base/common/cancellation.js");
/* harmony import */ var vscode_vscode_vs_platform_dialogs_common_dialogs_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! vscode/vscode/vs/platform/dialogs/common/dialogs.service */ "./node_modules/vscode/vscode/src/vs/platform/dialogs/common/dialogs.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_severity__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! vscode/vscode/vs/base/common/severity */ "./node_modules/vscode/vscode/src/vs/base/common/severity.js");
/* harmony import */ var vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! vscode/vscode/vs/base/common/codicons */ "./node_modules/vscode/vscode/src/vs/base/common/codicons.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_iconRegistry__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/iconRegistry */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/iconRegistry.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_panecomposite_browser_panecomposite_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/panecomposite/browser/panecomposite.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/panecomposite/browser/panecomposite.service.js");
























var BulkEditPreviewContribution_1;
async function getBulkEditPane(viewsService) {
    const view = await viewsService.openView(_bulkEditPane_js__WEBPACK_IMPORTED_MODULE_4__.BulkEditPane.ID, true);
    if (view instanceof _bulkEditPane_js__WEBPACK_IMPORTED_MODULE_4__.BulkEditPane) {
        return view;
    }
    return undefined;
}
let UXState = class UXState {
    constructor(_paneCompositeService, _editorGroupsService) {
        this._paneCompositeService = _paneCompositeService;
        this._editorGroupsService = _editorGroupsService;
        this._activePanel = _paneCompositeService.getActivePaneComposite(1 )?.getId();
    }
    async restore(panels, editors) {
        if (panels) {
            if (typeof this._activePanel === 'string') {
                await this._paneCompositeService.openPaneComposite(this._activePanel, 1 );
            }
            else {
                this._paneCompositeService.hideActivePaneComposite(1 );
            }
        }
        if (editors) {
            for (const group of this._editorGroupsService.groups) {
                const previewEditors = [];
                for (const input of group.editors) {
                    const resource = vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_16__.EditorResourceAccessor.getCanonicalUri(input, { supportSideBySide: vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_16__.SideBySideEditor.PRIMARY });
                    if (resource?.scheme === _bulkEditPane_js__WEBPACK_IMPORTED_MODULE_4__.BulkEditPane.Schema) {
                        previewEditors.push(input);
                    }
                }
                if (previewEditors.length) {
                    group.closeEditors(previewEditors, { preserveFocus: true });
                }
            }
        }
    }
};
UXState = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_workbench_services_panecomposite_browser_panecomposite_service__WEBPACK_IMPORTED_MODULE_22__.IPaneCompositePartService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_workbench_services_editor_common_editorGroupsService_service__WEBPACK_IMPORTED_MODULE_12__.IEditorGroupsService)))
], UXState)));
class PreviewSession {
    constructor(uxState, cts = ( (new vscode_vscode_vs_base_common_cancellation__WEBPACK_IMPORTED_MODULE_17__.CancellationTokenSource()))) {
        this.uxState = uxState;
        this.cts = cts;
    }
}
let BulkEditPreviewContribution = class BulkEditPreviewContribution {
    static { BulkEditPreviewContribution_1 = this; }
    static { this.ID = 'workbench.contrib.bulkEditPreview'; }
    static { this.ctxEnabled = ( (new vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_10__.RawContextKey('refactorPreview.enabled', false))); }
    constructor(_paneCompositeService, _viewsService, _editorGroupsService, _dialogService, bulkEditService, contextKeyService) {
        this._paneCompositeService = _paneCompositeService;
        this._viewsService = _viewsService;
        this._editorGroupsService = _editorGroupsService;
        this._dialogService = _dialogService;
        bulkEditService.setPreviewHandler(edits => this._previewEdit(edits));
        this._ctxEnabled = BulkEditPreviewContribution_1.ctxEnabled.bindTo(contextKeyService);
    }
    async _previewEdit(edits) {
        this._ctxEnabled.set(true);
        const uxState = this._activeSession?.uxState ?? ( (new UXState(this._paneCompositeService, this._editorGroupsService)));
        const view = await getBulkEditPane(this._viewsService);
        if (!view) {
            this._ctxEnabled.set(false);
            return edits;
        }
        if (view.hasInput()) {
            const { confirmed } = await this._dialogService.confirm({
                type: vscode_vscode_vs_base_common_severity__WEBPACK_IMPORTED_MODULE_19__["default"].Info,
                message: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_8__.localize)(2130, "Another refactoring is being previewed.")),
                detail: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_8__.localize)(
                    2131,
                    "Press 'Continue' to discard the previous refactoring and continue with the current refactoring."
                )),
                primaryButton: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_8__.localize)(2132, "&&Continue"))
            });
            if (!confirmed) {
                return [];
            }
        }
        let session;
        if (this._activeSession) {
            await this._activeSession.uxState.restore(false, true);
            this._activeSession.cts.dispose(true);
            session = ( (new PreviewSession(uxState)));
        }
        else {
            session = ( (new PreviewSession(uxState)));
        }
        this._activeSession = session;
        try {
            return (await view.setInput(edits, session.cts.token)) ?? [];
        }
        finally {
            if (this._activeSession === session) {
                await this._activeSession.uxState.restore(true, true);
                this._activeSession.cts.dispose();
                this._ctxEnabled.set(false);
                this._activeSession = undefined;
            }
        }
    }
};
BulkEditPreviewContribution = BulkEditPreviewContribution_1 = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_workbench_services_panecomposite_browser_panecomposite_service__WEBPACK_IMPORTED_MODULE_22__.IPaneCompositePartService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_workbench_services_views_common_viewsService_service__WEBPACK_IMPORTED_MODULE_6__.IViewsService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_workbench_services_editor_common_editorGroupsService_service__WEBPACK_IMPORTED_MODULE_12__.IEditorGroupsService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_platform_dialogs_common_dialogs_service__WEBPACK_IMPORTED_MODULE_18__.IDialogService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_editor_browser_services_bulkEditService__WEBPACK_IMPORTED_MODULE_3__.IBulkEditService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_11__.IContextKeyService)))
], BulkEditPreviewContribution)));
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(class ApplyAction extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.Action2 {
    constructor() {
        super({
            id: 'refactorPreview.apply',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_8__.localize2)(2133, "Apply Refactoring")),
            category: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_8__.localize2)(2134, "Refactor Preview")),
            icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_20__.Codicon.check,
            precondition: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_10__.ContextKeyExpr.and(BulkEditPreviewContribution.ctxEnabled, _bulkEditPane_js__WEBPACK_IMPORTED_MODULE_4__.BulkEditPane.ctxHasCheckedChanges))),
            menu: [{
                    id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.BulkEditContext,
                    order: 1
                }],
            keybinding: {
                weight: 100  - 10,
                when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_10__.ContextKeyExpr.and(
                    BulkEditPreviewContribution.ctxEnabled,
                     (vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_7__.FocusedViewContext.isEqualTo(_bulkEditPane_js__WEBPACK_IMPORTED_MODULE_4__.BulkEditPane.ID))
                ))),
                primary: 2048  + 3 ,
            }
        });
    }
    async run(accessor) {
        const viewsService = accessor.get(vscode_vscode_vs_workbench_services_views_common_viewsService_service__WEBPACK_IMPORTED_MODULE_6__.IViewsService);
        const view = await getBulkEditPane(viewsService);
        view?.accept();
    }
});
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(class DiscardAction extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.Action2 {
    constructor() {
        super({
            id: 'refactorPreview.discard',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_8__.localize2)(2135, "Discard Refactoring")),
            category: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_8__.localize2)(2134, "Refactor Preview")),
            icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_20__.Codicon.clearAll,
            precondition: BulkEditPreviewContribution.ctxEnabled,
            menu: [{
                    id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.BulkEditContext,
                    order: 2
                }]
        });
    }
    async run(accessor) {
        const viewsService = accessor.get(vscode_vscode_vs_workbench_services_views_common_viewsService_service__WEBPACK_IMPORTED_MODULE_6__.IViewsService);
        const view = await getBulkEditPane(viewsService);
        view?.discard();
    }
});
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(class ToggleAction extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.Action2 {
    constructor() {
        super({
            id: 'refactorPreview.toggleCheckedState',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_8__.localize2)(2136, "Toggle Change")),
            category: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_8__.localize2)(2134, "Refactor Preview")),
            precondition: BulkEditPreviewContribution.ctxEnabled,
            keybinding: {
                weight: 200 ,
                when: vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_13__.WorkbenchListFocusContextKey,
                primary: 10 ,
            },
            menu: {
                id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.BulkEditContext,
                group: 'navigation'
            }
        });
    }
    async run(accessor) {
        const viewsService = accessor.get(vscode_vscode_vs_workbench_services_views_common_viewsService_service__WEBPACK_IMPORTED_MODULE_6__.IViewsService);
        const view = await getBulkEditPane(viewsService);
        view?.toggleChecked();
    }
});
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(class GroupByFile extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.Action2 {
    constructor() {
        super({
            id: 'refactorPreview.groupByFile',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_8__.localize2)(2137, "Group Changes By File")),
            category: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_8__.localize2)(2134, "Refactor Preview")),
            icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_20__.Codicon.ungroupByRefType,
            precondition: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_10__.ContextKeyExpr.and(
                _bulkEditPane_js__WEBPACK_IMPORTED_MODULE_4__.BulkEditPane.ctxHasCategories,
                 (_bulkEditPane_js__WEBPACK_IMPORTED_MODULE_4__.BulkEditPane.ctxGroupByFile.negate()),
                BulkEditPreviewContribution.ctxEnabled
            ))),
            menu: [{
                    id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.BulkEditTitle,
                    when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_10__.ContextKeyExpr.and(
                        _bulkEditPane_js__WEBPACK_IMPORTED_MODULE_4__.BulkEditPane.ctxHasCategories,
                         (_bulkEditPane_js__WEBPACK_IMPORTED_MODULE_4__.BulkEditPane.ctxGroupByFile.negate())
                    ))),
                    group: 'navigation',
                    order: 3,
                }]
        });
    }
    async run(accessor) {
        const viewsService = accessor.get(vscode_vscode_vs_workbench_services_views_common_viewsService_service__WEBPACK_IMPORTED_MODULE_6__.IViewsService);
        const view = await getBulkEditPane(viewsService);
        view?.groupByFile();
    }
});
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(class GroupByType extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.Action2 {
    constructor() {
        super({
            id: 'refactorPreview.groupByType',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_8__.localize2)(2138, "Group Changes By Type")),
            category: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_8__.localize2)(2134, "Refactor Preview")),
            icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_20__.Codicon.groupByRefType,
            precondition: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_10__.ContextKeyExpr.and(
                _bulkEditPane_js__WEBPACK_IMPORTED_MODULE_4__.BulkEditPane.ctxHasCategories,
                _bulkEditPane_js__WEBPACK_IMPORTED_MODULE_4__.BulkEditPane.ctxGroupByFile,
                BulkEditPreviewContribution.ctxEnabled
            ))),
            menu: [{
                    id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.BulkEditTitle,
                    when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_10__.ContextKeyExpr.and(_bulkEditPane_js__WEBPACK_IMPORTED_MODULE_4__.BulkEditPane.ctxHasCategories, _bulkEditPane_js__WEBPACK_IMPORTED_MODULE_4__.BulkEditPane.ctxGroupByFile))),
                    group: 'navigation',
                    order: 3
                }]
        });
    }
    async run(accessor) {
        const viewsService = accessor.get(vscode_vscode_vs_workbench_services_views_common_viewsService_service__WEBPACK_IMPORTED_MODULE_6__.IViewsService);
        const view = await getBulkEditPane(viewsService);
        view?.groupByType();
    }
});
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(class ToggleGrouping extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.Action2 {
    constructor() {
        super({
            id: 'refactorPreview.toggleGrouping',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_8__.localize2)(2138, "Group Changes By Type")),
            category: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_8__.localize2)(2134, "Refactor Preview")),
            icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_20__.Codicon.listTree,
            toggled: ( (_bulkEditPane_js__WEBPACK_IMPORTED_MODULE_4__.BulkEditPane.ctxGroupByFile.negate())),
            precondition: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_10__.ContextKeyExpr.and(_bulkEditPane_js__WEBPACK_IMPORTED_MODULE_4__.BulkEditPane.ctxHasCategories, BulkEditPreviewContribution.ctxEnabled))),
            menu: [{
                    id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.BulkEditContext,
                    order: 3
                }]
        });
    }
    async run(accessor) {
        const viewsService = accessor.get(vscode_vscode_vs_workbench_services_views_common_viewsService_service__WEBPACK_IMPORTED_MODULE_6__.IViewsService);
        const view = await getBulkEditPane(viewsService);
        view?.toggleGrouping();
    }
});
(0,vscode_vscode_vs_workbench_common_contributions__WEBPACK_IMPORTED_MODULE_2__.registerWorkbenchContribution2)(BulkEditPreviewContribution.ID, BulkEditPreviewContribution, 2 );
const refactorPreviewViewIcon = (0,vscode_vscode_vs_platform_theme_common_iconRegistry__WEBPACK_IMPORTED_MODULE_21__.registerIcon)('refactor-preview-view-icon', vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_20__.Codicon.lightbulb, ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_8__.localize)(2139, 'View icon of the refactor preview view.')));
const container = ( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_1__.Registry.as(vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_5__.Extensions.ViewContainersRegistry))).registerViewContainer({
    id: _bulkEditPane_js__WEBPACK_IMPORTED_MODULE_4__.BulkEditPane.ID,
    title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_8__.localize2)(2140, "Refactor Preview")),
    hideIfEmpty: true,
    ctorDescriptor: ( (new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_14__.SyncDescriptor(
        vscode_vscode_vs_workbench_browser_parts_views_viewPaneContainer__WEBPACK_IMPORTED_MODULE_9__.ViewPaneContainer,
        [_bulkEditPane_js__WEBPACK_IMPORTED_MODULE_4__.BulkEditPane.ID, { mergeViewWithContainerWhenSingleView: true }]
    ))),
    icon: refactorPreviewViewIcon,
    storageId: _bulkEditPane_js__WEBPACK_IMPORTED_MODULE_4__.BulkEditPane.ID
}, 1 );
( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_1__.Registry.as(vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_5__.Extensions.ViewsRegistry))).registerViews([{
        id: _bulkEditPane_js__WEBPACK_IMPORTED_MODULE_4__.BulkEditPane.ID,
        name: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_8__.localize2)(2140, "Refactor Preview")),
        when: BulkEditPreviewContribution.ctxEnabled,
        ctorDescriptor: ( (new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_14__.SyncDescriptor(_bulkEditPane_js__WEBPACK_IMPORTED_MODULE_4__.BulkEditPane))),
        containerIcon: refactorPreviewViewIcon,
    }], container);


/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-bulk-edit-service-override/vscode/src/vs/workbench/contrib/bulkEdit/browser/preview/bulkEdit.css.js":
/*!***************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-bulk-edit-service-override/vscode/src/vs/workbench/contrib/bulkEdit/browser/preview/bulkEdit.css.js ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ css),
/* harmony export */   "default": () => (/* binding */ css)
/* harmony export */ });
/* harmony import */ var vscode_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js */ "./node_modules/vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js");


var css = ".monaco-workbench .bulk-edit-panel .highlight.insert{background-color:var(--vscode-diffEditor-insertedTextBackground)}.monaco-workbench .bulk-edit-panel .highlight.remove{background-color:var(--vscode-diffEditor-removedTextBackground);text-decoration:line-through}.monaco-workbench .bulk-edit-panel .message{padding:10px 20px}.monaco-workbench .bulk-edit-panel[data-state=data] .content,.monaco-workbench .bulk-edit-panel[data-state=message] .message{display:flex}.monaco-workbench .bulk-edit-panel[data-state=data] .message,.monaco-workbench .bulk-edit-panel[data-state=message] .content{display:none}.monaco-workbench .bulk-edit-panel .content{display:flex;flex-direction:column;justify-content:space-between}.monaco-workbench .bulk-edit-panel .content .buttons{padding-left:20px;padding-top:10px}.monaco-workbench .bulk-edit-panel .content .buttons .monaco-button{display:inline-flex;margin:0 4px;padding:4px 8px;width:inherit}.monaco-workbench .bulk-edit-panel .monaco-tl-contents{display:flex}.monaco-workbench .bulk-edit-panel .monaco-tl-contents .edit-checkbox{align-self:center}.monaco-workbench .bulk-edit-panel .monaco-tl-contents .edit-checkbox.disabled{opacity:.5}.monaco-workbench .bulk-edit-panel .monaco-tl-contents .monaco-icon-label.delete .monaco-icon-label-container{text-decoration:line-through}.monaco-workbench .bulk-edit-panel .monaco-tl-contents .details{font-size:.9em;margin-left:.5em;opacity:.7;white-space:pre}.monaco-workbench .bulk-edit-panel .monaco-tl-contents.category{align-items:center;display:flex;flex:1;flex-flow:row nowrap}.monaco-workbench .bulk-edit-panel .monaco-tl-contents.category .theme-icon,.monaco-workbench .bulk-edit-panel .monaco-tl-contents.textedit .theme-icon{margin-right:4px}.monaco-workbench .bulk-edit-panel .monaco-tl-contents.category .uri-icon,.monaco-workbench .bulk-edit-panel .monaco-tl-contents.textedit .uri-icon,.monaco-workbench.hc-light .bulk-edit-panel .monaco-tl-contents.category .uri-icon,.monaco-workbench.hc-light .bulk-edit-panel .monaco-tl-contents.textedit .uri-icon{background-image:var(--background-light);background-position:0;background-repeat:no-repeat;background-size:contain;height:100%;margin-right:4px;min-width:16px;width:16px}.monaco-workbench.hc-black .bulk-edit-panel .monaco-tl-contents.category .uri-icon,.monaco-workbench.hc-black .bulk-edit-panel .monaco-tl-contents.textedit .uri-icon,.monaco-workbench.vs-dark .bulk-edit-panel .monaco-tl-contents.category .uri-icon,.monaco-workbench.vs-dark .bulk-edit-panel .monaco-tl-contents.textedit .uri-icon{background-image:var(--background-dark)}.monaco-workbench .bulk-edit-panel .monaco-tl-contents.textedit .monaco-highlighted-label{overflow:hidden;text-overflow:ellipsis}";
(0,vscode_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__["default"])(css,{});




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-bulk-edit-service-override/vscode/src/vs/workbench/contrib/bulkEdit/browser/preview/bulkEditPane.js":
/*!***************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-bulk-edit-service-override/vscode/src/vs/workbench/contrib/bulkEdit/browser/preview/bulkEditPane.js ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BulkEditPane: () => (/* binding */ BulkEditPane)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_button_button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/button/button */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/button/button.js");
/* harmony import */ var vscode_vscode_vs_base_common_cache__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/common/cache */ "./node_modules/vscode/vscode/src/vs/base/common/cache.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/base/common/uri */ "./node_modules/vscode/vscode/src/vs/base/common/uri.js");
/* harmony import */ var _bulkEdit_css_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./bulkEdit.css.js */ "./node_modules/@codingame/monaco-vscode-bulk-edit-service-override/vscode/src/vs/workbench/contrib/bulkEdit/browser/preview/bulkEdit.css.js");
/* harmony import */ var vscode_vscode_vs_editor_common_services_resolverService__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/services/resolverService */ "./node_modules/vscode/vscode/src/vs/editor/common/services/resolverService.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/platform/configuration/common/configuration.service */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey.service */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var vscode_vscode_vs_platform_contextview_browser_contextView_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextview/browser/contextView.service */ "./node_modules/vscode/vscode/src/vs/platform/contextview/browser/contextView.service.js");
/* harmony import */ var vscode_vscode_vs_platform_dialogs_common_dialogs_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/platform/dialogs/common/dialogs.service */ "./node_modules/vscode/vscode/src/vs/platform/dialogs/common/dialogs.service.js");
/* harmony import */ var vscode_vscode_vs_platform_hover_browser_hover_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/platform/hover/browser/hover.service */ "./node_modules/vscode/vscode/src/vs/platform/hover/browser/hover.service.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_platform_keybinding_common_keybinding_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/platform/keybinding/common/keybinding.service */ "./node_modules/vscode/vscode/src/vs/platform/keybinding/common/keybinding.service.js");
/* harmony import */ var vscode_vscode_vs_platform_label_common_label_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/platform/label/common/label.service */ "./node_modules/vscode/vscode/src/vs/platform/label/common/label.service.js");
/* harmony import */ var vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! vscode/vscode/vs/platform/list/browser/listService */ "./node_modules/vscode/vscode/src/vs/platform/list/browser/listService.js");
/* harmony import */ var vscode_vscode_vs_platform_opener_common_opener_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! vscode/vscode/vs/platform/opener/common/opener.service */ "./node_modules/vscode/vscode/src/vs/platform/opener/common/opener.service.js");
/* harmony import */ var vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! vscode/vscode/vs/platform/storage/common/storage.service */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var vscode_vscode_vs_platform_telemetry_common_telemetry_service__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! vscode/vscode/vs/platform/telemetry/common/telemetry.service */ "./node_modules/vscode/vscode/src/vs/platform/telemetry/common/telemetry.service.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_browser_defaultStyles__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/browser/defaultStyles */ "./node_modules/vscode/vscode/src/vs/platform/theme/browser/defaultStyles.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_themeService_service__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/themeService.service */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_labels__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/labels */ "./node_modules/vscode/vscode/src/vs/workbench/browser/labels.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_views_viewPane__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/views/viewPane */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/views/viewPane.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_views_service__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/views.service */ "./node_modules/vscode/vscode/src/vs/workbench/common/views.service.js");
/* harmony import */ var _bulkEditPreview_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./bulkEditPreview.js */ "./node_modules/@codingame/monaco-vscode-bulk-edit-service-override/vscode/src/vs/workbench/contrib/bulkEdit/browser/preview/bulkEditPreview.js");
/* harmony import */ var _bulkEditTree_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./bulkEditTree.js */ "./node_modules/@codingame/monaco-vscode-bulk-edit-service-override/vscode/src/vs/workbench/contrib/bulkEdit/browser/preview/bulkEditTree.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorService__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorService */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");
































var BulkEditPane_1;
let BulkEditPane = class BulkEditPane extends vscode_vscode_vs_workbench_browser_parts_views_viewPane__WEBPACK_IMPORTED_MODULE_25__.ViewPane {
    static { BulkEditPane_1 = this; }
    static { this.ID = 'refactorPreview'; }
    static { this.Schema = 'vscode-bulkeditpreview-multieditor'; }
    static { this.ctxHasCategories = ( (new vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_10__.RawContextKey('refactorPreview.hasCategories', false))); }
    static { this.ctxGroupByFile = ( (new vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_10__.RawContextKey('refactorPreview.groupByFile', true))); }
    static { this.ctxHasCheckedChanges = ( (new vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_10__.RawContextKey('refactorPreview.hasCheckedChanges', true))); }
    static { this._memGroupByFile = `${this.ID}.groupByFile`; }
    constructor(options, _instaService, _editorService, _labelService, _textModelService, _dialogService, _contextMenuService, _storageService, contextKeyService, viewDescriptorService, keybindingService, contextMenuService, configurationService, openerService, themeService, telemetryService, hoverService) {
        super({ ...options, titleMenuId: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_8__.MenuId.BulkEditTitle }, keybindingService, contextMenuService, configurationService, contextKeyService, viewDescriptorService, _instaService, openerService, themeService, telemetryService, hoverService);
        this._instaService = _instaService;
        this._editorService = _editorService;
        this._labelService = _labelService;
        this._textModelService = _textModelService;
        this._dialogService = _dialogService;
        this._contextMenuService = _contextMenuService;
        this._storageService = _storageService;
        this._treeViewStates = ( (new Map()));
        this._disposables = ( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__.DisposableStore()));
        this._sessionDisposables = ( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__.DisposableStore()));
        this._computeResourceDiffEditorInputs = ( (new vscode_vscode_vs_base_common_cache__WEBPACK_IMPORTED_MODULE_2__.LRUCachedFunction(async (fileOperations) => {
            const computeDiffEditorInput = ( (new vscode_vscode_vs_base_common_cache__WEBPACK_IMPORTED_MODULE_2__.CachedFunction(async (fileOperation) => {
                const fileOperationUri = fileOperation.uri;
                const previewUri = this._currentProvider.asPreviewUri(fileOperationUri);
                if (fileOperation.type & 4 ) {
                    return {
                        original: { resource: vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_4__.URI.revive(previewUri) },
                        modified: { resource: undefined },
                        goToFileResource: fileOperation.uri,
                    };
                }
                else {
                    let leftResource;
                    try {
                        (await this._textModelService.createModelReference(fileOperationUri)).dispose();
                        leftResource = fileOperationUri;
                    }
                    catch {
                        leftResource = _bulkEditPreview_js__WEBPACK_IMPORTED_MODULE_27__.BulkEditPreviewProvider.emptyPreview;
                    }
                    return {
                        original: { resource: vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_4__.URI.revive(leftResource) },
                        modified: { resource: vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_4__.URI.revive(previewUri) },
                        goToFileResource: leftResource,
                    };
                }
            })));
            const sortedFileOperations = fileOperations.slice().sort(_bulkEditTree_js__WEBPACK_IMPORTED_MODULE_28__.compareBulkFileOperations);
            const resources = [];
            for (const operation of sortedFileOperations) {
                resources.push(await computeDiffEditorInput.get(operation));
            }
            const getResourceDiffEditorInputIdOfOperation = async (operation) => {
                const resource = await computeDiffEditorInput.get(operation);
                return { original: resource.original.resource, modified: resource.modified.resource };
            };
            return {
                resources,
                getResourceDiffEditorInputIdOfOperation
            };
        })));
        this.element.classList.add('bulk-edit-panel', 'show-file-icons');
        this._ctxHasCategories = BulkEditPane_1.ctxHasCategories.bindTo(contextKeyService);
        this._ctxGroupByFile = BulkEditPane_1.ctxGroupByFile.bindTo(contextKeyService);
        this._ctxHasCheckedChanges = BulkEditPane_1.ctxHasCheckedChanges.bindTo(contextKeyService);
        this.telemetryService.publicLog2('views.bulkEditPane');
    }
    dispose() {
        this._tree.dispose();
        this._disposables.dispose();
        super.dispose();
    }
    renderBody(parent) {
        super.renderBody(parent);
        const resourceLabels = this._instaService.createInstance(vscode_vscode_vs_workbench_browser_labels__WEBPACK_IMPORTED_MODULE_24__.ResourceLabels, { onDidChangeVisibility: this.onDidChangeBodyVisibility });
        this._disposables.add(resourceLabels);
        const contentContainer = document.createElement('div');
        contentContainer.className = 'content';
        parent.appendChild(contentContainer);
        const treeContainer = document.createElement('div');
        contentContainer.appendChild(treeContainer);
        this._treeDataSource = this._instaService.createInstance(_bulkEditTree_js__WEBPACK_IMPORTED_MODULE_28__.BulkEditDataSource);
        this._treeDataSource.groupByFile = this._storageService.getBoolean(BulkEditPane_1._memGroupByFile, 0 , true);
        this._ctxGroupByFile.set(this._treeDataSource.groupByFile);
        this._tree = this._instaService.createInstance(vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_18__.WorkbenchAsyncDataTree, this.id, treeContainer, ( (new _bulkEditTree_js__WEBPACK_IMPORTED_MODULE_28__.BulkEditDelegate())), [this._instaService.createInstance(_bulkEditTree_js__WEBPACK_IMPORTED_MODULE_28__.TextEditElementRenderer), this._instaService.createInstance(_bulkEditTree_js__WEBPACK_IMPORTED_MODULE_28__.FileElementRenderer, resourceLabels), this._instaService.createInstance(_bulkEditTree_js__WEBPACK_IMPORTED_MODULE_28__.CategoryElementRenderer)], this._treeDataSource, {
            accessibilityProvider: this._instaService.createInstance(_bulkEditTree_js__WEBPACK_IMPORTED_MODULE_28__.BulkEditAccessibilityProvider),
            identityProvider: ( (new _bulkEditTree_js__WEBPACK_IMPORTED_MODULE_28__.BulkEditIdentityProvider())),
            expandOnlyOnTwistieClick: true,
            multipleSelectionSupport: false,
            keyboardNavigationLabelProvider: ( (new _bulkEditTree_js__WEBPACK_IMPORTED_MODULE_28__.BulkEditNaviLabelProvider())),
            sorter: ( (new _bulkEditTree_js__WEBPACK_IMPORTED_MODULE_28__.BulkEditSorter())),
            selectionNavigation: true
        });
        this._disposables.add(this._tree.onContextMenu(this._onContextMenu, this));
        this._disposables.add(this._tree.onDidOpen(e => this._openElementInMultiDiffEditor(e)));
        const buttonsContainer = document.createElement('div');
        buttonsContainer.className = 'buttons';
        contentContainer.appendChild(buttonsContainer);
        const buttonBar = ( (new vscode_vscode_vs_base_browser_ui_button_button__WEBPACK_IMPORTED_MODULE_1__.ButtonBar(buttonsContainer)));
        this._disposables.add(buttonBar);
        const btnConfirm = buttonBar.addButton({ supportIcons: true, ...vscode_vscode_vs_platform_theme_browser_defaultStyles__WEBPACK_IMPORTED_MODULE_22__.defaultButtonStyles });
        btnConfirm.label = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(5277, 'Apply'));
        btnConfirm.onDidClick(() => this.accept(), this, this._disposables);
        const btnCancel = buttonBar.addButton({ ...vscode_vscode_vs_platform_theme_browser_defaultStyles__WEBPACK_IMPORTED_MODULE_22__.defaultButtonStyles, secondary: true });
        btnCancel.label = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(5278, 'Discard'));
        btnCancel.onDidClick(() => this.discard(), this, this._disposables);
        this._message = document.createElement('span');
        this._message.className = 'message';
        this._message.innerText = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(
            5279,
            "Invoke a code action, like rename, to see a preview of its changes here."
        ));
        parent.appendChild(this._message);
        this._setState("message" );
    }
    layoutBody(height, width) {
        super.layoutBody(height, width);
        const treeHeight = height - 50;
        this._tree.getHTMLElement().parentElement.style.height = `${treeHeight}px`;
        this._tree.layout(treeHeight, width);
    }
    _setState(state) {
        this.element.dataset['state'] = state;
    }
    async setInput(edit, token) {
        this._setState("data" );
        this._sessionDisposables.clear();
        this._treeViewStates.clear();
        if (this._currentResolve) {
            this._currentResolve(undefined);
            this._currentResolve = undefined;
        }
        const input = await this._instaService.invokeFunction(_bulkEditPreview_js__WEBPACK_IMPORTED_MODULE_27__.BulkFileOperations.create, edit);
        this._currentProvider = this._instaService.createInstance(_bulkEditPreview_js__WEBPACK_IMPORTED_MODULE_27__.BulkEditPreviewProvider, input);
        this._sessionDisposables.add(this._currentProvider);
        this._sessionDisposables.add(input);
        const hasCategories = input.categories.length > 1;
        this._ctxHasCategories.set(hasCategories);
        this._treeDataSource.groupByFile = !hasCategories || this._treeDataSource.groupByFile;
        this._ctxHasCheckedChanges.set(input.checked.checkedCount > 0);
        this._currentInput = input;
        return (
             (new Promise(resolve => {
                token.onCancellationRequested(() => resolve(undefined));
                this._currentResolve = resolve;
                this._setTreeInput(input);
                this._sessionDisposables.add(input.checked.onDidChange(() => {
                    this._tree.updateChildren();
                    this._ctxHasCheckedChanges.set(input.checked.checkedCount > 0);
                }));
            }))
        );
    }
    hasInput() {
        return Boolean(this._currentInput);
    }
    async _setTreeInput(input) {
        const viewState = this._treeViewStates.get(this._treeDataSource.groupByFile);
        await this._tree.setInput(input, viewState);
        this._tree.domFocus();
        if (viewState) {
            return;
        }
        const expand = [...this._tree.getNode(input).children].slice(0, 10);
        while (expand.length > 0) {
            const { element } = expand.shift();
            if (element instanceof _bulkEditTree_js__WEBPACK_IMPORTED_MODULE_28__.FileElement) {
                await this._tree.expand(element, true);
            }
            if (element instanceof _bulkEditTree_js__WEBPACK_IMPORTED_MODULE_28__.CategoryElement) {
                await this._tree.expand(element, true);
                expand.push(...this._tree.getNode(element).children);
            }
        }
    }
    accept() {
        const conflicts = this._currentInput?.conflicts.list();
        if (!conflicts || conflicts.length === 0) {
            this._done(true);
            return;
        }
        let message;
        if (conflicts.length === 1) {
            message = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(
                5280,
                "Cannot apply refactoring because '{0}' has changed in the meantime.",
                this._labelService.getUriLabel(conflicts[0], { relative: true })
            ));
        }
        else {
            message = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(
                5281,
                "Cannot apply refactoring because {0} other files have changed in the meantime.",
                conflicts.length
            ));
        }
        this._dialogService.warn(message).finally(() => this._done(false));
    }
    discard() {
        this._done(false);
    }
    _done(accept) {
        this._currentResolve?.(accept ? this._currentInput?.getWorkspaceEdit() : undefined);
        this._currentInput = undefined;
        this._setState("message" );
        this._sessionDisposables.clear();
    }
    toggleChecked() {
        const [first] = this._tree.getFocus();
        if ((first instanceof _bulkEditTree_js__WEBPACK_IMPORTED_MODULE_28__.FileElement || first instanceof _bulkEditTree_js__WEBPACK_IMPORTED_MODULE_28__.TextEditElement) && !first.isDisabled()) {
            first.setChecked(!first.isChecked());
        }
        else if (first instanceof _bulkEditTree_js__WEBPACK_IMPORTED_MODULE_28__.CategoryElement) {
            first.setChecked(!first.isChecked());
        }
    }
    groupByFile() {
        if (!this._treeDataSource.groupByFile) {
            this.toggleGrouping();
        }
    }
    groupByType() {
        if (this._treeDataSource.groupByFile) {
            this.toggleGrouping();
        }
    }
    toggleGrouping() {
        const input = this._tree.getInput();
        if (input) {
            const oldViewState = this._tree.getViewState();
            this._treeViewStates.set(this._treeDataSource.groupByFile, oldViewState);
            this._treeDataSource.groupByFile = !this._treeDataSource.groupByFile;
            this._setTreeInput(input);
            this._storageService.store(BulkEditPane_1._memGroupByFile, this._treeDataSource.groupByFile, 0 , 0 );
            this._ctxGroupByFile.set(this._treeDataSource.groupByFile);
        }
    }
    async _openElementInMultiDiffEditor(e) {
        const fileOperations = this._currentInput?.fileOperations;
        if (!fileOperations) {
            return;
        }
        let selection = undefined;
        let fileElement;
        if (e.element instanceof _bulkEditTree_js__WEBPACK_IMPORTED_MODULE_28__.TextEditElement) {
            fileElement = e.element.parent;
            selection = e.element.edit.textEdit.textEdit.range;
        }
        else if (e.element instanceof _bulkEditTree_js__WEBPACK_IMPORTED_MODULE_28__.FileElement) {
            fileElement = e.element;
            selection = e.element.edit.textEdits[0]?.textEdit.textEdit.range;
        }
        else {
            return;
        }
        const result = await this._computeResourceDiffEditorInputs.get(fileOperations);
        const resourceId = await result.getResourceDiffEditorInputIdOfOperation(fileElement.edit);
        const options = {
            ...e.editorOptions,
            viewState: {
                revealData: {
                    resource: resourceId,
                    range: selection,
                }
            }
        };
        const multiDiffSource = ( (vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_4__.URI.from({ scheme: BulkEditPane_1.Schema })));
        const label = 'Refactor Preview';
        this._editorService.openEditor({
            multiDiffSource,
            label,
            options,
            isTransient: true,
            description: label,
            resources: result.resources
        }, e.sideBySide ? vscode_vscode_vs_workbench_services_editor_common_editorService__WEBPACK_IMPORTED_MODULE_29__.SIDE_GROUP : vscode_vscode_vs_workbench_services_editor_common_editorService__WEBPACK_IMPORTED_MODULE_29__.ACTIVE_GROUP);
    }
    _onContextMenu(e) {
        this._contextMenuService.showContextMenu({
            menuId: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_8__.MenuId.BulkEditContext,
            contextKeyService: this.contextKeyService,
            getAnchor: () => e.anchor
        });
    }
};
BulkEditPane = BulkEditPane_1 = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_15__.IInstantiationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_30__.IEditorService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_platform_label_common_label_service__WEBPACK_IMPORTED_MODULE_17__.ILabelService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_editor_common_services_resolverService__WEBPACK_IMPORTED_MODULE_6__.ITextModelService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, vscode_vscode_vs_platform_dialogs_common_dialogs_service__WEBPACK_IMPORTED_MODULE_13__.IDialogService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, vscode_vscode_vs_platform_contextview_browser_contextView_service__WEBPACK_IMPORTED_MODULE_12__.IContextMenuService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_20__.IStorageService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_11__.IContextKeyService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, vscode_vscode_vs_workbench_common_views_service__WEBPACK_IMPORTED_MODULE_26__.IViewDescriptorService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, vscode_vscode_vs_platform_keybinding_common_keybinding_service__WEBPACK_IMPORTED_MODULE_16__.IKeybindingService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(11, vscode_vscode_vs_platform_contextview_browser_contextView_service__WEBPACK_IMPORTED_MODULE_12__.IContextMenuService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(12, vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_9__.IConfigurationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(13, vscode_vscode_vs_platform_opener_common_opener_service__WEBPACK_IMPORTED_MODULE_19__.IOpenerService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(14, vscode_vscode_vs_platform_theme_common_themeService_service__WEBPACK_IMPORTED_MODULE_23__.IThemeService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(15, vscode_vscode_vs_platform_telemetry_common_telemetry_service__WEBPACK_IMPORTED_MODULE_21__.ITelemetryService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(16, vscode_vscode_vs_platform_hover_browser_hover_service__WEBPACK_IMPORTED_MODULE_14__.IHoverService)))
], BulkEditPane)));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-bulk-edit-service-override/vscode/src/vs/workbench/contrib/bulkEdit/browser/preview/bulkEditPreview.js":
/*!******************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-bulk-edit-service-override/vscode/src/vs/workbench/contrib/bulkEdit/browser/preview/bulkEditPreview.js ***!
  \******************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BulkCategory: () => (/* binding */ BulkCategory),
/* harmony export */   BulkEditPreviewProvider: () => (/* binding */ BulkEditPreviewProvider),
/* harmony export */   BulkFileOperation: () => (/* binding */ BulkFileOperation),
/* harmony export */   BulkFileOperations: () => (/* binding */ BulkFileOperations),
/* harmony export */   BulkTextEdit: () => (/* binding */ BulkTextEdit),
/* harmony export */   CheckedStates: () => (/* binding */ CheckedStates)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_editor_common_services_resolverService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/services/resolverService */ "./node_modules/vscode/vscode/src/vs/editor/common/services/resolverService.js");
/* harmony import */ var vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/common/uri */ "./node_modules/vscode/vscode/src/vs/base/common/uri.js");
/* harmony import */ var vscode_vscode_vs_editor_common_languages_language__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/languages/language */ "./node_modules/vscode/vscode/src/vs/editor/common/languages/language.js");
/* harmony import */ var vscode_vscode_vs_editor_common_services_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/services/model */ "./node_modules/vscode/vscode/src/vs/editor/common/services/model.js");
/* harmony import */ var vscode_vscode_vs_editor_common_model_textModel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/model/textModel */ "./node_modules/vscode/vscode/src/vs/editor/common/model/textModel.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/base/common/arrays */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/core/range */ "./node_modules/vscode/vscode/src/vs/editor/common/core/range.js");
/* harmony import */ var vscode_vscode_vs_editor_common_core_editOperation__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/core/editOperation */ "./node_modules/vscode/vscode/src/vs/editor/common/core/editOperation.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_platform_files_common_files_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/platform/files/common/files.service */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var _conflicts_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../conflicts.js */ "./node_modules/@codingame/monaco-vscode-bulk-edit-service-override/vscode/src/vs/workbench/contrib/bulkEdit/browser/conflicts.js");
/* harmony import */ var vscode_vscode_vs_base_common_map__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/base/common/map */ "./node_modules/vscode/vscode/src/vs/base/common/map.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/base/common/resources */ "./node_modules/vscode/vscode/src/vs/base/common/resources.js");
/* harmony import */ var vscode_vscode_vs_editor_browser_services_bulkEditService__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/editor/browser/services/bulkEditService */ "./node_modules/vscode/vscode/src/vs/editor/browser/services/bulkEditService.js");
/* harmony import */ var vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! vscode/vscode/vs/base/common/codicons */ "./node_modules/vscode/vscode/src/vs/base/common/codicons.js");
/* harmony import */ var vscode_vscode_vs_base_common_uuid__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! vscode/vscode/vs/base/common/uuid */ "./node_modules/vscode/vscode/src/vs/base/common/uuid.js");
/* harmony import */ var vscode_vscode_vs_editor_contrib_snippet_browser_snippetParser__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! vscode/vscode/vs/editor/contrib/snippet/browser/snippetParser */ "./node_modules/vscode/vscode/src/vs/editor/contrib/snippet/browser/snippetParser.js");
/* harmony import */ var vscode_vscode_vs_base_common_symbols__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! vscode/vscode/vs/base/common/symbols */ "./node_modules/vscode/vscode/src/vs/base/common/symbols.js");























var BulkFileOperations_1, BulkEditPreviewProvider_1;
class CheckedStates {
    constructor() {
        this._states = ( (new WeakMap()));
        this._checkedCount = 0;
        this._onDidChange = ( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_12__.Emitter()));
        this.onDidChange = this._onDidChange.event;
    }
    dispose() {
        this._onDidChange.dispose();
    }
    get checkedCount() {
        return this._checkedCount;
    }
    isChecked(obj) {
        return this._states.get(obj) ?? false;
    }
    updateChecked(obj, value) {
        const valueNow = this._states.get(obj);
        if (valueNow === value) {
            return;
        }
        if (valueNow === undefined) {
            if (value) {
                this._checkedCount += 1;
            }
        }
        else {
            if (value) {
                this._checkedCount += 1;
            }
            else {
                this._checkedCount -= 1;
            }
        }
        this._states.set(obj, value);
        this._onDidChange.fire(obj);
    }
}
class BulkTextEdit {
    constructor(parent, textEdit) {
        this.parent = parent;
        this.textEdit = textEdit;
    }
}
class BulkFileOperation {
    constructor(uri, parent) {
        this.uri = uri;
        this.parent = parent;
        this.type = 0;
        this.textEdits = [];
        this.originalEdits = ( (new Map()));
    }
    addEdit(index, type, edit) {
        this.type |= type;
        this.originalEdits.set(index, edit);
        if (edit instanceof vscode_vscode_vs_editor_browser_services_bulkEditService__WEBPACK_IMPORTED_MODULE_17__.ResourceTextEdit) {
            this.textEdits.push(( (new BulkTextEdit(this, edit))));
        }
        else if (type === 8 ) {
            this.newUri = edit.newResource;
        }
    }
    needsConfirmation() {
        for (const [, edit] of this.originalEdits) {
            if (!this.parent.checked.isChecked(edit)) {
                return true;
            }
        }
        return false;
    }
}
class BulkCategory {
    static { this._defaultMetadata = ( (Object.freeze({
        label: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_15__.localize)(10093, "Other")),
        icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_18__.Codicon.symbolFile,
        needsConfirmation: false
    }))); }
    static keyOf(metadata) {
        return metadata?.label || '<default>';
    }
    constructor(metadata = BulkCategory._defaultMetadata) {
        this.metadata = metadata;
        this.operationByResource = ( (new Map()));
    }
    get fileOperations() {
        return (
             (this.operationByResource.values())
        );
    }
}
let BulkFileOperations = BulkFileOperations_1 = class BulkFileOperations {
    static async create(accessor, bulkEdit) {
        const result = accessor.get(vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_10__.IInstantiationService).createInstance(BulkFileOperations_1, bulkEdit);
        return await result._init();
    }
    constructor(_bulkEdit, _fileService, instaService) {
        this._bulkEdit = _bulkEdit;
        this._fileService = _fileService;
        this.checked = ( (new CheckedStates()));
        this.fileOperations = [];
        this.categories = [];
        this.conflicts = instaService.createInstance(_conflicts_js__WEBPACK_IMPORTED_MODULE_13__.ConflictDetector, _bulkEdit);
    }
    dispose() {
        this.checked.dispose();
        this.conflicts.dispose();
    }
    async _init() {
        const operationByResource = ( (new Map()));
        const operationByCategory = ( (new Map()));
        const newToOldUri = ( (new vscode_vscode_vs_base_common_map__WEBPACK_IMPORTED_MODULE_14__.ResourceMap()));
        for (let idx = 0; idx < this._bulkEdit.length; idx++) {
            const edit = this._bulkEdit[idx];
            let uri;
            let type;
            this.checked.updateChecked(edit, !edit.metadata?.needsConfirmation);
            if (edit instanceof vscode_vscode_vs_editor_browser_services_bulkEditService__WEBPACK_IMPORTED_MODULE_17__.ResourceTextEdit) {
                type = 1 ;
                uri = edit.resource;
            }
            else if (edit instanceof vscode_vscode_vs_editor_browser_services_bulkEditService__WEBPACK_IMPORTED_MODULE_17__.ResourceFileEdit) {
                if (edit.newResource && edit.oldResource) {
                    type = 8 ;
                    uri = edit.oldResource;
                    if (edit.options?.overwrite === undefined && edit.options?.ignoreIfExists && (await this._fileService.exists(uri))) {
                        continue;
                    }
                    newToOldUri.set(edit.newResource, uri);
                }
                else if (edit.oldResource) {
                    type = 4 ;
                    uri = edit.oldResource;
                    if (edit.options?.ignoreIfNotExists && !(await this._fileService.exists(uri))) {
                        continue;
                    }
                }
                else if (edit.newResource) {
                    type = 2 ;
                    uri = edit.newResource;
                    if (edit.options?.overwrite === undefined && edit.options?.ignoreIfExists && (await this._fileService.exists(uri))) {
                        continue;
                    }
                }
                else {
                    continue;
                }
            }
            else {
                continue;
            }
            const insert = (uri, map) => {
                let key = vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_16__.extUri.getComparisonKey(uri, true);
                let operation = map.get(key);
                if (!operation && ( (newToOldUri.has(uri)))) {
                    uri = newToOldUri.get(uri);
                    key = vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_16__.extUri.getComparisonKey(uri, true);
                    operation = map.get(key);
                }
                if (!operation) {
                    operation = ( (new BulkFileOperation(uri, this)));
                    map.set(key, operation);
                }
                operation.addEdit(idx, type, edit);
            };
            insert(uri, operationByResource);
            const key = BulkCategory.keyOf(edit.metadata);
            let category = operationByCategory.get(key);
            if (!category) {
                category = ( (new BulkCategory(edit.metadata)));
                operationByCategory.set(key, category);
            }
            insert(uri, category.operationByResource);
        }
        operationByResource.forEach(value => this.fileOperations.push(value));
        operationByCategory.forEach(value => this.categories.push(value));
        for (const file of this.fileOperations) {
            if (file.type !== 1 ) {
                let checked = true;
                for (const edit of ( (file.originalEdits.values()))) {
                    if (edit instanceof vscode_vscode_vs_editor_browser_services_bulkEditService__WEBPACK_IMPORTED_MODULE_17__.ResourceFileEdit) {
                        checked = checked && this.checked.isChecked(edit);
                    }
                }
                if (!checked) {
                    for (const edit of ( (file.originalEdits.values()))) {
                        this.checked.updateChecked(edit, checked);
                    }
                }
            }
        }
        this.categories.sort((a, b) => {
            if (a.metadata.needsConfirmation === b.metadata.needsConfirmation) {
                return a.metadata.label.localeCompare(b.metadata.label);
            }
            else if (a.metadata.needsConfirmation) {
                return -1;
            }
            else {
                return 1;
            }
        });
        return this;
    }
    getWorkspaceEdit() {
        const result = [];
        let allAccepted = true;
        for (let i = 0; i < this._bulkEdit.length; i++) {
            const edit = this._bulkEdit[i];
            if (this.checked.isChecked(edit)) {
                result[i] = edit;
                continue;
            }
            allAccepted = false;
        }
        if (allAccepted) {
            return this._bulkEdit;
        }
        (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_7__.coalesceInPlace)(result);
        return result;
    }
    async getFileEditOperation(edit) {
        const content = await edit.options.contents;
        if (!content) {
            return undefined;
        }
        return vscode_vscode_vs_editor_common_core_editOperation__WEBPACK_IMPORTED_MODULE_9__.EditOperation.replaceMove(vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_8__.Range.lift({ startLineNumber: 0, startColumn: 0, endLineNumber: Number.MAX_VALUE, endColumn: 0 }), ( (content.toString())));
    }
    async getFileEdits(uri) {
        for (const file of this.fileOperations) {
            if (( (file.uri.toString())) === ( (uri.toString()))) {
                const result = [];
                let ignoreAll = false;
                for (const edit of ( (file.originalEdits.values()))) {
                    if (edit instanceof vscode_vscode_vs_editor_browser_services_bulkEditService__WEBPACK_IMPORTED_MODULE_17__.ResourceFileEdit) {
                        result.push(this.getFileEditOperation(edit));
                    }
                    else if (edit instanceof vscode_vscode_vs_editor_browser_services_bulkEditService__WEBPACK_IMPORTED_MODULE_17__.ResourceTextEdit) {
                        if (this.checked.isChecked(edit)) {
                            result.push(Promise.resolve(vscode_vscode_vs_editor_common_core_editOperation__WEBPACK_IMPORTED_MODULE_9__.EditOperation.replaceMove(vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_8__.Range.lift(edit.textEdit.range), !edit.textEdit.insertAsSnippet ? edit.textEdit.text : vscode_vscode_vs_editor_contrib_snippet_browser_snippetParser__WEBPACK_IMPORTED_MODULE_20__.SnippetParser.asInsertText(edit.textEdit.text))));
                        }
                    }
                    else if (!this.checked.isChecked(edit)) {
                        ignoreAll = true;
                    }
                }
                if (ignoreAll) {
                    return [];
                }
                return (await Promise.all(result)).filter(r => r !== undefined).sort((a, b) => vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_8__.Range.compareRangesUsingStarts(a.range, b.range));
            }
        }
        return [];
    }
    getUriOfEdit(edit) {
        for (const file of this.fileOperations) {
            for (const value of ( (file.originalEdits.values()))) {
                if (value === edit) {
                    return file.uri;
                }
            }
        }
        throw ( (new Error('invalid edit')));
    }
};
BulkFileOperations = BulkFileOperations_1 = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_platform_files_common_files_service__WEBPACK_IMPORTED_MODULE_11__.IFileService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_10__.IInstantiationService)))
], BulkFileOperations)));
let BulkEditPreviewProvider = class BulkEditPreviewProvider {
    static { BulkEditPreviewProvider_1 = this; }
    static { this.Schema = 'vscode-bulkeditpreview-editor'; }
    static { this.emptyPreview = ( (vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_2__.URI.from({ scheme: this.Schema, fragment: 'empty' }))); }
    static fromPreviewUri(uri) {
        return (
             (vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_2__.URI.parse(uri.query))
        );
    }
    constructor(_operations, _languageService, _modelService, _textModelResolverService) {
        this._operations = _operations;
        this._languageService = _languageService;
        this._modelService = _modelService;
        this._textModelResolverService = _textModelResolverService;
        this._disposables = ( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_6__.DisposableStore()));
        this._modelPreviewEdits = ( (new Map()));
        this._instanceId = (0,vscode_vscode_vs_base_common_uuid__WEBPACK_IMPORTED_MODULE_19__.generateUuid)();
        this._disposables.add(this._textModelResolverService.registerTextModelContentProvider(BulkEditPreviewProvider_1.Schema, this));
        this._ready = this._init();
    }
    dispose() {
        this._disposables.dispose();
    }
    asPreviewUri(uri) {
        return (
             (vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_2__.URI.from(
                { scheme: BulkEditPreviewProvider_1.Schema, authority: this._instanceId, path: uri.path, query: ( (uri.toString())) }
            ))
        );
    }
    async _init() {
        for (const operation of this._operations.fileOperations) {
            await this._applyTextEditsToPreviewModel(operation.uri);
        }
        this._disposables.add(vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_12__.Event.debounce(this._operations.checked.onDidChange, (_last, e) => e, vscode_vscode_vs_base_common_symbols__WEBPACK_IMPORTED_MODULE_21__.MicrotaskDelay)(e => {
            const uri = this._operations.getUriOfEdit(e);
            this._applyTextEditsToPreviewModel(uri);
        }));
    }
    async _applyTextEditsToPreviewModel(uri) {
        const model = await this._getOrCreatePreviewModel(uri);
        const undoEdits = this._modelPreviewEdits.get(model.id);
        if (undoEdits) {
            model.applyEdits(undoEdits);
        }
        const newEdits = await this._operations.getFileEdits(uri);
        const newUndoEdits = model.applyEdits(newEdits, true);
        this._modelPreviewEdits.set(model.id, newUndoEdits);
    }
    async _getOrCreatePreviewModel(uri) {
        const previewUri = this.asPreviewUri(uri);
        let model = this._modelService.getModel(previewUri);
        if (!model) {
            try {
                const ref = await this._textModelResolverService.createModelReference(uri);
                const sourceModel = ref.object.textEditorModel;
                model = this._modelService.createModel((0,vscode_vscode_vs_editor_common_model_textModel__WEBPACK_IMPORTED_MODULE_5__.createTextBufferFactoryFromSnapshot)(sourceModel.createSnapshot()), this._languageService.createById(sourceModel.getLanguageId()), previewUri);
                ref.dispose();
            }
            catch {
                model = this._modelService.createModel('', this._languageService.createByFilepathOrFirstLine(previewUri), previewUri);
            }
            queueMicrotask(async () => {
                this._disposables.add(await this._textModelResolverService.createModelReference(model.uri));
            });
        }
        return model;
    }
    async provideTextContent(previewUri) {
        if (( (previewUri.toString())) === ( (BulkEditPreviewProvider_1.emptyPreview.toString()))) {
            return this._modelService.createModel('', null, previewUri);
        }
        await this._ready;
        return this._modelService.getModel(previewUri);
    }
};
BulkEditPreviewProvider = BulkEditPreviewProvider_1 = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_editor_common_languages_language__WEBPACK_IMPORTED_MODULE_3__.ILanguageService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_editor_common_services_model__WEBPACK_IMPORTED_MODULE_4__.IModelService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_editor_common_services_resolverService__WEBPACK_IMPORTED_MODULE_1__.ITextModelService)))
], BulkEditPreviewProvider)));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-bulk-edit-service-override/vscode/src/vs/workbench/contrib/bulkEdit/browser/preview/bulkEditTree.js":
/*!***************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-bulk-edit-service-override/vscode/src/vs/workbench/contrib/bulkEdit/browser/preview/bulkEditTree.js ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BulkEditAccessibilityProvider: () => (/* binding */ BulkEditAccessibilityProvider),
/* harmony export */   BulkEditDataSource: () => (/* binding */ BulkEditDataSource),
/* harmony export */   BulkEditDelegate: () => (/* binding */ BulkEditDelegate),
/* harmony export */   BulkEditIdentityProvider: () => (/* binding */ BulkEditIdentityProvider),
/* harmony export */   BulkEditNaviLabelProvider: () => (/* binding */ BulkEditNaviLabelProvider),
/* harmony export */   BulkEditSorter: () => (/* binding */ BulkEditSorter),
/* harmony export */   CategoryElement: () => (/* binding */ CategoryElement),
/* harmony export */   CategoryElementRenderer: () => (/* binding */ CategoryElementRenderer),
/* harmony export */   FileElement: () => (/* binding */ FileElement),
/* harmony export */   FileElementRenderer: () => (/* binding */ FileElementRenderer),
/* harmony export */   TextEditElement: () => (/* binding */ TextEditElement),
/* harmony export */   TextEditElementRenderer: () => (/* binding */ TextEditElementRenderer),
/* harmony export */   compareBulkFileOperations: () => (/* binding */ compareBulkFileOperations)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_editor_common_services_resolverService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/services/resolverService */ "./node_modules/vscode/vscode/src/vs/editor/common/services/resolverService.js");
/* harmony import */ var vscode_vscode_vs_base_common_filters__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/common/filters */ "./node_modules/vscode/vscode/src/vs/base/common/filters.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_highlightedlabel_highlightedLabel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/highlightedlabel/highlightedLabel */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/highlightedlabel/highlightedLabel.js");
/* harmony import */ var vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/core/range */ "./node_modules/vscode/vscode/src/vs/editor/common/core/range.js");
/* harmony import */ var vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/dom */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_editor_common_model_textModel__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/model/textModel */ "./node_modules/vscode/vscode/src/vs/editor/common/model/textModel.js");
/* harmony import */ var _bulkEditPreview_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./bulkEditPreview.js */ "./node_modules/@codingame/monaco-vscode-bulk-edit-service-override/vscode/src/vs/workbench/contrib/bulkEdit/browser/preview/bulkEditPreview.js");
/* harmony import */ var vscode_vscode_vs_platform_files_common_files__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/platform/files/common/files */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_platform_label_common_label_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/platform/label/common/label.service */ "./node_modules/vscode/vscode/src/vs/platform/label/common/label.service.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_iconLabel_iconLabel__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/iconLabel/iconLabel */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/iconLabel/iconLabel.js");
/* harmony import */ var vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/base/common/resources */ "./node_modules/vscode/vscode/src/vs/base/common/resources.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_themeService_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/themeService.service */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_themables__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/base/common/themables */ "./node_modules/vscode/vscode/src/vs/base/common/themables.js");
/* harmony import */ var vscode_vscode_vs_base_common_strings__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/base/common/strings */ "./node_modules/vscode/vscode/src/vs/base/common/strings.js");
/* harmony import */ var vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/base/common/uri */ "./node_modules/vscode/vscode/src/vs/base/common/uri.js");
/* harmony import */ var vscode_vscode_vs_editor_browser_services_bulkEditService__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! vscode/vscode/vs/editor/browser/services/bulkEditService */ "./node_modules/vscode/vscode/src/vs/editor/browser/services/bulkEditService.js");
/* harmony import */ var vscode_vscode_vs_editor_common_languages_modesRegistry__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/languages/modesRegistry */ "./node_modules/vscode/vscode/src/vs/editor/common/languages/modesRegistry.js");
/* harmony import */ var vscode_vscode_vs_editor_contrib_snippet_browser_snippetParser__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! vscode/vscode/vs/editor/contrib/snippet/browser/snippetParser */ "./node_modules/vscode/vscode/src/vs/editor/contrib/snippet/browser/snippetParser.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");























var CategoryElementRenderer_1, FileElementRenderer_1, TextEditElementRenderer_1;
class CategoryElement {
    constructor(parent, category) {
        this.parent = parent;
        this.category = category;
    }
    isChecked() {
        const model = this.parent;
        let checked = true;
        for (const file of this.category.fileOperations) {
            for (const edit of ( (file.originalEdits.values()))) {
                checked = checked && model.checked.isChecked(edit);
            }
        }
        return checked;
    }
    setChecked(value) {
        const model = this.parent;
        for (const file of this.category.fileOperations) {
            for (const edit of ( (file.originalEdits.values()))) {
                model.checked.updateChecked(edit, value);
            }
        }
    }
}
class FileElement {
    constructor(parent, edit) {
        this.parent = parent;
        this.edit = edit;
    }
    isChecked() {
        const model = this.parent instanceof CategoryElement ? this.parent.parent : this.parent;
        let checked = true;
        if (this.edit.type === 1 ) {
            checked = !this.edit.textEdits.every(edit => !model.checked.isChecked(edit.textEdit));
        }
        for (const edit of ( (this.edit.originalEdits.values()))) {
            if (edit instanceof vscode_vscode_vs_editor_browser_services_bulkEditService__WEBPACK_IMPORTED_MODULE_18__.ResourceFileEdit) {
                checked = checked && model.checked.isChecked(edit);
            }
        }
        if (this.parent instanceof CategoryElement && this.edit.type === 1 ) {
            for (const category of model.categories) {
                for (const file of category.fileOperations) {
                    if (( (file.uri.toString())) === ( (this.edit.uri.toString()))) {
                        for (const edit of ( (file.originalEdits.values()))) {
                            if (edit instanceof vscode_vscode_vs_editor_browser_services_bulkEditService__WEBPACK_IMPORTED_MODULE_18__.ResourceFileEdit) {
                                checked = checked && model.checked.isChecked(edit);
                            }
                        }
                    }
                }
            }
        }
        return checked;
    }
    setChecked(value) {
        const model = this.parent instanceof CategoryElement ? this.parent.parent : this.parent;
        for (const edit of ( (this.edit.originalEdits.values()))) {
            model.checked.updateChecked(edit, value);
        }
        if (this.parent instanceof CategoryElement && this.edit.type !== 1 ) {
            for (const category of model.categories) {
                for (const file of category.fileOperations) {
                    if (( (file.uri.toString())) === ( (this.edit.uri.toString()))) {
                        for (const edit of ( (file.originalEdits.values()))) {
                            model.checked.updateChecked(edit, value);
                        }
                    }
                }
            }
        }
    }
    isDisabled() {
        if (this.parent instanceof CategoryElement && this.edit.type === 1 ) {
            const model = this.parent.parent;
            let checked = true;
            for (const category of model.categories) {
                for (const file of category.fileOperations) {
                    if (( (file.uri.toString())) === ( (this.edit.uri.toString()))) {
                        for (const edit of ( (file.originalEdits.values()))) {
                            if (edit instanceof vscode_vscode_vs_editor_browser_services_bulkEditService__WEBPACK_IMPORTED_MODULE_18__.ResourceFileEdit) {
                                checked = checked && model.checked.isChecked(edit);
                            }
                        }
                    }
                }
            }
            return !checked;
        }
        return false;
    }
}
class TextEditElement {
    constructor(parent, idx, edit, prefix, selecting, inserting, suffix) {
        this.parent = parent;
        this.idx = idx;
        this.edit = edit;
        this.prefix = prefix;
        this.selecting = selecting;
        this.inserting = inserting;
        this.suffix = suffix;
    }
    isChecked() {
        let model = this.parent.parent;
        if (model instanceof CategoryElement) {
            model = model.parent;
        }
        return model.checked.isChecked(this.edit.textEdit);
    }
    setChecked(value) {
        let model = this.parent.parent;
        if (model instanceof CategoryElement) {
            model = model.parent;
        }
        model.checked.updateChecked(this.edit.textEdit, value);
        if (value) {
            for (const edit of ( (this.parent.edit.originalEdits.values()))) {
                if (edit instanceof vscode_vscode_vs_editor_browser_services_bulkEditService__WEBPACK_IMPORTED_MODULE_18__.ResourceFileEdit) {
                    model.checked.updateChecked(edit, value);
                }
            }
        }
    }
    isDisabled() {
        return this.parent.isDisabled();
    }
}
let BulkEditDataSource = class BulkEditDataSource {
    constructor(_textModelService, _instantiationService) {
        this._textModelService = _textModelService;
        this._instantiationService = _instantiationService;
        this.groupByFile = true;
    }
    hasChildren(element) {
        if (element instanceof FileElement) {
            return element.edit.textEdits.length > 0;
        }
        if (element instanceof TextEditElement) {
            return false;
        }
        return true;
    }
    async getChildren(element) {
        if (element instanceof _bulkEditPreview_js__WEBPACK_IMPORTED_MODULE_8__.BulkFileOperations) {
            return this.groupByFile
                ? ( (element.fileOperations.map(op => ( (new FileElement(element, op))))))
                : ( (element.categories.map(cat => ( (new CategoryElement(element, cat))))));
        }
        if (element instanceof CategoryElement) {
            return Array.from(element.category.fileOperations, op => ( (new FileElement(element, op))));
        }
        if (element instanceof FileElement && element.edit.textEdits.length > 0) {
            let textModel;
            let textModelDisposable;
            try {
                const ref = await this._textModelService.createModelReference(element.edit.uri);
                textModel = ref.object.textEditorModel;
                textModelDisposable = ref;
            }
            catch {
                textModel = this._instantiationService.createInstance(vscode_vscode_vs_editor_common_model_textModel__WEBPACK_IMPORTED_MODULE_7__.TextModel, '', vscode_vscode_vs_editor_common_languages_modesRegistry__WEBPACK_IMPORTED_MODULE_19__.PLAINTEXT_LANGUAGE_ID, vscode_vscode_vs_editor_common_model_textModel__WEBPACK_IMPORTED_MODULE_7__.TextModel.DEFAULT_CREATION_OPTIONS, null);
                textModelDisposable = textModel;
            }
            const result = ( (element.edit.textEdits.map((edit, idx) => {
                const range = textModel.validateRange(edit.textEdit.textEdit.range);
                const startTokens = textModel.tokenization.getLineTokens(range.startLineNumber);
                let prefixLen = 23;
                for (let idx = startTokens.findTokenIndexAtOffset(range.startColumn - 1) - 1; prefixLen < 50 && idx >= 0; idx--) {
                    prefixLen = range.startColumn - startTokens.getStartOffset(idx);
                }
                const endTokens = textModel.tokenization.getLineTokens(range.endLineNumber);
                let suffixLen = 0;
                for (let idx = endTokens.findTokenIndexAtOffset(range.endColumn - 1); suffixLen < 50 && idx < endTokens.getCount(); idx++) {
                    suffixLen += endTokens.getEndOffset(idx) - endTokens.getStartOffset(idx);
                }
                return (
                     (new TextEditElement(element, idx, edit, textModel.getValueInRange(( (new vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_4__.Range(
                        range.startLineNumber,
                        range.startColumn - prefixLen,
                        range.startLineNumber,
                        range.startColumn
                    )))), textModel.getValueInRange(range), !edit.textEdit.textEdit.insertAsSnippet ? edit.textEdit.textEdit.text : vscode_vscode_vs_editor_contrib_snippet_browser_snippetParser__WEBPACK_IMPORTED_MODULE_20__.SnippetParser.asInsertText(edit.textEdit.textEdit.text), textModel.getValueInRange(( (new vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_4__.Range(
                        range.endLineNumber,
                        range.endColumn,
                        range.endLineNumber,
                        range.endColumn + suffixLen
                    ))))))
                );
            })));
            textModelDisposable.dispose();
            return result;
        }
        return [];
    }
};
BulkEditDataSource = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_editor_common_services_resolverService__WEBPACK_IMPORTED_MODULE_1__.ITextModelService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_21__.IInstantiationService)))
], BulkEditDataSource)));
class BulkEditSorter {
    compare(a, b) {
        if (a instanceof FileElement && b instanceof FileElement) {
            return compareBulkFileOperations(a.edit, b.edit);
        }
        if (a instanceof TextEditElement && b instanceof TextEditElement) {
            return vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_4__.Range.compareRangesUsingStarts(a.edit.textEdit.textEdit.range, b.edit.textEdit.textEdit.range);
        }
        return 0;
    }
}
function compareBulkFileOperations(a, b) {
    return (0,vscode_vscode_vs_base_common_strings__WEBPACK_IMPORTED_MODULE_16__.compare)(( (a.uri.toString())), ( (b.uri.toString())));
}
let BulkEditAccessibilityProvider = class BulkEditAccessibilityProvider {
    constructor(_labelService) {
        this._labelService = _labelService;
    }
    getWidgetAriaLabel() {
        return ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_10__.localize)(10094, "Bulk Edit"));
    }
    getRole(_element) {
        return 'checkbox';
    }
    getAriaLabel(element) {
        if (element instanceof FileElement) {
            if (element.edit.textEdits.length > 0) {
                if (element.edit.type & 8  && element.edit.newUri) {
                    return ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_10__.localize)(
                        10095,
                        "Renaming {0} to {1}, also making text edits",
                        this._labelService.getUriLabel(element.edit.uri, { relative: true }),
                        this._labelService.getUriLabel(element.edit.newUri, { relative: true })
                    ));
                }
                else if (element.edit.type & 2 ) {
                    return ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_10__.localize)(
                        10096,
                        "Creating {0}, also making text edits",
                        this._labelService.getUriLabel(element.edit.uri, { relative: true })
                    ));
                }
                else if (element.edit.type & 4 ) {
                    return ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_10__.localize)(
                        10097,
                        "Deleting {0}, also making text edits",
                        this._labelService.getUriLabel(element.edit.uri, { relative: true })
                    ));
                }
                else {
                    return ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_10__.localize)(
                        10098,
                        "{0}, making text edits",
                        this._labelService.getUriLabel(element.edit.uri, { relative: true })
                    ));
                }
            }
            else {
                if (element.edit.type & 8  && element.edit.newUri) {
                    return ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_10__.localize)(
                        10099,
                        "Renaming {0} to {1}",
                        this._labelService.getUriLabel(element.edit.uri, { relative: true }),
                        this._labelService.getUriLabel(element.edit.newUri, { relative: true })
                    ));
                }
                else if (element.edit.type & 2 ) {
                    return ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_10__.localize)(
                        10100,
                        "Creating {0}",
                        this._labelService.getUriLabel(element.edit.uri, { relative: true })
                    ));
                }
                else if (element.edit.type & 4 ) {
                    return ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_10__.localize)(
                        10101,
                        "Deleting {0}",
                        this._labelService.getUriLabel(element.edit.uri, { relative: true })
                    ));
                }
            }
        }
        if (element instanceof TextEditElement) {
            if (element.selecting.length > 0 && element.inserting.length > 0) {
                return ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_10__.localize)(
                    10102,
                    "line {0}, replacing {1} with {2}",
                    element.edit.textEdit.textEdit.range.startLineNumber,
                    element.selecting,
                    element.inserting
                ));
            }
            else if (element.selecting.length > 0 && element.inserting.length === 0) {
                return ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_10__.localize)(
                    10103,
                    "line {0}, removing {1}",
                    element.edit.textEdit.textEdit.range.startLineNumber,
                    element.selecting
                ));
            }
            else if (element.selecting.length === 0 && element.inserting.length > 0) {
                return ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_10__.localize)(
                    10104,
                    "line {0}, inserting {1}",
                    element.edit.textEdit.textEdit.range.startLineNumber,
                    element.selecting
                ));
            }
        }
        return null;
    }
};
BulkEditAccessibilityProvider = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_platform_label_common_label_service__WEBPACK_IMPORTED_MODULE_11__.ILabelService)))
], BulkEditAccessibilityProvider)));
class BulkEditIdentityProvider {
    getId(element) {
        if (element instanceof FileElement) {
            return element.edit.uri + (element.parent instanceof CategoryElement ? JSON.stringify(element.parent.category.metadata) : '');
        }
        else if (element instanceof TextEditElement) {
            return ( (element.parent.edit.uri.toString())) + element.idx;
        }
        else {
            return JSON.stringify(element.category.metadata);
        }
    }
}
class CategoryElementTemplate {
    constructor(container) {
        container.classList.add('category');
        this.icon = document.createElement('div');
        container.appendChild(this.icon);
        this.label = ( (new vscode_vscode_vs_base_browser_ui_iconLabel_iconLabel__WEBPACK_IMPORTED_MODULE_12__.IconLabel(container)));
    }
}
let CategoryElementRenderer = class CategoryElementRenderer {
    static { CategoryElementRenderer_1 = this; }
    static { this.id = 'CategoryElementRenderer'; }
    constructor(_themeService) {
        this._themeService = _themeService;
        this.templateId = CategoryElementRenderer_1.id;
    }
    renderTemplate(container) {
        return (
             (new CategoryElementTemplate(container))
        );
    }
    renderElement(node, _index, template) {
        template.icon.style.setProperty('--background-dark', null);
        template.icon.style.setProperty('--background-light', null);
        template.icon.style.color = '';
        const { metadata } = node.element.category;
        if (vscode_vscode_vs_base_common_themables__WEBPACK_IMPORTED_MODULE_15__.ThemeIcon.isThemeIcon(metadata.iconPath)) {
            const className = vscode_vscode_vs_base_common_themables__WEBPACK_IMPORTED_MODULE_15__.ThemeIcon.asClassName(metadata.iconPath);
            template.icon.className = className ? `theme-icon ${className}` : '';
            template.icon.style.color = metadata.iconPath.color ? this._themeService.getColorTheme().getColor(metadata.iconPath.color.id)?.toString() ?? '' : '';
        }
        else if (vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_17__.URI.isUri(metadata.iconPath)) {
            template.icon.className = 'uri-icon';
            template.icon.style.setProperty('--background-dark', (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_5__.asCSSUrl)(metadata.iconPath));
            template.icon.style.setProperty('--background-light', (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_5__.asCSSUrl)(metadata.iconPath));
        }
        else if (metadata.iconPath) {
            template.icon.className = 'uri-icon';
            template.icon.style.setProperty('--background-dark', (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_5__.asCSSUrl)(metadata.iconPath.dark));
            template.icon.style.setProperty('--background-light', (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_5__.asCSSUrl)(metadata.iconPath.light));
        }
        template.label.setLabel(metadata.label, metadata.description, {
            descriptionMatches: (0,vscode_vscode_vs_base_common_filters__WEBPACK_IMPORTED_MODULE_2__.createMatches)(node.filterData),
        });
    }
    disposeTemplate(template) {
        template.label.dispose();
    }
};
CategoryElementRenderer = CategoryElementRenderer_1 = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_platform_theme_common_themeService_service__WEBPACK_IMPORTED_MODULE_14__.IThemeService)))
], CategoryElementRenderer)));
let FileElementTemplate = class FileElementTemplate {
    constructor(container, resourceLabels, _labelService) {
        this._labelService = _labelService;
        this._disposables = ( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_6__.DisposableStore()));
        this._localDisposables = ( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_6__.DisposableStore()));
        this._checkbox = document.createElement('input');
        this._checkbox.className = 'edit-checkbox';
        this._checkbox.type = 'checkbox';
        this._checkbox.setAttribute('role', 'checkbox');
        container.appendChild(this._checkbox);
        this._label = resourceLabels.create(container, { supportHighlights: true });
        this._details = document.createElement('span');
        this._details.className = 'details';
        container.appendChild(this._details);
    }
    dispose() {
        this._localDisposables.dispose();
        this._disposables.dispose();
        this._label.dispose();
    }
    set(element, score) {
        this._localDisposables.clear();
        this._checkbox.checked = element.isChecked();
        this._checkbox.disabled = element.isDisabled();
        this._localDisposables.add((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_5__.addDisposableListener)(this._checkbox, 'change', () => {
            element.setChecked(this._checkbox.checked);
        }));
        if (element.edit.type & 8  && element.edit.newUri) {
            this._label.setResource({
                resource: element.edit.uri,
                name: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_10__.localize)(
                    10105,
                    "{0}  {1}",
                    this._labelService.getUriLabel(element.edit.uri, { relative: true }),
                    this._labelService.getUriLabel(element.edit.newUri, { relative: true })
                )),
            }, {
                fileDecorations: { colors: true, badges: false }
            });
            this._details.innerText = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_10__.localize)(10106, "(renaming)"));
        }
        else {
            const options = {
                matches: (0,vscode_vscode_vs_base_common_filters__WEBPACK_IMPORTED_MODULE_2__.createMatches)(score),
                fileKind: vscode_vscode_vs_platform_files_common_files__WEBPACK_IMPORTED_MODULE_9__.FileKind.FILE,
                fileDecorations: { colors: true, badges: false },
                extraClasses: []
            };
            if (element.edit.type & 2 ) {
                this._details.innerText = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_10__.localize)(10107, "(creating)"));
            }
            else if (element.edit.type & 4 ) {
                this._details.innerText = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_10__.localize)(10108, "(deleting)"));
                options.extraClasses.push('delete');
            }
            else {
                this._details.innerText = '';
            }
            this._label.setFile(element.edit.uri, options);
        }
    }
};
FileElementTemplate = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_platform_label_common_label_service__WEBPACK_IMPORTED_MODULE_11__.ILabelService)))
], FileElementTemplate)));
let FileElementRenderer = class FileElementRenderer {
    static { FileElementRenderer_1 = this; }
    static { this.id = 'FileElementRenderer'; }
    constructor(_resourceLabels, _labelService) {
        this._resourceLabels = _resourceLabels;
        this._labelService = _labelService;
        this.templateId = FileElementRenderer_1.id;
    }
    renderTemplate(container) {
        return (
             (new FileElementTemplate(container, this._resourceLabels, this._labelService))
        );
    }
    renderElement(node, _index, template) {
        template.set(node.element, node.filterData);
    }
    disposeTemplate(template) {
        template.dispose();
    }
};
FileElementRenderer = FileElementRenderer_1 = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_platform_label_common_label_service__WEBPACK_IMPORTED_MODULE_11__.ILabelService)))
], FileElementRenderer)));
let TextEditElementTemplate = class TextEditElementTemplate {
    constructor(container, _themeService) {
        this._themeService = _themeService;
        this._disposables = ( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_6__.DisposableStore()));
        this._localDisposables = ( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_6__.DisposableStore()));
        container.classList.add('textedit');
        this._checkbox = document.createElement('input');
        this._checkbox.className = 'edit-checkbox';
        this._checkbox.type = 'checkbox';
        this._checkbox.setAttribute('role', 'checkbox');
        container.appendChild(this._checkbox);
        this._icon = document.createElement('div');
        container.appendChild(this._icon);
        this._label = this._disposables.add(( (new vscode_vscode_vs_base_browser_ui_highlightedlabel_highlightedLabel__WEBPACK_IMPORTED_MODULE_3__.HighlightedLabel(container))));
    }
    dispose() {
        this._localDisposables.dispose();
        this._disposables.dispose();
    }
    set(element) {
        this._localDisposables.clear();
        this._localDisposables.add((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_5__.addDisposableListener)(this._checkbox, 'change', e => {
            element.setChecked(this._checkbox.checked);
            e.preventDefault();
        }));
        if (element.parent.isChecked()) {
            this._checkbox.checked = element.isChecked();
            this._checkbox.disabled = element.isDisabled();
        }
        else {
            this._checkbox.checked = element.isChecked();
            this._checkbox.disabled = element.isDisabled();
        }
        let value = '';
        value += element.prefix;
        value += element.selecting;
        value += element.inserting;
        value += element.suffix;
        const selectHighlight = { start: element.prefix.length, end: element.prefix.length + element.selecting.length, extraClasses: ['remove'] };
        const insertHighlight = { start: selectHighlight.end, end: selectHighlight.end + element.inserting.length, extraClasses: ['insert'] };
        let title;
        const { metadata } = element.edit.textEdit;
        if (metadata && metadata.description) {
            title = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_10__.localize)(10109, "{0} - {1}", metadata.label, metadata.description));
        }
        else if (metadata) {
            title = metadata.label;
        }
        const iconPath = metadata?.iconPath;
        if (!iconPath) {
            this._icon.style.display = 'none';
        }
        else {
            this._icon.style.display = 'block';
            this._icon.style.setProperty('--background-dark', null);
            this._icon.style.setProperty('--background-light', null);
            if (vscode_vscode_vs_base_common_themables__WEBPACK_IMPORTED_MODULE_15__.ThemeIcon.isThemeIcon(iconPath)) {
                const className = vscode_vscode_vs_base_common_themables__WEBPACK_IMPORTED_MODULE_15__.ThemeIcon.asClassName(iconPath);
                this._icon.className = className ? `theme-icon ${className}` : '';
                this._icon.style.color = iconPath.color ? this._themeService.getColorTheme().getColor(iconPath.color.id)?.toString() ?? '' : '';
            }
            else if (vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_17__.URI.isUri(iconPath)) {
                this._icon.className = 'uri-icon';
                this._icon.style.setProperty('--background-dark', (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_5__.asCSSUrl)(iconPath));
                this._icon.style.setProperty('--background-light', (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_5__.asCSSUrl)(iconPath));
            }
            else {
                this._icon.className = 'uri-icon';
                this._icon.style.setProperty('--background-dark', (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_5__.asCSSUrl)(iconPath.dark));
                this._icon.style.setProperty('--background-light', (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_5__.asCSSUrl)(iconPath.light));
            }
        }
        this._label.set(value, [selectHighlight, insertHighlight], title, true);
        this._icon.title = title || '';
    }
};
TextEditElementTemplate = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_platform_theme_common_themeService_service__WEBPACK_IMPORTED_MODULE_14__.IThemeService)))
], TextEditElementTemplate)));
let TextEditElementRenderer = class TextEditElementRenderer {
    static { TextEditElementRenderer_1 = this; }
    static { this.id = 'TextEditElementRenderer'; }
    constructor(_themeService) {
        this._themeService = _themeService;
        this.templateId = TextEditElementRenderer_1.id;
    }
    renderTemplate(container) {
        return (
             (new TextEditElementTemplate(container, this._themeService))
        );
    }
    renderElement({ element }, _index, template) {
        template.set(element);
    }
    disposeTemplate(_template) { }
};
TextEditElementRenderer = TextEditElementRenderer_1 = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_platform_theme_common_themeService_service__WEBPACK_IMPORTED_MODULE_14__.IThemeService)))
], TextEditElementRenderer)));
class BulkEditDelegate {
    getHeight() {
        return 23;
    }
    getTemplateId(element) {
        if (element instanceof FileElement) {
            return FileElementRenderer.id;
        }
        else if (element instanceof TextEditElement) {
            return TextEditElementRenderer.id;
        }
        else {
            return CategoryElementRenderer.id;
        }
    }
}
class BulkEditNaviLabelProvider {
    getKeyboardNavigationLabel(element) {
        if (element instanceof FileElement) {
            return (0,vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_13__.basename)(element.edit.uri);
        }
        else if (element instanceof CategoryElement) {
            return element.category.metadata.label;
        }
        return undefined;
    }
}




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/index.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/index.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _viewCommon_js__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _viewCommon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./viewCommon.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/viewCommon.js");



/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/override/vs/workbench/browser/parts/editor/textEditor.js":
/*!*************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/override/vs/workbench/browser/parts/editor/textEditor.js ***!
  \*************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AbstractTextEditor: () => (/* reexport safe */ vscode_vscode_vs_workbench_browser_parts_editor_textEditor__WEBPACK_IMPORTED_MODULE_0__.AbstractTextEditor),
/* harmony export */   TextEditorPaneSelection: () => (/* reexport safe */ vscode_vscode_vs_workbench_browser_parts_editor_textEditor__WEBPACK_IMPORTED_MODULE_0__.TextEditorPaneSelection)
/* harmony export */ });
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_editor_textEditor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/editor/textEditor */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/textEditor.js");
/* harmony import */ var _textEditor_weak_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./textEditor.weak.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/override/vs/workbench/browser/parts/editor/textEditor.weak.js");




(0,_textEditor_weak_js__WEBPACK_IMPORTED_MODULE_1__.setAbstractTextEditor)(vscode_vscode_vs_workbench_browser_parts_editor_textEditor__WEBPACK_IMPORTED_MODULE_0__.AbstractTextEditor);


/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/override/vs/workbench/browser/parts/editor/textEditor.weak.js":
/*!******************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/override/vs/workbench/browser/parts/editor/textEditor.weak.js ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AbstractTextEditor: () => (/* binding */ FakeAbstractTextEditor),
/* harmony export */   setAbstractTextEditor: () => (/* binding */ setAbstractTextEditor)
/* harmony export */ });
let AbstractTextEditor = class {};
class FakeAbstractTextEditor {
  static [Symbol.hasInstance](instance) {
    return AbstractTextEditor != null && instance instanceof AbstractTextEditor
  }
}
function setAbstractTextEditor(_AbstractTextEditor) {
  AbstractTextEditor = _AbstractTextEditor;
}




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/tools/editorAssets.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/tools/editorAssets.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var vscode_vscode_vs_workbench_contrib_debug_browser_media_all_png__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/debug/browser/media/all.png */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/debug/browser/media/all.png.js");
/* harmony import */ var vscode_assets__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/assets */ "./node_modules/vscode/assets.js");



(0,vscode_assets__WEBPACK_IMPORTED_MODULE_1__.registerAssets)(vscode_vscode_vs_workbench_contrib_debug_browser_media_all_png__WEBPACK_IMPORTED_MODULE_0__["default"]);


/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/tools/url.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/tools/url.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   changeUrlDomain: () => (/* binding */ changeUrlDomain)
/* harmony export */ });
function changeUrlDomain(url, domain) {
    if (domain == null) {
        return url;
    }
    const _url = new URL(url, domain);
    _url.host = new URL(domain).hostname;
    return ( _url.toString());
}




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/viewCommon.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/viewCommon.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getServiceOverride)
/* harmony export */ });
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/descriptors */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/descriptors.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_views_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/views.service */ "./node_modules/vscode/vscode/src/vs/workbench/common/views.service.js");
/* harmony import */ var _vscode_src_vs_workbench_services_views_browser_viewDescriptorService_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./vscode/src/vs/workbench/services/views/browser/viewDescriptorService.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/services/views/browser/viewDescriptorService.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_activity_common_activity_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/activity/common/activity.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/activity/common/activity.service.js");
/* harmony import */ var _vscode_src_vs_workbench_services_activity_browser_activityService_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./vscode/src/vs/workbench/services/activity/browser/activityService.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/services/activity/browser/activityService.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_panecomposite_browser_panecomposite_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/panecomposite/browser/panecomposite.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/panecomposite/browser/panecomposite.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorResolverService_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorResolverService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorResolverService.service.js");
/* harmony import */ var _vscode_src_vs_workbench_services_editor_browser_editorResolverService_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./vscode/src/vs/workbench/services/editor/browser/editorResolverService.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/services/editor/browser/editorResolverService.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_editor_breadcrumbs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/editor/breadcrumbs */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/breadcrumbs.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_editor_breadcrumbs_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/editor/breadcrumbs.service */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/breadcrumbs.service.js");
/* harmony import */ var vscode_vscode_vs_platform_contextview_browser_contextView_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextview/browser/contextView.service */ "./node_modules/vscode/vscode/src/vs/platform/contextview/browser/contextView.service.js");
/* harmony import */ var vscode_vscode_vs_platform_contextview_browser_contextViewService__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextview/browser/contextViewService */ "./node_modules/vscode/vscode/src/vs/platform/contextview/browser/contextViewService.js");
/* harmony import */ var vscode_vscode_vs_editor_browser_services_codeEditorService__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/editor/browser/services/codeEditorService */ "./node_modules/vscode/vscode/src/vs/editor/browser/services/codeEditorService.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_textfile_common_textEditorService__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/textfile/common/textEditorService */ "./node_modules/vscode/vscode/src/vs/workbench/services/textfile/common/textEditorService.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_textfile_common_textEditorService_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/textfile/common/textEditorService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/textfile/common/textEditorService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_browser_codeEditorService__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/browser/codeEditorService */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/browser/codeEditorService.js");
/* harmony import */ var _vscode_src_vs_workbench_services_untitled_common_untitledTextEditorService_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./vscode/src/vs/workbench/services/untitled/common/untitledTextEditorService.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/services/untitled/common/untitledTextEditorService.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_untitled_common_untitledTextEditorService_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/untitled/common/untitledTextEditorService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/untitled/common/untitledTextEditorService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_history_common_history_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/history/common/history.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/history/common/history.service.js");
/* harmony import */ var _vscode_src_vs_workbench_services_history_browser_historyService_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./vscode/src/vs/workbench/services/history/browser/historyService.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/services/history/browser/historyService.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_customEditor_common_customEditor_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/customEditor/common/customEditor.service */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/customEditor/common/customEditor.service.js");
/* harmony import */ var _vscode_src_vs_workbench_contrib_customEditor_browser_customEditors_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./vscode/src/vs/workbench/contrib/customEditor/browser/customEditors.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/customEditor/browser/customEditors.js");
/* harmony import */ var _vscode_src_vs_workbench_contrib_webview_browser_webviewService_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./vscode/src/vs/workbench/contrib/webview/browser/webviewService.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/webview/browser/webviewService.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_webviewPanel_browser_webviewWorkbenchService__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/webviewPanel/browser/webviewWorkbenchService */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/webviewPanel/browser/webviewWorkbenchService.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_webviewPanel_browser_webviewWorkbenchService_service__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/webviewPanel/browser/webviewWorkbenchService.service */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/webviewPanel/browser/webviewWorkbenchService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_webview_browser_webview_service__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/webview/browser/webview.service */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/webview/browser/webview.service.js");
/* harmony import */ var _vscode_src_vs_workbench_contrib_webviewView_browser_webviewViewService_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./vscode/src/vs/workbench/contrib/webviewView/browser/webviewViewService.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/webviewView/browser/webviewViewService.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_webviewView_browser_webviewViewService_service__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/webviewView/browser/webviewViewService.service */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/webviewView/browser/webviewViewService.service.js");
/* harmony import */ var vscode_vscode_vs_platform_progress_common_progress_service__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! vscode/vscode/vs/platform/progress/common/progress.service */ "./node_modules/vscode/vscode/src/vs/platform/progress/common/progress.service.js");
/* harmony import */ var _vscode_src_vs_workbench_services_progress_browser_progressService_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./vscode/src/vs/workbench/services/progress/browser/progressService.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/services/progress/browser/progressService.js");
/* harmony import */ var _vscode_src_vs_workbench_browser_parts_paneCompositePartService_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./vscode/src/vs/workbench/browser/parts/paneCompositePartService.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/paneCompositePartService.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_auxiliaryWindow_browser_auxiliaryWindowService__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/auxiliaryWindow/browser/auxiliaryWindowService */ "./node_modules/vscode/vscode/src/vs/workbench/services/auxiliaryWindow/browser/auxiliaryWindowService.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_auxiliaryWindow_browser_auxiliaryWindowService_service__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/auxiliaryWindow/browser/auxiliaryWindowService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/auxiliaryWindow/browser/auxiliaryWindowService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_views_common_viewsService_service__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/views/common/viewsService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/views/common/viewsService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_views_browser_viewsService__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/views/browser/viewsService */ "./node_modules/vscode/vscode/src/vs/workbench/services/views/browser/viewsService.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorPaneService_service__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorPaneService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorPaneService.service.js");
/* harmony import */ var _vscode_src_vs_workbench_services_editor_browser_editorPaneService_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./vscode/src/vs/workbench/services/editor/browser/editorPaneService.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/services/editor/browser/editorPaneService.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_customEditorLabelService__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/customEditorLabelService */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/customEditorLabelService.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_customEditorLabelService_service__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/customEditorLabelService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/customEditorLabelService.service.js");
/* harmony import */ var _vscode_src_vs_platform_actions_browser_actionViewItemService_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./vscode/src/vs/platform/actions/browser/actionViewItemService.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/platform/actions/browser/actionViewItemService.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_browser_actionViewItemService_service__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/browser/actionViewItemService.service */ "./node_modules/vscode/vscode/src/vs/platform/actions/browser/actionViewItemService.service.js");
/* harmony import */ var _codingame_monaco_vscode_bulk_edit_service_override__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! @codingame/monaco-vscode-bulk-edit-service-override */ "./node_modules/@codingame/monaco-vscode-bulk-edit-service-override/index.js");
/* harmony import */ var _tools_url_js__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./tools/url.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/tools/url.js");
/* harmony import */ var vscode_assets__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! vscode/assets */ "./node_modules/vscode/assets.js");
/* harmony import */ var _vscode_src_vs_workbench_contrib_callHierarchy_browser_callHierarchy_contribution_js__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./vscode/src/vs/workbench/contrib/callHierarchy/browser/callHierarchy.contribution.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/callHierarchy/browser/callHierarchy.contribution.js");
/* harmony import */ var _vscode_src_vs_workbench_contrib_typeHierarchy_browser_typeHierarchy_contribution_js__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./vscode/src/vs/workbench/contrib/typeHierarchy/browser/typeHierarchy.contribution.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/typeHierarchy/browser/typeHierarchy.contribution.js");
/* harmony import */ var _vscode_src_vs_workbench_browser_actions_listCommands_js__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./vscode/src/vs/workbench/browser/actions/listCommands.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/actions/listCommands.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_views_media_views_css__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/views/media/views.css */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/views/media/views.css.js");
/* harmony import */ var _vscode_src_vs_workbench_api_browser_viewsExtensionPoint_js__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./vscode/src/vs/workbench/api/browser/viewsExtensionPoint.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/api/browser/viewsExtensionPoint.js");
/* harmony import */ var _vscode_src_vs_workbench_browser_parts_editor_editor_contribution_js__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./vscode/src/vs/workbench/browser/parts/editor/editor.contribution.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/editor/editor.contribution.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_workbench_contribution__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/workbench.contribution */ "./node_modules/vscode/vscode/src/vs/workbench/browser/workbench.contribution.js");
/* harmony import */ var _vscode_src_vs_workbench_contrib_customEditor_browser_customEditor_contribution_js__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./vscode/src/vs/workbench/contrib/customEditor/browser/customEditor.contribution.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/customEditor/browser/customEditor.contribution.js");
/* harmony import */ var _vscode_src_vs_workbench_contrib_webviewPanel_browser_webviewPanel_contribution_js__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./vscode/src/vs/workbench/contrib/webviewPanel/browser/webviewPanel.contribution.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/webviewPanel/browser/webviewPanel.contribution.js");
/* harmony import */ var _vscode_src_vs_workbench_contrib_externalUriOpener_common_externalUriOpener_contribution_js__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ./vscode/src/vs/workbench/contrib/externalUriOpener/common/externalUriOpener.contribution.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/externalUriOpener/common/externalUriOpener.contribution.js");
/* harmony import */ var _vscode_src_vs_workbench_contrib_languageStatus_browser_languageStatus_contribution_js__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ./vscode/src/vs/workbench/contrib/languageStatus/browser/languageStatus.contribution.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/languageStatus/browser/languageStatus.contribution.js");
/* harmony import */ var _vscode_src_vs_workbench_contrib_mergeEditor_browser_mergeEditor_contribution_js__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ./vscode/src/vs/workbench/contrib/mergeEditor/browser/mergeEditor.contribution.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/mergeEditor.contribution.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_webview_browser_webview_contribution__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/webview/browser/webview.contribution */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/webview/browser/webview.contribution.js");
/* harmony import */ var _vscode_src_vs_workbench_contrib_limitIndicator_browser_limitIndicator_contribution_js__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ./vscode/src/vs/workbench/contrib/limitIndicator/browser/limitIndicator.contribution.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/limitIndicator/browser/limitIndicator.contribution.js");
/* harmony import */ var _vscode_src_vs_workbench_contrib_sash_browser_sash_contribution_js__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ./vscode/src/vs/workbench/contrib/sash/browser/sash.contribution.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/sash/browser/sash.contribution.js");
/* harmony import */ var _vscode_src_vs_workbench_contrib_preferences_browser_keyboardLayoutPicker_js__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ./vscode/src/vs/workbench/contrib/preferences/browser/keyboardLayoutPicker.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/preferences/browser/keyboardLayoutPicker.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_editor_editor_contribution_autosave__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/editor/editor.contribution._autosave */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editor.contribution._autosave.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_files_browser_files_contribution_editorPane__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/files/browser/files.contribution._editorPane */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/files.contribution._editorPane.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_files_browser_fileCommands_save__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/files/browser/fileCommands._save */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/fileCommands._save.js");
/* harmony import */ var _vscode_src_vs_workbench_browser_actions_navigationActions_js__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ./vscode/src/vs/workbench/browser/actions/navigationActions.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/actions/navigationActions.js");
/* harmony import */ var _vscode_src_vs_workbench_browser_style_js__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ./vscode/src/vs/workbench/browser/style.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/style.js");
/* harmony import */ var _tools_editorAssets_js__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! ./tools/editorAssets.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/tools/editorAssets.js");
/* harmony import */ var _vscode_src_vs_workbench_browser_parts_editor_editorParts_js__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! ./vscode/src/vs/workbench/browser/parts/editor/editorParts.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/editor/editorParts.js");




































































let webviewIframeAlternateDomains;
(0,vscode_assets__WEBPACK_IMPORTED_MODULE_43__.registerAssets)({
    'vs/workbench/contrib/webview/browser/pre/service-worker.js': () => (0,_tools_url_js__WEBPACK_IMPORTED_MODULE_42__.changeUrlDomain)(new URL(/* asset import */ __webpack_require__(/*! ./assets/service-worker.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/assets/service-worker.js"), __webpack_require__.b).href, webviewIframeAlternateDomains),
    'vs/workbench/contrib/webview/browser/pre/index.html': () => (0,_tools_url_js__WEBPACK_IMPORTED_MODULE_42__.changeUrlDomain)(new URL(/* asset import */ __webpack_require__(/*! ./assets/index.html */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/assets/index.html"), __webpack_require__.b).href, webviewIframeAlternateDomains),
    'vs/workbench/contrib/webview/browser/pre/index-no-csp.html': () => (0,_tools_url_js__WEBPACK_IMPORTED_MODULE_42__.changeUrlDomain)(new URL(/* asset import */ __webpack_require__(/*! ./assets/index-no-csp.html */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/assets/index-no-csp.html"), __webpack_require__.b).href, webviewIframeAlternateDomains),
    'vs/workbench/contrib/webview/browser/pre/fake.html': () => (0,_tools_url_js__WEBPACK_IMPORTED_MODULE_42__.changeUrlDomain)(new URL(/* asset import */ __webpack_require__(/*! ./assets/fake.html */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/assets/fake.html"), __webpack_require__.b).href, webviewIframeAlternateDomains)
});
function getServiceOverride(_webviewIframeAlternateDomains) {
    if (_webviewIframeAlternateDomains != null) {
        webviewIframeAlternateDomains = _webviewIframeAlternateDomains;
    }
    return {
        ...(0,_codingame_monaco_vscode_bulk_edit_service_override__WEBPACK_IMPORTED_MODULE_41__["default"])(),
        [( vscode_vscode_vs_workbench_services_views_common_viewsService_service__WEBPACK_IMPORTED_MODULE_33__.IViewsService.toString())]: new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_0__.SyncDescriptor(vscode_vscode_vs_workbench_services_views_browser_viewsService__WEBPACK_IMPORTED_MODULE_34__.ViewsService, [], false),
        [( vscode_vscode_vs_workbench_common_views_service__WEBPACK_IMPORTED_MODULE_1__.IViewDescriptorService.toString())]: new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_0__.SyncDescriptor(_vscode_src_vs_workbench_services_views_browser_viewDescriptorService_js__WEBPACK_IMPORTED_MODULE_2__.ViewDescriptorService, [], true),
        [( vscode_vscode_vs_workbench_services_activity_common_activity_service__WEBPACK_IMPORTED_MODULE_3__.IActivityService.toString())]: new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_0__.SyncDescriptor(_vscode_src_vs_workbench_services_activity_browser_activityService_js__WEBPACK_IMPORTED_MODULE_4__.ActivityService, [], true),
        [( vscode_vscode_vs_workbench_services_panecomposite_browser_panecomposite_service__WEBPACK_IMPORTED_MODULE_5__.IPaneCompositePartService.toString())]: new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_0__.SyncDescriptor(_vscode_src_vs_workbench_browser_parts_paneCompositePartService_js__WEBPACK_IMPORTED_MODULE_30__.PaneCompositePartService, [], true),
        [( vscode_vscode_vs_editor_browser_services_codeEditorService__WEBPACK_IMPORTED_MODULE_12__.ICodeEditorService.toString())]: new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_0__.SyncDescriptor(vscode_vscode_vs_workbench_services_editor_browser_codeEditorService__WEBPACK_IMPORTED_MODULE_15__.CodeEditorService, [], true),
        [( vscode_vscode_vs_workbench_services_textfile_common_textEditorService_service__WEBPACK_IMPORTED_MODULE_14__.ITextEditorService.toString())]: new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_0__.SyncDescriptor(vscode_vscode_vs_workbench_services_textfile_common_textEditorService__WEBPACK_IMPORTED_MODULE_13__.TextEditorService, [], false),
        [( vscode_vscode_vs_workbench_services_editor_common_editorResolverService_service__WEBPACK_IMPORTED_MODULE_6__.IEditorResolverService.toString())]: new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_0__.SyncDescriptor(_vscode_src_vs_workbench_services_editor_browser_editorResolverService_js__WEBPACK_IMPORTED_MODULE_7__.EditorResolverService, [], false),
        [( vscode_vscode_vs_workbench_browser_parts_editor_breadcrumbs_service__WEBPACK_IMPORTED_MODULE_9__.IBreadcrumbsService.toString())]: new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_0__.SyncDescriptor(vscode_vscode_vs_workbench_browser_parts_editor_breadcrumbs__WEBPACK_IMPORTED_MODULE_8__.BreadcrumbsService, [], true),
        [( vscode_vscode_vs_platform_contextview_browser_contextView_service__WEBPACK_IMPORTED_MODULE_10__.IContextViewService.toString())]: new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_0__.SyncDescriptor(vscode_vscode_vs_platform_contextview_browser_contextViewService__WEBPACK_IMPORTED_MODULE_11__.ContextViewService, [], true),
        [( vscode_vscode_vs_workbench_services_untitled_common_untitledTextEditorService_service__WEBPACK_IMPORTED_MODULE_17__.IUntitledTextEditorService.toString())]: new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_0__.SyncDescriptor(_vscode_src_vs_workbench_services_untitled_common_untitledTextEditorService_js__WEBPACK_IMPORTED_MODULE_16__.UntitledTextEditorService, [], true),
        [( vscode_vscode_vs_workbench_services_history_common_history_service__WEBPACK_IMPORTED_MODULE_18__.IHistoryService.toString())]: new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_0__.SyncDescriptor(_vscode_src_vs_workbench_services_history_browser_historyService_js__WEBPACK_IMPORTED_MODULE_19__.HistoryService, [], false),
        [( vscode_vscode_vs_workbench_contrib_customEditor_common_customEditor_service__WEBPACK_IMPORTED_MODULE_20__.ICustomEditorService.toString())]: new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_0__.SyncDescriptor(_vscode_src_vs_workbench_contrib_customEditor_browser_customEditors_js__WEBPACK_IMPORTED_MODULE_21__.CustomEditorService, [], true),
        [( vscode_vscode_vs_workbench_contrib_webview_browser_webview_service__WEBPACK_IMPORTED_MODULE_25__.IWebviewService.toString())]: new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_0__.SyncDescriptor(_vscode_src_vs_workbench_contrib_webview_browser_webviewService_js__WEBPACK_IMPORTED_MODULE_22__.WebviewService, [], true),
        [( vscode_vscode_vs_workbench_contrib_webviewView_browser_webviewViewService_service__WEBPACK_IMPORTED_MODULE_27__.IWebviewViewService.toString())]: new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_0__.SyncDescriptor(_vscode_src_vs_workbench_contrib_webviewView_browser_webviewViewService_js__WEBPACK_IMPORTED_MODULE_26__.WebviewViewService, [], true),
        [( vscode_vscode_vs_workbench_contrib_webviewPanel_browser_webviewWorkbenchService_service__WEBPACK_IMPORTED_MODULE_24__.IWebviewWorkbenchService.toString())]: new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_0__.SyncDescriptor(vscode_vscode_vs_workbench_contrib_webviewPanel_browser_webviewWorkbenchService__WEBPACK_IMPORTED_MODULE_23__.WebviewEditorService, [], true),
        [( vscode_vscode_vs_platform_progress_common_progress_service__WEBPACK_IMPORTED_MODULE_28__.IProgressService.toString())]: new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_0__.SyncDescriptor(_vscode_src_vs_workbench_services_progress_browser_progressService_js__WEBPACK_IMPORTED_MODULE_29__.ProgressService, [], true),
        [( vscode_vscode_vs_workbench_services_auxiliaryWindow_browser_auxiliaryWindowService_service__WEBPACK_IMPORTED_MODULE_32__.IAuxiliaryWindowService.toString())]: new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_0__.SyncDescriptor(vscode_vscode_vs_workbench_services_auxiliaryWindow_browser_auxiliaryWindowService__WEBPACK_IMPORTED_MODULE_31__.BrowserAuxiliaryWindowService, [], true),
        [( vscode_vscode_vs_workbench_services_editor_common_editorPaneService_service__WEBPACK_IMPORTED_MODULE_35__.IEditorPaneService.toString())]: new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_0__.SyncDescriptor(_vscode_src_vs_workbench_services_editor_browser_editorPaneService_js__WEBPACK_IMPORTED_MODULE_36__.EditorPaneService, [], true),
        [( vscode_vscode_vs_workbench_services_editor_common_customEditorLabelService_service__WEBPACK_IMPORTED_MODULE_38__.ICustomEditorLabelService.toString())]: new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_0__.SyncDescriptor(vscode_vscode_vs_workbench_services_editor_common_customEditorLabelService__WEBPACK_IMPORTED_MODULE_37__.CustomEditorLabelService, [], true),
        [( vscode_vscode_vs_platform_actions_browser_actionViewItemService_service__WEBPACK_IMPORTED_MODULE_40__.IActionViewItemService.toString())]: new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_0__.SyncDescriptor(_vscode_src_vs_platform_actions_browser_actionViewItemService_js__WEBPACK_IMPORTED_MODULE_39__.ActionViewItemService, [], true)
    };
}




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/base/browser/ui/centered/centeredViewLayout.js":
/*!*****************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/base/browser/ui/centered/centeredViewLayout.js ***!
  \*****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CenteredViewLayout: () => (/* binding */ CenteredViewLayout)
/* harmony export */ });
/* harmony import */ var vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/dom */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_splitview_splitview__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/splitview/splitview */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/splitview/splitview.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");





const defaultState = {
    targetWidth: 900,
    leftMarginRatio: 0.1909,
    rightMarginRatio: 0.1909,
};
const distributeSizing = { type: 'distribute' };
function createEmptyView(background) {
    const element = (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_0__.$)('.centered-layout-margin');
    element.style.height = '100%';
    if (background) {
        element.style.backgroundColor = ( background.toString());
    }
    return {
        element,
        layout: () => undefined,
        minimumSize: 60,
        maximumSize: Number.POSITIVE_INFINITY,
        onDidChange: vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_2__.Event.None
    };
}
function toSplitViewView(view, getHeight) {
    return {
        element: view.element,
        get maximumSize() { return view.maximumWidth; },
        get minimumSize() { return view.minimumWidth; },
        onDidChange: ( vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_2__.Event.map(view.onDidChange, e => e && e.width)),
        layout: (size, offset, ctx) => view.layout(size, getHeight(), ctx?.top ?? 0, (ctx?.left ?? 0) + offset)
    };
}
class CenteredViewLayout {
    constructor(container, view, state = { ...defaultState }, centeredLayoutFixedWidth = false) {
        this.container = container;
        this.view = view;
        this.state = state;
        this.centeredLayoutFixedWidth = centeredLayoutFixedWidth;
        this.lastLayoutPosition = { width: 0, height: 0, left: 0, top: 0 };
        this.didLayout = false;
        this.splitViewDisposables = ( new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__.DisposableStore());
        this._boundarySashes = {};
        this.container.appendChild(this.view.element);
        this.container.style.overflow = 'hidden';
    }
    get minimumWidth() { return this.splitView ? this.splitView.minimumSize : this.view.minimumWidth; }
    get maximumWidth() { return this.splitView ? this.splitView.maximumSize : this.view.maximumWidth; }
    get minimumHeight() { return this.view.minimumHeight; }
    get maximumHeight() { return this.view.maximumHeight; }
    get onDidChange() { return this.view.onDidChange; }
    get boundarySashes() { return this._boundarySashes; }
    set boundarySashes(boundarySashes) {
        this._boundarySashes = boundarySashes;
        if (!this.splitView) {
            return;
        }
        this.splitView.orthogonalStartSash = boundarySashes.top;
        this.splitView.orthogonalEndSash = boundarySashes.bottom;
    }
    layout(width, height, top, left) {
        this.lastLayoutPosition = { width, height, top, left };
        if (this.splitView) {
            this.splitView.layout(width, this.lastLayoutPosition);
            if (!this.didLayout || this.centeredLayoutFixedWidth) {
                this.resizeSplitViews();
            }
        }
        else {
            this.view.layout(width, height, top, left);
        }
        this.didLayout = true;
    }
    resizeSplitViews() {
        if (!this.splitView) {
            return;
        }
        if (this.centeredLayoutFixedWidth) {
            const centerViewWidth = Math.min(this.lastLayoutPosition.width, this.state.targetWidth);
            const marginWidthFloat = (this.lastLayoutPosition.width - centerViewWidth) / 2;
            this.splitView.resizeView(0, Math.floor(marginWidthFloat));
            this.splitView.resizeView(1, centerViewWidth);
            this.splitView.resizeView(2, Math.ceil(marginWidthFloat));
        }
        else {
            const leftMargin = this.state.leftMarginRatio * this.lastLayoutPosition.width;
            const rightMargin = this.state.rightMarginRatio * this.lastLayoutPosition.width;
            const center = this.lastLayoutPosition.width - leftMargin - rightMargin;
            this.splitView.resizeView(0, leftMargin);
            this.splitView.resizeView(1, center);
            this.splitView.resizeView(2, rightMargin);
        }
    }
    setFixedWidth(option) {
        this.centeredLayoutFixedWidth = option;
        if (!!this.splitView) {
            this.updateState();
            this.resizeSplitViews();
        }
    }
    updateState() {
        if (!!this.splitView) {
            this.state.targetWidth = this.splitView.getViewSize(1);
            this.state.leftMarginRatio = this.splitView.getViewSize(0) / this.lastLayoutPosition.width;
            this.state.rightMarginRatio = this.splitView.getViewSize(2) / this.lastLayoutPosition.width;
        }
    }
    isActive() {
        return !!this.splitView;
    }
    styles(style) {
        this.style = style;
        if (this.splitView && this.emptyViews) {
            this.splitView.style(this.style);
            this.emptyViews[0].element.style.backgroundColor = ( this.style.background.toString());
            this.emptyViews[1].element.style.backgroundColor = ( this.style.background.toString());
        }
    }
    activate(active) {
        if (active === this.isActive()) {
            return;
        }
        if (active) {
            this.view.element.remove();
            this.splitView = ( new vscode_vscode_vs_base_browser_ui_splitview_splitview__WEBPACK_IMPORTED_MODULE_1__.SplitView(this.container, {
                inverseAltBehavior: true,
                orientation: 1 ,
                styles: this.style
            }));
            this.splitView.orthogonalStartSash = this.boundarySashes.top;
            this.splitView.orthogonalEndSash = this.boundarySashes.bottom;
            this.splitViewDisposables.add(this.splitView.onDidSashChange(() => {
                if (!!this.splitView) {
                    this.updateState();
                }
            }));
            this.splitViewDisposables.add(this.splitView.onDidSashReset(() => {
                this.state = { ...defaultState };
                this.resizeSplitViews();
            }));
            this.splitView.layout(this.lastLayoutPosition.width, this.lastLayoutPosition);
            const backgroundColor = this.style ? this.style.background : undefined;
            this.emptyViews = [createEmptyView(backgroundColor), createEmptyView(backgroundColor)];
            this.splitView.addView(this.emptyViews[0], distributeSizing, 0);
            this.splitView.addView(toSplitViewView(this.view, () => this.lastLayoutPosition.height), distributeSizing, 1);
            this.splitView.addView(this.emptyViews[1], distributeSizing, 2);
            this.resizeSplitViews();
        }
        else {
            this.splitView?.el.remove();
            this.splitViewDisposables.clear();
            this.splitView?.dispose();
            this.splitView = undefined;
            this.emptyViews = undefined;
            this.container.appendChild(this.view.element);
            this.view.layout(this.lastLayoutPosition.width, this.lastLayoutPosition.height, this.lastLayoutPosition.top, this.lastLayoutPosition.left);
        }
    }
    isDefault(state) {
        if (this.centeredLayoutFixedWidth) {
            return state.targetWidth === defaultState.targetWidth;
        }
        else {
            return state.leftMarginRatio === defaultState.leftMarginRatio
                && state.rightMarginRatio === defaultState.rightMarginRatio;
        }
    }
    dispose() {
        this.splitViewDisposables.dispose();
        if (this.splitView) {
            this.splitView.dispose();
            this.splitView = undefined;
        }
    }
}




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/base/browser/ui/grid/grid.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/base/browser/ui/grid/grid.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Grid: () => (/* binding */ Grid),
/* harmony export */   SerializableGrid: () => (/* binding */ SerializableGrid),
/* harmony export */   Sizing: () => (/* binding */ Sizing),
/* harmony export */   createSerializedGrid: () => (/* binding */ createSerializedGrid),
/* harmony export */   getRelativeLocation: () => (/* binding */ getRelativeLocation),
/* harmony export */   isGridBranchNode: () => (/* binding */ isGridBranchNode),
/* harmony export */   orthogonal: () => (/* reexport safe */ _gridview_js__WEBPACK_IMPORTED_MODULE_3__.orthogonal),
/* harmony export */   sanitizeGridNodeDescriptor: () => (/* binding */ sanitizeGridNodeDescriptor)
/* harmony export */ });
/* harmony import */ var vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/base/common/arrays */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _gridview_css_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./gridview.css.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/base/browser/ui/grid/gridview.css.js");
/* harmony import */ var _gridview_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./gridview.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/base/browser/ui/grid/gridview.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_splitview_splitview__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/splitview/splitview */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/splitview/splitview.js");






function oppositeDirection(direction) {
    switch (direction) {
        case 0 : return 1 ;
        case 1 : return 0 ;
        case 2 : return 3 ;
        case 3 : return 2 ;
    }
}
function isGridBranchNode(node) {
    return !!node.children;
}
function getGridNode(node, location) {
    if (location.length === 0) {
        return node;
    }
    if (!isGridBranchNode(node)) {
        throw ( new Error('Invalid location'));
    }
    const [index, ...rest] = location;
    return getGridNode(node.children[index], rest);
}
function intersects(one, other) {
    return !(one.start >= other.end || other.start >= one.end);
}
function getBoxBoundary(box, direction) {
    const orientation = getDirectionOrientation(direction);
    const offset = direction === 0  ? box.top :
        direction === 3  ? box.left + box.width :
            direction === 1  ? box.top + box.height :
                box.left;
    const range = {
        start: orientation === 1  ? box.top : box.left,
        end: orientation === 1  ? box.top + box.height : box.left + box.width
    };
    return { offset, range };
}
function findAdjacentBoxLeafNodes(boxNode, direction, boundary) {
    const result = [];
    function _(boxNode, direction, boundary) {
        if (isGridBranchNode(boxNode)) {
            for (const child of boxNode.children) {
                _(child, direction, boundary);
            }
        }
        else {
            const { offset, range } = getBoxBoundary(boxNode.box, direction);
            if (offset === boundary.offset && intersects(range, boundary.range)) {
                result.push(boxNode);
            }
        }
    }
    _(boxNode, direction, boundary);
    return result;
}
function getLocationOrientation(rootOrientation, location) {
    return location.length % 2 === 0 ? (0,_gridview_js__WEBPACK_IMPORTED_MODULE_3__.orthogonal)(rootOrientation) : rootOrientation;
}
function getDirectionOrientation(direction) {
    return direction === 0  || direction === 1  ? 0  : 1 ;
}
function getRelativeLocation(rootOrientation, location, direction) {
    const orientation = getLocationOrientation(rootOrientation, location);
    const directionOrientation = getDirectionOrientation(direction);
    if (orientation === directionOrientation) {
        let [rest, index] = (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_0__.tail2)(location);
        if (direction === 3  || direction === 1 ) {
            index += 1;
        }
        return [...rest, index];
    }
    else {
        const index = ((direction === 3  || direction === 1) ) ? 1 : 0;
        return [...location, index];
    }
}
function indexInParent(element) {
    const parentElement = element.parentElement;
    if (!parentElement) {
        throw ( new Error('Invalid grid element'));
    }
    let el = parentElement.firstElementChild;
    let index = 0;
    while (el !== element && el !== parentElement.lastElementChild && el) {
        el = el.nextElementSibling;
        index++;
    }
    return index;
}
function getGridLocation(element) {
    const parentElement = element.parentElement;
    if (!parentElement) {
        throw ( new Error('Invalid grid element'));
    }
    if (/\bmonaco-grid-view\b/.test(parentElement.className)) {
        return [];
    }
    const index = indexInParent(parentElement);
    const ancestor = parentElement.parentElement.parentElement.parentElement.parentElement;
    return [...getGridLocation(ancestor), index];
}
var Sizing;
( (function(Sizing) {
    Sizing.Distribute = { type: 'distribute' };
    Sizing.Split = { type: 'split' };
    Sizing.Auto = { type: 'auto' };
    function Invisible(cachedVisibleSize) { return { type: 'invisible', cachedVisibleSize }; }
    Sizing.Invisible = Invisible;
})(Sizing || (Sizing = {})));
class Grid extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_1__.Disposable {
    get orientation() { return this.gridview.orientation; }
    set orientation(orientation) { this.gridview.orientation = orientation; }
    get width() { return this.gridview.width; }
    get height() { return this.gridview.height; }
    get minimumWidth() { return this.gridview.minimumWidth; }
    get minimumHeight() { return this.gridview.minimumHeight; }
    get maximumWidth() { return this.gridview.maximumWidth; }
    get maximumHeight() { return this.gridview.maximumHeight; }
    get boundarySashes() { return this.gridview.boundarySashes; }
    set boundarySashes(boundarySashes) { this.gridview.boundarySashes = boundarySashes; }
    set edgeSnapping(edgeSnapping) { this.gridview.edgeSnapping = edgeSnapping; }
    get element() { return this.gridview.element; }
    constructor(view, options = {}) {
        super();
        this.views = ( new Map());
        this.didLayout = false;
        if (view instanceof _gridview_js__WEBPACK_IMPORTED_MODULE_3__.GridView) {
            this.gridview = view;
            this.gridview.getViewMap(this.views);
        }
        else {
            this.gridview = ( new _gridview_js__WEBPACK_IMPORTED_MODULE_3__.GridView(options));
        }
        this._register(this.gridview);
        this._register(this.gridview.onDidSashReset(this.onDidSashReset, this));
        if (!(view instanceof _gridview_js__WEBPACK_IMPORTED_MODULE_3__.GridView)) {
            this._addView(view, 0, [0]);
        }
        this.onDidChange = this.gridview.onDidChange;
        this.onDidScroll = this.gridview.onDidScroll;
        this.onDidChangeViewMaximized = this.gridview.onDidChangeViewMaximized;
    }
    style(styles) {
        this.gridview.style(styles);
    }
    layout(width, height, top = 0, left = 0) {
        this.gridview.layout(width, height, top, left);
        this.didLayout = true;
    }
    addView(newView, size, referenceView, direction) {
        if (( this.views.has(newView))) {
            throw ( new Error('Can\'t add same view twice'));
        }
        const orientation = getDirectionOrientation(direction);
        if (this.views.size === 1 && this.orientation !== orientation) {
            this.orientation = orientation;
        }
        const referenceLocation = this.getViewLocation(referenceView);
        const location = getRelativeLocation(this.gridview.orientation, referenceLocation, direction);
        let viewSize;
        if (typeof size === 'number') {
            viewSize = size;
        }
        else if (size.type === 'split') {
            const [, index] = (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_0__.tail2)(referenceLocation);
            viewSize = vscode_vscode_vs_base_browser_ui_splitview_splitview__WEBPACK_IMPORTED_MODULE_4__.Sizing.Split(index);
        }
        else if (size.type === 'distribute') {
            viewSize = vscode_vscode_vs_base_browser_ui_splitview_splitview__WEBPACK_IMPORTED_MODULE_4__.Sizing.Distribute;
        }
        else if (size.type === 'auto') {
            const [, index] = (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_0__.tail2)(referenceLocation);
            viewSize = vscode_vscode_vs_base_browser_ui_splitview_splitview__WEBPACK_IMPORTED_MODULE_4__.Sizing.Auto(index);
        }
        else {
            viewSize = size;
        }
        this._addView(newView, viewSize, location);
    }
    addViewAt(newView, size, location) {
        if (( this.views.has(newView))) {
            throw ( new Error('Can\'t add same view twice'));
        }
        let viewSize;
        if (typeof size === 'number') {
            viewSize = size;
        }
        else if (size.type === 'distribute') {
            viewSize = vscode_vscode_vs_base_browser_ui_splitview_splitview__WEBPACK_IMPORTED_MODULE_4__.Sizing.Distribute;
        }
        else {
            viewSize = size;
        }
        this._addView(newView, viewSize, location);
    }
    _addView(newView, size, location) {
        this.views.set(newView, newView.element);
        this.gridview.addView(newView, size, location);
    }
    removeView(view, sizing) {
        if (this.views.size === 1) {
            throw ( new Error('Can\'t remove last view'));
        }
        const location = this.getViewLocation(view);
        let gridViewSizing;
        if (sizing?.type === 'distribute') {
            gridViewSizing = vscode_vscode_vs_base_browser_ui_splitview_splitview__WEBPACK_IMPORTED_MODULE_4__.Sizing.Distribute;
        }
        else if (sizing?.type === 'auto') {
            const index = location[location.length - 1];
            gridViewSizing = vscode_vscode_vs_base_browser_ui_splitview_splitview__WEBPACK_IMPORTED_MODULE_4__.Sizing.Auto(index === 0 ? 1 : index - 1);
        }
        this.gridview.removeView(location, gridViewSizing);
        this.views.delete(view);
    }
    moveView(view, sizing, referenceView, direction) {
        const sourceLocation = this.getViewLocation(view);
        const [sourceParentLocation, from] = (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_0__.tail2)(sourceLocation);
        const referenceLocation = this.getViewLocation(referenceView);
        const targetLocation = getRelativeLocation(this.gridview.orientation, referenceLocation, direction);
        const [targetParentLocation, to] = (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_0__.tail2)(targetLocation);
        if ((0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_0__.equals)(sourceParentLocation, targetParentLocation)) {
            this.gridview.moveView(sourceParentLocation, from, to);
        }
        else {
            this.removeView(view, typeof sizing === 'number' ? undefined : sizing);
            this.addView(view, sizing, referenceView, direction);
        }
    }
    moveViewTo(view, location) {
        const sourceLocation = this.getViewLocation(view);
        const [sourceParentLocation, from] = (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_0__.tail2)(sourceLocation);
        const [targetParentLocation, to] = (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_0__.tail2)(location);
        if ((0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_0__.equals)(sourceParentLocation, targetParentLocation)) {
            this.gridview.moveView(sourceParentLocation, from, to);
        }
        else {
            const size = this.getViewSize(view);
            const orientation = getLocationOrientation(this.gridview.orientation, sourceLocation);
            const cachedViewSize = this.getViewCachedVisibleSize(view);
            const sizing = typeof cachedViewSize === 'undefined'
                ? (orientation === 1  ? size.width : size.height)
                : Sizing.Invisible(cachedViewSize);
            this.removeView(view);
            this.addViewAt(view, sizing, location);
        }
    }
    swapViews(from, to) {
        const fromLocation = this.getViewLocation(from);
        const toLocation = this.getViewLocation(to);
        return this.gridview.swapViews(fromLocation, toLocation);
    }
    resizeView(view, size) {
        const location = this.getViewLocation(view);
        return this.gridview.resizeView(location, size);
    }
    isViewExpanded(view) {
        const location = this.getViewLocation(view);
        return this.gridview.isViewExpanded(location);
    }
    isViewMaximized(view) {
        const location = this.getViewLocation(view);
        return this.gridview.isViewMaximized(location);
    }
    hasMaximizedView() {
        return this.gridview.hasMaximizedView();
    }
    getViewSize(view) {
        if (!view) {
            return this.gridview.getViewSize();
        }
        const location = this.getViewLocation(view);
        return this.gridview.getViewSize(location);
    }
    getViewCachedVisibleSize(view) {
        const location = this.getViewLocation(view);
        return this.gridview.getViewCachedVisibleSize(location);
    }
    maximizeView(view) {
        if (this.views.size < 2) {
            throw ( new Error('At least two views are required to maximize a view'));
        }
        const location = this.getViewLocation(view);
        this.gridview.maximizeView(location);
    }
    exitMaximizedView() {
        this.gridview.exitMaximizedView();
    }
    expandView(view) {
        const location = this.getViewLocation(view);
        this.gridview.expandView(location);
    }
    distributeViewSizes() {
        this.gridview.distributeViewSizes();
    }
    isViewVisible(view) {
        const location = this.getViewLocation(view);
        return this.gridview.isViewVisible(location);
    }
    setViewVisible(view, visible) {
        const location = this.getViewLocation(view);
        this.gridview.setViewVisible(location, visible);
    }
    getViews() {
        return this.gridview.getView();
    }
    getNeighborViews(view, direction, wrap = false) {
        if (!this.didLayout) {
            throw ( new Error('Can\'t call getNeighborViews before first layout'));
        }
        const location = this.getViewLocation(view);
        const root = this.getViews();
        const node = getGridNode(root, location);
        let boundary = getBoxBoundary(node.box, direction);
        if (wrap) {
            if (direction === 0  && node.box.top === 0) {
                boundary = { offset: root.box.top + root.box.height, range: boundary.range };
            }
            else if (direction === 3  && node.box.left + node.box.width === root.box.width) {
                boundary = { offset: 0, range: boundary.range };
            }
            else if (direction === 1  && node.box.top + node.box.height === root.box.height) {
                boundary = { offset: 0, range: boundary.range };
            }
            else if (direction === 2  && node.box.left === 0) {
                boundary = { offset: root.box.left + root.box.width, range: boundary.range };
            }
        }
        return ( findAdjacentBoxLeafNodes(root, oppositeDirection(direction), boundary)
            .map(node => node.view));
    }
    getViewLocation(view) {
        const element = this.views.get(view);
        if (!element) {
            throw ( new Error('View not found'));
        }
        return getGridLocation(element);
    }
    onDidSashReset(location) {
        const resizeToPreferredSize = (location) => {
            const node = this.gridview.getView(location);
            if (isGridBranchNode(node)) {
                return false;
            }
            const direction = getLocationOrientation(this.orientation, location);
            const size = direction === 1  ? node.view.preferredWidth : node.view.preferredHeight;
            if (typeof size !== 'number') {
                return false;
            }
            const viewSize = direction === 1  ? { width: Math.round(size) } : { height: Math.round(size) };
            this.gridview.resizeView(location, viewSize);
            return true;
        };
        if (resizeToPreferredSize(location)) {
            return;
        }
        const [parentLocation, index] = (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_0__.tail2)(location);
        if (resizeToPreferredSize([...parentLocation, index + 1])) {
            return;
        }
        this.gridview.distributeViewSizes(parentLocation);
    }
}
class SerializableGrid extends Grid {
    constructor() {
        super(...arguments);
        this.initialLayoutContext = true;
    }
    static serializeNode(node, orientation) {
        const size = orientation === 0  ? node.box.width : node.box.height;
        if (!isGridBranchNode(node)) {
            const serializedLeafNode = { type: 'leaf', data: node.view.toJSON(), size };
            if (typeof node.cachedVisibleSize === 'number') {
                serializedLeafNode.size = node.cachedVisibleSize;
                serializedLeafNode.visible = false;
            }
            else if (node.maximized) {
                serializedLeafNode.maximized = true;
            }
            return serializedLeafNode;
        }
        const data = ( node.children.map(c => SerializableGrid.serializeNode(c, (0,_gridview_js__WEBPACK_IMPORTED_MODULE_3__.orthogonal)(orientation))));
        if (( data.some(c => c.visible !== false))) {
            return { type: 'branch', data: data, size };
        }
        return { type: 'branch', data: data, size, visible: false };
    }
    static deserialize(json, deserializer, options = {}) {
        if (typeof json.orientation !== 'number') {
            throw ( new Error('Invalid JSON: \'orientation\' property must be a number.'));
        }
        else if (typeof json.width !== 'number') {
            throw ( new Error('Invalid JSON: \'width\' property must be a number.'));
        }
        else if (typeof json.height !== 'number') {
            throw ( new Error('Invalid JSON: \'height\' property must be a number.'));
        }
        const gridview = _gridview_js__WEBPACK_IMPORTED_MODULE_3__.GridView.deserialize(json, deserializer, options);
        const result = ( new SerializableGrid(gridview, options));
        return result;
    }
    static from(gridDescriptor, options = {}) {
        return SerializableGrid.deserialize(createSerializedGrid(gridDescriptor), { fromJSON: view => view }, options);
    }
    serialize() {
        return {
            root: SerializableGrid.serializeNode(this.getViews(), this.orientation),
            orientation: this.orientation,
            width: this.width,
            height: this.height
        };
    }
    layout(width, height, top = 0, left = 0) {
        super.layout(width, height, top, left);
        if (this.initialLayoutContext) {
            this.initialLayoutContext = false;
            this.gridview.trySet2x2();
        }
    }
}
function isGridBranchNodeDescriptor(nodeDescriptor) {
    return !!nodeDescriptor.groups;
}
function sanitizeGridNodeDescriptor(nodeDescriptor, rootNode) {
    if (!rootNode && nodeDescriptor.groups && nodeDescriptor.groups.length <= 1) {
        nodeDescriptor.groups = undefined;
    }
    if (!isGridBranchNodeDescriptor(nodeDescriptor)) {
        return;
    }
    let totalDefinedSize = 0;
    let totalDefinedSizeCount = 0;
    for (const child of nodeDescriptor.groups) {
        sanitizeGridNodeDescriptor(child, false);
        if (child.size) {
            totalDefinedSize += child.size;
            totalDefinedSizeCount++;
        }
    }
    const totalUndefinedSize = totalDefinedSizeCount > 0 ? totalDefinedSize : 1;
    const totalUndefinedSizeCount = nodeDescriptor.groups.length - totalDefinedSizeCount;
    const eachUndefinedSize = totalUndefinedSize / totalUndefinedSizeCount;
    for (const child of nodeDescriptor.groups) {
        if (!child.size) {
            child.size = eachUndefinedSize;
        }
    }
}
function createSerializedNode(nodeDescriptor) {
    if (isGridBranchNodeDescriptor(nodeDescriptor)) {
        return { type: 'branch', data: ( nodeDescriptor.groups.map(c => createSerializedNode(c))), size: nodeDescriptor.size };
    }
    else {
        return { type: 'leaf', data: nodeDescriptor.data, size: nodeDescriptor.size };
    }
}
function getDimensions(node, orientation) {
    if (node.type === 'branch') {
        const childrenDimensions = ( node.data.map(c => getDimensions(c, (0,_gridview_js__WEBPACK_IMPORTED_MODULE_3__.orthogonal)(orientation))));
        if (orientation === 0 ) {
            const width = node.size || (childrenDimensions.length === 0 ? undefined : Math.max(...( childrenDimensions.map(d => d.width || 0))));
            const height = childrenDimensions.length === 0 ? undefined : childrenDimensions.reduce((r, d) => r + (d.height || 0), 0);
            return { width, height };
        }
        else {
            const width = childrenDimensions.length === 0 ? undefined : childrenDimensions.reduce((r, d) => r + (d.width || 0), 0);
            const height = node.size || (childrenDimensions.length === 0 ? undefined : Math.max(...( childrenDimensions.map(d => d.height || 0))));
            return { width, height };
        }
    }
    else {
        const width = orientation === 0  ? node.size : undefined;
        const height = orientation === 0  ? undefined : node.size;
        return { width, height };
    }
}
function createSerializedGrid(gridDescriptor) {
    sanitizeGridNodeDescriptor(gridDescriptor, true);
    const root = createSerializedNode(gridDescriptor);
    const { width, height } = getDimensions(root, gridDescriptor.orientation);
    return {
        root,
        orientation: gridDescriptor.orientation,
        width: width || 1,
        height: height || 1
    };
}




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/base/browser/ui/grid/gridview.css.js":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/base/browser/ui/grid/gridview.css.js ***!
  \*******************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ css),
/* harmony export */   "default": () => (/* binding */ css)
/* harmony export */ });
/* harmony import */ var vscode_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js */ "./node_modules/vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js");


var css = ".monaco-grid-view{overflow:hidden;position:relative}.monaco-grid-branch-node,.monaco-grid-view{height:100%;width:100%}";
(0,vscode_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__["default"])(css,{});




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/base/browser/ui/grid/gridview.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/base/browser/ui/grid/gridview.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GridView: () => (/* binding */ GridView),
/* harmony export */   Sizing: () => (/* reexport safe */ vscode_vscode_vs_base_browser_ui_splitview_splitview__WEBPACK_IMPORTED_MODULE_1__.Sizing),
/* harmony export */   orthogonal: () => (/* binding */ orthogonal)
/* harmony export */ });
/* harmony import */ var vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/dom */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_splitview_splitview__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/splitview/splitview */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/splitview/splitview.js");
/* harmony import */ var vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/common/arrays */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var vscode_vscode_vs_base_common_color__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/common/color */ "./node_modules/vscode/vscode/src/vs/base/common/color.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_base_common_numbers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/base/common/numbers */ "./node_modules/vscode/vscode/src/vs/base/common/numbers.js");
/* harmony import */ var vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/base/common/types */ "./node_modules/vscode/vscode/src/vs/base/common/types.js");
/* harmony import */ var _gridview_css_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./gridview.css.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/base/browser/ui/grid/gridview.css.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_sash_sash__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/sash/sash */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/sash/sash.js");












const defaultStyles = {
    separatorBorder: vscode_vscode_vs_base_common_color__WEBPACK_IMPORTED_MODULE_3__.Color.transparent
};
function orthogonal(orientation) {
    return orientation === 0  ? 1  : 0 ;
}
class LayoutController {
    constructor(isLayoutEnabled) {
        this.isLayoutEnabled = isLayoutEnabled;
    }
}
function toAbsoluteBoundarySashes(sashes, orientation) {
    if (orientation === 1 ) {
        return { left: sashes.start, right: sashes.end, top: sashes.orthogonalStart, bottom: sashes.orthogonalEnd };
    }
    else {
        return { top: sashes.start, bottom: sashes.end, left: sashes.orthogonalStart, right: sashes.orthogonalEnd };
    }
}
function fromAbsoluteBoundarySashes(sashes, orientation) {
    if (orientation === 1 ) {
        return { start: sashes.left, end: sashes.right, orthogonalStart: sashes.top, orthogonalEnd: sashes.bottom };
    }
    else {
        return { start: sashes.top, end: sashes.bottom, orthogonalStart: sashes.left, orthogonalEnd: sashes.right };
    }
}
function validateIndex(index, numChildren) {
    if (Math.abs(index) > numChildren) {
        throw ( new Error('Invalid index'));
    }
    return (0,vscode_vscode_vs_base_common_numbers__WEBPACK_IMPORTED_MODULE_6__.rot)(index, numChildren + 1);
}
class BranchNode {
    get size() { return this._size; }
    get orthogonalSize() { return this._orthogonalSize; }
    get absoluteOffset() { return this._absoluteOffset; }
    get absoluteOrthogonalOffset() { return this._absoluteOrthogonalOffset; }
    get styles() { return this._styles; }
    get width() {
        return this.orientation === 1  ? this.size : this.orthogonalSize;
    }
    get height() {
        return this.orientation === 1  ? this.orthogonalSize : this.size;
    }
    get top() {
        return this.orientation === 1  ? this._absoluteOffset : this._absoluteOrthogonalOffset;
    }
    get left() {
        return this.orientation === 1  ? this._absoluteOrthogonalOffset : this._absoluteOffset;
    }
    get minimumSize() {
        return this.children.length === 0 ? 0 : Math.max(...( this.children.map(
            (c, index) => this.splitview.isViewVisible(index) ? c.minimumOrthogonalSize : 0
        )));
    }
    get maximumSize() {
        return Math.min(...( this.children.map(
            (c, index) => this.splitview.isViewVisible(index) ? c.maximumOrthogonalSize : Number.POSITIVE_INFINITY
        )));
    }
    get priority() {
        if (this.children.length === 0) {
            return 0 ;
        }
        const priorities = ( this.children.map(
            c => typeof c.priority === 'undefined' ? 0  : c.priority
        ));
        if (( priorities.some(p => p === 2 ))) {
            return 2 ;
        }
        else if (( priorities.some(p => p === 1 ))) {
            return 1 ;
        }
        return 0 ;
    }
    get proportionalLayout() {
        if (this.children.length === 0) {
            return true;
        }
        return this.children.every(c => c.proportionalLayout);
    }
    get minimumOrthogonalSize() {
        return this.splitview.minimumSize;
    }
    get maximumOrthogonalSize() {
        return this.splitview.maximumSize;
    }
    get minimumWidth() {
        return this.orientation === 1  ? this.minimumOrthogonalSize : this.minimumSize;
    }
    get minimumHeight() {
        return this.orientation === 1  ? this.minimumSize : this.minimumOrthogonalSize;
    }
    get maximumWidth() {
        return this.orientation === 1  ? this.maximumOrthogonalSize : this.maximumSize;
    }
    get maximumHeight() {
        return this.orientation === 1  ? this.maximumSize : this.maximumOrthogonalSize;
    }
    get boundarySashes() { return this._boundarySashes; }
    set boundarySashes(boundarySashes) {
        if (this._boundarySashes.start === boundarySashes.start
            && this._boundarySashes.end === boundarySashes.end
            && this._boundarySashes.orthogonalStart === boundarySashes.orthogonalStart
            && this._boundarySashes.orthogonalEnd === boundarySashes.orthogonalEnd) {
            return;
        }
        this._boundarySashes = boundarySashes;
        this.splitview.orthogonalStartSash = boundarySashes.orthogonalStart;
        this.splitview.orthogonalEndSash = boundarySashes.orthogonalEnd;
        for (let index = 0; index < this.children.length; index++) {
            const child = this.children[index];
            const first = index === 0;
            const last = index === this.children.length - 1;
            child.boundarySashes = {
                start: boundarySashes.orthogonalStart,
                end: boundarySashes.orthogonalEnd,
                orthogonalStart: first ? boundarySashes.start : child.boundarySashes.orthogonalStart,
                orthogonalEnd: last ? boundarySashes.end : child.boundarySashes.orthogonalEnd,
            };
        }
    }
    get edgeSnapping() { return this._edgeSnapping; }
    set edgeSnapping(edgeSnapping) {
        if (this._edgeSnapping === edgeSnapping) {
            return;
        }
        this._edgeSnapping = edgeSnapping;
        for (const child of this.children) {
            if (child instanceof BranchNode) {
                child.edgeSnapping = edgeSnapping;
            }
        }
        this.updateSplitviewEdgeSnappingEnablement();
    }
    constructor(orientation, layoutController, styles, splitviewProportionalLayout, size = 0, orthogonalSize = 0, edgeSnapping = false, childDescriptors) {
        this.orientation = orientation;
        this.layoutController = layoutController;
        this.splitviewProportionalLayout = splitviewProportionalLayout;
        this.children = [];
        this._absoluteOffset = 0;
        this._absoluteOrthogonalOffset = 0;
        this.absoluteOrthogonalSize = 0;
        this._onDidChange = ( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Emitter());
        this.onDidChange = this._onDidChange.event;
        this._onDidVisibilityChange = ( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Emitter());
        this.onDidVisibilityChange = this._onDidVisibilityChange.event;
        this.childrenVisibilityChangeDisposable = ( new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_5__.DisposableStore());
        this._onDidScroll = ( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Emitter());
        this.onDidScrollDisposable = vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_5__.Disposable.None;
        this.onDidScroll = this._onDidScroll.event;
        this.childrenChangeDisposable = vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_5__.Disposable.None;
        this._onDidSashReset = ( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Emitter());
        this.onDidSashReset = this._onDidSashReset.event;
        this.splitviewSashResetDisposable = vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_5__.Disposable.None;
        this.childrenSashResetDisposable = vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_5__.Disposable.None;
        this._boundarySashes = {};
        this._edgeSnapping = false;
        this._styles = styles;
        this._size = size;
        this._orthogonalSize = orthogonalSize;
        this.element = (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_0__.$)('.monaco-grid-branch-node');
        if (!childDescriptors) {
            this.splitview = ( new vscode_vscode_vs_base_browser_ui_splitview_splitview__WEBPACK_IMPORTED_MODULE_1__.SplitView(
                this.element,
                { orientation, styles, proportionalLayout: splitviewProportionalLayout }
            ));
            this.splitview.layout(size, { orthogonalSize, absoluteOffset: 0, absoluteOrthogonalOffset: 0, absoluteSize: size, absoluteOrthogonalSize: orthogonalSize });
        }
        else {
            const descriptor = {
                views: ( childDescriptors.map(childDescriptor => {
                    return {
                        view: childDescriptor.node,
                        size: childDescriptor.node.size,
                        visible: childDescriptor.visible !== false
                    };
                })),
                size: this.orthogonalSize
            };
            const options = { proportionalLayout: splitviewProportionalLayout, orientation, styles };
            this.children = ( childDescriptors.map(c => c.node));
            this.splitview = ( new vscode_vscode_vs_base_browser_ui_splitview_splitview__WEBPACK_IMPORTED_MODULE_1__.SplitView(this.element, { ...options, descriptor }));
            this.children.forEach((node, index) => {
                const first = index === 0;
                const last = index === this.children.length;
                node.boundarySashes = {
                    start: this.boundarySashes.orthogonalStart,
                    end: this.boundarySashes.orthogonalEnd,
                    orthogonalStart: first ? this.boundarySashes.start : this.splitview.sashes[index - 1],
                    orthogonalEnd: last ? this.boundarySashes.end : this.splitview.sashes[index],
                };
            });
        }
        const onDidSashReset = ( vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Event.map(this.splitview.onDidSashReset, i => [i]));
        this.splitviewSashResetDisposable = onDidSashReset(this._onDidSashReset.fire, this._onDidSashReset);
        this.updateChildrenEvents();
    }
    style(styles) {
        this._styles = styles;
        this.splitview.style(styles);
        for (const child of this.children) {
            if (child instanceof BranchNode) {
                child.style(styles);
            }
        }
    }
    layout(size, offset, ctx) {
        if (!this.layoutController.isLayoutEnabled) {
            return;
        }
        if (typeof ctx === 'undefined') {
            throw ( new Error('Invalid state'));
        }
        this._size = ctx.orthogonalSize;
        this._orthogonalSize = size;
        this._absoluteOffset = ctx.absoluteOffset + offset;
        this._absoluteOrthogonalOffset = ctx.absoluteOrthogonalOffset;
        this.absoluteOrthogonalSize = ctx.absoluteOrthogonalSize;
        this.splitview.layout(ctx.orthogonalSize, {
            orthogonalSize: size,
            absoluteOffset: this._absoluteOrthogonalOffset,
            absoluteOrthogonalOffset: this._absoluteOffset,
            absoluteSize: ctx.absoluteOrthogonalSize,
            absoluteOrthogonalSize: ctx.absoluteSize
        });
        this.updateSplitviewEdgeSnappingEnablement();
    }
    setVisible(visible) {
        for (const child of this.children) {
            child.setVisible(visible);
        }
    }
    addChild(node, size, index, skipLayout) {
        index = validateIndex(index, this.children.length);
        this.splitview.addView(node, size, index, skipLayout);
        this.children.splice(index, 0, node);
        this.updateBoundarySashes();
        this.onDidChildrenChange();
    }
    removeChild(index, sizing) {
        index = validateIndex(index, this.children.length);
        const result = this.splitview.removeView(index, sizing);
        this.children.splice(index, 1);
        this.updateBoundarySashes();
        this.onDidChildrenChange();
        return result;
    }
    removeAllChildren() {
        const result = this.splitview.removeAllViews();
        this.children.splice(0, this.children.length);
        this.updateBoundarySashes();
        this.onDidChildrenChange();
        return result;
    }
    moveChild(from, to) {
        from = validateIndex(from, this.children.length);
        to = validateIndex(to, this.children.length);
        if (from === to) {
            return;
        }
        if (from < to) {
            to -= 1;
        }
        this.splitview.moveView(from, to);
        this.children.splice(to, 0, this.children.splice(from, 1)[0]);
        this.updateBoundarySashes();
        this.onDidChildrenChange();
    }
    swapChildren(from, to) {
        from = validateIndex(from, this.children.length);
        to = validateIndex(to, this.children.length);
        if (from === to) {
            return;
        }
        this.splitview.swapViews(from, to);
        [this.children[from].boundarySashes, this.children[to].boundarySashes]
            = [this.children[from].boundarySashes, this.children[to].boundarySashes];
        [this.children[from], this.children[to]] = [this.children[to], this.children[from]];
        this.onDidChildrenChange();
    }
    resizeChild(index, size) {
        index = validateIndex(index, this.children.length);
        this.splitview.resizeView(index, size);
    }
    isChildExpanded(index) {
        return this.splitview.isViewExpanded(index);
    }
    distributeViewSizes(recursive = false) {
        this.splitview.distributeViewSizes();
        if (recursive) {
            for (const child of this.children) {
                if (child instanceof BranchNode) {
                    child.distributeViewSizes(true);
                }
            }
        }
    }
    getChildSize(index) {
        index = validateIndex(index, this.children.length);
        return this.splitview.getViewSize(index);
    }
    isChildVisible(index) {
        index = validateIndex(index, this.children.length);
        return this.splitview.isViewVisible(index);
    }
    setChildVisible(index, visible) {
        index = validateIndex(index, this.children.length);
        if (this.splitview.isViewVisible(index) === visible) {
            return;
        }
        const wereAllChildrenHidden = this.splitview.contentSize === 0;
        this.splitview.setViewVisible(index, visible);
        const areAllChildrenHidden = this.splitview.contentSize === 0;
        if ((visible && wereAllChildrenHidden) || (!visible && areAllChildrenHidden)) {
            this._onDidVisibilityChange.fire(visible);
        }
    }
    getChildCachedVisibleSize(index) {
        index = validateIndex(index, this.children.length);
        return this.splitview.getViewCachedVisibleSize(index);
    }
    updateBoundarySashes() {
        for (let i = 0; i < this.children.length; i++) {
            this.children[i].boundarySashes = {
                start: this.boundarySashes.orthogonalStart,
                end: this.boundarySashes.orthogonalEnd,
                orthogonalStart: i === 0 ? this.boundarySashes.start : this.splitview.sashes[i - 1],
                orthogonalEnd: i === this.children.length - 1 ? this.boundarySashes.end : this.splitview.sashes[i],
            };
        }
    }
    onDidChildrenChange() {
        this.updateChildrenEvents();
        this._onDidChange.fire(undefined);
    }
    updateChildrenEvents() {
        const onDidChildrenChange = ( vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Event.map(vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Event.any(...( this.children.map(c => c.onDidChange))), () => undefined));
        this.childrenChangeDisposable.dispose();
        this.childrenChangeDisposable = onDidChildrenChange(this._onDidChange.fire, this._onDidChange);
        const onDidChildrenSashReset = vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Event.any(...( this.children.map((c, i) => ( vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Event.map(c.onDidSashReset, location => [i, ...location])))));
        this.childrenSashResetDisposable.dispose();
        this.childrenSashResetDisposable = onDidChildrenSashReset(this._onDidSashReset.fire, this._onDidSashReset);
        const onDidScroll = vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Event.any(vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Event.signal(this.splitview.onDidScroll), ...( this.children.map(c => c.onDidScroll)));
        this.onDidScrollDisposable.dispose();
        this.onDidScrollDisposable = onDidScroll(this._onDidScroll.fire, this._onDidScroll);
        this.childrenVisibilityChangeDisposable.clear();
        this.children.forEach((child, index) => {
            if (child instanceof BranchNode) {
                this.childrenVisibilityChangeDisposable.add(child.onDidVisibilityChange((visible) => {
                    this.setChildVisible(index, visible);
                }));
            }
        });
    }
    trySet2x2(other) {
        if (this.children.length !== 2 || other.children.length !== 2) {
            return vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_5__.Disposable.None;
        }
        if (this.getChildSize(0) !== other.getChildSize(0)) {
            return vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_5__.Disposable.None;
        }
        const [firstChild, secondChild] = this.children;
        const [otherFirstChild, otherSecondChild] = other.children;
        if (!(firstChild instanceof LeafNode) || !(secondChild instanceof LeafNode)) {
            return vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_5__.Disposable.None;
        }
        if (!(otherFirstChild instanceof LeafNode) || !(otherSecondChild instanceof LeafNode)) {
            return vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_5__.Disposable.None;
        }
        if (this.orientation === 0 ) {
            secondChild.linkedWidthNode = otherFirstChild.linkedHeightNode = firstChild;
            firstChild.linkedWidthNode = otherSecondChild.linkedHeightNode = secondChild;
            otherSecondChild.linkedWidthNode = firstChild.linkedHeightNode = otherFirstChild;
            otherFirstChild.linkedWidthNode = secondChild.linkedHeightNode = otherSecondChild;
        }
        else {
            otherFirstChild.linkedWidthNode = secondChild.linkedHeightNode = firstChild;
            otherSecondChild.linkedWidthNode = firstChild.linkedHeightNode = secondChild;
            firstChild.linkedWidthNode = otherSecondChild.linkedHeightNode = otherFirstChild;
            secondChild.linkedWidthNode = otherFirstChild.linkedHeightNode = otherSecondChild;
        }
        const mySash = this.splitview.sashes[0];
        const otherSash = other.splitview.sashes[0];
        mySash.linkedSash = otherSash;
        otherSash.linkedSash = mySash;
        this._onDidChange.fire(undefined);
        other._onDidChange.fire(undefined);
        return (0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_5__.toDisposable)(() => {
            mySash.linkedSash = otherSash.linkedSash = undefined;
            firstChild.linkedHeightNode = firstChild.linkedWidthNode = undefined;
            secondChild.linkedHeightNode = secondChild.linkedWidthNode = undefined;
            otherFirstChild.linkedHeightNode = otherFirstChild.linkedWidthNode = undefined;
            otherSecondChild.linkedHeightNode = otherSecondChild.linkedWidthNode = undefined;
        });
    }
    updateSplitviewEdgeSnappingEnablement() {
        this.splitview.startSnappingEnabled = this._edgeSnapping || this._absoluteOrthogonalOffset > 0;
        this.splitview.endSnappingEnabled = this._edgeSnapping || this._absoluteOrthogonalOffset + this._size < this.absoluteOrthogonalSize;
    }
    dispose() {
        for (const child of this.children) {
            child.dispose();
        }
        this._onDidChange.dispose();
        this._onDidSashReset.dispose();
        this._onDidVisibilityChange.dispose();
        this.childrenVisibilityChangeDisposable.dispose();
        this.splitviewSashResetDisposable.dispose();
        this.childrenSashResetDisposable.dispose();
        this.childrenChangeDisposable.dispose();
        this.onDidScrollDisposable.dispose();
        this.splitview.dispose();
    }
}
function createLatchedOnDidChangeViewEvent(view) {
    const [onDidChangeViewConstraints, onDidSetViewSize] = vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Event.split(view.onDidChange, vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_7__.isUndefined);
    return vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Event.any(onDidSetViewSize, ( vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Event.map(vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Event.latch(( vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Event.map(
        onDidChangeViewConstraints,
        _ => ([view.minimumWidth, view.maximumWidth, view.minimumHeight, view.maximumHeight])
    )), vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_2__.equals), _ => undefined)));
}
class LeafNode {
    get size() { return this._size; }
    get orthogonalSize() { return this._orthogonalSize; }
    get linkedWidthNode() { return this._linkedWidthNode; }
    set linkedWidthNode(node) {
        this._onDidLinkedWidthNodeChange.input = node ? node._onDidViewChange : vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Event.None;
        this._linkedWidthNode = node;
        this._onDidSetLinkedNode.fire(undefined);
    }
    get linkedHeightNode() { return this._linkedHeightNode; }
    set linkedHeightNode(node) {
        this._onDidLinkedHeightNodeChange.input = node ? node._onDidViewChange : vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Event.None;
        this._linkedHeightNode = node;
        this._onDidSetLinkedNode.fire(undefined);
    }
    constructor(view, orientation, layoutController, orthogonalSize, size = 0) {
        this.view = view;
        this.orientation = orientation;
        this.layoutController = layoutController;
        this._size = 0;
        this.absoluteOffset = 0;
        this.absoluteOrthogonalOffset = 0;
        this.onDidScroll = vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Event.None;
        this.onDidSashReset = vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Event.None;
        this._onDidLinkedWidthNodeChange = ( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Relay());
        this._linkedWidthNode = undefined;
        this._onDidLinkedHeightNodeChange = ( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Relay());
        this._linkedHeightNode = undefined;
        this._onDidSetLinkedNode = ( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Emitter());
        this.disposables = ( new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_5__.DisposableStore());
        this._boundarySashes = {};
        this.cachedWidth = 0;
        this.cachedHeight = 0;
        this.cachedTop = 0;
        this.cachedLeft = 0;
        this._orthogonalSize = orthogonalSize;
        this._size = size;
        const onDidChange = createLatchedOnDidChangeViewEvent(view);
        this._onDidViewChange = ( vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Event.map(
            onDidChange,
            e => e && (this.orientation === 0  ? e.width : e.height),
            this.disposables
        ));
        this.onDidChange = vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Event.any(this._onDidViewChange, this._onDidSetLinkedNode.event, this._onDidLinkedWidthNodeChange.event, this._onDidLinkedHeightNodeChange.event);
    }
    get width() {
        return this.orientation === 1  ? this.orthogonalSize : this.size;
    }
    get height() {
        return this.orientation === 1  ? this.size : this.orthogonalSize;
    }
    get top() {
        return this.orientation === 1  ? this.absoluteOffset : this.absoluteOrthogonalOffset;
    }
    get left() {
        return this.orientation === 1  ? this.absoluteOrthogonalOffset : this.absoluteOffset;
    }
    get element() {
        return this.view.element;
    }
    get minimumWidth() {
        return this.linkedWidthNode ? Math.max(this.linkedWidthNode.view.minimumWidth, this.view.minimumWidth) : this.view.minimumWidth;
    }
    get maximumWidth() {
        return this.linkedWidthNode ? Math.min(this.linkedWidthNode.view.maximumWidth, this.view.maximumWidth) : this.view.maximumWidth;
    }
    get minimumHeight() {
        return this.linkedHeightNode ? Math.max(this.linkedHeightNode.view.minimumHeight, this.view.minimumHeight) : this.view.minimumHeight;
    }
    get maximumHeight() {
        return this.linkedHeightNode ? Math.min(this.linkedHeightNode.view.maximumHeight, this.view.maximumHeight) : this.view.maximumHeight;
    }
    get minimumSize() {
        return this.orientation === 1  ? this.minimumHeight : this.minimumWidth;
    }
    get maximumSize() {
        return this.orientation === 1  ? this.maximumHeight : this.maximumWidth;
    }
    get priority() {
        return this.view.priority;
    }
    get proportionalLayout() {
        return this.view.proportionalLayout ?? true;
    }
    get snap() {
        return this.view.snap;
    }
    get minimumOrthogonalSize() {
        return this.orientation === 1  ? this.minimumWidth : this.minimumHeight;
    }
    get maximumOrthogonalSize() {
        return this.orientation === 1  ? this.maximumWidth : this.maximumHeight;
    }
    get boundarySashes() { return this._boundarySashes; }
    set boundarySashes(boundarySashes) {
        this._boundarySashes = boundarySashes;
        this.view.setBoundarySashes?.(toAbsoluteBoundarySashes(boundarySashes, this.orientation));
    }
    layout(size, offset, ctx) {
        if (!this.layoutController.isLayoutEnabled) {
            return;
        }
        if (typeof ctx === 'undefined') {
            throw ( new Error('Invalid state'));
        }
        this._size = size;
        this._orthogonalSize = ctx.orthogonalSize;
        this.absoluteOffset = ctx.absoluteOffset + offset;
        this.absoluteOrthogonalOffset = ctx.absoluteOrthogonalOffset;
        this._layout(this.width, this.height, this.top, this.left);
    }
    _layout(width, height, top, left) {
        if (this.cachedWidth === width && this.cachedHeight === height && this.cachedTop === top && this.cachedLeft === left) {
            return;
        }
        this.cachedWidth = width;
        this.cachedHeight = height;
        this.cachedTop = top;
        this.cachedLeft = left;
        this.view.layout(width, height, top, left);
    }
    setVisible(visible) {
        this.view.setVisible?.(visible);
    }
    dispose() {
        this.disposables.dispose();
    }
}
function flipNode(node, size, orthogonalSize) {
    if (node instanceof BranchNode) {
        const result = ( new BranchNode(
            orthogonal(node.orientation),
            node.layoutController,
            node.styles,
            node.splitviewProportionalLayout,
            size,
            orthogonalSize,
            node.edgeSnapping
        ));
        let totalSize = 0;
        for (let i = node.children.length - 1; i >= 0; i--) {
            const child = node.children[i];
            const childSize = child instanceof BranchNode ? child.orthogonalSize : child.size;
            let newSize = node.size === 0 ? 0 : Math.round((size * childSize) / node.size);
            totalSize += newSize;
            if (i === 0) {
                newSize += size - totalSize;
            }
            result.addChild(flipNode(child, orthogonalSize, newSize), newSize, 0, true);
        }
        node.dispose();
        return result;
    }
    else {
        const result = ( new LeafNode(
            node.view,
            orthogonal(node.orientation),
            node.layoutController,
            orthogonalSize
        ));
        node.dispose();
        return result;
    }
}
class GridView {
    get root() { return this._root; }
    set root(root) {
        const oldRoot = this._root;
        if (oldRoot) {
            oldRoot.element.remove();
            oldRoot.dispose();
        }
        this._root = root;
        this.element.appendChild(root.element);
        this.onDidSashResetRelay.input = root.onDidSashReset;
        this._onDidChange.input = ( vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Event.map(root.onDidChange, () => undefined));
        this._onDidScroll.input = root.onDidScroll;
    }
    get width() { return this.root.width; }
    get height() { return this.root.height; }
    get minimumWidth() { return this.root.minimumWidth; }
    get minimumHeight() { return this.root.minimumHeight; }
    get maximumWidth() { return this.root.maximumHeight; }
    get maximumHeight() { return this.root.maximumHeight; }
    get orientation() { return this._root.orientation; }
    get boundarySashes() { return this._boundarySashes; }
    set orientation(orientation) {
        if (this._root.orientation === orientation) {
            return;
        }
        const { size, orthogonalSize, absoluteOffset, absoluteOrthogonalOffset } = this._root;
        this.root = flipNode(this._root, orthogonalSize, size);
        this.root.layout(size, 0, { orthogonalSize, absoluteOffset: absoluteOrthogonalOffset, absoluteOrthogonalOffset: absoluteOffset, absoluteSize: size, absoluteOrthogonalSize: orthogonalSize });
        this.boundarySashes = this.boundarySashes;
    }
    set boundarySashes(boundarySashes) {
        this._boundarySashes = boundarySashes;
        this.root.boundarySashes = fromAbsoluteBoundarySashes(boundarySashes, this.orientation);
    }
    set edgeSnapping(edgeSnapping) {
        this.root.edgeSnapping = edgeSnapping;
    }
    constructor(options = {}) {
        this.onDidSashResetRelay = ( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Relay());
        this._onDidScroll = ( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Relay());
        this._onDidChange = ( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Relay());
        this._boundarySashes = {};
        this.disposable2x2 = vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_5__.Disposable.None;
        this.onDidSashReset = this.onDidSashResetRelay.event;
        this.onDidScroll = this._onDidScroll.event;
        this.onDidChange = this._onDidChange.event;
        this.maximizedNode = undefined;
        this._onDidChangeViewMaximized = ( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Emitter());
        this.onDidChangeViewMaximized = this._onDidChangeViewMaximized.event;
        this.element = (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_0__.$)('.monaco-grid-view');
        this.styles = options.styles || defaultStyles;
        this.proportionalLayout = typeof options.proportionalLayout !== 'undefined' ? !!options.proportionalLayout : true;
        this.layoutController = ( new LayoutController(false));
        this.root = ( new BranchNode(
            0 ,
            this.layoutController,
            this.styles,
            this.proportionalLayout
        ));
    }
    style(styles) {
        this.styles = styles;
        this.root.style(styles);
    }
    layout(width, height, top = 0, left = 0) {
        this.layoutController.isLayoutEnabled = true;
        const [size, orthogonalSize, offset, orthogonalOffset] = this.root.orientation === 1  ? [height, width, top, left] : [width, height, left, top];
        this.root.layout(size, 0, { orthogonalSize, absoluteOffset: offset, absoluteOrthogonalOffset: orthogonalOffset, absoluteSize: size, absoluteOrthogonalSize: orthogonalSize });
    }
    addView(view, size, location) {
        if (this.hasMaximizedView()) {
            this.exitMaximizedView();
        }
        this.disposable2x2.dispose();
        this.disposable2x2 = vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_5__.Disposable.None;
        const [rest, index] = (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_2__.tail2)(location);
        const [pathToParent, parent] = this.getNode(rest);
        if (parent instanceof BranchNode) {
            const node = ( new LeafNode(
                view,
                orthogonal(parent.orientation),
                this.layoutController,
                parent.orthogonalSize
            ));
            try {
                parent.addChild(node, size, index);
            }
            catch (err) {
                node.dispose();
                throw err;
            }
        }
        else {
            const [, grandParent] = (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_2__.tail2)(pathToParent);
            const [, parentIndex] = (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_2__.tail2)(rest);
            let newSiblingSize = 0;
            const newSiblingCachedVisibleSize = grandParent.getChildCachedVisibleSize(parentIndex);
            if (typeof newSiblingCachedVisibleSize === 'number') {
                newSiblingSize = vscode_vscode_vs_base_browser_ui_splitview_splitview__WEBPACK_IMPORTED_MODULE_1__.Sizing.Invisible(newSiblingCachedVisibleSize);
            }
            const oldChild = grandParent.removeChild(parentIndex);
            oldChild.dispose();
            const newParent = ( new BranchNode(
                parent.orientation,
                parent.layoutController,
                this.styles,
                this.proportionalLayout,
                parent.size,
                parent.orthogonalSize,
                grandParent.edgeSnapping
            ));
            grandParent.addChild(newParent, parent.size, parentIndex);
            const newSibling = ( new LeafNode(parent.view, grandParent.orientation, this.layoutController, parent.size));
            newParent.addChild(newSibling, newSiblingSize, 0);
            if (typeof size !== 'number' && size.type === 'split') {
                size = vscode_vscode_vs_base_browser_ui_splitview_splitview__WEBPACK_IMPORTED_MODULE_1__.Sizing.Split(0);
            }
            const node = ( new LeafNode(view, grandParent.orientation, this.layoutController, parent.size));
            newParent.addChild(node, size, index);
        }
        this.trySet2x2();
    }
    removeView(location, sizing) {
        if (this.hasMaximizedView()) {
            this.exitMaximizedView();
        }
        this.disposable2x2.dispose();
        this.disposable2x2 = vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_5__.Disposable.None;
        const [rest, index] = (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_2__.tail2)(location);
        const [pathToParent, parent] = this.getNode(rest);
        if (!(parent instanceof BranchNode)) {
            throw ( new Error('Invalid location'));
        }
        const node = parent.children[index];
        if (!(node instanceof LeafNode)) {
            throw ( new Error('Invalid location'));
        }
        parent.removeChild(index, sizing);
        node.dispose();
        if (parent.children.length === 0) {
            throw ( new Error('Invalid grid state'));
        }
        if (parent.children.length > 1) {
            this.trySet2x2();
            return node.view;
        }
        if (pathToParent.length === 0) {
            const sibling = parent.children[0];
            if (sibling instanceof LeafNode) {
                return node.view;
            }
            parent.removeChild(0);
            parent.dispose();
            this.root = sibling;
            this.boundarySashes = this.boundarySashes;
            this.trySet2x2();
            return node.view;
        }
        const [, grandParent] = (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_2__.tail2)(pathToParent);
        const [, parentIndex] = (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_2__.tail2)(rest);
        const isSiblingVisible = parent.isChildVisible(0);
        const sibling = parent.removeChild(0);
        const sizes = ( grandParent.children.map((_, i) => grandParent.getChildSize(i)));
        grandParent.removeChild(parentIndex, sizing);
        parent.dispose();
        if (sibling instanceof BranchNode) {
            sizes.splice(parentIndex, 1, ...( sibling.children.map(c => c.size)));
            const siblingChildren = sibling.removeAllChildren();
            for (let i = 0; i < siblingChildren.length; i++) {
                grandParent.addChild(siblingChildren[i], siblingChildren[i].size, parentIndex + i);
            }
        }
        else {
            const newSibling = ( new LeafNode(
                sibling.view,
                orthogonal(sibling.orientation),
                this.layoutController,
                sibling.size
            ));
            const sizing = isSiblingVisible ? sibling.orthogonalSize : vscode_vscode_vs_base_browser_ui_splitview_splitview__WEBPACK_IMPORTED_MODULE_1__.Sizing.Invisible(sibling.orthogonalSize);
            grandParent.addChild(newSibling, sizing, parentIndex);
        }
        sibling.dispose();
        for (let i = 0; i < sizes.length; i++) {
            grandParent.resizeChild(i, sizes[i]);
        }
        this.trySet2x2();
        return node.view;
    }
    moveView(parentLocation, from, to) {
        if (this.hasMaximizedView()) {
            this.exitMaximizedView();
        }
        const [, parent] = this.getNode(parentLocation);
        if (!(parent instanceof BranchNode)) {
            throw ( new Error('Invalid location'));
        }
        parent.moveChild(from, to);
        this.trySet2x2();
    }
    swapViews(from, to) {
        if (this.hasMaximizedView()) {
            this.exitMaximizedView();
        }
        const [fromRest, fromIndex] = (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_2__.tail2)(from);
        const [, fromParent] = this.getNode(fromRest);
        if (!(fromParent instanceof BranchNode)) {
            throw ( new Error('Invalid from location'));
        }
        const fromSize = fromParent.getChildSize(fromIndex);
        const fromNode = fromParent.children[fromIndex];
        if (!(fromNode instanceof LeafNode)) {
            throw ( new Error('Invalid from location'));
        }
        const [toRest, toIndex] = (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_2__.tail2)(to);
        const [, toParent] = this.getNode(toRest);
        if (!(toParent instanceof BranchNode)) {
            throw ( new Error('Invalid to location'));
        }
        const toSize = toParent.getChildSize(toIndex);
        const toNode = toParent.children[toIndex];
        if (!(toNode instanceof LeafNode)) {
            throw ( new Error('Invalid to location'));
        }
        if (fromParent === toParent) {
            fromParent.swapChildren(fromIndex, toIndex);
        }
        else {
            fromParent.removeChild(fromIndex);
            toParent.removeChild(toIndex);
            fromParent.addChild(toNode, fromSize, fromIndex);
            toParent.addChild(fromNode, toSize, toIndex);
        }
        this.trySet2x2();
    }
    resizeView(location, size) {
        if (this.hasMaximizedView()) {
            this.exitMaximizedView();
        }
        const [rest, index] = (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_2__.tail2)(location);
        const [pathToParent, parent] = this.getNode(rest);
        if (!(parent instanceof BranchNode)) {
            throw ( new Error('Invalid location'));
        }
        if (!size.width && !size.height) {
            return;
        }
        const [parentSize, grandParentSize] = parent.orientation === 1  ? [size.width, size.height] : [size.height, size.width];
        if (typeof grandParentSize === 'number' && pathToParent.length > 0) {
            const [, grandParent] = (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_2__.tail2)(pathToParent);
            const [, parentIndex] = (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_2__.tail2)(rest);
            grandParent.resizeChild(parentIndex, grandParentSize);
        }
        if (typeof parentSize === 'number') {
            parent.resizeChild(index, parentSize);
        }
        this.trySet2x2();
    }
    getViewSize(location) {
        if (!location) {
            return { width: this.root.width, height: this.root.height };
        }
        const [, node] = this.getNode(location);
        return { width: node.width, height: node.height };
    }
    getViewCachedVisibleSize(location) {
        const [rest, index] = (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_2__.tail2)(location);
        const [, parent] = this.getNode(rest);
        if (!(parent instanceof BranchNode)) {
            throw ( new Error('Invalid location'));
        }
        return parent.getChildCachedVisibleSize(index);
    }
    expandView(location) {
        if (this.hasMaximizedView()) {
            this.exitMaximizedView();
        }
        const [ancestors, node] = this.getNode(location);
        if (!(node instanceof LeafNode)) {
            throw ( new Error('Invalid location'));
        }
        for (let i = 0; i < ancestors.length; i++) {
            ancestors[i].resizeChild(location[i], Number.POSITIVE_INFINITY);
        }
    }
    isViewExpanded(location) {
        if (this.hasMaximizedView()) {
            return false;
        }
        const [ancestors, node] = this.getNode(location);
        if (!(node instanceof LeafNode)) {
            throw ( new Error('Invalid location'));
        }
        for (let i = 0; i < ancestors.length; i++) {
            if (!ancestors[i].isChildExpanded(location[i])) {
                return false;
            }
        }
        return true;
    }
    maximizeView(location) {
        const [, nodeToMaximize] = this.getNode(location);
        if (!(nodeToMaximize instanceof LeafNode)) {
            throw ( new Error('Location is not a LeafNode'));
        }
        if (this.maximizedNode === nodeToMaximize) {
            return;
        }
        if (this.hasMaximizedView()) {
            this.exitMaximizedView();
        }
        function hideAllViewsBut(parent, exclude) {
            for (let i = 0; i < parent.children.length; i++) {
                const child = parent.children[i];
                if (child instanceof LeafNode) {
                    if (child !== exclude) {
                        parent.setChildVisible(i, false);
                    }
                }
                else {
                    hideAllViewsBut(child, exclude);
                }
            }
        }
        hideAllViewsBut(this.root, nodeToMaximize);
        this.maximizedNode = nodeToMaximize;
        this._onDidChangeViewMaximized.fire(true);
    }
    exitMaximizedView() {
        if (!this.maximizedNode) {
            return;
        }
        this.maximizedNode = undefined;
        function showViewsInReverseOrder(parent) {
            for (let index = parent.children.length - 1; index >= 0; index--) {
                const child = parent.children[index];
                if (child instanceof LeafNode) {
                    parent.setChildVisible(index, true);
                }
                else {
                    showViewsInReverseOrder(child);
                }
            }
        }
        showViewsInReverseOrder(this.root);
        this._onDidChangeViewMaximized.fire(false);
    }
    hasMaximizedView() {
        return this.maximizedNode !== undefined;
    }
    isViewMaximized(location) {
        const [, node] = this.getNode(location);
        if (!(node instanceof LeafNode)) {
            throw ( new Error('Location is not a LeafNode'));
        }
        return node === this.maximizedNode;
    }
    distributeViewSizes(location) {
        if (this.hasMaximizedView()) {
            this.exitMaximizedView();
        }
        if (!location) {
            this.root.distributeViewSizes(true);
            return;
        }
        const [, node] = this.getNode(location);
        if (!(node instanceof BranchNode)) {
            throw ( new Error('Invalid location'));
        }
        node.distributeViewSizes();
        this.trySet2x2();
    }
    isViewVisible(location) {
        const [rest, index] = (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_2__.tail2)(location);
        const [, parent] = this.getNode(rest);
        if (!(parent instanceof BranchNode)) {
            throw ( new Error('Invalid from location'));
        }
        return parent.isChildVisible(index);
    }
    setViewVisible(location, visible) {
        if (this.hasMaximizedView()) {
            this.exitMaximizedView();
            return;
        }
        const [rest, index] = (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_2__.tail2)(location);
        const [, parent] = this.getNode(rest);
        if (!(parent instanceof BranchNode)) {
            throw ( new Error('Invalid from location'));
        }
        parent.setChildVisible(index, visible);
    }
    getView(location) {
        const node = location ? this.getNode(location)[1] : this._root;
        return this._getViews(node, this.orientation);
    }
    static deserialize(json, deserializer, options = {}) {
        if (typeof json.orientation !== 'number') {
            throw ( new Error('Invalid JSON: \'orientation\' property must be a number.'));
        }
        else if (typeof json.width !== 'number') {
            throw ( new Error('Invalid JSON: \'width\' property must be a number.'));
        }
        else if (typeof json.height !== 'number') {
            throw ( new Error('Invalid JSON: \'height\' property must be a number.'));
        }
        else if (json.root?.type !== 'branch') {
            throw ( new Error('Invalid JSON: \'root\' property must have \'type\' value of branch.'));
        }
        const orientation = json.orientation;
        const height = json.height;
        const result = ( new GridView(options));
        result._deserialize(json.root, orientation, deserializer, height);
        return result;
    }
    _deserialize(root, orientation, deserializer, orthogonalSize) {
        this.root = this._deserializeNode(root, orientation, deserializer, orthogonalSize);
    }
    _deserializeNode(node, orientation, deserializer, orthogonalSize) {
        let result;
        if (node.type === 'branch') {
            const serializedChildren = node.data;
            const children = ( serializedChildren.map(serializedChild => {
                return {
                    node: this._deserializeNode(serializedChild, orthogonal(orientation), deserializer, node.size),
                    visible: serializedChild.visible
                };
            }));
            result = ( new BranchNode(
                orientation,
                this.layoutController,
                this.styles,
                this.proportionalLayout,
                node.size,
                orthogonalSize,
                undefined,
                children
            ));
        }
        else {
            result = ( new LeafNode(
                deserializer.fromJSON(node.data),
                orientation,
                this.layoutController,
                orthogonalSize,
                node.size
            ));
            if (node.maximized && !this.maximizedNode) {
                this.maximizedNode = result;
                this._onDidChangeViewMaximized.fire(true);
            }
        }
        return result;
    }
    _getViews(node, orientation, cachedVisibleSize) {
        const box = { top: node.top, left: node.left, width: node.width, height: node.height };
        if (node instanceof LeafNode) {
            return { view: node.view, box, cachedVisibleSize, maximized: this.maximizedNode === node };
        }
        const children = [];
        for (let i = 0; i < node.children.length; i++) {
            const child = node.children[i];
            const cachedVisibleSize = node.getChildCachedVisibleSize(i);
            children.push(this._getViews(child, orthogonal(orientation), cachedVisibleSize));
        }
        return { children, box };
    }
    getNode(location, node = this.root, path = []) {
        if (location.length === 0) {
            return [path, node];
        }
        if (!(node instanceof BranchNode)) {
            throw ( new Error('Invalid location'));
        }
        const [index, ...rest] = location;
        if (index < 0 || index >= node.children.length) {
            throw ( new Error('Invalid location'));
        }
        const child = node.children[index];
        path.push(node);
        return this.getNode(rest, child, path);
    }
    trySet2x2() {
        this.disposable2x2.dispose();
        this.disposable2x2 = vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_5__.Disposable.None;
        if (this.root.children.length !== 2) {
            return;
        }
        const [first, second] = this.root.children;
        if (!(first instanceof BranchNode) || !(second instanceof BranchNode)) {
            return;
        }
        this.disposable2x2 = first.trySet2x2(second);
    }
    getViewMap(map, node) {
        if (!node) {
            node = this.root;
        }
        if (node instanceof BranchNode) {
            node.children.forEach(child => this.getViewMap(map, child));
        }
        else {
            map.set(node.view, node.element);
        }
    }
    dispose() {
        this.onDidSashResetRelay.dispose();
        this.root.dispose();
        this.element.remove();
    }
}




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/platform/actions/browser/actionViewItemService.js":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/platform/actions/browser/actionViewItemService.js ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ActionViewItemService: () => (/* binding */ ActionViewItemService)
/* harmony export */ });
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");




class ActionViewItemService {
    constructor() {
        this._providers = ( new Map());
        this._onDidChange = ( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_0__.Emitter());
        this.onDidChange = this._onDidChange.event;
    }
    dispose() {
        this._onDidChange.dispose();
    }
    register(menu, commandId, provider, event) {
        const id = this._makeKey(menu, commandId);
        if (( this._providers.has(id))) {
            throw ( new Error(
                `A provider for the command ${commandId} and menu ${menu} is already registered.`
            ));
        }
        this._providers.set(id, provider);
        const listener = event?.(() => {
            this._onDidChange.fire(menu);
        });
        return (0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_1__.toDisposable)(() => {
            listener?.dispose();
            this._providers.delete(id);
        });
    }
    lookUp(menu, commandId) {
        return this._providers.get(this._makeKey(menu, commandId));
    }
    _makeKey(menu, commandId) {
        return menu.id + commandId;
    }
}




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/platform/webview/common/mimeTypes.js":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/platform/webview/common/mimeTypes.js ***!
  \*******************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getWebviewContentMimeType: () => (/* binding */ getWebviewContentMimeType)
/* harmony export */ });
/* harmony import */ var vscode_vscode_vs_base_common_mime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/base/common/mime */ "./node_modules/vscode/vscode/src/vs/base/common/mime.js");
/* harmony import */ var vscode_vscode_vs_base_common_path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/common/path */ "./node_modules/vscode/vscode/src/vs/base/common/path.js");



const webviewMimeTypes = ( new Map([
    ['.svg', 'image/svg+xml'],
    ['.txt', vscode_vscode_vs_base_common_mime__WEBPACK_IMPORTED_MODULE_0__.Mimes.text],
    ['.css', 'text/css'],
    ['.js', 'application/javascript'],
    ['.cjs', 'application/javascript'],
    ['.mjs', 'application/javascript'],
    ['.json', 'application/json'],
    ['.html', 'text/html'],
    ['.htm', 'text/html'],
    ['.xhtml', 'application/xhtml+xml'],
    ['.oft', 'font/otf'],
    ['.xml', 'application/xml'],
    ['.wasm', 'application/wasm'],
]));
function getWebviewContentMimeType(resource) {
    const ext = (0,vscode_vscode_vs_base_common_path__WEBPACK_IMPORTED_MODULE_1__.extname)(resource.fsPath).toLowerCase();
    return webviewMimeTypes.get(ext) || (0,vscode_vscode_vs_base_common_mime__WEBPACK_IMPORTED_MODULE_0__.getMediaMime)(resource.fsPath) || vscode_vscode_vs_base_common_mime__WEBPACK_IMPORTED_MODULE_0__.Mimes.unknown;
}




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/platform/webview/common/webviewPortMapping.js":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/platform/webview/common/webviewPortMapping.js ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WebviewPortMappingManager: () => (/* binding */ WebviewPortMappingManager)
/* harmony export */ });
/* harmony import */ var vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/base/common/network */ "./node_modules/vscode/vscode/src/vs/base/common/network.js");
/* harmony import */ var vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/common/uri */ "./node_modules/vscode/vscode/src/vs/base/common/uri.js");
/* harmony import */ var vscode_vscode_vs_platform_tunnel_common_tunnel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/platform/tunnel/common/tunnel */ "./node_modules/vscode/vscode/src/vs/platform/tunnel/common/tunnel.js");




class WebviewPortMappingManager {
    constructor(_getExtensionLocation, _getMappings, tunnelService) {
        this._getExtensionLocation = _getExtensionLocation;
        this._getMappings = _getMappings;
        this.tunnelService = tunnelService;
        this._tunnels = ( new Map());
    }
    async getRedirect(resolveAuthority, url) {
        const uri = ( vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_1__.URI.parse(url));
        const requestLocalHostInfo = (0,vscode_vscode_vs_platform_tunnel_common_tunnel__WEBPACK_IMPORTED_MODULE_2__.extractLocalHostUriMetaDataForPortMapping)(uri);
        if (!requestLocalHostInfo) {
            return undefined;
        }
        for (const mapping of this._getMappings()) {
            if (mapping.webviewPort === requestLocalHostInfo.port) {
                const extensionLocation = this._getExtensionLocation();
                if (extensionLocation && extensionLocation.scheme === vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_0__.Schemas.vscodeRemote) {
                    const tunnel = resolveAuthority && (await this.getOrCreateTunnel(resolveAuthority, mapping.extensionHostPort));
                    if (tunnel) {
                        if (tunnel.tunnelLocalPort === mapping.webviewPort) {
                            return undefined;
                        }
                        return encodeURI(( uri.with({
                            authority: `127.0.0.1:${tunnel.tunnelLocalPort}`,
                        }).toString(true)));
                    }
                }
                if (mapping.webviewPort !== mapping.extensionHostPort) {
                    return encodeURI(( uri.with({
                        authority: `${requestLocalHostInfo.address}:${mapping.extensionHostPort}`
                    }).toString(true)));
                }
            }
        }
        return undefined;
    }
    async dispose() {
        for (const tunnel of ( this._tunnels.values())) {
            await tunnel.dispose();
        }
        this._tunnels.clear();
    }
    async getOrCreateTunnel(remoteAuthority, remotePort) {
        const existing = this._tunnels.get(remotePort);
        if (existing) {
            return existing;
        }
        const tunnelOrError = await this.tunnelService.openTunnel({ getAddress: async () => remoteAuthority }, undefined, remotePort);
        let tunnel;
        if (typeof tunnelOrError === 'string') {
            tunnel = undefined;
        }
        if (tunnel) {
            this._tunnels.set(remotePort, tunnel);
        }
        return tunnel;
    }
}




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/api/browser/viewsExtensionPoint.js":
/*!***************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/api/browser/viewsExtensionPoint.js ***!
  \***************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   viewsContainersContribution: () => (/* binding */ viewsContainersContribution)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/common/resources */ "./node_modules/vscode/vscode/src/vs/base/common/resources.js");
/* harmony import */ var vscode_vscode_vs_base_common_strings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/common/strings */ "./node_modules/vscode/vscode/src/vs/base/common/strings.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.js");
/* harmony import */ var vscode_vscode_vs_platform_extensions_common_extensions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/platform/extensions/common/extensions */ "./node_modules/vscode/vscode/src/vs/platform/extensions/common/extensions.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/descriptors */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/descriptors.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/platform/registry/common/platform */ "./node_modules/vscode/vscode/src/vs/platform/registry/common/platform.js");
/* harmony import */ var vscode_vscode_vs_base_common_themables__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/base/common/themables */ "./node_modules/vscode/vscode/src/vs/base/common/themables.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_panecomposite__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/panecomposite */ "./node_modules/vscode/vscode/src/vs/workbench/browser/panecomposite.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_views_treeView__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/views/treeView */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/views/treeView.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_views_viewPaneContainer__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/views/viewPaneContainer */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/views/viewPaneContainer.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_contributions__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/contributions */ "./node_modules/vscode/vscode/src/vs/workbench/common/contributions.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/views */ "./node_modules/vscode/vscode/src/vs/workbench/common/views.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_debug_common_debug__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/debug/common/debug */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/debug/common/debug.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_files_common_files__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/files/common/files */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/common/files.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_remote_browser_remoteExplorer__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/remote/browser/remoteExplorer */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/remote/browser/remoteExplorer.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_scm_common_scm__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/scm/common/scm */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/scm/common/scm.js");
/* harmony import */ var _contrib_webviewView_browser_webviewViewPane_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../contrib/webviewView/browser/webviewViewPane.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/webviewView/browser/webviewViewPane.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_extensions_common_extensions__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/extensions/common/extensions */ "./node_modules/vscode/vscode/src/vs/workbench/services/extensions/common/extensions.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_extensions_common_extensionsRegistry__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/extensions/common/extensionsRegistry */ "./node_modules/vscode/vscode/src/vs/workbench/services/extensions/common/extensionsRegistry.js");
/* harmony import */ var vscode_vscode_vs_platform_log_common_log_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! vscode/vscode/vs/platform/log/common/log.service */ "./node_modules/vscode/vscode/src/vs/platform/log/common/log.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_extensionManagement_common_extensionFeatures__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/extensionManagement/common/extensionFeatures */ "./node_modules/vscode/vscode/src/vs/workbench/services/extensionManagement/common/extensionFeatures.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_base_common_htmlContent__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! vscode/vscode/vs/base/common/htmlContent */ "./node_modules/vscode/vscode/src/vs/base/common/htmlContent.js");



























const viewsContainerSchema = {
    type: 'object',
    properties: {
        id: {
            description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(
                4260,
                "Unique id used to identify the container in which views can be contributed using 'views' contribution point"
            )),
            type: 'string',
            pattern: '^[a-zA-Z0-9_-]+$'
        },
        title: {
            description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4261, 'Human readable string used to render the container')),
            type: 'string'
        },
        icon: {
            description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(
                4262,
                "Path to the container icon. Icons are 24x24 centered on a 50x40 block and have a fill color of 'rgb(215, 218, 224)' or '#d7dae0'. It is recommended that icons be in SVG, though any image file type is accepted."
            )),
            type: 'string'
        }
    },
    required: ['id', 'title', 'icon']
};
const viewsContainersContribution = {
    description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4263, 'Contributes views containers to the editor')),
    type: 'object',
    properties: {
        'activitybar': {
            description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4264, "Contribute views containers to Activity Bar")),
            type: 'array',
            items: viewsContainerSchema
        },
        'panel': {
            description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4265, "Contribute views containers to Panel")),
            type: 'array',
            items: viewsContainerSchema
        }
    }
};
var ViewType;
( ((function(ViewType) {
    ViewType["Tree"] = "tree";
    ViewType["Webview"] = "webview";
})(ViewType || (ViewType = {}))));
var InitialVisibility;
( ((function(InitialVisibility) {
    InitialVisibility["Visible"] = "visible";
    InitialVisibility["Hidden"] = "hidden";
    InitialVisibility["Collapsed"] = "collapsed";
})(InitialVisibility || (InitialVisibility = {}))));
const viewDescriptor = {
    type: 'object',
    required: ['id', 'name'],
    defaultSnippets: [{ body: { id: '${1:id}', name: '${2:name}' } }],
    properties: {
        type: {
            markdownDescription: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(
                4266,
                "Type of the view. This can either be `tree` for a tree view based view or `webview` for a webview based view. The default is `tree`."
            )),
            type: 'string',
            enum: [
                'tree',
                'webview',
            ],
            markdownEnumDescriptions: [
                ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4267, "The view is backed by a `TreeView` created by `createTreeView`.")),
                ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(
                    4268,
                    "The view is backed by a `WebviewView` registered by `registerWebviewViewProvider`."
                )),
            ]
        },
        id: {
            markdownDescription: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(
                4269,
                'Identifier of the view. This should be unique across all views. It is recommended to include your extension id as part of the view id. Use this to register a data provider through `vscode.window.registerTreeDataProviderForView` API. Also to trigger activating your extension by registering `onView:${id}` event to `activationEvents`.'
            )),
            type: 'string'
        },
        name: {
            description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4270, 'The human-readable name of the view. Will be shown')),
            type: 'string'
        },
        when: {
            description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4271, 'Condition which must be true to show this view')),
            type: 'string'
        },
        icon: {
            description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(
                4272,
                "Path to the view icon. View icons are displayed when the name of the view cannot be shown. It is recommended that icons be in SVG, though any image file type is accepted."
            )),
            type: 'string'
        },
        contextualTitle: {
            description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(
                4273,
                "Human-readable context for when the view is moved out of its original location. By default, the view's container name will be used."
            )),
            type: 'string'
        },
        visibility: {
            description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(
                4274,
                "Initial state of the view when the extension is first installed. Once the user has changed the view state by collapsing, moving, or hiding the view, the initial state will not be used again."
            )),
            type: 'string',
            enum: [
                'visible',
                'hidden',
                'collapsed'
            ],
            default: 'visible',
            enumDescriptions: [
                ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(
                    4275,
                    "The default initial state for the view. In most containers the view will be expanded, however; some built-in containers (explorer, scm, and debug) show all contributed views collapsed regardless of the `visibility`."
                )),
                ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(
                    4276,
                    "The view will not be shown in the view container, but will be discoverable through the views menu and other view entry points and can be un-hidden by the user."
                )),
                ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4277, "The view will show in the view container, but will be collapsed."))
            ]
        },
        initialSize: {
            type: 'number',
            description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(
                4278,
                "The initial size of the view. The size will behave like the css 'flex' property, and will set the initial size when the view is first shown. In the side bar, this is the height of the view. This value is only respected when the same extension owns both the view and the view container."
            )),
        },
        accessibilityHelpContent: {
            type: 'string',
            markdownDescription: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(
                4279,
                "When the accessibility help dialog is invoked in this view, this content will be presented to the user as a markdown string. Keybindings will be resolved when provided in the format of <keybinding:commandId>. If there is no keybinding, that will be indicated and this command will be included in a quickpick for easy configuration."
            ))
        }
    }
};
const remoteViewDescriptor = {
    type: 'object',
    required: ['id', 'name'],
    properties: {
        id: {
            description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(
                4269,
                'Identifier of the view. This should be unique across all views. It is recommended to include your extension id as part of the view id. Use this to register a data provider through `vscode.window.registerTreeDataProviderForView` API. Also to trigger activating your extension by registering `onView:${id}` event to `activationEvents`.'
            )),
            type: 'string'
        },
        name: {
            description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4270, 'The human-readable name of the view. Will be shown')),
            type: 'string'
        },
        when: {
            description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4271, 'Condition which must be true to show this view')),
            type: 'string'
        },
        group: {
            description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4280, 'Nested group in the viewlet')),
            type: 'string'
        },
        remoteName: {
            description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4281, 'The name of the remote type associated with this view')),
            type: ['string', 'array'],
            items: {
                type: 'string'
            }
        }
    }
};
const viewsContribution = {
    description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4282, "Contributes views to the editor")),
    type: 'object',
    properties: {
        'explorer': {
            description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4283, "Contributes views to Explorer container in the Activity bar")),
            type: 'array',
            items: viewDescriptor,
            default: []
        },
        'debug': {
            description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4284, "Contributes views to Debug container in the Activity bar")),
            type: 'array',
            items: viewDescriptor,
            default: []
        },
        'scm': {
            description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4285, "Contributes views to SCM container in the Activity bar")),
            type: 'array',
            items: viewDescriptor,
            default: []
        },
        'test': {
            description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4286, "Contributes views to Test container in the Activity bar")),
            type: 'array',
            items: viewDescriptor,
            default: []
        },
        'remote': {
            description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(
                4287,
                "Contributes views to Remote container in the Activity bar. To contribute to this container, enableProposedApi needs to be turned on"
            )),
            type: 'array',
            items: remoteViewDescriptor,
            default: []
        }
    },
    additionalProperties: {
        description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4288, "Contributes views to contributed views container")),
        type: 'array',
        items: viewDescriptor,
        default: []
    }
};
const viewsContainersExtensionPoint = vscode_vscode_vs_workbench_services_extensions_common_extensionsRegistry__WEBPACK_IMPORTED_MODULE_21__.ExtensionsRegistry.registerExtensionPoint({
    extensionPoint: 'viewsContainers',
    jsonSchema: viewsContainersContribution
});
const viewsExtensionPoint = vscode_vscode_vs_workbench_services_extensions_common_extensionsRegistry__WEBPACK_IMPORTED_MODULE_21__.ExtensionsRegistry.registerExtensionPoint({
    extensionPoint: 'views',
    deps: [viewsContainersExtensionPoint],
    jsonSchema: viewsContribution,
    activationEventsGenerator: (viewExtensionPointTypeArray, result) => {
        for (const viewExtensionPointType of viewExtensionPointTypeArray) {
            for (const viewDescriptors of ( (Object.values(viewExtensionPointType)))) {
                for (const viewDescriptor of viewDescriptors) {
                    if (viewDescriptor.id) {
                        result.push(`onView:${viewDescriptor.id}`);
                    }
                }
            }
        }
    }
});
const CUSTOM_VIEWS_START_ORDER = 7;
let ViewsExtensionHandler = class ViewsExtensionHandler {
    static { this.ID = 'workbench.contrib.viewsExtensionHandler'; }
    constructor(instantiationService, logService) {
        this.instantiationService = instantiationService;
        this.logService = logService;
        this.viewContainersRegistry = ( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_8__.Registry.as(vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_14__.Extensions.ViewContainersRegistry)));
        this.viewsRegistry = ( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_8__.Registry.as(vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_14__.Extensions.ViewsRegistry)));
        this.handleAndRegisterCustomViewContainers();
        this.handleAndRegisterCustomViews();
    }
    handleAndRegisterCustomViewContainers() {
        viewsContainersExtensionPoint.setHandler((extensions, { added, removed }) => {
            if (removed.length) {
                this.removeCustomViewContainers(removed);
            }
            if (added.length) {
                this.addCustomViewContainers(added, this.viewContainersRegistry.all);
            }
        });
    }
    addCustomViewContainers(extensionPoints, existingViewContainers) {
        const viewContainersRegistry = ( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_8__.Registry.as(vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_14__.Extensions.ViewContainersRegistry)));
        let activityBarOrder = CUSTOM_VIEWS_START_ORDER + viewContainersRegistry.all.filter(v => !!v.extensionId && viewContainersRegistry.getViewContainerLocation(v) === 0 ).length;
        let panelOrder = 5 + viewContainersRegistry.all.filter(v => !!v.extensionId && viewContainersRegistry.getViewContainerLocation(v) === 1 ).length + 1;
        for (const { value, collector, description } of extensionPoints) {
            Object.entries(value).forEach(([key, value]) => {
                if (!this.isValidViewsContainer(value, collector)) {
                    return;
                }
                switch (key) {
                    case 'activitybar':
                        activityBarOrder = this.registerCustomViewContainers(value, description, activityBarOrder, existingViewContainers, 0 );
                        break;
                    case 'panel':
                        panelOrder = this.registerCustomViewContainers(value, description, panelOrder, existingViewContainers, 1 );
                        break;
                }
            });
        }
    }
    removeCustomViewContainers(extensionPoints) {
        const viewContainersRegistry = ( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_8__.Registry.as(vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_14__.Extensions.ViewContainersRegistry)));
        const removedExtensions = extensionPoints.reduce((result, e) => { result.add(e.description.identifier); return result; }, ( (new vscode_vscode_vs_platform_extensions_common_extensions__WEBPACK_IMPORTED_MODULE_5__.ExtensionIdentifierSet())));
        for (const viewContainer of viewContainersRegistry.all) {
            if (viewContainer.extensionId && ( (removedExtensions.has(viewContainer.extensionId)))) {
                const views = this.viewsRegistry.getViews(viewContainer);
                if (views.length) {
                    this.viewsRegistry.moveViews(views, this.getDefaultViewContainer());
                }
                this.deregisterCustomViewContainer(viewContainer);
            }
        }
    }
    isValidViewsContainer(viewsContainersDescriptors, collector) {
        if (!Array.isArray(viewsContainersDescriptors)) {
            collector.error(( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4289, "views containers must be an array")));
            return false;
        }
        for (const descriptor of viewsContainersDescriptors) {
            if (typeof descriptor.id !== 'string' && (0,vscode_vscode_vs_base_common_strings__WEBPACK_IMPORTED_MODULE_2__.isFalsyOrWhitespace)(descriptor.id)) {
                collector.error(( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(
                    4290,
                    "property `{0}` is mandatory and must be of type `string` with non-empty value. Only alphanumeric characters, '_', and '-' are allowed.",
                    'id'
                )));
                return false;
            }
            if (!(/^[a-z0-9_-]+$/i.test(descriptor.id))) {
                collector.error(( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(
                    4290,
                    "property `{0}` is mandatory and must be of type `string` with non-empty value. Only alphanumeric characters, '_', and '-' are allowed.",
                    'id'
                )));
                return false;
            }
            if (typeof descriptor.title !== 'string') {
                collector.error(( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4291, "property `{0}` is mandatory and must be of type `string`", 'title')));
                return false;
            }
            if (typeof descriptor.icon !== 'string') {
                collector.error(( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4291, "property `{0}` is mandatory and must be of type `string`", 'icon')));
                return false;
            }
            if ((0,vscode_vscode_vs_base_common_strings__WEBPACK_IMPORTED_MODULE_2__.isFalsyOrWhitespace)(descriptor.title)) {
                collector.warn(( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(
                    4292,
                    "property `{0}` is mandatory and must be of type `string` with non-empty value",
                    'title'
                )));
                return true;
            }
        }
        return true;
    }
    registerCustomViewContainers(containers, extension, order, existingViewContainers, location) {
        containers.forEach(descriptor => {
            const themeIcon = vscode_vscode_vs_base_common_themables__WEBPACK_IMPORTED_MODULE_9__.ThemeIcon.fromString(descriptor.icon);
            const icon = themeIcon || (0,vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_1__.joinPath)(extension.extensionLocation, descriptor.icon);
            const id = `workbench.view.extension.${descriptor.id}`;
            const title = descriptor.title || id;
            const viewContainer = this.registerCustomViewContainer(id, title, icon, order++, extension.identifier, location);
            if (existingViewContainers.length) {
                const viewsToMove = [];
                for (const existingViewContainer of existingViewContainers) {
                    if (viewContainer !== existingViewContainer) {
                        viewsToMove.push(...this.viewsRegistry.getViews(existingViewContainer).filter(view => view.originalContainerId === descriptor.id));
                    }
                }
                if (viewsToMove.length) {
                    this.viewsRegistry.moveViews(viewsToMove, viewContainer);
                }
            }
        });
        return order;
    }
    registerCustomViewContainer(id, title, icon, order, extensionId, location) {
        let viewContainer = this.viewContainersRegistry.get(id);
        if (!viewContainer) {
            viewContainer = this.viewContainersRegistry.registerViewContainer({
                id,
                title: { value: title, original: title },
                extensionId,
                ctorDescriptor: ( (new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_6__.SyncDescriptor(vscode_vscode_vs_workbench_browser_parts_views_viewPaneContainer__WEBPACK_IMPORTED_MODULE_12__.ViewPaneContainer, [id, { mergeViewWithContainerWhenSingleView: true }]))),
                hideIfEmpty: true,
                order,
                icon,
            }, location);
        }
        return viewContainer;
    }
    deregisterCustomViewContainer(viewContainer) {
        this.viewContainersRegistry.deregisterViewContainer(viewContainer);
        ( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_8__.Registry.as(vscode_vscode_vs_workbench_browser_panecomposite__WEBPACK_IMPORTED_MODULE_10__.Extensions.Viewlets))).deregisterPaneComposite(viewContainer.id);
    }
    handleAndRegisterCustomViews() {
        viewsExtensionPoint.setHandler((extensions, { added, removed }) => {
            if (removed.length) {
                this.removeViews(removed);
            }
            if (added.length) {
                this.addViews(added);
            }
        });
    }
    addViews(extensions) {
        const viewIds = ( (new Set()));
        const allViewDescriptors = [];
        for (const extension of extensions) {
            const { value, collector } = extension;
            Object.entries(value).forEach(([key, value]) => {
                if (!this.isValidViewDescriptors(value, collector)) {
                    return;
                }
                if (key === 'remote' && !(0,vscode_vscode_vs_workbench_services_extensions_common_extensions__WEBPACK_IMPORTED_MODULE_20__.isProposedApiEnabled)(extension.description, 'contribViewsRemote')) {
                    collector.warn(( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(
                        4293,
                        "View container '{0}' requires 'enabledApiProposals: [\"contribViewsRemote\"]' to be added to 'Remote'.",
                        key
                    )));
                    return;
                }
                const viewContainer = this.getViewContainer(key);
                if (!viewContainer) {
                    collector.warn(( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(
                        4294,
                        "View container '{0}' does not exist and all views registered to it will be added to 'Explorer'.",
                        key
                    )));
                }
                const container = viewContainer || this.getDefaultViewContainer();
                const viewDescriptors = [];
                for (let index = 0; index < value.length; index++) {
                    const item = value[index];
                    if (( (viewIds.has(item.id)))) {
                        collector.error(( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4295, "Cannot register multiple views with same id `{0}`", item.id)));
                        continue;
                    }
                    if (this.viewsRegistry.getView(item.id) !== null) {
                        collector.error(( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4296, "A view with id `{0}` is already registered.", item.id)));
                        continue;
                    }
                    const order = vscode_vscode_vs_platform_extensions_common_extensions__WEBPACK_IMPORTED_MODULE_5__.ExtensionIdentifier.equals(extension.description.identifier, container.extensionId)
                        ? index + 1
                        : container.viewOrderDelegate
                            ? container.viewOrderDelegate.getOrder(item.group)
                            : undefined;
                    let icon;
                    if (typeof item.icon === 'string') {
                        icon = vscode_vscode_vs_base_common_themables__WEBPACK_IMPORTED_MODULE_9__.ThemeIcon.fromString(item.icon) || (0,vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_1__.joinPath)(extension.description.extensionLocation, item.icon);
                    }
                    const initialVisibility = this.convertInitialVisibility(item.visibility);
                    const type = this.getViewType(item.type);
                    if (!type) {
                        collector.error(( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4297, "Unknown view type `{0}`.", item.type)));
                        continue;
                    }
                    let weight = undefined;
                    if (typeof item.initialSize === 'number') {
                        if (container.extensionId?.value === extension.description.identifier.value) {
                            weight = item.initialSize;
                        }
                        else {
                            this.logService.warn(`${extension.description.identifier.value} tried to set the view size of ${item.id} but it was ignored because the view container does not belong to it.`);
                        }
                    }
                    let accessibilityHelpContent;
                    if ((0,vscode_vscode_vs_workbench_services_extensions_common_extensions__WEBPACK_IMPORTED_MODULE_20__.isProposedApiEnabled)(extension.description, 'contribAccessibilityHelpContent') && item.accessibilityHelpContent) {
                        accessibilityHelpContent = ( (new vscode_vscode_vs_base_common_htmlContent__WEBPACK_IMPORTED_MODULE_25__.MarkdownString(item.accessibilityHelpContent)));
                    }
                    const viewDescriptor = {
                        type: type,
                        ctorDescriptor: type === ViewType.Tree ? ( (new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_6__.SyncDescriptor(vscode_vscode_vs_workbench_browser_parts_views_treeView__WEBPACK_IMPORTED_MODULE_11__.TreeViewPane))) : ( (new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_6__.SyncDescriptor(_contrib_webviewView_browser_webviewViewPane_js__WEBPACK_IMPORTED_MODULE_19__.WebviewViewPane))),
                        id: item.id,
                        name: { value: item.name, original: item.name },
                        when: vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_4__.ContextKeyExpr.deserialize(item.when),
                        containerIcon: icon || viewContainer?.icon,
                        containerTitle: item.contextualTitle || (viewContainer && (typeof viewContainer.title === 'string' ? viewContainer.title : viewContainer.title.value)),
                        canToggleVisibility: true,
                        canMoveView: viewContainer?.id !== vscode_vscode_vs_workbench_contrib_remote_browser_remoteExplorer__WEBPACK_IMPORTED_MODULE_17__.VIEWLET_ID,
                        treeView: type === ViewType.Tree ? this.instantiationService.createInstance(vscode_vscode_vs_workbench_browser_parts_views_treeView__WEBPACK_IMPORTED_MODULE_11__.CustomTreeView, item.id, item.name, extension.description.identifier.value) : undefined,
                        collapsed: this.showCollapsed(container) || initialVisibility === InitialVisibility.Collapsed,
                        order: order,
                        extensionId: extension.description.identifier,
                        originalContainerId: key,
                        group: item.group,
                        remoteAuthority: item.remoteName || item.remoteAuthority,
                        virtualWorkspace: item.virtualWorkspace,
                        hideByDefault: initialVisibility === InitialVisibility.Hidden,
                        workspace: viewContainer?.id === vscode_vscode_vs_workbench_contrib_remote_browser_remoteExplorer__WEBPACK_IMPORTED_MODULE_17__.VIEWLET_ID ? true : undefined,
                        weight,
                        accessibilityHelpContent
                    };
                    viewIds.add(viewDescriptor.id);
                    viewDescriptors.push(viewDescriptor);
                }
                allViewDescriptors.push({ viewContainer: container, views: viewDescriptors });
            });
        }
        this.viewsRegistry.registerViews2(allViewDescriptors);
    }
    getViewType(type) {
        if (type === ViewType.Webview) {
            return ViewType.Webview;
        }
        if (!type || type === ViewType.Tree) {
            return ViewType.Tree;
        }
        return undefined;
    }
    getDefaultViewContainer() {
        return this.viewContainersRegistry.get(vscode_vscode_vs_workbench_contrib_files_common_files__WEBPACK_IMPORTED_MODULE_16__.VIEWLET_ID);
    }
    removeViews(extensions) {
        const removedExtensions = extensions.reduce((result, e) => { result.add(e.description.identifier); return result; }, ( (new vscode_vscode_vs_platform_extensions_common_extensions__WEBPACK_IMPORTED_MODULE_5__.ExtensionIdentifierSet())));
        for (const viewContainer of this.viewContainersRegistry.all) {
            const removedViews = this.viewsRegistry.getViews(viewContainer).filter(v => v.extensionId && ( (removedExtensions.has(v.extensionId))));
            if (removedViews.length) {
                this.viewsRegistry.deregisterViews(removedViews, viewContainer);
                for (const view of removedViews) {
                    const anyView = view;
                    if (anyView.treeView) {
                        anyView.treeView.dispose();
                    }
                }
            }
        }
    }
    convertInitialVisibility(value) {
        if (( (Object.values(InitialVisibility))).includes(value)) {
            return value;
        }
        return undefined;
    }
    isValidViewDescriptors(viewDescriptors, collector) {
        if (!Array.isArray(viewDescriptors)) {
            collector.error(( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4298, "views must be an array")));
            return false;
        }
        for (const descriptor of viewDescriptors) {
            if (typeof descriptor.id !== 'string') {
                collector.error(( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4291, "property `{0}` is mandatory and must be of type `string`", 'id')));
                return false;
            }
            if (typeof descriptor.name !== 'string') {
                collector.error(( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4291, "property `{0}` is mandatory and must be of type `string`", 'name')));
                return false;
            }
            if (descriptor.when && typeof descriptor.when !== 'string') {
                collector.error(( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4299, "property `{0}` can be omitted or must be of type `string`", 'when')));
                return false;
            }
            if (descriptor.icon && typeof descriptor.icon !== 'string') {
                collector.error(( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4299, "property `{0}` can be omitted or must be of type `string`", 'icon')));
                return false;
            }
            if (descriptor.contextualTitle && typeof descriptor.contextualTitle !== 'string') {
                collector.error(( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(
                    4299,
                    "property `{0}` can be omitted or must be of type `string`",
                    'contextualTitle'
                )));
                return false;
            }
            if (descriptor.visibility && !this.convertInitialVisibility(descriptor.visibility)) {
                collector.error(( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(
                    4300,
                    "property `{0}` can be omitted or must be one of {1}",
                    'visibility',
                    ( (Object.values(InitialVisibility))).join(', ')
                )));
                return false;
            }
        }
        return true;
    }
    getViewContainer(value) {
        switch (value) {
            case 'explorer': return this.viewContainersRegistry.get(vscode_vscode_vs_workbench_contrib_files_common_files__WEBPACK_IMPORTED_MODULE_16__.VIEWLET_ID);
            case 'debug': return this.viewContainersRegistry.get(vscode_vscode_vs_workbench_contrib_debug_common_debug__WEBPACK_IMPORTED_MODULE_15__.VIEWLET_ID);
            case 'scm': return this.viewContainersRegistry.get(vscode_vscode_vs_workbench_contrib_scm_common_scm__WEBPACK_IMPORTED_MODULE_18__.VIEWLET_ID);
            case 'remote': return this.viewContainersRegistry.get(vscode_vscode_vs_workbench_contrib_remote_browser_remoteExplorer__WEBPACK_IMPORTED_MODULE_17__.VIEWLET_ID);
            default: return this.viewContainersRegistry.get(`workbench.view.extension.${value}`);
        }
    }
    showCollapsed(container) {
        switch (container.id) {
            case vscode_vscode_vs_workbench_contrib_files_common_files__WEBPACK_IMPORTED_MODULE_16__.VIEWLET_ID:
            case vscode_vscode_vs_workbench_contrib_scm_common_scm__WEBPACK_IMPORTED_MODULE_18__.VIEWLET_ID:
            case vscode_vscode_vs_workbench_contrib_debug_common_debug__WEBPACK_IMPORTED_MODULE_15__.VIEWLET_ID:
                return true;
        }
        return false;
    }
};
ViewsExtensionHandler = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_7__.IInstantiationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_platform_log_common_log_service__WEBPACK_IMPORTED_MODULE_22__.ILogService)))
], ViewsExtensionHandler)));
class ViewContainersDataRenderer extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_24__.Disposable {
    constructor() {
        super(...arguments);
        this.type = 'table';
    }
    shouldRender(manifest) {
        return !!manifest.contributes?.viewsContainers;
    }
    render(manifest) {
        const contrib = manifest.contributes?.viewsContainers || {};
        const viewContainers = ( (Object.keys(contrib))).reduce((result, location) => {
            const viewContainersForLocation = contrib[location];
            result.push(...( (viewContainersForLocation.map(viewContainer => ({ ...viewContainer, location })))));
            return result;
        }, []);
        if (!viewContainers.length) {
            return { data: { headers: [], rows: [] }, dispose: () => { } };
        }
        const headers = [
            ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4301, "ID")),
            ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4302, "Title")),
            ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4303, "Where")),
        ];
        const rows = ( (viewContainers
            .sort((a, b) => a.id.localeCompare(b.id))
            .map(viewContainer => {
            return [
                viewContainer.id,
                viewContainer.title,
                viewContainer.location
            ];
        })));
        return {
            data: {
                headers,
                rows
            },
            dispose: () => { }
        };
    }
}
class ViewsDataRenderer extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_24__.Disposable {
    constructor() {
        super(...arguments);
        this.type = 'table';
    }
    shouldRender(manifest) {
        return !!manifest.contributes?.views;
    }
    render(manifest) {
        const contrib = manifest.contributes?.views || {};
        const views = ( (Object.keys(contrib))).reduce((result, location) => {
            const viewsForLocation = contrib[location];
            result.push(...( (viewsForLocation.map(view => ({ ...view, location })))));
            return result;
        }, []);
        if (!views.length) {
            return { data: { headers: [], rows: [] }, dispose: () => { } };
        }
        const headers = [
            ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4304, "ID")),
            ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4305, "Name")),
            ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4303, "Where")),
        ];
        const rows = ( (views
            .sort((a, b) => a.id.localeCompare(b.id))
            .map(view => {
            return [
                view.id,
                view.name,
                view.location
            ];
        })));
        return {
            data: {
                headers,
                rows
            },
            dispose: () => { }
        };
    }
}
( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_8__.Registry.as(vscode_vscode_vs_workbench_services_extensionManagement_common_extensionFeatures__WEBPACK_IMPORTED_MODULE_23__.Extensions.ExtensionFeaturesRegistry))).registerExtensionFeature({
    id: 'viewsContainers',
    label: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4306, "View Containers")),
    access: {
        canToggle: false
    },
    renderer: ( (new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_6__.SyncDescriptor(ViewContainersDataRenderer))),
});
( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_8__.Registry.as(vscode_vscode_vs_workbench_services_extensionManagement_common_extensionFeatures__WEBPACK_IMPORTED_MODULE_23__.Extensions.ExtensionFeaturesRegistry))).registerExtensionFeature({
    id: 'views',
    label: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(4307, "Views")),
    access: {
        canToggle: false
    },
    renderer: ( (new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_6__.SyncDescriptor(ViewsDataRenderer))),
});
(0,vscode_vscode_vs_workbench_common_contributions__WEBPACK_IMPORTED_MODULE_13__.registerWorkbenchContribution2)(ViewsExtensionHandler.ID, ViewsExtensionHandler, 1 );




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/actions/listCommands.js":
/*!************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/actions/listCommands.js ***!
  \************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var vscode_vscode_vs_base_common_keyCodes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/base/common/keyCodes */ "./node_modules/vscode/vscode/src/vs/base/common/keyCodes.js");
/* harmony import */ var vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/platform/keybinding/common/keybindingsRegistry */ "./node_modules/vscode/vscode/src/vs/platform/keybinding/common/keybindingsRegistry.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_list_listWidget__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/list/listWidget */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/list/listWidget.js");
/* harmony import */ var vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/platform/list/browser/listService */ "./node_modules/vscode/vscode/src/vs/platform/list/browser/listService.js");
/* harmony import */ var vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/platform/list/browser/listService.service */ "./node_modules/vscode/vscode/src/vs/platform/list/browser/listService.service.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_list_listPaging__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/list/listPaging */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/list/listPaging.js");
/* harmony import */ var vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/base/common/arrays */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_tree_objectTree__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/tree/objectTree */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/tree/objectTree.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_tree_asyncDataTree__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/tree/asyncDataTree */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/tree/asyncDataTree.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_tree_dataTree__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/tree/dataTree */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/tree/dataTree.js");
/* harmony import */ var vscode_vscode_vs_platform_commands_common_commands__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/platform/commands/common/commands */ "./node_modules/vscode/vscode/src/vs/platform/commands/common/commands.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_table_tableWidget__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/table/tableWidget */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/table/tableWidget.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_tree_abstractTree__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/tree/abstractTree */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/tree/abstractTree.js");
/* harmony import */ var vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/dom */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/platform/configuration/common/configuration.service */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_platform_hover_browser_hover_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! vscode/vscode/vs/platform/hover/browser/hover.service */ "./node_modules/vscode/vscode/src/vs/platform/hover/browser/hover.service.js");




















function ensureDOMFocus(widget) {
    const element = widget?.getHTMLElement();
    if (element && !(0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_14__.isActiveElement)(element)) {
        widget?.domFocus();
    }
}
async function updateFocus(widget, updateFocusFn) {
    if (!vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListSelectionNavigation.getValue(widget.contextKeyService)) {
        return updateFocusFn(widget);
    }
    const focus = widget.getFocus();
    const selection = widget.getSelection();
    await updateFocusFn(widget);
    const newFocus = widget.getFocus();
    if (selection.length > 1 || !(0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_6__.equals)(focus, selection) || (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_6__.equals)(focus, newFocus)) {
        return;
    }
    const fakeKeyboardEvent = ( (new KeyboardEvent('keydown')));
    widget.setSelection(newFocus, fakeKeyboardEvent);
}
async function navigate(widget, updateFocusFn) {
    if (!widget) {
        return;
    }
    await updateFocus(widget, updateFocusFn);
    const listFocus = widget.getFocus();
    if (listFocus.length) {
        widget.reveal(listFocus[0]);
    }
    widget.setAnchor(listFocus[0]);
    ensureDOMFocus(widget);
}
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_1__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'list.focusDown',
    weight: 200 ,
    when: vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListFocusContextKey,
    primary: 18 ,
    mac: {
        primary: 18 ,
        secondary: [256  | 44 ]
    },
    handler: (accessor, arg2) => {
        navigate(accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService).lastFocusedList, async (widget) => {
            const fakeKeyboardEvent = ( (new KeyboardEvent('keydown')));
            await widget.focusNext(typeof arg2 === 'number' ? arg2 : 1, false, fakeKeyboardEvent);
        });
    }
});
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_1__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'list.focusUp',
    weight: 200 ,
    when: vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListFocusContextKey,
    primary: 16 ,
    mac: {
        primary: 16 ,
        secondary: [256  | 46 ]
    },
    handler: (accessor, arg2) => {
        navigate(accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService).lastFocusedList, async (widget) => {
            const fakeKeyboardEvent = ( (new KeyboardEvent('keydown')));
            await widget.focusPrevious(typeof arg2 === 'number' ? arg2 : 1, false, fakeKeyboardEvent);
        });
    }
});
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_1__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'list.focusAnyDown',
    weight: 200 ,
    when: vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListFocusContextKey,
    primary: 512  | 18 ,
    mac: {
        primary: 512  | 18 ,
        secondary: [256  | 512  | 44 ]
    },
    handler: (accessor, arg2) => {
        navigate(accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService).lastFocusedList, async (widget) => {
            const fakeKeyboardEvent = ( (new KeyboardEvent('keydown', { altKey: true })));
            await widget.focusNext(typeof arg2 === 'number' ? arg2 : 1, false, fakeKeyboardEvent);
        });
    }
});
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_1__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'list.focusAnyUp',
    weight: 200 ,
    when: vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListFocusContextKey,
    primary: 512  | 16 ,
    mac: {
        primary: 512  | 16 ,
        secondary: [256  | 512  | 46 ]
    },
    handler: (accessor, arg2) => {
        navigate(accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService).lastFocusedList, async (widget) => {
            const fakeKeyboardEvent = ( (new KeyboardEvent('keydown', { altKey: true })));
            await widget.focusPrevious(typeof arg2 === 'number' ? arg2 : 1, false, fakeKeyboardEvent);
        });
    }
});
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_1__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'list.focusPageDown',
    weight: 200 ,
    when: vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListFocusContextKey,
    primary: 12 ,
    handler: (accessor) => {
        navigate(accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService).lastFocusedList, async (widget) => {
            const fakeKeyboardEvent = ( (new KeyboardEvent('keydown')));
            await widget.focusNextPage(fakeKeyboardEvent);
        });
    }
});
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_1__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'list.focusPageUp',
    weight: 200 ,
    when: vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListFocusContextKey,
    primary: 11 ,
    handler: (accessor) => {
        navigate(accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService).lastFocusedList, async (widget) => {
            const fakeKeyboardEvent = ( (new KeyboardEvent('keydown')));
            await widget.focusPreviousPage(fakeKeyboardEvent);
        });
    }
});
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_1__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'list.focusFirst',
    weight: 200 ,
    when: vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListFocusContextKey,
    primary: 14 ,
    handler: (accessor) => {
        navigate(accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService).lastFocusedList, async (widget) => {
            const fakeKeyboardEvent = ( (new KeyboardEvent('keydown')));
            await widget.focusFirst(fakeKeyboardEvent);
        });
    }
});
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_1__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'list.focusLast',
    weight: 200 ,
    when: vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListFocusContextKey,
    primary: 13 ,
    handler: (accessor) => {
        navigate(accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService).lastFocusedList, async (widget) => {
            const fakeKeyboardEvent = ( (new KeyboardEvent('keydown')));
            await widget.focusLast(fakeKeyboardEvent);
        });
    }
});
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_1__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'list.focusAnyFirst',
    weight: 200 ,
    when: vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListFocusContextKey,
    primary: 512  | 14 ,
    handler: (accessor) => {
        navigate(accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService).lastFocusedList, async (widget) => {
            const fakeKeyboardEvent = ( (new KeyboardEvent('keydown', { altKey: true })));
            await widget.focusFirst(fakeKeyboardEvent);
        });
    }
});
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_1__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'list.focusAnyLast',
    weight: 200 ,
    when: vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListFocusContextKey,
    primary: 512  | 13 ,
    handler: (accessor) => {
        navigate(accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService).lastFocusedList, async (widget) => {
            const fakeKeyboardEvent = ( (new KeyboardEvent('keydown', { altKey: true })));
            await widget.focusLast(fakeKeyboardEvent);
        });
    }
});
function expandMultiSelection(focused, previousFocus) {
    if (focused instanceof vscode_vscode_vs_base_browser_ui_list_listWidget__WEBPACK_IMPORTED_MODULE_2__.List || focused instanceof vscode_vscode_vs_base_browser_ui_list_listPaging__WEBPACK_IMPORTED_MODULE_5__.PagedList || focused instanceof vscode_vscode_vs_base_browser_ui_table_tableWidget__WEBPACK_IMPORTED_MODULE_12__.Table) {
        const list = focused;
        const focus = list.getFocus() ? list.getFocus()[0] : undefined;
        const selection = list.getSelection();
        if (selection && typeof focus === 'number' && selection.indexOf(focus) >= 0) {
            list.setSelection(selection.filter(s => s !== previousFocus));
        }
        else {
            if (typeof focus === 'number') {
                list.setSelection(selection.concat(focus));
            }
        }
    }
    else if (focused instanceof vscode_vscode_vs_base_browser_ui_tree_objectTree__WEBPACK_IMPORTED_MODULE_8__.ObjectTree || focused instanceof vscode_vscode_vs_base_browser_ui_tree_dataTree__WEBPACK_IMPORTED_MODULE_10__.DataTree || focused instanceof vscode_vscode_vs_base_browser_ui_tree_asyncDataTree__WEBPACK_IMPORTED_MODULE_9__.AsyncDataTree) {
        const list = focused;
        const focus = list.getFocus() ? list.getFocus()[0] : undefined;
        if (previousFocus === focus) {
            return;
        }
        const selection = list.getSelection();
        const fakeKeyboardEvent = ( (new KeyboardEvent('keydown', { shiftKey: true })));
        if (selection && selection.indexOf(focus) >= 0) {
            list.setSelection(selection.filter(s => s !== previousFocus), fakeKeyboardEvent);
        }
        else {
            list.setSelection(selection.concat(focus), fakeKeyboardEvent);
        }
    }
}
function revealFocusedStickyScroll(tree, postRevealAction) {
    const focus = tree.getStickyScrollFocus();
    if (focus.length === 0) {
        throw ( (new Error(`StickyScroll has no focus`)));
    }
    if (focus.length > 1) {
        throw ( (new Error(`StickyScroll can only have a single focused item`)));
    }
    tree.reveal(focus[0]);
    tree.getHTMLElement().focus();
    tree.setFocus(focus);
    postRevealAction?.(focus[0]);
}
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_1__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'list.expandSelectionDown',
    weight: 200 ,
    when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_7__.ContextKeyExpr.and(vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListFocusContextKey, vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListSupportsMultiSelectContextKey))),
    primary: 1024  | 18 ,
    handler: (accessor, arg2) => {
        const widget = accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService).lastFocusedList;
        if (!widget) {
            return;
        }
        const previousFocus = widget.getFocus() ? widget.getFocus()[0] : undefined;
        const fakeKeyboardEvent = ( (new KeyboardEvent('keydown')));
        widget.focusNext(typeof arg2 === 'number' ? arg2 : 1, false, fakeKeyboardEvent);
        expandMultiSelection(widget, previousFocus);
        const focus = widget.getFocus();
        if (focus.length) {
            widget.reveal(focus[0]);
        }
        ensureDOMFocus(widget);
    }
});
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_1__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'list.expandSelectionUp',
    weight: 200 ,
    when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_7__.ContextKeyExpr.and(vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListFocusContextKey, vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListSupportsMultiSelectContextKey))),
    primary: 1024  | 16 ,
    handler: (accessor, arg2) => {
        const widget = accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService).lastFocusedList;
        if (!widget) {
            return;
        }
        const previousFocus = widget.getFocus() ? widget.getFocus()[0] : undefined;
        const fakeKeyboardEvent = ( (new KeyboardEvent('keydown')));
        widget.focusPrevious(typeof arg2 === 'number' ? arg2 : 1, false, fakeKeyboardEvent);
        expandMultiSelection(widget, previousFocus);
        const focus = widget.getFocus();
        if (focus.length) {
            widget.reveal(focus[0]);
        }
        ensureDOMFocus(widget);
    }
});
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_1__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'list.collapse',
    weight: 200 ,
    when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_7__.ContextKeyExpr.and(
        vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListFocusContextKey,
         (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_7__.ContextKeyExpr.or(vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchTreeElementCanCollapse, vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchTreeElementHasParent))
    ))),
    primary: 15 ,
    mac: {
        primary: 15 ,
        secondary: [2048  | 16 ]
    },
    handler: (accessor) => {
        const widget = accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService).lastFocusedList;
        if (!widget || !(widget instanceof vscode_vscode_vs_base_browser_ui_tree_objectTree__WEBPACK_IMPORTED_MODULE_8__.ObjectTree || widget instanceof vscode_vscode_vs_base_browser_ui_tree_dataTree__WEBPACK_IMPORTED_MODULE_10__.DataTree || widget instanceof vscode_vscode_vs_base_browser_ui_tree_asyncDataTree__WEBPACK_IMPORTED_MODULE_9__.AsyncDataTree)) {
            return;
        }
        const tree = widget;
        const focusedElements = tree.getFocus();
        if (focusedElements.length === 0) {
            return;
        }
        const focus = focusedElements[0];
        if (!tree.collapse(focus)) {
            const parent = tree.getParentElement(focus);
            if (parent) {
                navigate(widget, widget => {
                    const fakeKeyboardEvent = ( (new KeyboardEvent('keydown')));
                    widget.setFocus([parent], fakeKeyboardEvent);
                });
            }
        }
    }
});
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_1__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'list.stickyScroll.collapse',
    weight: 200  + 50,
    when: vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchTreeStickyScrollFocused,
    primary: 15 ,
    mac: {
        primary: 15 ,
        secondary: [2048  | 16 ]
    },
    handler: (accessor) => {
        const widget = accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService).lastFocusedList;
        if (!widget || !(widget instanceof vscode_vscode_vs_base_browser_ui_tree_objectTree__WEBPACK_IMPORTED_MODULE_8__.ObjectTree || widget instanceof vscode_vscode_vs_base_browser_ui_tree_dataTree__WEBPACK_IMPORTED_MODULE_10__.DataTree || widget instanceof vscode_vscode_vs_base_browser_ui_tree_asyncDataTree__WEBPACK_IMPORTED_MODULE_9__.AsyncDataTree)) {
            return;
        }
        revealFocusedStickyScroll(widget, focus => widget.collapse(focus));
    }
});
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_1__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'list.collapseAll',
    weight: 200 ,
    when: vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListFocusContextKey,
    primary: 2048  | 15 ,
    mac: {
        primary: 2048  | 15 ,
        secondary: [2048  | 1024  | 16 ]
    },
    handler: (accessor) => {
        const focused = accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService).lastFocusedList;
        if (focused && !(focused instanceof vscode_vscode_vs_base_browser_ui_list_listWidget__WEBPACK_IMPORTED_MODULE_2__.List || focused instanceof vscode_vscode_vs_base_browser_ui_list_listPaging__WEBPACK_IMPORTED_MODULE_5__.PagedList || focused instanceof vscode_vscode_vs_base_browser_ui_table_tableWidget__WEBPACK_IMPORTED_MODULE_12__.Table)) {
            focused.collapseAll();
        }
    }
});
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_1__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'list.collapseAllToFocus',
    weight: 200 ,
    when: vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListFocusContextKey,
    handler: accessor => {
        const focused = accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService).lastFocusedList;
        const fakeKeyboardEvent = (0,vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.getSelectionKeyboardEvent)('keydown', true);
        if (focused instanceof vscode_vscode_vs_base_browser_ui_tree_objectTree__WEBPACK_IMPORTED_MODULE_8__.ObjectTree || focused instanceof vscode_vscode_vs_base_browser_ui_tree_dataTree__WEBPACK_IMPORTED_MODULE_10__.DataTree || focused instanceof vscode_vscode_vs_base_browser_ui_tree_asyncDataTree__WEBPACK_IMPORTED_MODULE_9__.AsyncDataTree) {
            const tree = focused;
            const focus = tree.getFocus();
            if (focus.length > 0) {
                tree.collapse(focus[0], true);
            }
            tree.setSelection(focus, fakeKeyboardEvent);
            tree.setAnchor(focus[0]);
        }
    }
});
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_1__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'list.focusParent',
    weight: 200 ,
    when: vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListFocusContextKey,
    handler: (accessor) => {
        const widget = accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService).lastFocusedList;
        if (!widget || !(widget instanceof vscode_vscode_vs_base_browser_ui_tree_objectTree__WEBPACK_IMPORTED_MODULE_8__.ObjectTree || widget instanceof vscode_vscode_vs_base_browser_ui_tree_dataTree__WEBPACK_IMPORTED_MODULE_10__.DataTree || widget instanceof vscode_vscode_vs_base_browser_ui_tree_asyncDataTree__WEBPACK_IMPORTED_MODULE_9__.AsyncDataTree)) {
            return;
        }
        const tree = widget;
        const focusedElements = tree.getFocus();
        if (focusedElements.length === 0) {
            return;
        }
        const focus = focusedElements[0];
        const parent = tree.getParentElement(focus);
        if (parent) {
            navigate(widget, widget => {
                const fakeKeyboardEvent = ( (new KeyboardEvent('keydown')));
                widget.setFocus([parent], fakeKeyboardEvent);
            });
        }
    }
});
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_1__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'list.expand',
    weight: 200 ,
    when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_7__.ContextKeyExpr.and(
        vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListFocusContextKey,
         (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_7__.ContextKeyExpr.or(vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchTreeElementCanExpand, vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchTreeElementHasChild))
    ))),
    primary: 17 ,
    handler: (accessor) => {
        const widget = accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService).lastFocusedList;
        if (!widget) {
            return;
        }
        if (widget instanceof vscode_vscode_vs_base_browser_ui_tree_objectTree__WEBPACK_IMPORTED_MODULE_8__.ObjectTree || widget instanceof vscode_vscode_vs_base_browser_ui_tree_dataTree__WEBPACK_IMPORTED_MODULE_10__.DataTree) {
            const focusedElements = widget.getFocus();
            if (focusedElements.length === 0) {
                return;
            }
            const focus = focusedElements[0];
            if (!widget.expand(focus)) {
                const child = widget.getFirstElementChild(focus);
                if (child) {
                    const node = widget.getNode(child);
                    if (node.visible) {
                        navigate(widget, widget => {
                            const fakeKeyboardEvent = ( (new KeyboardEvent('keydown')));
                            widget.setFocus([child], fakeKeyboardEvent);
                        });
                    }
                }
            }
        }
        else if (widget instanceof vscode_vscode_vs_base_browser_ui_tree_asyncDataTree__WEBPACK_IMPORTED_MODULE_9__.AsyncDataTree) {
            const focusedElements = widget.getFocus();
            if (focusedElements.length === 0) {
                return;
            }
            const focus = focusedElements[0];
            widget.expand(focus).then(didExpand => {
                if (focus && !didExpand) {
                    const child = widget.getFirstElementChild(focus);
                    if (child) {
                        const node = widget.getNode(child);
                        if (node.visible) {
                            navigate(widget, widget => {
                                const fakeKeyboardEvent = ( (new KeyboardEvent('keydown')));
                                widget.setFocus([child], fakeKeyboardEvent);
                            });
                        }
                    }
                }
            });
        }
    }
});
function selectElement(accessor, retainCurrentFocus) {
    const focused = accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService).lastFocusedList;
    const fakeKeyboardEvent = (0,vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.getSelectionKeyboardEvent)('keydown', retainCurrentFocus);
    if (focused instanceof vscode_vscode_vs_base_browser_ui_list_listWidget__WEBPACK_IMPORTED_MODULE_2__.List || focused instanceof vscode_vscode_vs_base_browser_ui_list_listPaging__WEBPACK_IMPORTED_MODULE_5__.PagedList || focused instanceof vscode_vscode_vs_base_browser_ui_table_tableWidget__WEBPACK_IMPORTED_MODULE_12__.Table) {
        const list = focused;
        list.setAnchor(list.getFocus()[0]);
        list.setSelection(list.getFocus(), fakeKeyboardEvent);
    }
    else if (focused instanceof vscode_vscode_vs_base_browser_ui_tree_objectTree__WEBPACK_IMPORTED_MODULE_8__.ObjectTree || focused instanceof vscode_vscode_vs_base_browser_ui_tree_dataTree__WEBPACK_IMPORTED_MODULE_10__.DataTree || focused instanceof vscode_vscode_vs_base_browser_ui_tree_asyncDataTree__WEBPACK_IMPORTED_MODULE_9__.AsyncDataTree) {
        const tree = focused;
        const focus = tree.getFocus();
        if (focus.length > 0) {
            let toggleCollapsed = true;
            if (tree.expandOnlyOnTwistieClick === true) {
                toggleCollapsed = false;
            }
            else if (typeof tree.expandOnlyOnTwistieClick !== 'boolean' && tree.expandOnlyOnTwistieClick(focus[0])) {
                toggleCollapsed = false;
            }
            if (toggleCollapsed) {
                tree.toggleCollapsed(focus[0]);
            }
        }
        tree.setAnchor(focus[0]);
        tree.setSelection(focus, fakeKeyboardEvent);
    }
}
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_1__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'list.select',
    weight: 200 ,
    when: vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListFocusContextKey,
    primary: 3 ,
    mac: {
        primary: 3 ,
        secondary: [2048  | 18 ]
    },
    handler: (accessor) => {
        selectElement(accessor, false);
    }
});
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_1__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'list.stickyScrollselect',
    weight: 200  + 50,
    when: vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchTreeStickyScrollFocused,
    primary: 3 ,
    mac: {
        primary: 3 ,
        secondary: [2048  | 18 ]
    },
    handler: (accessor) => {
        const widget = accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService).lastFocusedList;
        if (!widget || !(widget instanceof vscode_vscode_vs_base_browser_ui_tree_objectTree__WEBPACK_IMPORTED_MODULE_8__.ObjectTree || widget instanceof vscode_vscode_vs_base_browser_ui_tree_dataTree__WEBPACK_IMPORTED_MODULE_10__.DataTree || widget instanceof vscode_vscode_vs_base_browser_ui_tree_asyncDataTree__WEBPACK_IMPORTED_MODULE_9__.AsyncDataTree)) {
            return;
        }
        revealFocusedStickyScroll(widget, focus => widget.setSelection([focus]));
    }
});
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_1__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'list.selectAndPreserveFocus',
    weight: 200 ,
    when: vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListFocusContextKey,
    handler: accessor => {
        selectElement(accessor, true);
    }
});
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_1__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'list.selectAll',
    weight: 200 ,
    when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_7__.ContextKeyExpr.and(vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListFocusContextKey, vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListSupportsMultiSelectContextKey))),
    primary: 2048  | 31 ,
    handler: (accessor) => {
        const focused = accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService).lastFocusedList;
        if (focused instanceof vscode_vscode_vs_base_browser_ui_list_listWidget__WEBPACK_IMPORTED_MODULE_2__.List || focused instanceof vscode_vscode_vs_base_browser_ui_list_listPaging__WEBPACK_IMPORTED_MODULE_5__.PagedList || focused instanceof vscode_vscode_vs_base_browser_ui_table_tableWidget__WEBPACK_IMPORTED_MODULE_12__.Table) {
            const list = focused;
            const fakeKeyboardEvent = ( (new KeyboardEvent('keydown')));
            list.setSelection((0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_6__.range)(list.length), fakeKeyboardEvent);
        }
        else if (focused instanceof vscode_vscode_vs_base_browser_ui_tree_objectTree__WEBPACK_IMPORTED_MODULE_8__.ObjectTree || focused instanceof vscode_vscode_vs_base_browser_ui_tree_dataTree__WEBPACK_IMPORTED_MODULE_10__.DataTree || focused instanceof vscode_vscode_vs_base_browser_ui_tree_asyncDataTree__WEBPACK_IMPORTED_MODULE_9__.AsyncDataTree) {
            const tree = focused;
            const focus = tree.getFocus();
            const selection = tree.getSelection();
            let start = undefined;
            if (focus.length > 0 && (selection.length === 0 || !selection.includes(focus[0]))) {
                start = focus[0];
            }
            if (!start && selection.length > 0) {
                start = selection[0];
            }
            let scope = undefined;
            if (!start) {
                scope = undefined;
            }
            else {
                scope = tree.getParentElement(start);
            }
            const newSelection = [];
            const visit = (node) => {
                for (const child of node.children) {
                    if (child.visible) {
                        newSelection.push(child.element);
                        if (!child.collapsed) {
                            visit(child);
                        }
                    }
                }
            };
            visit(tree.getNode(scope));
            if (scope && selection.length === newSelection.length) {
                newSelection.unshift(scope);
            }
            const fakeKeyboardEvent = ( (new KeyboardEvent('keydown')));
            tree.setSelection(newSelection, fakeKeyboardEvent);
        }
    }
});
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_1__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'list.toggleSelection',
    weight: 200 ,
    when: vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListFocusContextKey,
    primary: 2048  | 1024  | 3 ,
    handler: (accessor) => {
        const widget = accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService).lastFocusedList;
        if (!widget) {
            return;
        }
        const focus = widget.getFocus();
        if (focus.length === 0) {
            return;
        }
        const selection = widget.getSelection();
        const index = selection.indexOf(focus[0]);
        if (index > -1) {
            widget.setSelection([...selection.slice(0, index), ...selection.slice(index + 1)]);
        }
        else {
            widget.setSelection([...selection, focus[0]]);
        }
    }
});
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_1__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'list.showHover',
    weight: 200 ,
    primary: (0,vscode_vscode_vs_base_common_keyCodes__WEBPACK_IMPORTED_MODULE_0__.KeyChord)(2048  | 41 , 2048  | 39 ),
    when: vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListFocusContextKey,
    handler: async (accessor, ...args) => {
        const listService = accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService);
        const lastFocusedList = listService.lastFocusedList;
        if (!lastFocusedList) {
            return;
        }
        const focus = lastFocusedList.getFocus();
        if (!focus || (focus.length === 0)) {
            return;
        }
        const treeDOM = lastFocusedList.getHTMLElement();
        const scrollableElement = treeDOM.querySelector('.monaco-scrollable-element');
        const listRows = scrollableElement?.querySelector('.monaco-list-rows');
        const focusedElement = listRows?.querySelector('.focused');
        if (!focusedElement) {
            return;
        }
        const elementWithHover = getCustomHoverForElement(focusedElement);
        if (elementWithHover) {
            accessor.get(vscode_vscode_vs_platform_hover_browser_hover_service__WEBPACK_IMPORTED_MODULE_18__.IHoverService).showManagedHover(elementWithHover);
        }
    },
});
function getCustomHoverForElement(element) {
    if (element.matches('[custom-hover="true"]')) {
        return element;
    }
    const noneFocusableElementWithHover = element.querySelector('[custom-hover="true"]:not([tabindex]):not(.action-item)');
    if (noneFocusableElementWithHover) {
        return noneFocusableElementWithHover;
    }
    return undefined;
}
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_1__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'list.toggleExpand',
    weight: 200 ,
    when: vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListFocusContextKey,
    primary: 10 ,
    handler: (accessor) => {
        const focused = accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService).lastFocusedList;
        if (focused instanceof vscode_vscode_vs_base_browser_ui_tree_objectTree__WEBPACK_IMPORTED_MODULE_8__.ObjectTree || focused instanceof vscode_vscode_vs_base_browser_ui_tree_dataTree__WEBPACK_IMPORTED_MODULE_10__.DataTree || focused instanceof vscode_vscode_vs_base_browser_ui_tree_asyncDataTree__WEBPACK_IMPORTED_MODULE_9__.AsyncDataTree) {
            const tree = focused;
            const focus = tree.getFocus();
            if (focus.length > 0 && tree.isCollapsible(focus[0])) {
                tree.toggleCollapsed(focus[0]);
                return;
            }
        }
        selectElement(accessor, true);
    }
});
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_1__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'list.stickyScrolltoggleExpand',
    weight: 200  + 50,
    when: vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchTreeStickyScrollFocused,
    primary: 10 ,
    handler: (accessor) => {
        const widget = accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService).lastFocusedList;
        if (!widget || !(widget instanceof vscode_vscode_vs_base_browser_ui_tree_objectTree__WEBPACK_IMPORTED_MODULE_8__.ObjectTree || widget instanceof vscode_vscode_vs_base_browser_ui_tree_dataTree__WEBPACK_IMPORTED_MODULE_10__.DataTree || widget instanceof vscode_vscode_vs_base_browser_ui_tree_asyncDataTree__WEBPACK_IMPORTED_MODULE_9__.AsyncDataTree)) {
            return;
        }
        revealFocusedStickyScroll(widget);
    }
});
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_1__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'list.clear',
    weight: 200 ,
    when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_7__.ContextKeyExpr.and(vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListFocusContextKey, vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListHasSelectionOrFocus))),
    primary: 9 ,
    handler: (accessor) => {
        const widget = accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService).lastFocusedList;
        if (!widget) {
            return;
        }
        const selection = widget.getSelection();
        const fakeKeyboardEvent = ( (new KeyboardEvent('keydown')));
        if (selection.length > 1) {
            const useSelectionNavigation = vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListSelectionNavigation.getValue(widget.contextKeyService);
            if (useSelectionNavigation) {
                const focus = widget.getFocus();
                widget.setSelection([focus[0]], fakeKeyboardEvent);
            }
            else {
                widget.setSelection([], fakeKeyboardEvent);
            }
        }
        else {
            widget.setSelection([], fakeKeyboardEvent);
            widget.setFocus([], fakeKeyboardEvent);
        }
        widget.setAnchor(undefined);
    }
});
vscode_vscode_vs_platform_commands_common_commands__WEBPACK_IMPORTED_MODULE_11__.CommandsRegistry.registerCommand({
    id: 'list.triggerTypeNavigation',
    handler: (accessor) => {
        const widget = accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService).lastFocusedList;
        widget?.triggerTypeNavigation();
    }
});
vscode_vscode_vs_platform_commands_common_commands__WEBPACK_IMPORTED_MODULE_11__.CommandsRegistry.registerCommand({
    id: 'list.toggleFindMode',
    handler: (accessor) => {
        const widget = accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService).lastFocusedList;
        if (widget instanceof vscode_vscode_vs_base_browser_ui_tree_abstractTree__WEBPACK_IMPORTED_MODULE_13__.AbstractTree || widget instanceof vscode_vscode_vs_base_browser_ui_tree_asyncDataTree__WEBPACK_IMPORTED_MODULE_9__.AsyncDataTree) {
            const tree = widget;
            tree.findMode = tree.findMode === vscode_vscode_vs_base_browser_ui_tree_abstractTree__WEBPACK_IMPORTED_MODULE_13__.TreeFindMode.Filter ? vscode_vscode_vs_base_browser_ui_tree_abstractTree__WEBPACK_IMPORTED_MODULE_13__.TreeFindMode.Highlight : vscode_vscode_vs_base_browser_ui_tree_abstractTree__WEBPACK_IMPORTED_MODULE_13__.TreeFindMode.Filter;
        }
    }
});
vscode_vscode_vs_platform_commands_common_commands__WEBPACK_IMPORTED_MODULE_11__.CommandsRegistry.registerCommand({
    id: 'list.toggleFindMatchType',
    handler: (accessor) => {
        const widget = accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService).lastFocusedList;
        if (widget instanceof vscode_vscode_vs_base_browser_ui_tree_abstractTree__WEBPACK_IMPORTED_MODULE_13__.AbstractTree || widget instanceof vscode_vscode_vs_base_browser_ui_tree_asyncDataTree__WEBPACK_IMPORTED_MODULE_9__.AsyncDataTree) {
            const tree = widget;
            tree.findMatchType = tree.findMatchType === vscode_vscode_vs_base_browser_ui_tree_abstractTree__WEBPACK_IMPORTED_MODULE_13__.TreeFindMatchType.Contiguous ? vscode_vscode_vs_base_browser_ui_tree_abstractTree__WEBPACK_IMPORTED_MODULE_13__.TreeFindMatchType.Fuzzy : vscode_vscode_vs_base_browser_ui_tree_abstractTree__WEBPACK_IMPORTED_MODULE_13__.TreeFindMatchType.Contiguous;
        }
    }
});
vscode_vscode_vs_platform_commands_common_commands__WEBPACK_IMPORTED_MODULE_11__.CommandsRegistry.registerCommandAlias('list.toggleKeyboardNavigation', 'list.triggerTypeNavigation');
vscode_vscode_vs_platform_commands_common_commands__WEBPACK_IMPORTED_MODULE_11__.CommandsRegistry.registerCommandAlias('list.toggleFilterOnType', 'list.toggleFindMode');
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_1__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'list.find',
    weight: 200 ,
    when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_7__.ContextKeyExpr.and(vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.RawWorkbenchListFocusContextKey, vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListSupportsFind))),
    primary: 2048  | 512  | 36 ,
    secondary: [61 ],
    handler: (accessor) => {
        const widget = accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService).lastFocusedList;
        if (widget instanceof vscode_vscode_vs_base_browser_ui_list_listWidget__WEBPACK_IMPORTED_MODULE_2__.List || widget instanceof vscode_vscode_vs_base_browser_ui_list_listPaging__WEBPACK_IMPORTED_MODULE_5__.PagedList || widget instanceof vscode_vscode_vs_base_browser_ui_table_tableWidget__WEBPACK_IMPORTED_MODULE_12__.Table) ;
        else if (widget instanceof vscode_vscode_vs_base_browser_ui_tree_abstractTree__WEBPACK_IMPORTED_MODULE_13__.AbstractTree || widget instanceof vscode_vscode_vs_base_browser_ui_tree_asyncDataTree__WEBPACK_IMPORTED_MODULE_9__.AsyncDataTree) {
            const tree = widget;
            tree.openFind();
        }
    }
});
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_1__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'list.closeFind',
    weight: 200 ,
    when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_7__.ContextKeyExpr.and(vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.RawWorkbenchListFocusContextKey, vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchTreeFindOpen))),
    primary: 9 ,
    handler: (accessor) => {
        const widget = accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService).lastFocusedList;
        if (widget instanceof vscode_vscode_vs_base_browser_ui_tree_abstractTree__WEBPACK_IMPORTED_MODULE_13__.AbstractTree || widget instanceof vscode_vscode_vs_base_browser_ui_tree_asyncDataTree__WEBPACK_IMPORTED_MODULE_9__.AsyncDataTree) {
            const tree = widget;
            tree.closeFind();
        }
    }
});
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_1__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'list.scrollUp',
    weight: 200 ,
    when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_7__.ContextKeyExpr.and(vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListFocusContextKey, vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListScrollAtTopContextKey?.negate()))),
    primary: 2048  | 16 ,
    handler: accessor => {
        const focused = accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService).lastFocusedList;
        if (!focused) {
            return;
        }
        focused.scrollTop -= 10;
    }
});
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_1__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'list.scrollDown',
    weight: 200 ,
    when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_7__.ContextKeyExpr.and(
        vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListFocusContextKey,
        vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListScrollAtBottomContextKey?.negate()
    ))),
    primary: 2048  | 18 ,
    handler: accessor => {
        const focused = accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService).lastFocusedList;
        if (!focused) {
            return;
        }
        focused.scrollTop += 10;
    }
});
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_1__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'list.scrollLeft',
    weight: 200 ,
    when: vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListFocusContextKey,
    handler: accessor => {
        const focused = accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService).lastFocusedList;
        if (!focused) {
            return;
        }
        focused.scrollLeft -= 10;
    }
});
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_1__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'list.scrollRight',
    weight: 200 ,
    when: vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_3__.WorkbenchListFocusContextKey,
    handler: accessor => {
        const focused = accessor.get(vscode_vscode_vs_platform_list_browser_listService_service__WEBPACK_IMPORTED_MODULE_4__.IListService).lastFocusedList;
        if (!focused) {
            return;
        }
        focused.scrollLeft += 10;
    }
});
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(class ToggleStickyScroll extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.Action2 {
    constructor() {
        super({
            id: 'tree.toggleStickyScroll',
            title: {
                ...( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_17__.localize2)(4257, "Toggle Tree Sticky Scroll")),
                mnemonicTitle: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_17__.localize)(4258, "&&Toggle Tree Sticky Scroll")),
            },
            category: 'View',
            metadata: { description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_17__.localize)(
                4259,
                "Toggles Sticky Scroll widget at the top of tree structures such as the File Explorer and Debug variables View."
            )) },
            f1: true
        });
    }
    run(accessor) {
        const configurationService = accessor.get(vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_16__.IConfigurationService);
        const newValue = !configurationService.getValue('workbench.tree.enableStickyScroll');
        configurationService.updateValue('workbench.tree.enableStickyScroll', newValue);
    }
});


/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/actions/navigationActions.js":
/*!*****************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/actions/navigationActions.js ***!
  \*****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorGroupsService_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorGroupsService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorGroupsService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_layout_browser_layoutService_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/layout/browser/layoutService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/layout/browser/layoutService.service.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/platform/action/common/actionCommonCategories */ "./node_modules/vscode/vscode/src/vs/platform/action/common/actionCommonCategories.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_panecomposite_browser_panecomposite_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/panecomposite/browser/panecomposite.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/panecomposite/browser/panecomposite.service.js");
/* harmony import */ var vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/dom */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var vscode_vscode_vs_base_browser_window__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/window */ "./node_modules/vscode/vscode/src/vs/base/browser/window.js");










class BaseNavigationAction extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_3__.Action2 {
    constructor(options, direction) {
        super(options);
        this.direction = direction;
    }
    run(accessor) {
        const layoutService = accessor.get(vscode_vscode_vs_workbench_services_layout_browser_layoutService_service__WEBPACK_IMPORTED_MODULE_2__.IWorkbenchLayoutService);
        const editorGroupService = accessor.get(vscode_vscode_vs_workbench_services_editor_common_editorGroupsService_service__WEBPACK_IMPORTED_MODULE_1__.IEditorGroupsService);
        const paneCompositeService = accessor.get(vscode_vscode_vs_workbench_services_panecomposite_browser_panecomposite_service__WEBPACK_IMPORTED_MODULE_6__.IPaneCompositePartService);
        const isEditorFocus = layoutService.hasFocus("workbench.parts.editor" );
        const isPanelFocus = layoutService.hasFocus("workbench.parts.panel" );
        const isSidebarFocus = layoutService.hasFocus("workbench.parts.sidebar" );
        const isAuxiliaryBarFocus = layoutService.hasFocus("workbench.parts.auxiliarybar" );
        let neighborPart;
        if (isEditorFocus) {
            const didNavigate = this.navigateAcrossEditorGroup(this.toGroupDirection(this.direction), editorGroupService);
            if (didNavigate) {
                return;
            }
            neighborPart = layoutService.getVisibleNeighborPart("workbench.parts.editor" , this.direction);
        }
        if (isPanelFocus) {
            neighborPart = layoutService.getVisibleNeighborPart("workbench.parts.panel" , this.direction);
        }
        if (isSidebarFocus) {
            neighborPart = layoutService.getVisibleNeighborPart("workbench.parts.sidebar" , this.direction);
        }
        if (isAuxiliaryBarFocus) {
            neighborPart = neighborPart = layoutService.getVisibleNeighborPart("workbench.parts.auxiliarybar" , this.direction);
        }
        if (neighborPart === "workbench.parts.editor" ) {
            if (!this.navigateBackToEditorGroup(this.toGroupDirection(this.direction), editorGroupService)) {
                this.navigateToEditorGroup(this.direction === 3  ? 0  : 1 , editorGroupService);
            }
        }
        else if (neighborPart === "workbench.parts.sidebar" ) {
            this.navigateToSidebar(layoutService, paneCompositeService);
        }
        else if (neighborPart === "workbench.parts.panel" ) {
            this.navigateToPanel(layoutService, paneCompositeService);
        }
        else if (neighborPart === "workbench.parts.auxiliarybar" ) {
            this.navigateToAuxiliaryBar(layoutService, paneCompositeService);
        }
    }
    async navigateToPanel(layoutService, paneCompositeService) {
        if (!layoutService.isVisible("workbench.parts.panel" )) {
            return false;
        }
        const activePanel = paneCompositeService.getActivePaneComposite(1 );
        if (!activePanel) {
            return false;
        }
        const activePanelId = activePanel.getId();
        const res = await paneCompositeService.openPaneComposite(activePanelId, 1 , true);
        if (!res) {
            return false;
        }
        return res;
    }
    async navigateToSidebar(layoutService, paneCompositeService) {
        if (!layoutService.isVisible("workbench.parts.sidebar" )) {
            return false;
        }
        const activeViewlet = paneCompositeService.getActivePaneComposite(0 );
        if (!activeViewlet) {
            return false;
        }
        const activeViewletId = activeViewlet.getId();
        const viewlet = await paneCompositeService.openPaneComposite(activeViewletId, 0 , true);
        return !!viewlet;
    }
    async navigateToAuxiliaryBar(layoutService, paneCompositeService) {
        if (!layoutService.isVisible("workbench.parts.auxiliarybar" )) {
            return false;
        }
        const activePanel = paneCompositeService.getActivePaneComposite(2 );
        if (!activePanel) {
            return false;
        }
        const activePanelId = activePanel.getId();
        const res = await paneCompositeService.openPaneComposite(activePanelId, 2 , true);
        if (!res) {
            return false;
        }
        return res;
    }
    navigateAcrossEditorGroup(direction, editorGroupService) {
        return this.doNavigateToEditorGroup({ direction }, editorGroupService);
    }
    navigateToEditorGroup(location, editorGroupService) {
        return this.doNavigateToEditorGroup({ location }, editorGroupService);
    }
    navigateBackToEditorGroup(direction, editorGroupService) {
        if (!editorGroupService.activeGroup) {
            return false;
        }
        const oppositeDirection = this.toOppositeDirection(direction);
        const groupInBetween = editorGroupService.findGroup({ direction: oppositeDirection }, editorGroupService.activeGroup);
        if (!groupInBetween) {
            editorGroupService.activeGroup.focus();
            return true;
        }
        return false;
    }
    toGroupDirection(direction) {
        switch (direction) {
            case 1 : return 1 ;
            case 2 : return 2 ;
            case 3 : return 3 ;
            case 0 : return 0 ;
        }
    }
    toOppositeDirection(direction) {
        switch (direction) {
            case 0 : return 1 ;
            case 3 : return 2 ;
            case 2 : return 3 ;
            case 1 : return 0 ;
        }
    }
    doNavigateToEditorGroup(scope, editorGroupService) {
        const targetGroup = editorGroupService.findGroup(scope, editorGroupService.activeGroup);
        if (targetGroup) {
            targetGroup.focus();
            return true;
        }
        return false;
    }
}
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_3__.registerAction2)(class extends BaseNavigationAction {
    constructor() {
        super({
            id: 'workbench.action.navigateLeft',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_0__.localize2)(4475, 'Navigate to the View on the Left')),
            category: vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_4__.Categories.View,
            f1: true
        }, 2 );
    }
});
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_3__.registerAction2)(class extends BaseNavigationAction {
    constructor() {
        super({
            id: 'workbench.action.navigateRight',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_0__.localize2)(4476, 'Navigate to the View on the Right')),
            category: vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_4__.Categories.View,
            f1: true
        }, 3 );
    }
});
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_3__.registerAction2)(class extends BaseNavigationAction {
    constructor() {
        super({
            id: 'workbench.action.navigateUp',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_0__.localize2)(4477, 'Navigate to the View Above')),
            category: vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_4__.Categories.View,
            f1: true
        }, 0 );
    }
});
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_3__.registerAction2)(class extends BaseNavigationAction {
    constructor() {
        super({
            id: 'workbench.action.navigateDown',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_0__.localize2)(4478, 'Navigate to the View Below')),
            category: vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_4__.Categories.View,
            f1: true
        }, 1 );
    }
});
class BaseFocusAction extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_3__.Action2 {
    constructor(options, focusNext) {
        super(options);
        this.focusNext = focusNext;
    }
    run(accessor) {
        const layoutService = accessor.get(vscode_vscode_vs_workbench_services_layout_browser_layoutService_service__WEBPACK_IMPORTED_MODULE_2__.IWorkbenchLayoutService);
        const editorService = accessor.get(vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_5__.IEditorService);
        this.focusNextOrPreviousPart(layoutService, editorService, this.focusNext);
    }
    findVisibleNeighbour(layoutService, part, next) {
        const activeWindow = (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_7__.getActiveWindow)();
        const windowIsAuxiliary = (0,vscode_vscode_vs_base_browser_window__WEBPACK_IMPORTED_MODULE_8__.isAuxiliaryWindow)(activeWindow);
        let neighbour;
        if (windowIsAuxiliary) {
            switch (part) {
                case "workbench.parts.editor" :
                    neighbour = "workbench.parts.statusbar" ;
                    break;
                default:
                    neighbour = "workbench.parts.editor" ;
            }
        }
        else {
            switch (part) {
                case "workbench.parts.editor" :
                    neighbour = next ? "workbench.parts.panel"  : "workbench.parts.sidebar" ;
                    break;
                case "workbench.parts.panel" :
                    neighbour = next ? "workbench.parts.auxiliarybar"  : "workbench.parts.editor" ;
                    break;
                case "workbench.parts.auxiliarybar" :
                    neighbour = next ? "workbench.parts.statusbar"  : "workbench.parts.panel" ;
                    break;
                case "workbench.parts.statusbar" :
                    neighbour = next ? "workbench.parts.activitybar"  : "workbench.parts.auxiliarybar" ;
                    break;
                case "workbench.parts.activitybar" :
                    neighbour = next ? "workbench.parts.sidebar"  : "workbench.parts.statusbar" ;
                    break;
                case "workbench.parts.sidebar" :
                    neighbour = next ? "workbench.parts.editor"  : "workbench.parts.activitybar" ;
                    break;
                default:
                    neighbour = "workbench.parts.editor" ;
            }
        }
        if (layoutService.isVisible(neighbour, activeWindow) || neighbour === "workbench.parts.editor" ) {
            return neighbour;
        }
        return this.findVisibleNeighbour(layoutService, neighbour, next);
    }
    focusNextOrPreviousPart(layoutService, editorService, next) {
        let currentlyFocusedPart;
        if (editorService.activeEditorPane?.hasFocus() || layoutService.hasFocus("workbench.parts.editor" )) {
            currentlyFocusedPart = "workbench.parts.editor" ;
        }
        else if (layoutService.hasFocus("workbench.parts.activitybar" )) {
            currentlyFocusedPart = "workbench.parts.activitybar" ;
        }
        else if (layoutService.hasFocus("workbench.parts.statusbar" )) {
            currentlyFocusedPart = "workbench.parts.statusbar" ;
        }
        else if (layoutService.hasFocus("workbench.parts.sidebar" )) {
            currentlyFocusedPart = "workbench.parts.sidebar" ;
        }
        else if (layoutService.hasFocus("workbench.parts.auxiliarybar" )) {
            currentlyFocusedPart = "workbench.parts.auxiliarybar" ;
        }
        else if (layoutService.hasFocus("workbench.parts.panel" )) {
            currentlyFocusedPart = "workbench.parts.panel" ;
        }
        layoutService.focusPart(currentlyFocusedPart ? this.findVisibleNeighbour(layoutService, currentlyFocusedPart, next) : "workbench.parts.editor" , (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_7__.getActiveWindow)());
    }
}
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_3__.registerAction2)(class extends BaseFocusAction {
    constructor() {
        super({
            id: 'workbench.action.focusNextPart',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_0__.localize2)(4479, 'Focus Next Part')),
            category: vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_4__.Categories.View,
            f1: true,
            keybinding: {
                primary: 64 ,
                weight: 200
            }
        }, true);
    }
});
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_3__.registerAction2)(class extends BaseFocusAction {
    constructor() {
        super({
            id: 'workbench.action.focusPreviousPart',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_0__.localize2)(4480, 'Focus Previous Part')),
            category: vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_4__.Categories.View,
            f1: true,
            keybinding: {
                primary: 1024  | 64 ,
                weight: 200
            }
        }, false);
    }
});


/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/media/style.css.js":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/media/style.css.js ***!
  \*******************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ css),
/* harmony export */   "default": () => (/* binding */ css)
/* harmony export */ });
/* harmony import */ var vscode_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js */ "./node_modules/vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js");


var css = "@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.mac .monaco-workbench-part,.mac.monaco-workbench-part{font-family:-apple-system,BlinkMacSystemFont,sans-serif}.mac:lang(zh-Hans) .monaco-workbench-part,.mac:lang(zh-Hans).monaco-workbench-part{font-family:-apple-system,BlinkMacSystemFont,PingFang SC,Hiragino Sans GB,sans-serif}.mac:lang(zh-Hant) .monaco-workbench-part,.mac:lang(zh-Hant).monaco-workbench-part{font-family:-apple-system,BlinkMacSystemFont,PingFang TC,sans-serif}.mac:lang(ja) .monaco-workbench-part,.mac:lang(ja).monaco-workbench-part{font-family:-apple-system,BlinkMacSystemFont,Hiragino Kaku Gothic Pro,sans-serif}.mac:lang(ko) .monaco-workbench-part,.mac:lang(ko).monaco-workbench-part{font-family:-apple-system,BlinkMacSystemFont,Nanum Gothic,Apple SD Gothic Neo,AppleGothic,sans-serif}.windows .monaco-workbench-part,.windows.monaco-workbench-part{font-family:Segoe WPC,Segoe UI,sans-serif}.windows:lang(zh-Hans) .monaco-workbench-part,.windows:lang(zh-Hans).monaco-workbench-part{font-family:Segoe WPC,Segoe UI,Microsoft YaHei,sans-serif}.windows:lang(zh-Hant) .monaco-workbench-part,.windows:lang(zh-Hant).monaco-workbench-part{font-family:Segoe WPC,Segoe UI,Microsoft Jhenghei,sans-serif}.windows:lang(ja) .monaco-workbench-part,.windows:lang(ja).monaco-workbench-part{font-family:Segoe WPC,Segoe UI,Yu Gothic UI,Meiryo UI,sans-serif}.windows:lang(ko) .monaco-workbench-part,.windows:lang(ko).monaco-workbench-part{font-family:Segoe WPC,Segoe UI,Malgun Gothic,Dotom,sans-serif}.linux .monaco-workbench-part,.linux.monaco-workbench-part{font-family:system-ui,Ubuntu,Droid Sans,sans-serif}.linux:lang(zh-Hans) .monaco-workbench-part,.linux:lang(zh-Hans).monaco-workbench-part{font-family:system-ui,Ubuntu,Droid Sans,Source Han Sans SC,Source Han Sans CN,Source Han Sans,sans-serif}.linux:lang(zh-Hant) .monaco-workbench-part,.linux:lang(zh-Hant).monaco-workbench-part{font-family:system-ui,Ubuntu,Droid Sans,Source Han Sans TC,Source Han Sans TW,Source Han Sans,sans-serif}.linux:lang(ja) .monaco-workbench-part,.linux:lang(ja).monaco-workbench-part{font-family:system-ui,Ubuntu,Droid Sans,Source Han Sans J,Source Han Sans JP,Source Han Sans,sans-serif}.linux:lang(ko) .monaco-workbench-part,.linux:lang(ko).monaco-workbench-part{font-family:system-ui,Ubuntu,Droid Sans,Source Han Sans K,Source Han Sans JR,Source Han Sans,UnDotum,FBaekmuk Gulim,sans-serif}.mac .monaco-workbench-part,.mac.monaco-workbench-part{--monaco-monospace-font:\"SF Mono\",Monaco,Menlo,Courier,monospace}.windows .monaco-workbench-part,.windows.monaco-workbench-part{--monaco-monospace-font:Consolas,\"Courier New\",monospace}.linux .monaco-workbench-part,.linux.monaco-workbench-part{--monaco-monospace-font:\"Ubuntu Mono\",\"Liberation Mono\",\"DejaVu Sans Mono\",\"Courier New\",monospace}.monaco-workbench-part{color:var(--vscode-foreground);font-size:13px;line-height:1.4em}.monaco-workbench-part.web,.monaco-workbench.web .monaco-workbench-part{touch-action:none}.monaco-workbench.border:not(.fullscreen){border:1px solid var(--window-border-color);box-sizing:border-box}.monaco-workbench.border.mac{border-radius:5px}.monaco-workbench.border.mac.macos-bigsur-or-newer{border-radius:10px}.monaco-workbench-part img{border:0}.monaco-workbench-part label{cursor:pointer}.monaco-workbench-part a{text-decoration:none}.monaco-workbench-part p>a{text-decoration:var(--text-link-decoration)}.monaco-workbench.underline-links .monaco-workbench-part{--text-link-decoration:underline}.monaco-workbench.hc-black .monaco-workbench-part p>a,.monaco-workbench.hc-black.monaco-workbench-part p>a,.monaco-workbench.hc-light .monaco-workbench-part p>a,.monaco-workbench.hc-light.monaco-workbench-part p>a{text-decoration:underline!important}.monaco-workbench-part a:active{background-color:inherit;color:inherit}.monaco-workbench-part a.plain,.monaco-workbench-part a.plain.hover,.monaco-workbench-part a.plain:hover{color:inherit;text-decoration:none}.monaco-workbench-part input{color:inherit;font-family:inherit;font-size:100%}.monaco-workbench-part table{color:inherit;font-size:inherit}.monaco-workbench-part input::placeholder{color:var(--vscode-input-placeholderForeground)}.monaco-workbench-part input::-webkit-input-placeholder{color:var(--vscode-input-placeholderForeground)}.monaco-workbench-part input::-moz-placeholder{color:var(--vscode-input-placeholderForeground)}.monaco-workbench-part textarea::placeholder{color:var(--vscode-input-placeholderForeground)}.monaco-workbench-part textarea::-webkit-input-placeholder{color:var(--vscode-input-placeholderForeground)}.monaco-workbench-part textarea::-moz-placeholder{color:var(--vscode-input-placeholderForeground)}.monaco-workbench-part .pointer{cursor:pointer}.monaco-workbench.mac.monaco-font-aliasing-antialiased .monaco-workbench-part,.monaco-workbench.mac.monaco-font-aliasing-antialiased.monaco-workbench-part{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.monaco-workbench.mac.monaco-font-aliasing-none .monaco-workbench-part,.monaco-workbench.mac.monaco-font-aliasing-none.monaco-workbench-part{-webkit-font-smoothing:none;-moz-osx-font-smoothing:unset}@media (-webkit-min-device-pixel-ratio:2),(min-resolution:192dpi){.monaco-workbench.mac.monaco-font-aliasing-auto .monaco-workbench-part,.monaco-workbench.mac.monaco-font-aliasing-auto.monaco-workbench-part{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}}.monaco-workbench-part .context-view{-webkit-app-region:no-drag}.monaco-workbench-part .codicon{color:var(--vscode-icon-foreground)}.monaco-workbench-part .codicon[class*=codicon-]{font-size:16px}.monaco-workbench-part .predefined-file-icon[class*=codicon-]:before{padding-left:3px;padding-right:3px;width:16px}.predefined-file-icon:before{font-family:codicon}.monaco-workbench:not(.file-icons-enabled) .predefined-file-icon[class*=codicon-]:before{content:unset!important}.monaco-workbench.modal-dialog-visible .monaco-progress-container.infinite .progress-bit{display:none}.monaco-workbench-part select{appearance:none;-webkit-appearance:none;-moz-appearance:none;border:1px solid;font-family:inherit}.monaco-workbench-part .select-container{position:relative}.monaco-workbench-part .select-container:after{bottom:0;content:var(--vscode-icon-chevron-down-content);font-family:var(--vscode-icon-chevron-down-font-family);font-size:16px;height:16px;line-height:16px;margin:auto;pointer-events:none;position:absolute;right:6px;top:0;width:16px}.monaco-workbench-part .synthetic-focus,.monaco-workbench-part [tabindex=\"-1\"]:focus,.monaco-workbench-part [tabindex=\"0\"]:focus,.monaco-workbench-part button:focus,.monaco-workbench-part input[type=button]:focus,.monaco-workbench-part input[type=checkbox]:focus,.monaco-workbench-part input[type=search]:focus,.monaco-workbench-part input[type=text]:focus,.monaco-workbench-part select:focus,.monaco-workbench-part textarea:focus{opacity:1;outline-color:var(--vscode-focusBorder);outline-offset:-1px;outline-style:solid;outline-width:1px}.monaco-workbench.hc-black .synthetic-focus input,.monaco-workbench.hc-light .synthetic-focus input{background:transparent}.monaco-workbench-part input[type=checkbox]:focus{outline-offset:2px}.monaco-workbench-part [tabindex=\"-1\"]:active,.monaco-workbench-part [tabindex=\"0\"]:active,.monaco-workbench-part input[type=button]:active,.monaco-workbench-part input[type=checkbox]:active,.monaco-workbench-part select:active{outline:0!important}.monaco-workbench.mac .monaco-workbench-part select:focus,.monaco-workbench.mac.monaco-workbench-part select:focus{border-color:transparent}.monaco-workbench .monaco-list:not(.element-focused):focus:before{content:\"\";height:100%;left:0;outline:1px solid;outline-color:var(--vscode-focusBorder);outline-offset:-1px;outline-style:solid;outline-width:1px;pointer-events:none;position:absolute;top:0;width:100%;z-index:15}.monaco-workbench .monaco-list .monaco-list-row .monaco-highlighted-label .highlight{color:var(--vscode-list-highlightForeground)}.monaco-workbench .monaco-list .monaco-list-row.focused .monaco-highlighted-label .highlight{color:var(--vscode-list-focusHighlightForeground)}.monaco-workbench-part .monaco-inputbox.error input[type=text]:focus,.monaco-workbench-part .monaco-inputbox.error.synthetic-focus,.monaco-workbench-part .monaco-inputbox.info input[type=text]:focus,.monaco-workbench-part .monaco-inputbox.info.synthetic-focus,.monaco-workbench-part .monaco-inputbox.warning input[type=text]:focus,.monaco-workbench-part .monaco-inputbox.warning.synthetic-focus,.monaco-workbench-part .monaco-list:focus,.monaco-workbench-part .synthetic-focus :focus{outline:0!important}.monaco-workbench-part a.monaco-link:hover{text-decoration:underline}.monaco-workbench-part .monaco-action-bar:not(.vertical) .action-label:not(.disabled):hover,.monaco-workbench-part .monaco-action-bar:not(.vertical) .monaco-dropdown-with-primary:not(.disabled):hover{background-color:var(--vscode-toolbar-hoverBackground)}.monaco-workbench-part .monaco-action-bar:not(.vertical) .action-item.active .action-label:not(.disabled),.monaco-workbench-part .monaco-action-bar:not(.vertical) .monaco-dropdown.active .action-label:not(.disabled){background-color:var(--vscode-toolbar-activeBackground)}.monaco-workbench-part .monaco-action-bar:not(.vertical) .action-item .action-label:hover:not(.disabled){outline:1px dashed var(--vscode-toolbar-hoverOutline);outline-offset:-1px}";
(0,vscode_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__["default"])(css,{});




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/activitybar/activitybarPart.js":
/*!*************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/activitybar/activitybarPart.js ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ActivityBarCompositeBar: () => (/* binding */ ActivityBarCompositeBar),
/* harmony export */   ActivitybarPart: () => (/* binding */ ActivitybarPart)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _media_activitybarpart_css_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./media/activitybarpart.css.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/activitybar/media/activitybarpart.css.js");
/* harmony import */ var _media_activityaction_css_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./media/activityaction.css.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/activitybar/media/activityaction.css.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_part__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/part */ "./node_modules/vscode/vscode/src/vs/workbench/browser/part.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_layout_browser_layoutService_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/layout/browser/layoutService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/layout/browser/layoutService.service.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_actions_layoutActions__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/actions/layoutActions */ "./node_modules/vscode/vscode/src/vs/workbench/browser/actions/layoutActions.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_themeService__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/themeService */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_themeService_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/themeService.service */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/theme */ "./node_modules/vscode/vscode/src/vs/workbench/common/theme.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colorUtils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colorUtils */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colorUtils.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_baseColors__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/baseColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/baseColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_chartsColors__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/chartsColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/chartsColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_editorColors__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/editorColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/editorColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_inputColors__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/inputColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/inputColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_listColors__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/listColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/listColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_menuColors__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/menuColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/menuColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_minimapColors__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/minimapColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/minimapColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_miscColors__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/miscColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/miscColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_quickpickColors__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/quickpickColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/quickpickColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_searchColors__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/searchColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/searchColors.js");
/* harmony import */ var vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/dom */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! vscode/vscode/vs/base/common/types */ "./node_modules/vscode/vscode/src/vs/base/common/types.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_titlebar_menubarControl__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/titlebar/menubarControl */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/titlebar/menubarControl.js");
/* harmony import */ var vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! vscode/vscode/vs/platform/configuration/common/configuration.service */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var vscode_vscode_vs_platform_window_common_window__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! vscode/vscode/vs/platform/window/common/window */ "./node_modules/vscode/vscode/src/vs/platform/window/common/window.js");
/* harmony import */ var vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! vscode/vscode/vs/base/common/actions */ "./node_modules/vscode/vscode/src/vs/base/common/actions.js");
/* harmony import */ var vscode_vscode_vs_base_browser_keyboardEvent__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/keyboardEvent */ "./node_modules/vscode/vscode/src/vs/base/browser/keyboardEvent.js");
/* harmony import */ var _paneCompositeBar_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../paneCompositeBar.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/paneCompositeBar.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_globalCompositeBar__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/globalCompositeBar */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/globalCompositeBar.js");
/* harmony import */ var vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! vscode/vscode/vs/platform/storage/common/storage.service */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions_service__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions.service */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.service.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey.service */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! vscode/vscode/vs/platform/action/common/actionCommonCategories */ "./node_modules/vscode/vscode/src/vs/platform/action/common/actionCommonCategories.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_browser_menuEntryActionViewItem__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/browser/menuEntryActionViewItem */ "./node_modules/vscode/vscode/src/vs/platform/actions/browser/menuEntryActionViewItem.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/views */ "./node_modules/vscode/vscode/src/vs/workbench/common/views.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_views_service__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/views.service */ "./node_modules/vscode/vscode/src/vs/workbench/common/views.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_panecomposite_browser_panecomposite_service__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/panecomposite/browser/panecomposite.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/panecomposite/browser/panecomposite.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_extensions_common_extensions_service__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/extensions/common/extensions.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/extensions/common/extensions.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_environment_common_environmentService_service__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/environment/common/environmentService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/environment/common/environmentService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_views_common_viewsService_service__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/views/common/viewsService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/views/common/viewsService.service.js");














































var ActivitybarPart_1;
let ActivitybarPart = class ActivitybarPart extends vscode_vscode_vs_workbench_browser_part__WEBPACK_IMPORTED_MODULE_4__.Part {
    static { ActivitybarPart_1 = this; }
    static { this.ACTION_HEIGHT = 48; }
    static { this.pinnedViewContainersKey = 'workbench.activity.pinnedViewlets2'; }
    static { this.placeholderViewContainersKey = 'workbench.activity.placeholderViewlets'; }
    static { this.viewContainersWorkspaceStateKey = 'workbench.activity.viewletsWorkspaceState'; }
    constructor(paneCompositePart, instantiationService, layoutService, themeService, storageService) {
        super("workbench.parts.activitybar" , { hasTitle: false }, themeService, storageService, layoutService);
        this.paneCompositePart = paneCompositePart;
        this.instantiationService = instantiationService;
        this.minimumWidth = 48;
        this.maximumWidth = 48;
        this.minimumHeight = 0;
        this.maximumHeight = Number.POSITIVE_INFINITY;
        this.compositeBar = this._register(( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_7__.MutableDisposable())));
    }
    createCompositeBar() {
        return this.instantiationService.createInstance(ActivityBarCompositeBar, {
            partContainerClass: 'activitybar',
            pinnedViewContainersKey: ActivitybarPart_1.pinnedViewContainersKey,
            placeholderViewContainersKey: ActivitybarPart_1.placeholderViewContainersKey,
            viewContainersWorkspaceStateKey: ActivitybarPart_1.viewContainersWorkspaceStateKey,
            orientation: 1 ,
            icon: true,
            iconSize: 24,
            activityHoverOptions: {
                position: () => this.layoutService.getSideBarPosition() === 0  ? 1  : 0 ,
            },
            preventLoopNavigation: true,
            recomputeSizes: false,
            fillExtraContextMenuActions: (actions, e) => { },
            compositeSize: 52,
            colors: (theme) => ({
                activeForegroundColor: theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_11__.ACTIVITY_BAR_FOREGROUND),
                inactiveForegroundColor: theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_11__.ACTIVITY_BAR_INACTIVE_FOREGROUND),
                activeBorderColor: theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_11__.ACTIVITY_BAR_ACTIVE_BORDER),
                activeBackground: theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_11__.ACTIVITY_BAR_ACTIVE_BACKGROUND),
                badgeBackground: theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_11__.ACTIVITY_BAR_BADGE_BACKGROUND),
                badgeForeground: theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_11__.ACTIVITY_BAR_BADGE_FOREGROUND),
                dragAndDropBorder: theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_11__.ACTIVITY_BAR_DRAG_AND_DROP_BORDER),
                activeBackgroundColor: undefined, inactiveBackgroundColor: undefined, activeBorderBottomColor: undefined,
            }),
            overflowActionSize: ActivitybarPart_1.ACTION_HEIGHT,
        }, "workbench.parts.activitybar" , this.paneCompositePart, true);
    }
    createContentArea(parent) {
        this.element = parent;
        this.content = (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_23__.append)(this.element, (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_23__.$)('.content'));
        if (this.layoutService.isVisible("workbench.parts.activitybar" )) {
            this.show();
        }
        return this.content;
    }
    getPinnedPaneCompositeIds() {
        return this.compositeBar.value?.getPinnedPaneCompositeIds() ?? [];
    }
    getVisiblePaneCompositeIds() {
        return this.compositeBar.value?.getVisiblePaneCompositeIds() ?? [];
    }
    focus() {
        this.compositeBar.value?.focus();
    }
    updateStyles() {
        super.updateStyles();
        const container = (0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_24__.assertIsDefined)(this.getContainer());
        const background = this.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_11__.ACTIVITY_BAR_BACKGROUND) || '';
        container.style.backgroundColor = background;
        const borderColor = this.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_11__.ACTIVITY_BAR_BORDER) || this.getColor(vscode_vscode_vs_platform_theme_common_colors_baseColors__WEBPACK_IMPORTED_MODULE_13__.contrastBorder) || '';
        container.classList.toggle('bordered', !!borderColor);
        container.style.borderColor = borderColor ? borderColor : '';
    }
    show(focus) {
        if (!this.content) {
            return;
        }
        if (!this.compositeBar.value) {
            this.compositeBar.value = this.createCompositeBar();
            this.compositeBar.value.create(this.content);
            if (this.dimension) {
                this.layout(this.dimension.width, this.dimension.height);
            }
        }
        if (focus) {
            this.focus();
        }
    }
    hide() {
        if (!this.compositeBar.value) {
            return;
        }
        this.compositeBar.clear();
        if (this.content) {
            (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_23__.clearNode)(this.content);
        }
    }
    layout(width, height) {
        super.layout(width, height, 0, 0);
        if (!this.compositeBar.value) {
            return;
        }
        const contentAreaSize = super.layoutContents(width, height).contentSize;
        this.compositeBar.value.layout(width, contentAreaSize.height);
    }
    toJSON() {
        return {
            type: "workbench.parts.activitybar"
        };
    }
};
ActivitybarPart = ActivitybarPart_1 = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_6__.IInstantiationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_workbench_services_layout_browser_layoutService_service__WEBPACK_IMPORTED_MODULE_5__.IWorkbenchLayoutService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_platform_theme_common_themeService_service__WEBPACK_IMPORTED_MODULE_10__.IThemeService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_32__.IStorageService)))
], ActivitybarPart)));
let ActivityBarCompositeBar = class ActivityBarCompositeBar extends _paneCompositeBar_js__WEBPACK_IMPORTED_MODULE_30__.PaneCompositeBar {
    constructor(options, part, paneCompositePart, showGlobalActivities, instantiationService, storageService, extensionService, viewDescriptorService, viewService, contextKeyService, environmentService, configurationService, menuService, layoutService) {
        super({
            ...options,
            fillExtraContextMenuActions: (actions, e) => {
                options.fillExtraContextMenuActions(actions, e);
                this.fillContextMenuActions(actions, e);
            }
        }, part, paneCompositePart, instantiationService, storageService, extensionService, viewDescriptorService, viewService, contextKeyService, environmentService, layoutService);
        this.configurationService = configurationService;
        this.menuService = menuService;
        this.keyboardNavigationDisposables = this._register(( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_7__.DisposableStore())));
        if (showGlobalActivities) {
            this.globalCompositeBar = this._register(instantiationService.createInstance(vscode_vscode_vs_workbench_browser_parts_globalCompositeBar__WEBPACK_IMPORTED_MODULE_31__.GlobalCompositeBar, () => this.getContextMenuActions(), (theme) => this.options.colors(theme), this.options.activityHoverOptions));
        }
        this._register(this.configurationService.onDidChangeConfiguration(e => {
            if (e.affectsConfiguration('window.menuBarVisibility')) {
                if ((0,vscode_vscode_vs_platform_window_common_window__WEBPACK_IMPORTED_MODULE_27__.getMenuBarVisibility)(this.configurationService) === 'compact') {
                    this.installMenubar();
                }
                else {
                    this.uninstallMenubar();
                }
            }
        }));
    }
    fillContextMenuActions(actions, e) {
        const menuBarVisibility = (0,vscode_vscode_vs_platform_window_common_window__WEBPACK_IMPORTED_MODULE_27__.getMenuBarVisibility)(this.configurationService);
        if (menuBarVisibility === 'compact' || menuBarVisibility === 'hidden' || menuBarVisibility === 'toggle') {
            actions.unshift(...[(0,vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_28__.toAction)({ id: 'toggleMenuVisibility', label: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(3755, "Menu")), checked: menuBarVisibility === 'compact', run: () => this.configurationService.updateValue('window.menuBarVisibility', menuBarVisibility === 'compact' ? 'toggle' : 'compact') }), ( (new vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_28__.Separator()))]);
        }
        if (menuBarVisibility === 'compact' && this.menuBarContainer && e?.target) {
            if ((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_23__.isAncestor)(e.target, this.menuBarContainer)) {
                actions.unshift(...[(0,vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_28__.toAction)({ id: 'hideCompactMenu', label: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(3756, "Hide Menu")), run: () => this.configurationService.updateValue('window.menuBarVisibility', 'toggle') }), ( (new vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_28__.Separator()))]);
            }
        }
        if (this.globalCompositeBar) {
            actions.push(( (new vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_28__.Separator())));
            actions.push(...this.globalCompositeBar.getContextMenuActions());
        }
        actions.push(( (new vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_28__.Separator())));
        actions.push(...this.getActivityBarContextMenuActions());
    }
    uninstallMenubar() {
        if (this.menuBar) {
            this.menuBar.dispose();
            this.menuBar = undefined;
        }
        if (this.menuBarContainer) {
            this.menuBarContainer.remove();
            this.menuBarContainer = undefined;
        }
    }
    installMenubar() {
        if (this.menuBar) {
            return;
        }
        this.menuBarContainer = document.createElement('div');
        this.menuBarContainer.classList.add('menubar');
        const content = (0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_24__.assertIsDefined)(this.element);
        content.prepend(this.menuBarContainer);
        this.menuBar = this._register(this.instantiationService.createInstance(vscode_vscode_vs_workbench_browser_parts_titlebar_menubarControl__WEBPACK_IMPORTED_MODULE_25__.CustomMenubarControl));
        this.menuBar.create(this.menuBarContainer);
    }
    registerKeyboardNavigationListeners() {
        this.keyboardNavigationDisposables.clear();
        if (this.menuBarContainer) {
            this.keyboardNavigationDisposables.add((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_23__.addDisposableListener)(this.menuBarContainer, vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_23__.EventType.KEY_DOWN, e => {
                const kbEvent = ( (new vscode_vscode_vs_base_browser_keyboardEvent__WEBPACK_IMPORTED_MODULE_29__.StandardKeyboardEvent(e)));
                if (kbEvent.equals(18 ) || kbEvent.equals(17 )) {
                    this.focus();
                }
            }));
        }
        if (this.compositeBarContainer) {
            this.keyboardNavigationDisposables.add((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_23__.addDisposableListener)(this.compositeBarContainer, vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_23__.EventType.KEY_DOWN, e => {
                const kbEvent = ( (new vscode_vscode_vs_base_browser_keyboardEvent__WEBPACK_IMPORTED_MODULE_29__.StandardKeyboardEvent(e)));
                if (kbEvent.equals(18 ) || kbEvent.equals(17 )) {
                    this.globalCompositeBar?.focus();
                }
                else if (kbEvent.equals(16 ) || kbEvent.equals(15 )) {
                    this.menuBar?.toggleFocus();
                }
            }));
        }
        if (this.globalCompositeBar) {
            this.keyboardNavigationDisposables.add((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_23__.addDisposableListener)(this.globalCompositeBar.element, vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_23__.EventType.KEY_DOWN, e => {
                const kbEvent = ( (new vscode_vscode_vs_base_browser_keyboardEvent__WEBPACK_IMPORTED_MODULE_29__.StandardKeyboardEvent(e)));
                if (kbEvent.equals(16 ) || kbEvent.equals(15 )) {
                    this.focus(this.getVisiblePaneCompositeIds().length - 1);
                }
            }));
        }
    }
    create(parent) {
        this.element = parent;
        if ((0,vscode_vscode_vs_platform_window_common_window__WEBPACK_IMPORTED_MODULE_27__.getMenuBarVisibility)(this.configurationService) === 'compact') {
            this.installMenubar();
        }
        this.compositeBarContainer = super.create(this.element);
        if (this.globalCompositeBar) {
            this.globalCompositeBar.create(this.element);
        }
        this.registerKeyboardNavigationListeners();
        return this.compositeBarContainer;
    }
    layout(width, height) {
        if (this.menuBarContainer) {
            if (this.options.orientation === 1 ) {
                height -= this.menuBarContainer.clientHeight;
            }
            else {
                width -= this.menuBarContainer.clientWidth;
            }
        }
        if (this.globalCompositeBar) {
            if (this.options.orientation === 1 ) {
                height -= (this.globalCompositeBar.size() * ActivitybarPart.ACTION_HEIGHT);
            }
            else {
                width -= this.globalCompositeBar.element.clientWidth;
            }
        }
        super.layout(width, height);
    }
    getActivityBarContextMenuActions() {
        const activityBarPositionMenu = this.menuService.getMenuActions(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__.MenuId.ActivityBarPositionMenu, this.contextKeyService, { shouldForwardArgs: true, renderShortTitle: true });
        const positionActions = [];
        (0,vscode_vscode_vs_platform_actions_browser_menuEntryActionViewItem__WEBPACK_IMPORTED_MODULE_38__.createAndFillInContextMenuActions)(activityBarPositionMenu, { primary: [], secondary: positionActions });
        return [
            ( (new vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_28__.SubmenuAction('workbench.action.panel.position', ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(3757, "Activity Bar Position")), positionActions))),
            (0,vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_28__.toAction)({ id: vscode_vscode_vs_workbench_browser_actions_layoutActions__WEBPACK_IMPORTED_MODULE_8__.ToggleSidebarPositionAction.ID, label: vscode_vscode_vs_workbench_browser_actions_layoutActions__WEBPACK_IMPORTED_MODULE_8__.ToggleSidebarPositionAction.getLabel(this.layoutService), run: () => this.instantiationService.invokeFunction(accessor => ( (new vscode_vscode_vs_workbench_browser_actions_layoutActions__WEBPACK_IMPORTED_MODULE_8__.ToggleSidebarPositionAction())).run(accessor)) })
        ];
    }
};
ActivityBarCompositeBar = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_6__.IInstantiationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_32__.IStorageService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, vscode_vscode_vs_workbench_services_extensions_common_extensions_service__WEBPACK_IMPORTED_MODULE_42__.IExtensionService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, vscode_vscode_vs_workbench_common_views_service__WEBPACK_IMPORTED_MODULE_40__.IViewDescriptorService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, vscode_vscode_vs_workbench_services_views_common_viewsService_service__WEBPACK_IMPORTED_MODULE_44__.IViewsService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_36__.IContextKeyService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, vscode_vscode_vs_workbench_services_environment_common_environmentService_service__WEBPACK_IMPORTED_MODULE_43__.IWorkbenchEnvironmentService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(11, vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_26__.IConfigurationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(12, vscode_vscode_vs_platform_actions_common_actions_service__WEBPACK_IMPORTED_MODULE_34__.IMenuService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(13, vscode_vscode_vs_workbench_services_layout_browser_layoutService_service__WEBPACK_IMPORTED_MODULE_5__.IWorkbenchLayoutService)))
], ActivityBarCompositeBar)));
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__.registerAction2)(class extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.activityBarLocation.default',
            title: {
                ...( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize2)(3758, 'Move Activity Bar to Side')),
                mnemonicTitle: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(3759, "&&Default")),
            },
            shortTitle: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(3760, "Default")),
            category: vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_37__.Categories.View,
            toggled: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_35__.ContextKeyExpr.equals(
                `config.${"workbench.activityBar.location" }`,
                "default"
            ))),
            menu: [{
                    id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__.MenuId.ActivityBarPositionMenu,
                    order: 1
                }, {
                    id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__.MenuId.CommandPalette,
                    when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_35__.ContextKeyExpr.notEquals(
                        `config.${"workbench.activityBar.location" }`,
                        "default"
                    ))),
                }]
        });
    }
    run(accessor) {
        const configurationService = accessor.get(vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_26__.IConfigurationService);
        configurationService.updateValue("workbench.activityBar.location" , "default" );
    }
});
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__.registerAction2)(class extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.activityBarLocation.top',
            title: {
                ...( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize2)(3761, 'Move Activity Bar to Top')),
                mnemonicTitle: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(3762, "&&Top")),
            },
            shortTitle: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(3763, "Top")),
            category: vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_37__.Categories.View,
            toggled: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_35__.ContextKeyExpr.equals(
                `config.${"workbench.activityBar.location" }`,
                "top"
            ))),
            menu: [{
                    id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__.MenuId.ActivityBarPositionMenu,
                    order: 2
                }, {
                    id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__.MenuId.CommandPalette,
                    when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_35__.ContextKeyExpr.notEquals(
                        `config.${"workbench.activityBar.location" }`,
                        "top"
                    ))),
                }]
        });
    }
    run(accessor) {
        const configurationService = accessor.get(vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_26__.IConfigurationService);
        configurationService.updateValue("workbench.activityBar.location" , "top" );
    }
});
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__.registerAction2)(class extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.activityBarLocation.bottom',
            title: {
                ...( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize2)(3764, 'Move Activity Bar to Bottom')),
                mnemonicTitle: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(3765, "&&Bottom")),
            },
            shortTitle: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(3766, "Bottom")),
            category: vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_37__.Categories.View,
            toggled: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_35__.ContextKeyExpr.equals(
                `config.${"workbench.activityBar.location" }`,
                "bottom"
            ))),
            menu: [{
                    id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__.MenuId.ActivityBarPositionMenu,
                    order: 3
                }, {
                    id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__.MenuId.CommandPalette,
                    when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_35__.ContextKeyExpr.notEquals(
                        `config.${"workbench.activityBar.location" }`,
                        "bottom"
                    ))),
                }]
        });
    }
    run(accessor) {
        const configurationService = accessor.get(vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_26__.IConfigurationService);
        configurationService.updateValue("workbench.activityBar.location" , "bottom" );
    }
});
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__.registerAction2)(class extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.activityBarLocation.hide',
            title: {
                ...( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize2)(3767, 'Hide Activity Bar')),
                mnemonicTitle: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(3768, "&&Hidden")),
            },
            shortTitle: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(3769, "Hidden")),
            category: vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_37__.Categories.View,
            toggled: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_35__.ContextKeyExpr.equals(
                `config.${"workbench.activityBar.location" }`,
                "hidden"
            ))),
            menu: [{
                    id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__.MenuId.ActivityBarPositionMenu,
                    order: 4
                }, {
                    id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__.MenuId.CommandPalette,
                    when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_35__.ContextKeyExpr.notEquals(
                        `config.${"workbench.activityBar.location" }`,
                        "hidden"
                    ))),
                }]
        });
    }
    run(accessor) {
        const configurationService = accessor.get(vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_26__.IConfigurationService);
        configurationService.updateValue("workbench.activityBar.location" , "hidden" );
    }
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__.MenuId.MenubarAppearanceMenu, {
    submenu: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__.MenuId.ActivityBarPositionMenu,
    title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(3770, "Activity Bar Position")),
    group: '3_workbench_layout_move',
    order: 2
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__.MenuId.ViewContainerTitleContext, {
    submenu: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__.MenuId.ActivityBarPositionMenu,
    title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(3770, "Activity Bar Position")),
    when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_35__.ContextKeyExpr.equals(
        'viewContainerLocation',
        (0,vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_39__.ViewContainerLocationToString)(0 )
    ))),
    group: '3_workbench_layout_move',
    order: 1
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__.MenuId.ViewTitleContext, {
    submenu: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__.MenuId.ActivityBarPositionMenu,
    title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(3770, "Activity Bar Position")),
    when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_35__.ContextKeyExpr.equals(
        'viewLocation',
        (0,vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_39__.ViewContainerLocationToString)(0 )
    ))),
    group: '3_workbench_layout_move',
    order: 1
});
class SwitchSideBarViewAction extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__.Action2 {
    constructor(desc, offset) {
        super(desc);
        this.offset = offset;
    }
    async run(accessor) {
        const paneCompositeService = accessor.get(vscode_vscode_vs_workbench_services_panecomposite_browser_panecomposite_service__WEBPACK_IMPORTED_MODULE_41__.IPaneCompositePartService);
        const visibleViewletIds = paneCompositeService.getVisiblePaneCompositeIds(0 );
        const activeViewlet = paneCompositeService.getActivePaneComposite(0 );
        if (!activeViewlet) {
            return;
        }
        let targetViewletId;
        for (let i = 0; i < visibleViewletIds.length; i++) {
            if (visibleViewletIds[i] === activeViewlet.getId()) {
                targetViewletId = visibleViewletIds[(i + visibleViewletIds.length + this.offset) % visibleViewletIds.length];
                break;
            }
        }
        await paneCompositeService.openPaneComposite(targetViewletId, 0 , true);
    }
}
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__.registerAction2)(class PreviousSideBarViewAction extends SwitchSideBarViewAction {
    constructor() {
        super({
            id: 'workbench.action.previousSideBarView',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize2)(3771, 'Previous Primary Side Bar View')),
            category: vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_37__.Categories.View,
            f1: true
        }, -1);
    }
});
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__.registerAction2)(class NextSideBarViewAction extends SwitchSideBarViewAction {
    constructor() {
        super({
            id: 'workbench.action.nextSideBarView',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize2)(3772, 'Next Primary Side Bar View')),
            category: vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_37__.Categories.View,
            f1: true
        }, 1);
    }
});
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__.registerAction2)(class FocusActivityBarAction extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.focusActivityBar',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize2)(3773, 'Focus Activity Bar')),
            category: vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_37__.Categories.View,
            f1: true
        });
    }
    async run(accessor) {
        const layoutService = accessor.get(vscode_vscode_vs_workbench_services_layout_browser_layoutService_service__WEBPACK_IMPORTED_MODULE_5__.IWorkbenchLayoutService);
        layoutService.focusPart("workbench.parts.activitybar" );
    }
});
(0,vscode_vscode_vs_platform_theme_common_themeService__WEBPACK_IMPORTED_MODULE_9__.registerThemingParticipant)((theme, collector) => {
    const activityBarActiveBorderColor = theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_11__.ACTIVITY_BAR_ACTIVE_BORDER);
    if (activityBarActiveBorderColor) {
        collector.addRule(`
			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item.checked .active-item-indicator:before {
				border-left-color: ${activityBarActiveBorderColor};
			}
		`);
    }
    const activityBarActiveFocusBorderColor = theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_11__.ACTIVITY_BAR_ACTIVE_FOCUS_BORDER);
    if (activityBarActiveFocusBorderColor) {
        collector.addRule(`
			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item.checked:focus::before {
				visibility: hidden;
			}

			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item.checked:focus .active-item-indicator:before {
				visibility: visible;
				border-left-color: ${activityBarActiveFocusBorderColor};
			}
		`);
    }
    const activityBarActiveBackgroundColor = theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_11__.ACTIVITY_BAR_ACTIVE_BACKGROUND);
    if (activityBarActiveBackgroundColor) {
        collector.addRule(`
			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item.checked .active-item-indicator {
				z-index: 0;
				background-color: ${activityBarActiveBackgroundColor};
			}
		`);
    }
    const outline = theme.getColor(vscode_vscode_vs_platform_theme_common_colors_baseColors__WEBPACK_IMPORTED_MODULE_13__.activeContrastBorder);
    if (outline) {
        collector.addRule(`
			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item .action-label::before{
				padding: 6px;
			}

			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item.active .action-label::before,
			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item.active:hover .action-label::before,
			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item.checked .action-label::before,
			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item.checked:hover .action-label::before {
				outline: 1px solid ${outline};
			}

			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item:hover .action-label::before {
				outline: 1px dashed ${outline};
			}

			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item:focus .active-item-indicator:before {
				border-left-color: ${outline};
			}
		`);
    }
    else {
        const focusBorderColor = theme.getColor(vscode_vscode_vs_platform_theme_common_colors_baseColors__WEBPACK_IMPORTED_MODULE_13__.focusBorder);
        if (focusBorderColor) {
            collector.addRule(`
				.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item:focus .active-item-indicator::before {
						border-left-color: ${focusBorderColor};
					}
				`);
        }
    }
});




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/activitybar/media/activityaction.css.js":
/*!**********************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/activitybar/media/activityaction.css.js ***!
  \**********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ css),
/* harmony export */   "default": () => (/* binding */ css)
/* harmony export */ });
/* harmony import */ var vscode_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js */ "./node_modules/vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js");


var css = ".monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item{display:block;position:relative}.monaco-workbench .activitybar>.content .composite-bar>.monaco-action-bar .action-item:after,.monaco-workbench .activitybar>.content .composite-bar>.monaco-action-bar .action-item:before{background-color:transparent;content:\"\";display:none;height:2px;position:absolute;transition-delay:.1s;transition-duration:0ms;transition-property:background-color;width:48px}.monaco-workbench .activitybar>.content.dragged-over .composite-bar>.monaco-action-bar .action-item:after,.monaco-workbench .activitybar>.content.dragged-over .composite-bar>.monaco-action-bar .action-item:before{display:block}.monaco-workbench .activitybar>.content>.composite-bar>.monaco-action-bar .action-item.bottom:after,.monaco-workbench .activitybar>.content>.composite-bar>.monaco-action-bar .action-item.bottom:before,.monaco-workbench .activitybar>.content>.composite-bar>.monaco-action-bar .action-item.top:after,.monaco-workbench .activitybar>.content>.composite-bar>.monaco-action-bar .action-item.top:before{transition-delay:0s}.monaco-workbench .activitybar>.content.dragged-over-head>.composite-bar>.monaco-action-bar .action-item:first-of-type:before,.monaco-workbench .activitybar>.content.dragged-over-tail>.composite-bar>.monaco-action-bar .action-item:last-of-type:after,.monaco-workbench .activitybar>.content>.composite-bar>.monaco-action-bar .action-item.bottom+.action-item:before,.monaco-workbench .activitybar>.content>.composite-bar>.monaco-action-bar .action-item.top:before,.monaco-workbench .activitybar>.content>.composite-bar>.monaco-action-bar .action-item:last-of-type.bottom:after{background-color:var(--insert-border-color)}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-label{box-sizing:border-box;display:flex;height:48px;margin-right:0;overflow:hidden;position:relative;width:48px;z-index:1}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-label:not(.codicon){font-size:15px;line-height:40px;padding:0 0 0 48px}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-label.codicon{align-items:center;font-size:24px;justify-content:center}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item.active .action-label.codicon,.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item:focus .action-label.codicon,.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item:hover .action-label.codicon{color:var(--vscode-activityBar-foreground)!important}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item.active .action-label.uri-icon,.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item:focus .action-label.uri-icon,.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item:hover .action-label.uri-icon{background-color:var(--vscode-activityBar-foreground)!important}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item.checked .active-item-indicator:before,.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item:focus .active-item-indicator:before{border-left:2px solid;content:\"\";height:100%;position:absolute;top:0;width:0;z-index:1}.monaco-workbench.hc-black .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item.checked .active-item-indicator:before,.monaco-workbench.hc-black .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item:focus .active-item-indicator:before{border-color:var(--vscode-activityBar-activeBorder)}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item.checked .active-item-indicator:before{height:100%;top:0}.monaco-workbench.hc-black .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item.checked:not(:focus) .active-item-indicator.action-item,.monaco-workbench.hc-light .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item.checked:not(:focus) .active-item-indicator{display:none}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item.clicked:focus .active-item-indicator:before,.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item.clicked:focus:before{border-left:none!important}.monaco-workbench .activitybar.left>.content :not(.monaco-menu)>.monaco-action-bar .action-item .active-item-indicator:before{left:0}.monaco-workbench .activitybar.right>.content :not(.monaco-menu)>.monaco-action-bar .action-item .active-item-indicator:before{right:0}.monaco-workbench.hc-black .activitybar.left>.content :not(.monaco-menu)>.monaco-action-bar .action-item:focus:before,.monaco-workbench.hc-black .activitybar.right>.content :not(.monaco-menu)>.monaco-action-bar .action-item:focus:before,.monaco-workbench.hc-light .activitybar.left>.content :not(.monaco-menu)>.monaco-action-bar .action-item:focus:before,.monaco-workbench.hc-light .activitybar.right>.content :not(.monaco-menu)>.monaco-action-bar .action-item:focus:before{outline:none}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .active-item-indicator,.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .badge,.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .profile-badge{bottom:0;height:100%;left:0;margin:auto;overflow:hidden;position:absolute;top:0;width:100%}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .active-item-indicator,.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .badge{z-index:2}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .profile-badge{z-index:1}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .active-item-indicator{pointer-events:none}.monaco-workbench.border .activitybar.right>.content :not(.monaco-menu)>.monaco-action-bar .active-item-indicator{left:-2px}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .badge .badge-content{border-radius:20px;font-size:9px;font-weight:600;height:16px;line-height:16px;min-width:8px;padding:0 4px;position:absolute;right:8px;text-align:center;top:24px}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .profile-badge .profile-text-overlay{background-color:var(--vscode-profileBadge-background);border:2px solid var(--vscode-activityBar-background);border-radius:7px;color:var(--vscode-profileBadge-foreground);font-size:9px;font-weight:600;line-height:10px;padding:2px 3px;position:absolute;right:6px;top:24px}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item:active .profile-text-overlay,.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item:focus .profile-text-overlay,.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .action-item:hover .profile-text-overlay{color:var(--vscode-activityBar-foreground)}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .badge .codicon.badge-content{font-size:12px;font-weight:unset;justify-content:center;padding:0}.monaco-workbench .activitybar>.content :not(.monaco-menu)>.monaco-action-bar .badge .codicon.badge-content:before{text-align:center;vertical-align:baseline}.monaco-workbench .activitybar.right>.content :not(.monaco-menu)>.monaco-action-bar .badge,.monaco-workbench .activitybar.right>.content :not(.monaco-menu)>.monaco-action-bar .profile-badge{left:auto;right:0}";
(0,vscode_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__["default"])(css,{});




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/activitybar/media/activitybarpart.css.js":
/*!***********************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/activitybar/media/activitybarpart.css.js ***!
  \***********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ css),
/* harmony export */   "default": () => (/* binding */ css)
/* harmony export */ });
/* harmony import */ var vscode_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js */ "./node_modules/vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js");


var css = ".monaco-workbench .part.activitybar{height:100%;width:48px}.monaco-workbench .activitybar.bordered:before{border-color:inherit;box-sizing:border-box;content:\"\";float:left;height:100%;position:absolute;width:0}.monaco-workbench .activitybar.left.bordered:before{border-right-style:solid;border-right-width:1px;right:0}.monaco-workbench .activitybar.right.bordered:before{border-left-style:solid;border-left-width:1px;left:0}.monaco-workbench .activitybar>.content{display:flex;flex-direction:column;height:100%;justify-content:space-between}.monaco-workbench .activitybar>.content .monaco-action-bar{background-color:inherit;text-align:left}.monaco-workbench .activitybar .action-item:focus{outline:0!important}.monaco-workbench .activitybar>.content>.composite-bar{margin-bottom:auto}.monaco-workbench .activitybar .menubar,.monaco-workbench .activitybar .menubar.compact .toolbar-toggle-more{height:35px;width:100%}";
(0,vscode_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__["default"])(css,{});




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/auxiliarybar/auxiliaryBarPart.js":
/*!***************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/auxiliarybar/auxiliaryBarPart.js ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AuxiliaryBarPart: () => (/* binding */ AuxiliaryBarPart)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _media_auxiliaryBarPart_css_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./media/auxiliaryBarPart.css.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/auxiliarybar/media/auxiliaryBarPart.css.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey.service */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var vscode_vscode_vs_platform_contextview_browser_contextView_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextview/browser/contextView.service */ "./node_modules/vscode/vscode/src/vs/platform/contextview/browser/contextView.service.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_platform_keybinding_common_keybinding_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/platform/keybinding/common/keybinding.service */ "./node_modules/vscode/vscode/src/vs/platform/keybinding/common/keybinding.service.js");
/* harmony import */ var vscode_vscode_vs_platform_notification_common_notification_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/platform/notification/common/notification.service */ "./node_modules/vscode/vscode/src/vs/platform/notification/common/notification.service.js");
/* harmony import */ var vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/platform/storage/common/storage.service */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colorUtils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colorUtils */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colorUtils.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_baseColors__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/baseColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/baseColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_chartsColors__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/chartsColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/chartsColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_editorColors__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/editorColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/editorColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_inputColors__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/inputColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/inputColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_listColors__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/listColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/listColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_menuColors__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/menuColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/menuColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_minimapColors__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/minimapColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/minimapColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_miscColors__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/miscColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/miscColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_quickpickColors__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/quickpickColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/quickpickColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_searchColors__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/searchColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/searchColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_themeService_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/themeService.service */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/contextkeys */ "./node_modules/vscode/vscode/src/vs/workbench/common/contextkeys.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/theme */ "./node_modules/vscode/vscode/src/vs/workbench/common/theme.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_views_service__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/views.service */ "./node_modules/vscode/vscode/src/vs/workbench/common/views.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_extensions_common_extensions_service__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/extensions/common/extensions.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/extensions/common/extensions.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_layout_browser_layoutService_service__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/layout/browser/layoutService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/layout/browser/layoutService.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! vscode/vscode/vs/base/common/actions */ "./node_modules/vscode/vscode/src/vs/base/common/actions.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_auxiliarybar_auxiliaryBarActions__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/auxiliarybar/auxiliaryBarActions */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/auxiliarybar/auxiliaryBarActions.js");
/* harmony import */ var vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! vscode/vscode/vs/base/common/types */ "./node_modules/vscode/vscode/src/vs/base/common/types.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_actions_layoutActions__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/actions/layoutActions */ "./node_modules/vscode/vscode/src/vs/workbench/browser/actions/layoutActions.js");
/* harmony import */ var vscode_vscode_vs_platform_commands_common_commands_service__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! vscode/vscode/vs/platform/commands/common/commands.service */ "./node_modules/vscode/vscode/src/vs/platform/commands/common/commands.service.js");
/* harmony import */ var _paneCompositePart_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../paneCompositePart.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/paneCompositePart.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_actionbar_actionbar__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/actionbar/actionbar */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/actionbar/actionbar.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions_service__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions.service */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.service.js");
/* harmony import */ var vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! vscode/vscode/vs/platform/configuration/common/configuration.service */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_browser_menuEntryActionViewItem__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/browser/menuEntryActionViewItem */ "./node_modules/vscode/vscode/src/vs/platform/actions/browser/menuEntryActionViewItem.js");
/* harmony import */ var vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/dom */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_browser_toolbar__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/browser/toolbar */ "./node_modules/vscode/vscode/src/vs/platform/actions/browser/toolbar.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_actionbar_actionViewItems__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/actionbar/actionViewItems */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/actionbar/actionViewItems.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_actions__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/actions */ "./node_modules/vscode/vscode/src/vs/workbench/browser/actions.js");
/* harmony import */ var vscode_vscode_vs_platform_hover_browser_hover_service__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! vscode/vscode/vs/platform/hover/browser/hover.service */ "./node_modules/vscode/vscode/src/vs/platform/hover/browser/hover.service.js");











































var AuxiliaryBarPart_1;
let AuxiliaryBarPart = class AuxiliaryBarPart extends _paneCompositePart_js__WEBPACK_IMPORTED_MODULE_31__.AbstractPaneCompositePart {
    static { AuxiliaryBarPart_1 = this; }
    static { this.activePanelSettingsKey = 'workbench.auxiliarybar.activepanelid'; }
    static { this.pinnedPanelsKey = 'workbench.auxiliarybar.pinnedPanels'; }
    static { this.placeholdeViewContainersKey = 'workbench.auxiliarybar.placeholderPanels'; }
    static { this.viewContainersWorkspaceStateKey = 'workbench.auxiliarybar.viewContainersWorkspaceState'; }
    get preferredHeight() {
        return this.layoutService.mainContainerDimension.height * 0.4;
    }
    get preferredWidth() {
        const activeComposite = this.getActivePaneComposite();
        if (!activeComposite) {
            return;
        }
        const width = activeComposite.getOptimalWidth();
        if (typeof width !== 'number') {
            return;
        }
        return Math.max(width, 300);
    }
    constructor(notificationService, storageService, contextMenuService, layoutService, keybindingService, hoverService, instantiationService, themeService, viewDescriptorService, contextKeyService, extensionService, commandService, menuService, configurationService) {
        super("workbench.parts.auxiliarybar" , {
            hasTitle: true,
            borderWidth: () => (this.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_22__.SIDE_BAR_BORDER) || this.getColor(vscode_vscode_vs_platform_theme_common_colors_baseColors__WEBPACK_IMPORTED_MODULE_10__.contrastBorder)) ? 1 : 0,
        }, AuxiliaryBarPart_1.activePanelSettingsKey, vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_21__.ActiveAuxiliaryContext.bindTo(contextKeyService), vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_21__.AuxiliaryBarFocusContext.bindTo(contextKeyService), 'auxiliarybar', 'auxiliarybar', undefined, notificationService, storageService, contextMenuService, layoutService, keybindingService, hoverService, instantiationService, themeService, viewDescriptorService, contextKeyService, extensionService, menuService);
        this.commandService = commandService;
        this.configurationService = configurationService;
        this.minimumWidth = 170;
        this.maximumWidth = Number.POSITIVE_INFINITY;
        this.minimumHeight = 0;
        this.maximumHeight = Number.POSITIVE_INFINITY;
        this.priority = 1 ;
        this._register(configurationService.onDidChangeConfiguration(e => {
            if (e.affectsConfiguration("workbench.activityBar.location" )) {
                this.onDidChangeActivityBarLocation();
            }
        }));
    }
    onDidChangeActivityBarLocation() {
        this.updateCompositeBar();
        const id = this.getActiveComposite()?.getId();
        if (id) {
            this.onTitleAreaUpdate(id);
        }
    }
    updateStyles() {
        super.updateStyles();
        const container = (0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_28__.assertIsDefined)(this.getContainer());
        container.style.backgroundColor = this.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_22__.SIDE_BAR_BACKGROUND) || '';
        const borderColor = this.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_22__.SIDE_BAR_BORDER) || this.getColor(vscode_vscode_vs_platform_theme_common_colors_baseColors__WEBPACK_IMPORTED_MODULE_10__.contrastBorder);
        const isPositionLeft = this.layoutService.getSideBarPosition() === 1 ;
        container.style.color = this.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_22__.SIDE_BAR_FOREGROUND) || '';
        container.style.borderLeftColor = borderColor ?? '';
        container.style.borderRightColor = borderColor ?? '';
        container.style.borderLeftStyle = borderColor && !isPositionLeft ? 'solid' : 'none';
        container.style.borderRightStyle = borderColor && isPositionLeft ? 'solid' : 'none';
        container.style.borderLeftWidth = borderColor && !isPositionLeft ? '1px' : '0px';
        container.style.borderRightWidth = borderColor && isPositionLeft ? '1px' : '0px';
    }
    getCompositeBarOptions() {
        const $this = this;
        return {
            partContainerClass: 'auxiliarybar',
            pinnedViewContainersKey: AuxiliaryBarPart_1.pinnedPanelsKey,
            placeholderViewContainersKey: AuxiliaryBarPart_1.placeholdeViewContainersKey,
            viewContainersWorkspaceStateKey: AuxiliaryBarPart_1.viewContainersWorkspaceStateKey,
            icon: true,
            orientation: 0 ,
            recomputeSizes: true,
            activityHoverOptions: {
                position: () => this.getCompositeBarPosition() === _paneCompositePart_js__WEBPACK_IMPORTED_MODULE_31__.CompositeBarPosition.BOTTOM ? 3  : 2 ,
            },
            fillExtraContextMenuActions: actions => this.fillExtraContextMenuActions(actions),
            compositeSize: 0,
            iconSize: 16,
            get overflowActionSize() { return $this.getCompositeBarPosition() === _paneCompositePart_js__WEBPACK_IMPORTED_MODULE_31__.CompositeBarPosition.TITLE ? 40 : 30; },
            colors: theme => ({
                activeBackgroundColor: theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_22__.SIDE_BAR_BACKGROUND),
                inactiveBackgroundColor: theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_22__.SIDE_BAR_BACKGROUND),
                get activeBorderBottomColor() { return $this.getCompositeBarPosition() === _paneCompositePart_js__WEBPACK_IMPORTED_MODULE_31__.CompositeBarPosition.TITLE ? theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_22__.PANEL_ACTIVE_TITLE_BORDER) : theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_22__.ACTIVITY_BAR_TOP_ACTIVE_BORDER); },
                get activeForegroundColor() { return $this.getCompositeBarPosition() === _paneCompositePart_js__WEBPACK_IMPORTED_MODULE_31__.CompositeBarPosition.TITLE ? theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_22__.PANEL_ACTIVE_TITLE_FOREGROUND) : theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_22__.ACTIVITY_BAR_TOP_FOREGROUND); },
                get inactiveForegroundColor() { return $this.getCompositeBarPosition() === _paneCompositePart_js__WEBPACK_IMPORTED_MODULE_31__.CompositeBarPosition.TITLE ? theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_22__.PANEL_INACTIVE_TITLE_FOREGROUND) : theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_22__.ACTIVITY_BAR_TOP_INACTIVE_FOREGROUND); },
                badgeBackground: theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_22__.ACTIVITY_BAR_BADGE_BACKGROUND),
                badgeForeground: theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_22__.ACTIVITY_BAR_BADGE_FOREGROUND),
                get dragAndDropBorder() { return $this.getCompositeBarPosition() === _paneCompositePart_js__WEBPACK_IMPORTED_MODULE_31__.CompositeBarPosition.TITLE ? theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_22__.PANEL_DRAG_AND_DROP_BORDER) : theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_22__.ACTIVITY_BAR_TOP_DRAG_AND_DROP_BORDER); }
            }),
            compact: true
        };
    }
    fillExtraContextMenuActions(actions) {
        const currentPositionRight = this.layoutService.getSideBarPosition() === 0 ;
        const viewsSubmenuAction = this.getViewsSubmenuAction();
        if (viewsSubmenuAction) {
            actions.push(( (new vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_26__.Separator())));
            actions.push(viewsSubmenuAction);
        }
        const activityBarPositionMenu = this.menuService.getMenuActions(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__.MenuId.ActivityBarPositionMenu, this.contextKeyService, { shouldForwardArgs: true, renderShortTitle: true });
        const positionActions = [];
        (0,vscode_vscode_vs_platform_actions_browser_menuEntryActionViewItem__WEBPACK_IMPORTED_MODULE_36__.createAndFillInContextMenuActions)(activityBarPositionMenu, { primary: [], secondary: positionActions });
        actions.push(...[
            ( (new vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_26__.Separator())),
            ( (new vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_26__.SubmenuAction('workbench.action.panel.position', ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__.localize)(3777, "Activity Bar Position")), positionActions))),
            (0,vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_26__.toAction)({ id: vscode_vscode_vs_workbench_browser_actions_layoutActions__WEBPACK_IMPORTED_MODULE_29__.ToggleSidebarPositionAction.ID, label: currentPositionRight ? ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__.localize)(3778, "Move Secondary Side Bar Left")) : ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__.localize)(3779, "Move Secondary Side Bar Right")), run: () => this.commandService.executeCommand(vscode_vscode_vs_workbench_browser_actions_layoutActions__WEBPACK_IMPORTED_MODULE_29__.ToggleSidebarPositionAction.ID) }),
            (0,vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_26__.toAction)({ id: vscode_vscode_vs_workbench_browser_parts_auxiliarybar_auxiliaryBarActions__WEBPACK_IMPORTED_MODULE_27__.ToggleAuxiliaryBarAction.ID, label: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__.localize)(3780, "Hide Secondary Side Bar")), run: () => this.commandService.executeCommand(vscode_vscode_vs_workbench_browser_parts_auxiliarybar_auxiliaryBarActions__WEBPACK_IMPORTED_MODULE_27__.ToggleAuxiliaryBarAction.ID) })
        ]);
    }
    shouldShowCompositeBar() {
        return this.configurationService.getValue("workbench.activityBar.location" ) !== "hidden" ;
    }
    getCompositeBarPosition() {
        const activityBarPosition = this.configurationService.getValue("workbench.activityBar.location" );
        switch (activityBarPosition) {
            case "top" : return _paneCompositePart_js__WEBPACK_IMPORTED_MODULE_31__.CompositeBarPosition.TOP;
            case "bottom" : return _paneCompositePart_js__WEBPACK_IMPORTED_MODULE_31__.CompositeBarPosition.BOTTOM;
            case "hidden" : return _paneCompositePart_js__WEBPACK_IMPORTED_MODULE_31__.CompositeBarPosition.TITLE;
            case "default" : return _paneCompositePart_js__WEBPACK_IMPORTED_MODULE_31__.CompositeBarPosition.TITLE;
            default: return _paneCompositePart_js__WEBPACK_IMPORTED_MODULE_31__.CompositeBarPosition.TITLE;
        }
    }
    createHeaderArea() {
        const headerArea = super.createHeaderArea();
        const globalHeaderContainer = (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_37__.$)('.auxiliary-bar-global-header');
        const menu = this.headerFooterCompositeBarDispoables.add(this.instantiationService.createInstance(vscode_vscode_vs_workbench_browser_actions__WEBPACK_IMPORTED_MODULE_40__.CompositeMenuActions, vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_33__.MenuId.AuxiliaryBarHeader, undefined, undefined));
        const toolBar = this.headerFooterCompositeBarDispoables.add(this.instantiationService.createInstance(vscode_vscode_vs_platform_actions_browser_toolbar__WEBPACK_IMPORTED_MODULE_38__.WorkbenchToolBar, globalHeaderContainer, {
            actionViewItemProvider: (action, options) => this.headerActionViewItemProvider(action, options),
            orientation: 0 ,
            hiddenItemStrategy: -1 ,
            getKeyBinding: action => this.keybindingService.lookupKeybinding(action.id),
        }));
        toolBar.setActions((0,vscode_vscode_vs_base_browser_ui_actionbar_actionbar__WEBPACK_IMPORTED_MODULE_32__.prepareActions)(menu.getPrimaryActions()));
        this.headerFooterCompositeBarDispoables.add(menu.onDidChange(() => toolBar.setActions((0,vscode_vscode_vs_base_browser_ui_actionbar_actionbar__WEBPACK_IMPORTED_MODULE_32__.prepareActions)(menu.getPrimaryActions()))));
        headerArea.appendChild(globalHeaderContainer);
        return headerArea;
    }
    headerActionViewItemProvider(action, options) {
        if (action.id === vscode_vscode_vs_workbench_browser_parts_auxiliarybar_auxiliaryBarActions__WEBPACK_IMPORTED_MODULE_27__.ToggleAuxiliaryBarAction.ID) {
            return this.instantiationService.createInstance(vscode_vscode_vs_base_browser_ui_actionbar_actionViewItems__WEBPACK_IMPORTED_MODULE_39__.ActionViewItem, undefined, action, options);
        }
        return undefined;
    }
    toJSON() {
        return {
            type: "workbench.parts.auxiliarybar"
        };
    }
};
AuxiliaryBarPart = AuxiliaryBarPart_1 = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_platform_notification_common_notification_service__WEBPACK_IMPORTED_MODULE_7__.INotificationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_8__.IStorageService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_platform_contextview_browser_contextView_service__WEBPACK_IMPORTED_MODULE_4__.IContextMenuService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_workbench_services_layout_browser_layoutService_service__WEBPACK_IMPORTED_MODULE_25__.IWorkbenchLayoutService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_platform_keybinding_common_keybinding_service__WEBPACK_IMPORTED_MODULE_6__.IKeybindingService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, vscode_vscode_vs_platform_hover_browser_hover_service__WEBPACK_IMPORTED_MODULE_41__.IHoverService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_5__.IInstantiationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, vscode_vscode_vs_platform_theme_common_themeService_service__WEBPACK_IMPORTED_MODULE_20__.IThemeService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, vscode_vscode_vs_workbench_common_views_service__WEBPACK_IMPORTED_MODULE_23__.IViewDescriptorService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_3__.IContextKeyService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, vscode_vscode_vs_workbench_services_extensions_common_extensions_service__WEBPACK_IMPORTED_MODULE_24__.IExtensionService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(11, vscode_vscode_vs_platform_commands_common_commands_service__WEBPACK_IMPORTED_MODULE_30__.ICommandService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(12, vscode_vscode_vs_platform_actions_common_actions_service__WEBPACK_IMPORTED_MODULE_34__.IMenuService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(13, vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_35__.IConfigurationService)))
], AuxiliaryBarPart)));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/auxiliarybar/media/auxiliaryBarPart.css.js":
/*!*************************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/auxiliarybar/media/auxiliaryBarPart.css.js ***!
  \*************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ css),
/* harmony export */   "default": () => (/* binding */ css)
/* harmony export */ });
/* harmony import */ var vscode_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js */ "./node_modules/vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js");


var css = ".monaco-workbench.noauxiliarybar .part.auxiliarybar{display:none!important;visibility:hidden!important}.monaco-workbench .part.auxiliarybar>.content .monaco-editor,.monaco-workbench .part.auxiliarybar>.content .monaco-editor .margin,.monaco-workbench .part.auxiliarybar>.content .monaco-editor .monaco-editor-background{background-color:var(--vscode-sideBar-background)}.monaco-workbench .part.auxiliarybar .title-actions .actions-container{justify-content:flex-end}.monaco-workbench .part.auxiliarybar .title-actions .action-item{margin-right:4px}.monaco-workbench .part.auxiliarybar>.title{background-color:var(--vscode-sideBarTitle-background)}.monaco-workbench .part.auxiliarybar>.title>.title-label{flex:1}.monaco-workbench .part.auxiliarybar>.title>.title-label h2{text-transform:uppercase}.monaco-workbench .part.auxiliarybar>.title>.composite-bar-container{flex:1}.monaco-workbench .part.auxiliarybar>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:focus,.monaco-workbench .part.auxiliarybar>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:focus{outline:0!important}.monaco-workbench .part.auxiliarybar>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item .action-label,.monaco-workbench .part.auxiliarybar>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item .action-label{border-radius:0;outline-offset:2px}.monaco-workbench .part.auxiliarybar>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item .action-label:before,.monaco-workbench .part.auxiliarybar>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item .action-label:before{left:5px;position:absolute}.monaco-workbench .part.auxiliarybar>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.checked.clicked:focus .active-item-indicator:before,.monaco-workbench .part.auxiliarybar>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.checked:not(:focus) .active-item-indicator:before{border-top-color:var(--vscode-panelTitle-activeBorder)!important}.monaco-workbench .part.auxiliarybar>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.checked.clicked:focus .active-item-indicator:before,.monaco-workbench .part.auxiliarybar>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.checked:not(:focus) .active-item-indicator:before{border-top-color:var(--vscode-activityBarTop-activeBorder)!important}.monaco-workbench .part.auxiliarybar>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:focus .action-label,.monaco-workbench .part.auxiliarybar>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:hover .action-label{color:var(--vscode-sideBarTitle-foreground)!important}.monaco-workbench .part.auxiliarybar>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:focus .action-label,.monaco-workbench .part.auxiliarybar>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:hover .action-label{color:var(--vscode-activityBarTop-foreground)!important}.monaco-workbench .part.auxiliarybar>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.checked .action-label,.monaco-workbench .part.auxiliarybar>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:hover .action-label,.monaco-workbench .part.auxiliarybar>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.checked .action-label,.monaco-workbench .part.auxiliarybar>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:hover .action-label{outline:var(--vscode-contrastActiveBorder,unset) solid 1px!important}.monaco-workbench .part.auxiliarybar>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:not(.checked):hover .action-label,.monaco-workbench .part.auxiliarybar>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:not(.checked):hover .action-label{outline:var(--vscode-contrastActiveBorder,unset) dashed 1px!important}.monaco-workbench .auxiliarybar.part.pane-composite-part>.composite.title>.title-actions{flex:inherit}.monaco-workbench .auxiliarybar.pane-composite-part>.title.has-composite-bar>.title-actions .monaco-action-bar .action-item{max-width:150px}";
(0,vscode_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__["default"])(css,{});




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/compositeBar.js":
/*!**********************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/compositeBar.js ***!
  \**********************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CompositeBar: () => (/* binding */ CompositeBar),
/* harmony export */   CompositeDragAndDrop: () => (/* binding */ CompositeDragAndDrop)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/common/actions */ "./node_modules/vscode/vscode/src/vs/base/common/actions.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_actionbar_actionbar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/actionbar/actionbar */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/actionbar/actionbar.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_compositeBarActions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/compositeBarActions */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/compositeBarActions.js");
/* harmony import */ var vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/dom */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var vscode_vscode_vs_base_browser_mouseEvent__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/mouseEvent */ "./node_modules/vscode/vscode/src/vs/base/browser/mouseEvent.js");
/* harmony import */ var vscode_vscode_vs_platform_contextview_browser_contextView_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextview/browser/contextView.service */ "./node_modules/vscode/vscode/src/vs/platform/contextview/browser/contextView.service.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_widget__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/widget */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/widget.js");
/* harmony import */ var vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/base/common/types */ "./node_modules/vscode/vscode/src/vs/base/common/types.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_views_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/views.service */ "./node_modules/vscode/vscode/src/vs/workbench/common/views.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_dnd__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/dnd */ "./node_modules/vscode/vscode/src/vs/workbench/browser/dnd.js");
/* harmony import */ var vscode_vscode_vs_base_browser_touch__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/touch */ "./node_modules/vscode/vscode/src/vs/base/browser/touch.js");
















class CompositeDragAndDrop {
    constructor(viewDescriptorService, targetContainerLocation, orientation, openComposite, moveComposite, getItems) {
        this.viewDescriptorService = viewDescriptorService;
        this.targetContainerLocation = targetContainerLocation;
        this.orientation = orientation;
        this.openComposite = openComposite;
        this.moveComposite = moveComposite;
        this.getItems = getItems;
    }
    drop(data, targetCompositeId, originalEvent, before) {
        const dragData = data.getData();
        if (dragData.type === 'composite') {
            const currentContainer = this.viewDescriptorService.getViewContainerById(dragData.id);
            const currentLocation = this.viewDescriptorService.getViewContainerLocation(currentContainer);
            if (currentLocation === this.targetContainerLocation) {
                if (targetCompositeId) {
                    this.moveComposite(dragData.id, targetCompositeId, before);
                }
            }
            else {
                this.viewDescriptorService.moveViewContainerToLocation(currentContainer, this.targetContainerLocation, this.getTargetIndex(targetCompositeId, before), 'dnd');
            }
        }
        if (dragData.type === 'view') {
            const viewToMove = this.viewDescriptorService.getViewDescriptorById(dragData.id);
            if (viewToMove && viewToMove.canMoveView) {
                this.viewDescriptorService.moveViewToLocation(viewToMove, this.targetContainerLocation, 'dnd');
                const newContainer = this.viewDescriptorService.getViewContainerByViewId(viewToMove.id);
                if (targetCompositeId) {
                    this.moveComposite(newContainer.id, targetCompositeId, before);
                }
                this.openComposite(newContainer.id, true).then(composite => {
                    composite?.openView(viewToMove.id, true);
                });
            }
        }
    }
    onDragEnter(data, targetCompositeId, originalEvent) {
        return this.canDrop(data, targetCompositeId);
    }
    onDragOver(data, targetCompositeId, originalEvent) {
        return this.canDrop(data, targetCompositeId);
    }
    getTargetIndex(targetId, before2d) {
        if (!targetId) {
            return undefined;
        }
        const items = this.getItems();
        const before = this.orientation === 0  ? before2d?.horizontallyBefore : before2d?.verticallyBefore;
        return items.filter(item => item.visible).findIndex(item => item.id === targetId) + (before ? 0 : 1);
    }
    canDrop(data, targetCompositeId) {
        const dragData = data.getData();
        if (dragData.type === 'composite') {
            const currentContainer = this.viewDescriptorService.getViewContainerById(dragData.id);
            const currentLocation = this.viewDescriptorService.getViewContainerLocation(currentContainer);
            if (currentLocation === this.targetContainerLocation) {
                return dragData.id !== targetCompositeId;
            }
            return true;
        }
        else {
            const viewDescriptor = this.viewDescriptorService.getViewDescriptorById(dragData.id);
            if (!viewDescriptor || !viewDescriptor.canMoveView) {
                return false;
            }
            return true;
        }
    }
}
class CompositeBarDndCallbacks {
    constructor(compositeBarContainer, actionBarContainer, compositeBarModel, dndHandler, orientation) {
        this.compositeBarContainer = compositeBarContainer;
        this.actionBarContainer = actionBarContainer;
        this.compositeBarModel = compositeBarModel;
        this.dndHandler = dndHandler;
        this.orientation = orientation;
        this.insertDropBefore = undefined;
    }
    onDragOver(e) {
        const visibleItems = this.compositeBarModel.visibleItems;
        if (!visibleItems.length || (e.eventData.target && (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_6__.isAncestor)(e.eventData.target, this.actionBarContainer))) {
            this.insertDropBefore = this.updateFromDragging(this.compositeBarContainer, false, false, true);
            return;
        }
        const insertAtFront = this.insertAtFront(this.actionBarContainer, e.eventData);
        const target = insertAtFront ? visibleItems[0] : visibleItems[visibleItems.length - 1];
        const validDropTarget = this.dndHandler.onDragOver(e.dragAndDropData, target.id, e.eventData);
        (0,vscode_vscode_vs_workbench_browser_dnd__WEBPACK_IMPORTED_MODULE_13__.toggleDropEffect)(e.eventData.dataTransfer, 'move', validDropTarget);
        this.insertDropBefore = this.updateFromDragging(this.compositeBarContainer, validDropTarget, insertAtFront, true);
    }
    onDragLeave(e) {
        this.insertDropBefore = this.updateFromDragging(this.compositeBarContainer, false, false, false);
    }
    onDragEnd(e) {
        this.insertDropBefore = this.updateFromDragging(this.compositeBarContainer, false, false, false);
    }
    onDrop(e) {
        const visibleItems = this.compositeBarModel.visibleItems;
        let targetId = undefined;
        if (visibleItems.length) {
            targetId = this.insertAtFront(this.actionBarContainer, e.eventData) ? visibleItems[0].id : visibleItems[visibleItems.length - 1].id;
        }
        this.dndHandler.drop(e.dragAndDropData, targetId, e.eventData, this.insertDropBefore);
        this.insertDropBefore = this.updateFromDragging(this.compositeBarContainer, false, false, false);
    }
    insertAtFront(element, event) {
        const rect = element.getBoundingClientRect();
        const posX = event.clientX;
        const posY = event.clientY;
        switch (this.orientation) {
            case 0 :
                return posX < rect.left;
            case 1 :
                return posY < rect.top;
        }
    }
    updateFromDragging(element, showFeedback, front, isDragging) {
        element.classList.toggle('dragged-over', isDragging);
        element.classList.toggle('dragged-over-head', showFeedback && front);
        element.classList.toggle('dragged-over-tail', showFeedback && !front);
        if (!showFeedback) {
            return undefined;
        }
        return { verticallyBefore: front, horizontallyBefore: front };
    }
}
let CompositeBar = class CompositeBar extends vscode_vscode_vs_base_browser_ui_widget__WEBPACK_IMPORTED_MODULE_9__.Widget {
    constructor(items, options, instantiationService, contextMenuService, viewDescriptorService) {
        super();
        this.options = options;
        this.instantiationService = instantiationService;
        this.contextMenuService = contextMenuService;
        this.viewDescriptorService = viewDescriptorService;
        this._onDidChange = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_11__.Emitter())));
        this.onDidChange = this._onDidChange.event;
        this.model = ( (new CompositeBarModel(items, options)));
        this.visibleComposites = [];
        this.compositeSizeInBar = ( (new Map()));
        this.computeSizes(this.model.visibleItems);
    }
    getCompositeBarItems() {
        return [...this.model.items];
    }
    setCompositeBarItems(items) {
        this.model.setItems(items);
        this.updateCompositeSwitcher(true);
    }
    getPinnedComposites() {
        return this.model.pinnedItems;
    }
    getVisibleComposites() {
        return this.model.visibleItems;
    }
    create(parent) {
        const actionBarDiv = parent.appendChild((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_6__.$)('.composite-bar'));
        this.compositeSwitcherBar = this._register(( (new vscode_vscode_vs_base_browser_ui_actionbar_actionbar__WEBPACK_IMPORTED_MODULE_4__.ActionBar(actionBarDiv, {
            actionViewItemProvider: (action, options) => {
                if (action instanceof vscode_vscode_vs_workbench_browser_parts_compositeBarActions__WEBPACK_IMPORTED_MODULE_5__.CompositeOverflowActivityAction) {
                    return this.compositeOverflowActionViewItem;
                }
                const item = this.model.findItem(action.id);
                return item && this.instantiationService.createInstance(vscode_vscode_vs_workbench_browser_parts_compositeBarActions__WEBPACK_IMPORTED_MODULE_5__.CompositeActionViewItem, { ...options, draggable: true, colors: this.options.colors, icon: this.options.icon, hoverOptions: this.options.activityHoverOptions, compact: this.options.compact }, action, item.pinnedAction, item.toggleBadgeAction, compositeId => this.options.getContextMenuActionsForComposite(compositeId), () => this.getContextMenuActions(), this.options.dndHandler, this);
            },
            orientation: this.options.orientation,
            ariaLabel: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(11274, "Active View Switcher")),
            ariaRole: 'tablist',
            preventLoopNavigation: this.options.preventLoopNavigation,
            triggerKeys: { keyDown: true }
        }))));
        this._register((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_6__.addDisposableListener)(parent, vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_6__.EventType.CONTEXT_MENU, e => this.showContextMenu((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_6__.getWindow)(parent), e)));
        this._register(vscode_vscode_vs_base_browser_touch__WEBPACK_IMPORTED_MODULE_14__.Gesture.addTarget(parent));
        this._register((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_6__.addDisposableListener)(parent, vscode_vscode_vs_base_browser_touch__WEBPACK_IMPORTED_MODULE_14__.EventType.Contextmenu, e => this.showContextMenu((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_6__.getWindow)(parent), e)));
        const dndCallback = ( (new CompositeBarDndCallbacks(
            parent,
            actionBarDiv,
            this.model,
            this.options.dndHandler,
            this.options.orientation
        )));
        this._register(vscode_vscode_vs_workbench_browser_dnd__WEBPACK_IMPORTED_MODULE_13__.CompositeDragAndDropObserver.INSTANCE.registerTarget(parent, dndCallback));
        return actionBarDiv;
    }
    focus(index) {
        this.compositeSwitcherBar?.focus(index);
    }
    recomputeSizes() {
        this.computeSizes(this.model.visibleItems);
        this.updateCompositeSwitcher();
    }
    layout(dimension) {
        this.dimension = dimension;
        if (dimension.height === 0 || dimension.width === 0) {
            return;
        }
        if (this.compositeSizeInBar.size === 0) {
            this.computeSizes(this.model.visibleItems);
        }
        this.updateCompositeSwitcher();
    }
    addComposite({ id, name, order, requestedIndex }) {
        if (this.model.add(id, name, order, requestedIndex)) {
            this.computeSizes([this.model.findItem(id)]);
            this.updateCompositeSwitcher();
        }
    }
    removeComposite(id) {
        if (this.isPinned(id)) {
            this.unpin(id);
        }
        if (this.model.remove(id)) {
            this.updateCompositeSwitcher();
        }
    }
    hideComposite(id) {
        if (this.model.hide(id)) {
            this.resetActiveComposite(id);
            this.updateCompositeSwitcher();
        }
    }
    activateComposite(id) {
        const previousActiveItem = this.model.activeItem;
        if (this.model.activate(id)) {
            if (this.visibleComposites.indexOf(id) === -1 || (!!this.model.activeItem && !this.model.activeItem.pinned) || (previousActiveItem && !previousActiveItem.pinned)) {
                this.updateCompositeSwitcher();
            }
        }
    }
    deactivateComposite(id) {
        const previousActiveItem = this.model.activeItem;
        if (this.model.deactivate()) {
            if (previousActiveItem && !previousActiveItem.pinned) {
                this.updateCompositeSwitcher();
            }
        }
    }
    async pin(compositeId, open) {
        if (this.model.setPinned(compositeId, true)) {
            this.updateCompositeSwitcher();
            if (open) {
                await this.options.openComposite(compositeId);
                this.activateComposite(compositeId);
            }
        }
    }
    unpin(compositeId) {
        if (this.model.setPinned(compositeId, false)) {
            this.updateCompositeSwitcher();
            this.resetActiveComposite(compositeId);
        }
    }
    areBadgesEnabled(compositeId) {
        return this.viewDescriptorService.getViewContainerBadgeEnablementState(compositeId);
    }
    toggleBadgeEnablement(compositeId) {
        this.viewDescriptorService.setViewContainerBadgeEnablementState(compositeId, !this.areBadgesEnabled(compositeId));
        this.updateCompositeSwitcher();
        const item = this.model.findItem(compositeId);
        if (item) {
            item.activityAction.activity = item.activityAction.activity;
        }
    }
    resetActiveComposite(compositeId) {
        const defaultCompositeId = this.options.getDefaultCompositeId();
        if (!this.model.activeItem || this.model.activeItem.id !== compositeId) {
            return;
        }
        this.deactivateComposite(compositeId);
        if (defaultCompositeId && defaultCompositeId !== compositeId && this.isPinned(defaultCompositeId)) {
            this.options.openComposite(defaultCompositeId, true);
        }
        else {
            this.options.openComposite(this.visibleComposites.filter(cid => cid !== compositeId)[0]);
        }
    }
    isPinned(compositeId) {
        const item = this.model.findItem(compositeId);
        return item?.pinned;
    }
    move(compositeId, toCompositeId, before) {
        if (before !== undefined) {
            const fromIndex = this.model.items.findIndex(c => c.id === compositeId);
            let toIndex = this.model.items.findIndex(c => c.id === toCompositeId);
            if (fromIndex >= 0 && toIndex >= 0) {
                if (!before && fromIndex > toIndex) {
                    toIndex++;
                }
                if (before && fromIndex < toIndex) {
                    toIndex--;
                }
                if (toIndex < this.model.items.length && toIndex >= 0 && toIndex !== fromIndex) {
                    if (this.model.move(this.model.items[fromIndex].id, this.model.items[toIndex].id)) {
                        setTimeout(() => this.updateCompositeSwitcher(), 0);
                    }
                }
            }
        }
        else {
            if (this.model.move(compositeId, toCompositeId)) {
                setTimeout(() => this.updateCompositeSwitcher(), 0);
            }
        }
    }
    getAction(compositeId) {
        const item = this.model.findItem(compositeId);
        return item?.activityAction;
    }
    computeSizes(items) {
        const size = this.options.compositeSize;
        if (size) {
            items.forEach(composite => this.compositeSizeInBar.set(composite.id, size));
        }
        else {
            const compositeSwitcherBar = this.compositeSwitcherBar;
            if (compositeSwitcherBar && this.dimension && this.dimension.height !== 0 && this.dimension.width !== 0) {
                const currentItemsLength = compositeSwitcherBar.viewItems.length;
                compositeSwitcherBar.push(( (items.map(composite => composite.activityAction))));
                items.forEach((composite, index) => this.compositeSizeInBar.set(composite.id, this.options.orientation === 1
                    ? compositeSwitcherBar.getHeight(currentItemsLength + index)
                    : compositeSwitcherBar.getWidth(currentItemsLength + index)));
                items.forEach(() => compositeSwitcherBar.pull(compositeSwitcherBar.viewItems.length - 1));
            }
        }
    }
    updateCompositeSwitcher(donotTrigger) {
        const compositeSwitcherBar = this.compositeSwitcherBar;
        if (!compositeSwitcherBar || !this.dimension) {
            return;
        }
        let compositesToShow = ( (this.model.visibleItems.filter(item => item.pinned
            || (this.model.activeItem && this.model.activeItem.id === item.id) ).map(item => item.id)));
        let maxVisible = compositesToShow.length;
        const totalComposites = compositesToShow.length;
        let size = 0;
        const limit = this.options.orientation === 1  ? this.dimension.height : this.dimension.width;
        for (let i = 0; i < compositesToShow.length; i++) {
            const compositeSize = this.compositeSizeInBar.get(compositesToShow[i]);
            if (size + compositeSize > limit) {
                maxVisible = i;
                break;
            }
            size += compositeSize;
        }
        if (totalComposites > maxVisible) {
            compositesToShow = compositesToShow.slice(0, maxVisible);
        }
        if (this.model.activeItem && compositesToShow.every(compositeId => !!this.model.activeItem && compositeId !== this.model.activeItem.id)) {
            size += this.compositeSizeInBar.get(this.model.activeItem.id);
            compositesToShow.push(this.model.activeItem.id);
        }
        while (size > limit && compositesToShow.length) {
            const removedComposite = compositesToShow.length > 1 ? compositesToShow.splice(compositesToShow.length - 2, 1)[0] : compositesToShow.pop();
            size -= this.compositeSizeInBar.get(removedComposite);
        }
        if (totalComposites > compositesToShow.length) {
            size += this.options.overflowActionSize;
        }
        while (size > limit && compositesToShow.length) {
            const removedComposite = compositesToShow.length > 1 && compositesToShow[compositesToShow.length - 1] === this.model.activeItem?.id ?
                compositesToShow.splice(compositesToShow.length - 2, 1)[0] : compositesToShow.pop();
            size -= this.compositeSizeInBar.get(removedComposite);
        }
        if (totalComposites === compositesToShow.length && this.compositeOverflowAction) {
            compositeSwitcherBar.pull(compositeSwitcherBar.length() - 1);
            this.compositeOverflowAction.dispose();
            this.compositeOverflowAction = undefined;
            this.compositeOverflowActionViewItem?.dispose();
            this.compositeOverflowActionViewItem = undefined;
        }
        const compositesToRemove = [];
        this.visibleComposites.forEach((compositeId, index) => {
            if (!compositesToShow.includes(compositeId)) {
                compositesToRemove.push(index);
            }
        });
        compositesToRemove.reverse().forEach(index => {
            compositeSwitcherBar.pull(index);
            this.visibleComposites.splice(index, 1);
        });
        compositesToShow.forEach((compositeId, newIndex) => {
            const currentIndex = this.visibleComposites.indexOf(compositeId);
            if (newIndex !== currentIndex) {
                if (currentIndex !== -1) {
                    compositeSwitcherBar.pull(currentIndex);
                    this.visibleComposites.splice(currentIndex, 1);
                }
                compositeSwitcherBar.push(this.model.findItem(compositeId).activityAction, { label: true, icon: this.options.icon, index: newIndex });
                this.visibleComposites.splice(newIndex, 0, compositeId);
            }
        });
        if (totalComposites > compositesToShow.length && !this.compositeOverflowAction) {
            this.compositeOverflowAction = this._register(this.instantiationService.createInstance(vscode_vscode_vs_workbench_browser_parts_compositeBarActions__WEBPACK_IMPORTED_MODULE_5__.CompositeOverflowActivityAction, () => {
                this.compositeOverflowActionViewItem?.showMenu();
            }));
            this.compositeOverflowActionViewItem = this._register(this.instantiationService.createInstance(vscode_vscode_vs_workbench_browser_parts_compositeBarActions__WEBPACK_IMPORTED_MODULE_5__.CompositeOverflowActivityActionViewItem, this.compositeOverflowAction, () => this.getOverflowingComposites(), () => this.model.activeItem ? this.model.activeItem.id : undefined, compositeId => {
                const item = this.model.findItem(compositeId);
                return item?.activity[0]?.badge;
            }, this.options.getOnCompositeClickAction, this.options.colors, this.options.activityHoverOptions));
            compositeSwitcherBar.push(this.compositeOverflowAction, { label: false, icon: true });
        }
        if (!donotTrigger) {
            this._onDidChange.fire();
        }
    }
    getOverflowingComposites() {
        let overflowingIds = ( (this.model.visibleItems.filter(item => item.pinned).map(item => item.id)));
        if (this.model.activeItem && !this.model.activeItem.pinned) {
            overflowingIds.push(this.model.activeItem.id);
        }
        overflowingIds = overflowingIds.filter(compositeId => !this.visibleComposites.includes(compositeId));
        return (
             (this.model.visibleItems.filter(c => overflowingIds.includes(c.id)).map(
                item => { return { id: item.id, name: this.getAction(item.id)?.label || item.name }; }
            ))
        );
    }
    showContextMenu(targetWindow, e) {
        vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_6__.EventHelper.stop(e, true);
        const event = ( (new vscode_vscode_vs_base_browser_mouseEvent__WEBPACK_IMPORTED_MODULE_7__.StandardMouseEvent(targetWindow, e)));
        this.contextMenuService.showContextMenu({
            getAnchor: () => event,
            getActions: () => this.getContextMenuActions(e)
        });
    }
    getContextMenuActions(e) {
        const actions = ( (this.model.visibleItems
            .map(({ id, name, activityAction }) => ((0,vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_2__.toAction)({
            id,
            label: this.getAction(id).label || name || id,
            checked: this.isPinned(id),
            enabled: activityAction.enabled,
            run: () => {
                if (this.isPinned(id)) {
                    this.unpin(id);
                }
                else {
                    this.pin(id, true);
                }
            }
        })))));
        this.options.fillExtraContextMenuActions(actions, e);
        return actions;
    }
};
CompositeBar = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_3__.IInstantiationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_platform_contextview_browser_contextView_service__WEBPACK_IMPORTED_MODULE_8__.IContextMenuService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_workbench_common_views_service__WEBPACK_IMPORTED_MODULE_12__.IViewDescriptorService)))
], CompositeBar)));
class CompositeBarModel {
    get items() { return this._items; }
    constructor(items, options) {
        this._items = [];
        this.options = options;
        this.setItems(items);
    }
    setItems(items) {
        this._items = [];
        this._items = ( (items
            .map(
            i => this.createCompositeBarItem(i.id, i.name, i.order, i.pinned, i.visible)
        )));
    }
    get visibleItems() {
        return this.items.filter(item => item.visible);
    }
    get pinnedItems() {
        return this.items.filter(item => item.visible && item.pinned);
    }
    createCompositeBarItem(id, name, order, pinned, visible) {
        const options = this.options;
        return {
            id, name, pinned, order, visible,
            activity: [],
            get activityAction() {
                return options.getActivityAction(id);
            },
            get pinnedAction() {
                return options.getCompositePinnedAction(id);
            },
            get toggleBadgeAction() {
                return options.getCompositeBadgeAction(id);
            }
        };
    }
    add(id, name, order, requestedIndex) {
        const item = this.findItem(id);
        if (item) {
            let changed = false;
            item.name = name;
            if (!(0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_10__.isUndefinedOrNull)(order)) {
                changed = item.order !== order;
                item.order = order;
            }
            if (!item.visible) {
                item.visible = true;
                changed = true;
            }
            return changed;
        }
        else {
            const item = this.createCompositeBarItem(id, name, order, true, true);
            if (!(0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_10__.isUndefinedOrNull)(requestedIndex)) {
                let index = 0;
                let rIndex = requestedIndex;
                while (rIndex > 0 && index < this.items.length) {
                    if (this.items[index++].visible) {
                        rIndex--;
                    }
                }
                this.items.splice(index, 0, item);
            }
            else if ((0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_10__.isUndefinedOrNull)(order)) {
                this.items.push(item);
            }
            else {
                let index = 0;
                while (index < this.items.length && typeof this.items[index].order === 'number' && this.items[index].order < order) {
                    index++;
                }
                this.items.splice(index, 0, item);
            }
            return true;
        }
    }
    remove(id) {
        for (let index = 0; index < this.items.length; index++) {
            if (this.items[index].id === id) {
                this.items.splice(index, 1);
                return true;
            }
        }
        return false;
    }
    hide(id) {
        for (const item of this.items) {
            if (item.id === id) {
                if (item.visible) {
                    item.visible = false;
                    return true;
                }
                return false;
            }
        }
        return false;
    }
    move(compositeId, toCompositeId) {
        const fromIndex = this.findIndex(compositeId);
        const toIndex = this.findIndex(toCompositeId);
        if (fromIndex === -1 || toIndex === -1) {
            return false;
        }
        const sourceItem = this.items.splice(fromIndex, 1)[0];
        this.items.splice(toIndex, 0, sourceItem);
        sourceItem.pinned = true;
        return true;
    }
    setPinned(id, pinned) {
        for (const item of this.items) {
            if (item.id === id) {
                if (item.pinned !== pinned) {
                    item.pinned = pinned;
                    return true;
                }
                return false;
            }
        }
        return false;
    }
    activate(id) {
        if (!this.activeItem || this.activeItem.id !== id) {
            if (this.activeItem) {
                this.deactivate();
            }
            for (const item of this.items) {
                if (item.id === id) {
                    this.activeItem = item;
                    this.activeItem.activityAction.activate();
                    return true;
                }
            }
        }
        return false;
    }
    deactivate() {
        if (this.activeItem) {
            this.activeItem.activityAction.deactivate();
            this.activeItem = undefined;
            return true;
        }
        return false;
    }
    findItem(id) {
        return this.items.filter(item => item.id === id)[0];
    }
    findIndex(id) {
        for (let index = 0; index < this.items.length; index++) {
            if (this.items[index].id === id) {
                return index;
            }
        }
        return -1;
    }
}




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/compositePart.js":
/*!***********************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/compositePart.js ***!
  \***********************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CompositePart: () => (/* binding */ CompositePart)
/* harmony export */ });
/* harmony import */ var _media_compositepart_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./media/compositepart.css.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/media/compositepart.css.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_base_common_idGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/common/idGenerator */ "./node_modules/vscode/vscode/src/vs/base/common/idGenerator.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_base_common_errors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/base/common/errors */ "./node_modules/vscode/vscode/src/vs/base/common/errors.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_actionbar_actionbar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/actionbar/actionbar */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/actionbar/actionbar.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_progressbar_progressbar__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/progressbar/progressbar */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/progressbar/progressbar.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_part__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/part */ "./node_modules/vscode/vscode/src/vs/workbench/browser/part.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_serviceCollection__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/serviceCollection */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/serviceCollection.js");
/* harmony import */ var vscode_vscode_vs_platform_progress_common_progress_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/platform/progress/common/progress.service */ "./node_modules/vscode/vscode/src/vs/platform/progress/common/progress.service.js");
/* harmony import */ var vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/dom */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/base/common/types */ "./node_modules/vscode/vscode/src/vs/base/common/types.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_browser_menuEntryActionViewItem__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/browser/menuEntryActionViewItem */ "./node_modules/vscode/vscode/src/vs/platform/actions/browser/menuEntryActionViewItem.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_progress_browser_progressIndicator__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/progress/browser/progressIndicator */ "./node_modules/vscode/vscode/src/vs/workbench/services/progress/browser/progressIndicator.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_browser_toolbar__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/browser/toolbar */ "./node_modules/vscode/vscode/src/vs/platform/actions/browser/toolbar.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_browser_defaultStyles__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/browser/defaultStyles */ "./node_modules/vscode/vscode/src/vs/platform/theme/browser/defaultStyles.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_hover_hoverDelegateFactory__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/hover/hoverDelegateFactory */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/hover/hoverDelegateFactory.js");



















class CompositePart extends vscode_vscode_vs_workbench_browser_part__WEBPACK_IMPORTED_MODULE_8__.Part {
    constructor(notificationService, storageService, contextMenuService, layoutService, keybindingService, hoverService, instantiationService, themeService, registry, activeCompositeSettingsKey, defaultCompositeId, nameForTelemetry, compositeCSSClass, titleForegroundColor, id, options) {
        super(id, options, themeService, storageService, layoutService);
        this.notificationService = notificationService;
        this.storageService = storageService;
        this.contextMenuService = contextMenuService;
        this.keybindingService = keybindingService;
        this.hoverService = hoverService;
        this.instantiationService = instantiationService;
        this.registry = registry;
        this.activeCompositeSettingsKey = activeCompositeSettingsKey;
        this.defaultCompositeId = defaultCompositeId;
        this.nameForTelemetry = nameForTelemetry;
        this.compositeCSSClass = compositeCSSClass;
        this.titleForegroundColor = titleForegroundColor;
        this.onDidCompositeOpen = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Emitter())));
        this.onDidCompositeClose = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Emitter())));
        this.mapCompositeToCompositeContainer = ( (new Map()));
        this.mapActionsBindingToComposite = ( (new Map()));
        this.instantiatedCompositeItems = ( (new Map()));
        this.actionsListener = this._register(( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__.MutableDisposable())));
        this.lastActiveCompositeId = storageService.get(activeCompositeSettingsKey, 1 , this.defaultCompositeId);
        this.toolbarHoverDelegate = this._register((0,vscode_vscode_vs_base_browser_ui_hover_hoverDelegateFactory__WEBPACK_IMPORTED_MODULE_17__.createInstantHoverDelegate)());
    }
    openComposite(id, focus) {
        if (this.activeComposite?.getId() === id) {
            if (focus) {
                this.activeComposite.focus();
            }
            return this.activeComposite;
        }
        if (!this.element) {
            return;
        }
        return this.doOpenComposite(id, focus);
    }
    doOpenComposite(id, focus = false) {
        const currentCompositeOpenToken = vscode_vscode_vs_base_common_idGenerator__WEBPACK_IMPORTED_MODULE_2__.defaultGenerator.nextId();
        this.currentCompositeOpenToken = currentCompositeOpenToken;
        if (this.activeComposite) {
            this.hideActiveComposite();
        }
        this.updateTitle(id);
        const composite = this.createComposite(id, true);
        if ((this.currentCompositeOpenToken !== currentCompositeOpenToken) || (this.activeComposite && this.activeComposite.getId() !== composite.getId())) {
            return undefined;
        }
        if (this.activeComposite?.getId() === composite.getId()) {
            if (focus) {
                composite.focus();
            }
            this.onDidCompositeOpen.fire({ composite, focus });
            return composite;
        }
        this.showComposite(composite);
        if (focus) {
            composite.focus();
        }
        if (composite) {
            this.onDidCompositeOpen.fire({ composite, focus });
        }
        return composite;
    }
    createComposite(id, isActive) {
        const compositeItem = this.instantiatedCompositeItems.get(id);
        if (compositeItem) {
            return compositeItem.composite;
        }
        const compositeDescriptor = this.registry.getComposite(id);
        if (compositeDescriptor) {
            const that = this;
            const compositeProgressIndicator = ( (new vscode_vscode_vs_workbench_services_progress_browser_progressIndicator__WEBPACK_IMPORTED_MODULE_14__.ScopedProgressIndicator(
                (0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_12__.assertIsDefined)(this.progressBar),
                new (class extends vscode_vscode_vs_workbench_services_progress_browser_progressIndicator__WEBPACK_IMPORTED_MODULE_14__.AbstractProgressScope {
                    constructor() {
                        super(compositeDescriptor.id, !!isActive);
                        this._register(that.onDidCompositeOpen.event(e => this.onScopeOpened(e.composite.getId())));
                        this._register(that.onDidCompositeClose.event(e => this.onScopeClosed(e.getId())));
                    }
                })()
            )));
            const compositeInstantiationService = this._register(this.instantiationService.createChild(( (new vscode_vscode_vs_platform_instantiation_common_serviceCollection__WEBPACK_IMPORTED_MODULE_9__.ServiceCollection(
                [vscode_vscode_vs_platform_progress_common_progress_service__WEBPACK_IMPORTED_MODULE_10__.IEditorProgressService, compositeProgressIndicator]
            )))));
            const composite = compositeDescriptor.instantiate(compositeInstantiationService);
            const disposable = ( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__.DisposableStore()));
            this.instantiatedCompositeItems.set(id, { composite, disposable, progress: compositeProgressIndicator });
            disposable.add(composite.onTitleAreaUpdate(() => this.onTitleAreaUpdate(composite.getId()), this));
            disposable.add(compositeInstantiationService);
            return composite;
        }
        throw ( (new Error(`Unable to find composite with id ${id}`)));
    }
    showComposite(composite) {
        this.activeComposite = composite;
        const id = this.activeComposite.getId();
        if (id !== this.defaultCompositeId) {
            this.storageService.store(this.activeCompositeSettingsKey, id, 1 , 1 );
        }
        else {
            this.storageService.remove(this.activeCompositeSettingsKey, 1 );
        }
        this.lastActiveCompositeId = this.activeComposite.getId();
        let compositeContainer = this.mapCompositeToCompositeContainer.get(composite.getId());
        if (!compositeContainer) {
            compositeContainer = (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_11__.$)('.composite');
            compositeContainer.classList.add(...this.compositeCSSClass.split(' '));
            compositeContainer.id = composite.getId();
            composite.create(compositeContainer);
            composite.updateStyles();
            this.mapCompositeToCompositeContainer.set(composite.getId(), compositeContainer);
        }
        if (!this.activeComposite || composite.getId() !== this.activeComposite.getId()) {
            return undefined;
        }
        const contentArea = this.getContentArea();
        contentArea?.appendChild(compositeContainer);
        (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_11__.show)(compositeContainer);
        const toolBar = (0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_12__.assertIsDefined)(this.toolBar);
        toolBar.actionRunner = composite.getActionRunner();
        const descriptor = this.registry.getComposite(composite.getId());
        if (descriptor && descriptor.name !== composite.getTitle()) {
            this.updateTitle(composite.getId(), composite.getTitle());
        }
        let actionsBinding = this.mapActionsBindingToComposite.get(composite.getId());
        if (!actionsBinding) {
            actionsBinding = this.collectCompositeActions(composite);
            this.mapActionsBindingToComposite.set(composite.getId(), actionsBinding);
        }
        actionsBinding();
        this.actionsListener.value = toolBar.actionRunner.onDidRun(e => {
            if (e.error && !(0,vscode_vscode_vs_base_common_errors__WEBPACK_IMPORTED_MODULE_5__.isCancellationError)(e.error)) {
                this.notificationService.error(e.error);
            }
        });
        composite.setVisible(true);
        if (!this.activeComposite || composite.getId() !== this.activeComposite.getId()) {
            return;
        }
        if (this.contentAreaSize) {
            composite.layout(this.contentAreaSize);
        }
        if (this.boundarySashes) {
            composite.setBoundarySashes(this.boundarySashes);
        }
    }
    onTitleAreaUpdate(compositeId) {
        const composite = this.instantiatedCompositeItems.get(compositeId);
        if (composite) {
            this.updateTitle(compositeId, composite.composite.getTitle());
        }
        if (this.activeComposite?.getId() === compositeId) {
            const actionsBinding = this.collectCompositeActions(this.activeComposite);
            this.mapActionsBindingToComposite.set(this.activeComposite.getId(), actionsBinding);
            actionsBinding();
        }
        else {
            this.mapActionsBindingToComposite.delete(compositeId);
        }
    }
    updateTitle(compositeId, compositeTitle) {
        const compositeDescriptor = this.registry.getComposite(compositeId);
        if (!compositeDescriptor || !this.titleLabel) {
            return;
        }
        if (!compositeTitle) {
            compositeTitle = compositeDescriptor.name;
        }
        const keybinding = this.keybindingService.lookupKeybinding(compositeId);
        this.titleLabel.updateTitle(compositeId, compositeTitle, keybinding?.getLabel() ?? undefined);
        const toolBar = (0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_12__.assertIsDefined)(this.toolBar);
        toolBar.setAriaLabel(( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(11271, "{0} actions", compositeTitle)));
    }
    collectCompositeActions(composite) {
        const menuIds = composite?.getMenuIds();
        const primaryActions = composite?.getActions().slice(0) || [];
        const secondaryActions = composite?.getSecondaryActions().slice(0) || [];
        const toolBar = (0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_12__.assertIsDefined)(this.toolBar);
        toolBar.context = this.actionsContextProvider();
        return () => toolBar.setActions((0,vscode_vscode_vs_base_browser_ui_actionbar_actionbar__WEBPACK_IMPORTED_MODULE_6__.prepareActions)(primaryActions), (0,vscode_vscode_vs_base_browser_ui_actionbar_actionbar__WEBPACK_IMPORTED_MODULE_6__.prepareActions)(secondaryActions), menuIds);
    }
    getActiveComposite() {
        return this.activeComposite;
    }
    getLastActiveCompositeId() {
        return this.lastActiveCompositeId;
    }
    hideActiveComposite() {
        if (!this.activeComposite) {
            return undefined;
        }
        const composite = this.activeComposite;
        this.activeComposite = undefined;
        const compositeContainer = this.mapCompositeToCompositeContainer.get(composite.getId());
        composite.setVisible(false);
        if (compositeContainer) {
            compositeContainer.remove();
            (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_11__.hide)(compositeContainer);
        }
        this.progressBar?.stop().hide();
        if (this.toolBar) {
            this.collectCompositeActions()();
        }
        this.onDidCompositeClose.fire(composite);
        return composite;
    }
    createTitleArea(parent) {
        const titleArea = (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_11__.append)(parent, (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_11__.$)('.composite'));
        titleArea.classList.add('title');
        this.titleLabel = this.createTitleLabel(titleArea);
        const titleActionsContainer = (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_11__.append)(titleArea, (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_11__.$)('.title-actions'));
        this.toolBar = this._register(this.instantiationService.createInstance(vscode_vscode_vs_platform_actions_browser_toolbar__WEBPACK_IMPORTED_MODULE_15__.WorkbenchToolBar, titleActionsContainer, {
            actionViewItemProvider: (action, options) => this.actionViewItemProvider(action, options),
            orientation: 0 ,
            getKeyBinding: action => this.keybindingService.lookupKeybinding(action.id),
            anchorAlignmentProvider: () => this.getTitleAreaDropDownAnchorAlignment(),
            toggleMenuTitle: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(11272, "Views and More Actions...")),
            telemetrySource: this.nameForTelemetry,
            hoverDelegate: this.toolbarHoverDelegate
        }));
        this.collectCompositeActions()();
        return titleArea;
    }
    createTitleLabel(parent) {
        const titleContainer = (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_11__.append)(parent, (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_11__.$)('.title-label'));
        const titleLabel = (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_11__.append)(titleContainer, (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_11__.$)('h2'));
        this.titleLabelElement = titleLabel;
        const hover = this._register(this.hoverService.setupManagedHover((0,vscode_vscode_vs_base_browser_ui_hover_hoverDelegateFactory__WEBPACK_IMPORTED_MODULE_17__.getDefaultHoverDelegate)('mouse'), titleLabel, ''));
        const $this = this;
        return {
            updateTitle: (id, title, keybinding) => {
                if (!this.activeComposite || this.activeComposite.getId() === id) {
                    titleLabel.innerText = title;
                    hover.update(keybinding ? ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(11273, "{0} ({1})", title, keybinding)) : title);
                }
            },
            updateStyles: () => {
                titleLabel.style.color = $this.titleForegroundColor ? $this.getColor($this.titleForegroundColor) || '' : '';
            }
        };
    }
    createHeaderArea() {
        return (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_11__.$)('.composite');
    }
    createFooterArea() {
        return (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_11__.$)('.composite');
    }
    updateStyles() {
        super.updateStyles();
        const titleLabel = (0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_12__.assertIsDefined)(this.titleLabel);
        titleLabel.updateStyles();
    }
    actionViewItemProvider(action, options) {
        if (this.activeComposite) {
            return this.activeComposite.getActionViewItem(action, options);
        }
        return (0,vscode_vscode_vs_platform_actions_browser_menuEntryActionViewItem__WEBPACK_IMPORTED_MODULE_13__.createActionViewItem)(this.instantiationService, action, options);
    }
    actionsContextProvider() {
        if (this.activeComposite) {
            return this.activeComposite.getActionsContext();
        }
        return null;
    }
    createContentArea(parent) {
        const contentContainer = (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_11__.append)(parent, (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_11__.$)('.content'));
        this.progressBar = this._register(( (new vscode_vscode_vs_base_browser_ui_progressbar_progressbar__WEBPACK_IMPORTED_MODULE_7__.ProgressBar(contentContainer, vscode_vscode_vs_platform_theme_browser_defaultStyles__WEBPACK_IMPORTED_MODULE_16__.defaultProgressBarStyles))));
        this.progressBar.hide();
        return contentContainer;
    }
    getProgressIndicator(id) {
        const compositeItem = this.instantiatedCompositeItems.get(id);
        return compositeItem ? compositeItem.progress : undefined;
    }
    getTitleAreaDropDownAnchorAlignment() {
        return 1 ;
    }
    layout(width, height, top, left) {
        super.layout(width, height, top, left);
        this.contentAreaSize = vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_11__.Dimension.lift(super.layoutContents(width, height).contentSize);
        this.activeComposite?.layout(this.contentAreaSize);
    }
    setBoundarySashes(sashes) {
        this.boundarySashes = sashes;
        this.activeComposite?.setBoundarySashes(sashes);
    }
    removeComposite(compositeId) {
        if (this.activeComposite?.getId() === compositeId) {
            return false;
        }
        this.mapCompositeToCompositeContainer.delete(compositeId);
        this.mapActionsBindingToComposite.delete(compositeId);
        const compositeItem = this.instantiatedCompositeItems.get(compositeId);
        if (compositeItem) {
            compositeItem.composite.dispose();
            (0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__.dispose)(compositeItem.disposable);
            this.instantiatedCompositeItems.delete(compositeId);
        }
        return true;
    }
    dispose() {
        this.mapCompositeToCompositeContainer.clear();
        this.mapActionsBindingToComposite.clear();
        this.instantiatedCompositeItems.forEach(compositeItem => {
            compositeItem.composite.dispose();
            (0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__.dispose)(compositeItem.disposable);
        });
        this.instantiatedCompositeItems.clear();
        super.dispose();
    }
}




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/editor/auxiliaryEditorPart.js":
/*!************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/editor/auxiliaryEditorPart.js ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AuxiliaryEditorPart: () => (/* binding */ AuxiliaryEditorPart)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_base_browser_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/browser */ "./node_modules/vscode/vscode/src/vs/base/browser/browser.js");
/* harmony import */ var vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/dom */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_base_common_platform__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/base/common/platform */ "./node_modules/vscode/vscode/src/vs/base/common/platform.js");
/* harmony import */ var vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/platform/configuration/common/configuration.service */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey.service */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_serviceCollection__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/serviceCollection */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/serviceCollection.js");
/* harmony import */ var vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/platform/storage/common/storage.service */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_themeService_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/themeService.service */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.service.js");
/* harmony import */ var vscode_vscode_vs_platform_window_common_window__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/platform/window/common/window */ "./node_modules/vscode/vscode/src/vs/platform/window/common/window.js");
/* harmony import */ var _editorPart_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./editorPart.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/editor/editorPart.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_titlebar_windowTitle__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/titlebar/windowTitle */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/titlebar/windowTitle.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_auxiliaryWindow_browser_auxiliaryWindowService_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/auxiliaryWindow/browser/auxiliaryWindowService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/auxiliaryWindow/browser/auxiliaryWindowService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_host_browser_host_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/host/browser/host.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/host/browser/host.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_layout_browser_layoutService__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/layout/browser/layoutService */ "./node_modules/vscode/vscode/src/vs/workbench/services/layout/browser/layoutService.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_layout_browser_layoutService_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/layout/browser/layoutService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/layout/browser/layoutService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_lifecycle_common_lifecycle_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/lifecycle/common/lifecycle.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/lifecycle/common/lifecycle.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_statusbar_browser_statusbar_service__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/statusbar/browser/statusbar.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/statusbar/browser/statusbar.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_title_browser_titleService_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/title/browser/titleService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/title/browser/titleService.service.js");
























var AuxiliaryEditorPart_1, AuxiliaryEditorPartImpl_1;
let AuxiliaryEditorPart = class AuxiliaryEditorPart {
    static { AuxiliaryEditorPart_1 = this; }
    static { this.STATUS_BAR_VISIBILITY = 'workbench.statusBar.visible'; }
    constructor(editorPartsView, instantiationService, auxiliaryWindowService, lifecycleService, configurationService, statusbarService, titleService, editorService, layoutService) {
        this.editorPartsView = editorPartsView;
        this.instantiationService = instantiationService;
        this.auxiliaryWindowService = auxiliaryWindowService;
        this.lifecycleService = lifecycleService;
        this.configurationService = configurationService;
        this.statusbarService = statusbarService;
        this.titleService = titleService;
        this.editorService = editorService;
        this.layoutService = layoutService;
    }
    async create(label, options) {
        function computeEditorPartHeightOffset() {
            let editorPartHeightOffset = 0;
            if (statusbarVisible) {
                editorPartHeightOffset += statusbarPart.height;
            }
            if (titlebarPart && titlebarVisible) {
                editorPartHeightOffset += titlebarPart.height;
            }
            return editorPartHeightOffset;
        }
        function updateStatusbarVisibility(fromEvent) {
            if (statusbarVisible) {
                (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_2__.show)(statusbarPart.container);
            }
            else {
                (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_2__.hide)(statusbarPart.container);
            }
            if (fromEvent) {
                auxiliaryWindow.layout();
            }
        }
        function updateTitlebarVisibility(fromEvent) {
            if (!titlebarPart) {
                return;
            }
            if (titlebarVisible) {
                (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_2__.show)(titlebarPart.container);
            }
            else {
                (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_2__.hide)(titlebarPart.container);
            }
            if (fromEvent) {
                auxiliaryWindow.layout();
            }
        }
        const disposables = ( new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__.DisposableStore());
        const auxiliaryWindow = disposables.add(await this.auxiliaryWindowService.open(options));
        const editorPartContainer = document.createElement('div');
        editorPartContainer.classList.add('part', 'editor');
        editorPartContainer.setAttribute('role', 'main');
        editorPartContainer.style.position = 'relative';
        auxiliaryWindow.container.appendChild(editorPartContainer);
        const editorPart = disposables.add(this.instantiationService.createInstance(AuxiliaryEditorPartImpl, auxiliaryWindow.window.vscodeWindowId, this.editorPartsView, options?.state, label));
        disposables.add(this.editorPartsView.registerPart(editorPart));
        editorPart.create(editorPartContainer);
        let titlebarPart = undefined;
        let titlebarVisible = false;
        const useCustomTitle = vscode_vscode_vs_base_common_platform__WEBPACK_IMPORTED_MODULE_5__.isNative && (0,vscode_vscode_vs_platform_window_common_window__WEBPACK_IMPORTED_MODULE_12__.hasCustomTitlebar)();
        if (useCustomTitle) {
            titlebarPart = disposables.add(this.titleService.createAuxiliaryTitlebarPart(auxiliaryWindow.container, editorPart));
            titlebarVisible = (0,vscode_vscode_vs_workbench_services_layout_browser_layoutService__WEBPACK_IMPORTED_MODULE_18__.shouldShowCustomTitleBar)(this.configurationService, auxiliaryWindow.window, undefined, false);
            const handleTitleBarVisibilityEvent = () => {
                const oldTitlebarPartVisible = titlebarVisible;
                titlebarVisible = (0,vscode_vscode_vs_workbench_services_layout_browser_layoutService__WEBPACK_IMPORTED_MODULE_18__.shouldShowCustomTitleBar)(this.configurationService, auxiliaryWindow.window, undefined, false);
                if (oldTitlebarPartVisible !== titlebarVisible) {
                    updateTitlebarVisibility(true);
                }
            };
            disposables.add(titlebarPart.onDidChange(() => auxiliaryWindow.layout()));
            disposables.add(this.layoutService.onDidChangePartVisibility(() => handleTitleBarVisibilityEvent()));
            disposables.add((0,vscode_vscode_vs_base_browser_browser__WEBPACK_IMPORTED_MODULE_1__.onDidChangeFullscreen)(windowId => {
                if (windowId !== auxiliaryWindow.window.vscodeWindowId) {
                    return;
                }
                handleTitleBarVisibilityEvent();
            }));
            updateTitlebarVisibility(false);
        }
        else {
            disposables.add(this.instantiationService.createInstance(vscode_vscode_vs_workbench_browser_parts_titlebar_windowTitle__WEBPACK_IMPORTED_MODULE_14__.WindowTitle, auxiliaryWindow.window, editorPart));
        }
        const statusbarPart = disposables.add(this.statusbarService.createAuxiliaryStatusbarPart(auxiliaryWindow.container));
        let statusbarVisible = this.configurationService.getValue(AuxiliaryEditorPart_1.STATUS_BAR_VISIBILITY) !== false;
        disposables.add(this.configurationService.onDidChangeConfiguration(e => {
            if (e.affectsConfiguration(AuxiliaryEditorPart_1.STATUS_BAR_VISIBILITY)) {
                statusbarVisible = this.configurationService.getValue(AuxiliaryEditorPart_1.STATUS_BAR_VISIBILITY) !== false;
                updateStatusbarVisibility(true);
            }
        }));
        updateStatusbarVisibility(false);
        const editorCloseListener = disposables.add(vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__.Event.once(editorPart.onWillClose)(() => auxiliaryWindow.window.close()));
        disposables.add(vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__.Event.once(auxiliaryWindow.onUnload)(() => {
            if (disposables.isDisposed) {
                return;
            }
            editorCloseListener.dispose();
            editorPart.close();
            disposables.dispose();
        }));
        disposables.add(vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__.Event.once(this.lifecycleService.onDidShutdown)(() => disposables.dispose()));
        disposables.add(auxiliaryWindow.onBeforeUnload(event => {
            for (const group of editorPart.groups) {
                for (const editor of group.editors) {
                    const canMoveVeto = editor.canMove(group.id, this.editorPartsView.mainPart.activeGroup.id);
                    if (typeof canMoveVeto === 'string') {
                        group.openEditor(editor);
                        event.veto(canMoveVeto);
                        break;
                    }
                }
            }
        }));
        disposables.add(auxiliaryWindow.onWillLayout(dimension => {
            const titlebarPartHeight = titlebarPart?.height ?? 0;
            titlebarPart?.layout(dimension.width, titlebarPartHeight, 0, 0);
            const editorPartHeight = dimension.height - computeEditorPartHeightOffset();
            editorPart.layout(dimension.width, editorPartHeight, titlebarPartHeight, 0);
            statusbarPart.layout(dimension.width, statusbarPart.height, dimension.height - statusbarPart.height, 0);
        }));
        auxiliaryWindow.layout();
        const instantiationService = disposables.add(this.instantiationService.createChild(( new vscode_vscode_vs_platform_instantiation_common_serviceCollection__WEBPACK_IMPORTED_MODULE_9__.ServiceCollection(
            [vscode_vscode_vs_workbench_services_statusbar_browser_statusbar_service__WEBPACK_IMPORTED_MODULE_21__.IStatusbarService, this.statusbarService.createScoped(statusbarPart, disposables)],
            [vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_16__.IEditorService, this.editorService.createScoped(editorPart, disposables)]
        ))));
        return {
            part: editorPart,
            instantiationService,
            disposables
        };
    }
};
AuxiliaryEditorPart = AuxiliaryEditorPart_1 = ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_8__.IInstantiationService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_workbench_services_auxiliaryWindow_browser_auxiliaryWindowService_service__WEBPACK_IMPORTED_MODULE_15__.IAuxiliaryWindowService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_workbench_services_lifecycle_common_lifecycle_service__WEBPACK_IMPORTED_MODULE_20__.ILifecycleService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_6__.IConfigurationService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, vscode_vscode_vs_workbench_services_statusbar_browser_statusbar_service__WEBPACK_IMPORTED_MODULE_21__.IStatusbarService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, vscode_vscode_vs_workbench_services_title_browser_titleService_service__WEBPACK_IMPORTED_MODULE_22__.ITitleService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_16__.IEditorService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, vscode_vscode_vs_workbench_services_layout_browser_layoutService_service__WEBPACK_IMPORTED_MODULE_19__.IWorkbenchLayoutService))
], AuxiliaryEditorPart));
let AuxiliaryEditorPartImpl = class AuxiliaryEditorPartImpl extends _editorPart_js__WEBPACK_IMPORTED_MODULE_13__.EditorPart {
    static { AuxiliaryEditorPartImpl_1 = this; }
    static { this.COUNTER = 1; }
    constructor(windowId, editorPartsView, state, groupsLabel, instantiationService, themeService, configurationService, storageService, layoutService, hostService, contextKeyService) {
        const id = AuxiliaryEditorPartImpl_1.COUNTER++;
        super(editorPartsView, `workbench.parts.auxiliaryEditor.${id}`, groupsLabel, windowId, instantiationService, themeService, configurationService, storageService, layoutService, hostService, contextKeyService);
        this.state = state;
        this._onWillClose = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__.Emitter()));
        this.onWillClose = this._onWillClose.event;
    }
    removeGroup(group, preserveFocus) {
        const groupView = this.assertGroupView(group);
        if (this.count === 1 && this.activeGroup === groupView) {
            this.doRemoveLastGroup(preserveFocus);
        }
        else {
            super.removeGroup(group, preserveFocus);
        }
    }
    doRemoveLastGroup(preserveFocus) {
        const restoreFocus = !preserveFocus && this.shouldRestoreFocus(this.container);
        const mostRecentlyActiveGroups = this.editorPartsView.getGroups(1 );
        const nextActiveGroup = mostRecentlyActiveGroups[1];
        if (nextActiveGroup) {
            nextActiveGroup.groupsView.activateGroup(nextActiveGroup);
            if (restoreFocus) {
                nextActiveGroup.focus();
            }
        }
        this.doClose(false );
    }
    loadState() {
        return this.state;
    }
    saveState() {
        return;
    }
    close() {
        return this.doClose(true );
    }
    doClose(mergeGroupsToMainPart) {
        let result = true;
        if (mergeGroupsToMainPart) {
            result = this.mergeGroupsToMainPart();
        }
        this._onWillClose.fire();
        return result;
    }
    mergeGroupsToMainPart() {
        if (!( this.groups.some(group => group.count > 0))) {
            return true;
        }
        let targetGroup = undefined;
        for (const group of this.editorPartsView.mainPart.getGroups(1 )) {
            if (!group.isLocked) {
                targetGroup = group;
                break;
            }
        }
        if (!targetGroup) {
            targetGroup = this.editorPartsView.mainPart.addGroup(this.editorPartsView.mainPart.activeGroup, this.partOptions.openSideBySideDirection === 'right' ? 3  : 1 );
        }
        const result = this.mergeAllGroups(targetGroup);
        targetGroup.focus();
        return result;
    }
};
AuxiliaryEditorPartImpl = AuxiliaryEditorPartImpl_1 = ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_8__.IInstantiationService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, vscode_vscode_vs_platform_theme_common_themeService_service__WEBPACK_IMPORTED_MODULE_11__.IThemeService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_6__.IConfigurationService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_10__.IStorageService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, vscode_vscode_vs_workbench_services_layout_browser_layoutService_service__WEBPACK_IMPORTED_MODULE_19__.IWorkbenchLayoutService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, vscode_vscode_vs_workbench_services_host_browser_host_service__WEBPACK_IMPORTED_MODULE_17__.IHostService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_7__.IContextKeyService))
], AuxiliaryEditorPartImpl));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/editor/editor.contribution.js":
/*!************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/editor/editor.contribution.js ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/platform/registry/common/platform */ "./node_modules/vscode/vscode/src/vs/platform/registry/common/platform.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_editor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/editor */ "./node_modules/vscode/vscode/src/vs/workbench/browser/editor.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/editor */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/contextkeys */ "./node_modules/vscode/vscode/src/vs/workbench/common/contextkeys.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_editor_sideBySideEditorInput__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/editor/sideBySideEditorInput */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/sideBySideEditorInput.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_editor_textResourceEditor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/editor/textResourceEditor */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/textResourceEditor.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_editor_sideBySideEditor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/editor/sideBySideEditor */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/sideBySideEditor.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_editor_diffEditorInput__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/editor/diffEditorInput */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/diffEditorInput.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_untitled_common_untitledTextEditorInput__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/untitled/common/untitledTextEditorInput */ "./node_modules/vscode/vscode/src/vs/workbench/services/untitled/common/untitledTextEditorInput.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_editor_textResourceEditorInput__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/editor/textResourceEditorInput */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/textResourceEditorInput.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_editor_textDiffEditor__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/editor/textDiffEditor */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/textDiffEditor.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_editor_binaryDiffEditor__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/editor/binaryDiffEditor */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/binaryDiffEditor.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_editor_editorStatus__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/editor/editorStatus */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorStatus.js");
/* harmony import */ var vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/platform/action/common/actionCommonCategories */ "./node_modules/vscode/vscode/src/vs/platform/action/common/actionCommonCategories.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/descriptors */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/descriptors.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/editor/editorActions */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorActions.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/editor/editorCommands */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorCommands.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_editor_diffEditorCommands__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/editor/diffEditorCommands */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/diffEditorCommands.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_quickaccess__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/quickaccess */ "./node_modules/vscode/vscode/src/vs/workbench/browser/quickaccess.js");
/* harmony import */ var vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! vscode/vscode/vs/platform/keybinding/common/keybindingsRegistry */ "./node_modules/vscode/vscode/src/vs/platform/keybinding/common/keybindingsRegistry.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.js");
/* harmony import */ var vscode_vscode_vs_base_common_platform__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! vscode/vscode/vs/base/common/platform */ "./node_modules/vscode/vscode/src/vs/base/common/platform.js");
/* harmony import */ var vscode_vscode_vs_editor_browser_editorExtensions__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! vscode/vscode/vs/editor/browser/editorExtensions */ "./node_modules/vscode/vscode/src/vs/editor/browser/editorExtensions.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_codeeditor__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/codeeditor */ "./node_modules/vscode/vscode/src/vs/workbench/browser/codeeditor.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_contributions__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/contributions */ "./node_modules/vscode/vscode/src/vs/workbench/common/contributions.js");
/* harmony import */ var vscode_vscode_vs_platform_quickinput_common_quickAccess__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! vscode/vscode/vs/platform/quickinput/common/quickAccess */ "./node_modules/vscode/vscode/src/vs/platform/quickinput/common/quickAccess.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_editor_editorQuickAccess__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/editor/editorQuickAccess */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorQuickAccess.js");
/* harmony import */ var vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! vscode/vscode/vs/base/common/network */ "./node_modules/vscode/vscode/src/vs/base/common/network.js");
/* harmony import */ var vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! vscode/vscode/vs/base/common/codicons */ "./node_modules/vscode/vscode/src/vs/base/common/codicons.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_iconRegistry__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/iconRegistry */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/iconRegistry.js");
/* harmony import */ var _services_untitled_common_untitledTextEditorHandler_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../../services/untitled/common/untitledTextEditorHandler.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/services/untitled/common/untitledTextEditorHandler.js");
/* harmony import */ var _editorConfiguration_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./editorConfiguration.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/editor/editorConfiguration.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_actions_layoutActions__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/actions/layoutActions */ "./node_modules/vscode/vscode/src/vs/workbench/browser/actions/layoutActions.js");
/* harmony import */ var vscode_vscode_vs_editor_common_editorContextKeys__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/editorContextKeys */ "./node_modules/vscode/vscode/src/vs/editor/common/editorContextKeys.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_editor_editor_contribution_autosave__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/editor/editor.contribution._autosave */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editor.contribution._autosave.js");






































( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_0__.Registry.as(vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.EditorExtensions.EditorPane))).registerEditorPane(vscode_vscode_vs_workbench_browser_editor__WEBPACK_IMPORTED_MODULE_2__.EditorPaneDescriptor.create(vscode_vscode_vs_workbench_browser_parts_editor_textResourceEditor__WEBPACK_IMPORTED_MODULE_6__.TextResourceEditor, vscode_vscode_vs_workbench_browser_parts_editor_textResourceEditor__WEBPACK_IMPORTED_MODULE_6__.TextResourceEditor.ID, ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4308, "Text Editor"))), [
    ( (new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_16__.SyncDescriptor(vscode_vscode_vs_workbench_services_untitled_common_untitledTextEditorInput__WEBPACK_IMPORTED_MODULE_9__.UntitledTextEditorInput))),
    ( (new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_16__.SyncDescriptor(vscode_vscode_vs_workbench_common_editor_textResourceEditorInput__WEBPACK_IMPORTED_MODULE_10__.TextResourceEditorInput)))
]);
( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_0__.Registry.as(vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.EditorExtensions.EditorPane))).registerEditorPane(vscode_vscode_vs_workbench_browser_editor__WEBPACK_IMPORTED_MODULE_2__.EditorPaneDescriptor.create(vscode_vscode_vs_workbench_browser_parts_editor_textDiffEditor__WEBPACK_IMPORTED_MODULE_11__.TextDiffEditor, vscode_vscode_vs_workbench_browser_parts_editor_textDiffEditor__WEBPACK_IMPORTED_MODULE_11__.TextDiffEditor.ID, ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4309, "Text Diff Editor"))), [
    ( (new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_16__.SyncDescriptor(vscode_vscode_vs_workbench_common_editor_diffEditorInput__WEBPACK_IMPORTED_MODULE_8__.DiffEditorInput)))
]);
( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_0__.Registry.as(vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.EditorExtensions.EditorPane))).registerEditorPane(vscode_vscode_vs_workbench_browser_editor__WEBPACK_IMPORTED_MODULE_2__.EditorPaneDescriptor.create(vscode_vscode_vs_workbench_browser_parts_editor_binaryDiffEditor__WEBPACK_IMPORTED_MODULE_12__.BinaryResourceDiffEditor, vscode_vscode_vs_workbench_browser_parts_editor_binaryDiffEditor__WEBPACK_IMPORTED_MODULE_12__.BinaryResourceDiffEditor.ID, ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4310, "Binary Diff Editor"))), [
    ( (new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_16__.SyncDescriptor(vscode_vscode_vs_workbench_common_editor_diffEditorInput__WEBPACK_IMPORTED_MODULE_8__.DiffEditorInput)))
]);
( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_0__.Registry.as(vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.EditorExtensions.EditorPane))).registerEditorPane(vscode_vscode_vs_workbench_browser_editor__WEBPACK_IMPORTED_MODULE_2__.EditorPaneDescriptor.create(vscode_vscode_vs_workbench_browser_parts_editor_sideBySideEditor__WEBPACK_IMPORTED_MODULE_7__.SideBySideEditor, vscode_vscode_vs_workbench_browser_parts_editor_sideBySideEditor__WEBPACK_IMPORTED_MODULE_7__.SideBySideEditor.ID, ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4311, "Side by Side Editor"))), [
    ( (new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_16__.SyncDescriptor(vscode_vscode_vs_workbench_common_editor_sideBySideEditorInput__WEBPACK_IMPORTED_MODULE_5__.SideBySideEditorInput)))
]);
( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_0__.Registry.as(vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.EditorExtensions.EditorFactory))).registerEditorSerializer(vscode_vscode_vs_workbench_services_untitled_common_untitledTextEditorInput__WEBPACK_IMPORTED_MODULE_9__.UntitledTextEditorInput.ID, _services_untitled_common_untitledTextEditorHandler_js__WEBPACK_IMPORTED_MODULE_32__.UntitledTextEditorInputSerializer);
( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_0__.Registry.as(vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.EditorExtensions.EditorFactory))).registerEditorSerializer(vscode_vscode_vs_workbench_common_editor_sideBySideEditorInput__WEBPACK_IMPORTED_MODULE_5__.SideBySideEditorInput.ID, vscode_vscode_vs_workbench_common_editor_sideBySideEditorInput__WEBPACK_IMPORTED_MODULE_5__.SideBySideEditorInputSerializer);
( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_0__.Registry.as(vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.EditorExtensions.EditorFactory))).registerEditorSerializer(vscode_vscode_vs_workbench_common_editor_diffEditorInput__WEBPACK_IMPORTED_MODULE_8__.DiffEditorInput.ID, vscode_vscode_vs_workbench_common_editor_diffEditorInput__WEBPACK_IMPORTED_MODULE_8__.DiffEditorInputSerializer);
(0,vscode_vscode_vs_workbench_common_contributions__WEBPACK_IMPORTED_MODULE_26__.registerWorkbenchContribution2)(vscode_vscode_vs_workbench_browser_parts_editor_editorStatus__WEBPACK_IMPORTED_MODULE_13__.EditorStatusContribution.ID, vscode_vscode_vs_workbench_browser_parts_editor_editorStatus__WEBPACK_IMPORTED_MODULE_13__.EditorStatusContribution, 2 );
(0,vscode_vscode_vs_workbench_common_contributions__WEBPACK_IMPORTED_MODULE_26__.registerWorkbenchContribution2)(_services_untitled_common_untitledTextEditorHandler_js__WEBPACK_IMPORTED_MODULE_32__.UntitledTextEditorWorkingCopyEditorHandler.ID, _services_untitled_common_untitledTextEditorHandler_js__WEBPACK_IMPORTED_MODULE_32__.UntitledTextEditorWorkingCopyEditorHandler, 2 );
(0,vscode_vscode_vs_workbench_common_contributions__WEBPACK_IMPORTED_MODULE_26__.registerWorkbenchContribution2)(_editorConfiguration_js__WEBPACK_IMPORTED_MODULE_33__.DynamicEditorConfigurations.ID, _editorConfiguration_js__WEBPACK_IMPORTED_MODULE_33__.DynamicEditorConfigurations, 2 );
(0,vscode_vscode_vs_editor_browser_editorExtensions__WEBPACK_IMPORTED_MODULE_24__.registerEditorContribution)(vscode_vscode_vs_workbench_browser_codeeditor__WEBPACK_IMPORTED_MODULE_25__.FloatingEditorClickMenu.ID, vscode_vscode_vs_workbench_browser_codeeditor__WEBPACK_IMPORTED_MODULE_25__.FloatingEditorClickMenu, 1 );
const quickAccessRegistry = ( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_0__.Registry.as(vscode_vscode_vs_platform_quickinput_common_quickAccess__WEBPACK_IMPORTED_MODULE_27__.Extensions.Quickaccess)));
const editorPickerContextKey = 'inEditorsPicker';
const editorPickerContext = ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.and(
    vscode_vscode_vs_workbench_browser_quickaccess__WEBPACK_IMPORTED_MODULE_20__.inQuickPickContext,
     (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.has(editorPickerContextKey))
)));
quickAccessRegistry.registerQuickAccessProvider({
    ctor: vscode_vscode_vs_workbench_browser_parts_editor_editorQuickAccess__WEBPACK_IMPORTED_MODULE_28__.ActiveGroupEditorsByMostRecentlyUsedQuickAccess,
    prefix: vscode_vscode_vs_workbench_browser_parts_editor_editorQuickAccess__WEBPACK_IMPORTED_MODULE_28__.ActiveGroupEditorsByMostRecentlyUsedQuickAccess.PREFIX,
    contextKey: editorPickerContextKey,
    placeholder: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4312, "Type the name of an editor to open it.")),
    helpEntries: [{ description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4313, "Show Editors in Active Group by Most Recently Used")), commandId: vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.ShowEditorsInActiveGroupByMostRecentlyUsedAction.ID }]
});
quickAccessRegistry.registerQuickAccessProvider({
    ctor: vscode_vscode_vs_workbench_browser_parts_editor_editorQuickAccess__WEBPACK_IMPORTED_MODULE_28__.AllEditorsByAppearanceQuickAccess,
    prefix: vscode_vscode_vs_workbench_browser_parts_editor_editorQuickAccess__WEBPACK_IMPORTED_MODULE_28__.AllEditorsByAppearanceQuickAccess.PREFIX,
    contextKey: editorPickerContextKey,
    placeholder: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4312, "Type the name of an editor to open it.")),
    helpEntries: [{ description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4314, "Show All Opened Editors By Appearance")), commandId: vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.ShowAllEditorsByAppearanceAction.ID }]
});
quickAccessRegistry.registerQuickAccessProvider({
    ctor: vscode_vscode_vs_workbench_browser_parts_editor_editorQuickAccess__WEBPACK_IMPORTED_MODULE_28__.AllEditorsByMostRecentlyUsedQuickAccess,
    prefix: vscode_vscode_vs_workbench_browser_parts_editor_editorQuickAccess__WEBPACK_IMPORTED_MODULE_28__.AllEditorsByMostRecentlyUsedQuickAccess.PREFIX,
    contextKey: editorPickerContextKey,
    placeholder: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4312, "Type the name of an editor to open it.")),
    helpEntries: [{ description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4315, "Show All Opened Editors By Most Recently Used")), commandId: vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.ShowAllEditorsByMostRecentlyUsedAction.ID }]
});
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorStatus__WEBPACK_IMPORTED_MODULE_13__.ChangeLanguageAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorStatus__WEBPACK_IMPORTED_MODULE_13__.ChangeEOLAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorStatus__WEBPACK_IMPORTED_MODULE_13__.ChangeEncodingAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.NavigateForwardAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.NavigateBackwardsAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.OpenNextEditor);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.OpenPreviousEditor);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.OpenNextEditorInGroup);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.OpenPreviousEditorInGroup);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.OpenFirstEditorInGroup);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.OpenLastEditorInGroup);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.OpenNextRecentlyUsedEditorAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.OpenPreviousRecentlyUsedEditorAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.OpenNextRecentlyUsedEditorInGroupAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.OpenPreviousRecentlyUsedEditorInGroupAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.ReopenClosedEditorAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.ClearRecentFilesAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.ShowAllEditorsByAppearanceAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.ShowAllEditorsByMostRecentlyUsedAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.ShowEditorsInActiveGroupByMostRecentlyUsedAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.CloseAllEditorsAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.CloseAllEditorGroupsAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.CloseLeftEditorsInGroupAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.CloseEditorsInOtherGroupsAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.CloseEditorInAllGroupsAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.RevertAndCloseEditorAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.SplitEditorAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.SplitEditorOrthogonalAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.SplitEditorLeftAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.SplitEditorRightAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.SplitEditorUpAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.SplitEditorDownAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.JoinTwoGroupsAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.JoinAllGroupsAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.NavigateBetweenGroupsAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.ResetGroupSizesAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.ToggleGroupSizesAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.MaximizeGroupHideSidebarAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.ToggleMaximizeEditorGroupAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.MinimizeOtherGroupsAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.MinimizeOtherGroupsHideSidebarAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.MoveEditorLeftInGroupAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.MoveEditorRightInGroupAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.MoveGroupLeftAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.MoveGroupRightAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.MoveGroupUpAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.MoveGroupDownAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.DuplicateGroupLeftAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.DuplicateGroupRightAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.DuplicateGroupUpAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.DuplicateGroupDownAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.MoveEditorToPreviousGroupAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.MoveEditorToNextGroupAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.MoveEditorToFirstGroupAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.MoveEditorToLastGroupAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.MoveEditorToLeftGroupAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.MoveEditorToRightGroupAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.MoveEditorToAboveGroupAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.MoveEditorToBelowGroupAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.SplitEditorToPreviousGroupAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.SplitEditorToNextGroupAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.SplitEditorToFirstGroupAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.SplitEditorToLastGroupAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.SplitEditorToLeftGroupAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.SplitEditorToRightGroupAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.SplitEditorToAboveGroupAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.SplitEditorToBelowGroupAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.FocusActiveGroupAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.FocusFirstGroupAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.FocusLastGroupAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.FocusPreviousGroup);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.FocusNextGroup);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.FocusLeftGroup);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.FocusRightGroup);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.FocusAboveGroup);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.FocusBelowGroup);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.NewEditorGroupLeftAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.NewEditorGroupRightAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.NewEditorGroupAboveAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.NewEditorGroupBelowAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.NavigatePreviousAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.NavigateForwardInEditsAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.NavigateBackwardsInEditsAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.NavigatePreviousInEditsAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.NavigateToLastEditLocationAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.NavigateForwardInNavigationsAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.NavigateBackwardsInNavigationsAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.NavigatePreviousInNavigationsAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.NavigateToLastNavigationLocationAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.ClearEditorHistoryAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.EditorLayoutSingleAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.EditorLayoutTwoColumnsAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.EditorLayoutThreeColumnsAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.EditorLayoutTwoRowsAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.EditorLayoutThreeRowsAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.EditorLayoutTwoByTwoGridAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.EditorLayoutTwoRowsRightAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.EditorLayoutTwoColumnsBottomAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.ToggleEditorTypeAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.ReOpenInTextEditorAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.QuickAccessPreviousRecentlyUsedEditorAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.QuickAccessLeastRecentlyUsedEditorAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.QuickAccessPreviousRecentlyUsedEditorInGroupAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.QuickAccessLeastRecentlyUsedEditorInGroupAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.QuickAccessPreviousEditorFromHistoryAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.MoveEditorToNewWindowAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.CopyEditorToNewindowAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.MoveEditorGroupToNewWindowAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.CopyEditorGroupToNewWindowAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.RestoreEditorsToMainWindowAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.NewEmptyEditorWindowAction);
const quickAccessNavigateNextInEditorPickerId = 'workbench.action.quickOpenNavigateNextInEditorPicker';
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_21__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: quickAccessNavigateNextInEditorPickerId,
    weight: 200  + 50,
    handler: (0,vscode_vscode_vs_workbench_browser_quickaccess__WEBPACK_IMPORTED_MODULE_20__.getQuickNavigateHandler)(quickAccessNavigateNextInEditorPickerId, true),
    when: editorPickerContext,
    primary: 2048  | 2 ,
    mac: { primary: 256  | 2  }
});
const quickAccessNavigatePreviousInEditorPickerId = 'workbench.action.quickOpenNavigatePreviousInEditorPicker';
vscode_vscode_vs_platform_keybinding_common_keybindingsRegistry__WEBPACK_IMPORTED_MODULE_21__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: quickAccessNavigatePreviousInEditorPickerId,
    weight: 200  + 50,
    handler: (0,vscode_vscode_vs_workbench_browser_quickaccess__WEBPACK_IMPORTED_MODULE_20__.getQuickNavigateHandler)(quickAccessNavigatePreviousInEditorPickerId, false),
    when: editorPickerContext,
    primary: 2048  | 1024  | 2 ,
    mac: { primary: 256  | 1024  | 2  }
});
(0,vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.setup)();
if (vscode_vscode_vs_base_common_platform__WEBPACK_IMPORTED_MODULE_23__.isMacintosh) {
    vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.TouchBarContext, {
        command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.NavigateBackwardsAction.ID, title: vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.NavigateBackwardsAction.LABEL, icon: { dark: ( (vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_29__.FileAccess.asFileUri('vs/workbench/browser/parts/editor/media/back-tb.png'))) } },
        group: 'navigation',
        order: 0
    });
    vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.TouchBarContext, {
        command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.NavigateForwardAction.ID, title: vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.NavigateForwardAction.LABEL, icon: { dark: ( (vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_29__.FileAccess.asFileUri('vs/workbench/browser/parts/editor/media/forward-tb.png'))) } },
        group: 'navigation',
        order: 1
    });
}
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EmptyEditorGroup, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.LOCK_GROUP_COMMAND_ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4316, "Lock Group")), icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_30__.Codicon.unlock }, group: 'navigation', order: 10, when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.and(
    vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.IsAuxiliaryEditorPartContext,
     (vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorGroupLockedContext.toNegated())
))) });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EmptyEditorGroup, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.UNLOCK_GROUP_COMMAND_ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4317, "Unlock Group")), icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_30__.Codicon.lock, toggled: vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.true() }, group: 'navigation', order: 10, when: vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorGroupLockedContext });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EmptyEditorGroup, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.CLOSE_EDITOR_GROUP_COMMAND_ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4318, "Close Group")), icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_30__.Codicon.close }, group: 'navigation', order: 20, when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.or(vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.IsAuxiliaryEditorPartContext, vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.EditorPartMultipleEditorGroupsContext))) });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EmptyEditorGroupContext, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.SPLIT_EDITOR_UP, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4319, "Split Up")) }, group: '2_split', order: 10 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EmptyEditorGroupContext, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.SPLIT_EDITOR_DOWN, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4320, "Split Down")) }, group: '2_split', order: 20 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EmptyEditorGroupContext, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.SPLIT_EDITOR_LEFT, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4321, "Split Left")) }, group: '2_split', order: 30 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EmptyEditorGroupContext, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.SPLIT_EDITOR_RIGHT, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4322, "Split Right")) }, group: '2_split', order: 40 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EmptyEditorGroupContext, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.NEW_EMPTY_EDITOR_WINDOW_COMMAND_ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4323, "New Window")) }, group: '3_window', order: 10 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EmptyEditorGroupContext, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.TOGGLE_LOCK_GROUP_COMMAND_ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4324, "Lock Group")), toggled: vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorGroupLockedContext }, group: '4_lock', order: 10, when: ( (vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.IsAuxiliaryEditorPartContext.toNegated()))  });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EmptyEditorGroupContext, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.CLOSE_EDITOR_GROUP_COMMAND_ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4325, "Close")) }, group: '5_close', order: 10, when: vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.MultipleEditorGroupsContext });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTabsBarContext, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.SPLIT_EDITOR_UP, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4319, "Split Up")) }, group: '2_split', order: 10 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTabsBarContext, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.SPLIT_EDITOR_DOWN, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4320, "Split Down")) }, group: '2_split', order: 20 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTabsBarContext, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.SPLIT_EDITOR_LEFT, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4321, "Split Left")) }, group: '2_split', order: 30 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTabsBarContext, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.SPLIT_EDITOR_RIGHT, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4322, "Split Right")) }, group: '2_split', order: 40 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTabsBarContext, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.MOVE_EDITOR_GROUP_INTO_NEW_WINDOW_COMMAND_ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4326, "Move into New Window")) }, group: '3_window', order: 10 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTabsBarContext, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.COPY_EDITOR_GROUP_INTO_NEW_WINDOW_COMMAND_ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4327, "Copy into New Window")) }, group: '3_window', order: 20 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTabsBarContext, { submenu: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTabsBarShowTabsSubmenu, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4328, "Tab Bar")), group: '4_config', order: 10, when: ( (vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.InEditorZenModeContext.negate())) });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTabsBarShowTabsSubmenu, { command: { id: vscode_vscode_vs_workbench_browser_actions_layoutActions__WEBPACK_IMPORTED_MODULE_34__.ShowMultipleEditorTabsAction.ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4329, "Multiple Tabs")), toggled: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.equals('config.workbench.editor.showTabs', 'multiple'))) }, group: '1_config', order: 10 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTabsBarShowTabsSubmenu, { command: { id: vscode_vscode_vs_workbench_browser_actions_layoutActions__WEBPACK_IMPORTED_MODULE_34__.ShowSingleEditorTabAction.ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4330, "Single Tab")), toggled: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.equals('config.workbench.editor.showTabs', 'single'))) }, group: '1_config', order: 20 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTabsBarShowTabsSubmenu, { command: { id: vscode_vscode_vs_workbench_browser_actions_layoutActions__WEBPACK_IMPORTED_MODULE_34__.HideEditorTabsAction.ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4331, "Hidden")), toggled: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.equals('config.workbench.editor.showTabs', 'none'))) }, group: '1_config', order: 30 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTabsBarContext, { submenu: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTabsBarShowTabsZenModeSubmenu, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4328, "Tab Bar")), group: '4_config', order: 10, when: vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.InEditorZenModeContext });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTabsBarShowTabsZenModeSubmenu, { command: { id: vscode_vscode_vs_workbench_browser_actions_layoutActions__WEBPACK_IMPORTED_MODULE_34__.ZenShowMultipleEditorTabsAction.ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4329, "Multiple Tabs")), toggled: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.equals('config.zenMode.showTabs', 'multiple'))) }, group: '1_config', order: 10 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTabsBarShowTabsZenModeSubmenu, { command: { id: vscode_vscode_vs_workbench_browser_actions_layoutActions__WEBPACK_IMPORTED_MODULE_34__.ZenShowSingleEditorTabAction.ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4330, "Single Tab")), toggled: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.equals('config.zenMode.showTabs', 'single'))) }, group: '1_config', order: 20 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTabsBarShowTabsZenModeSubmenu, { command: { id: vscode_vscode_vs_workbench_browser_actions_layoutActions__WEBPACK_IMPORTED_MODULE_34__.ZenHideEditorTabsAction.ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4331, "Hidden")), toggled: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.equals('config.zenMode.showTabs', 'none'))) }, group: '1_config', order: 30 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTabsBarContext, { submenu: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorActionsPositionSubmenu, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4332, "Editor Actions Position")), group: '4_config', order: 20 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorActionsPositionSubmenu, { command: { id: vscode_vscode_vs_workbench_browser_actions_layoutActions__WEBPACK_IMPORTED_MODULE_34__.EditorActionsDefaultAction.ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4328, "Tab Bar")), toggled: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.equals('config.workbench.editor.editorActionsLocation', 'default'))) }, group: '1_config', order: 10, when: ( (( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.equals('config.workbench.editor.showTabs', 'none'))).negate())) });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorActionsPositionSubmenu, { command: { id: vscode_vscode_vs_workbench_browser_actions_layoutActions__WEBPACK_IMPORTED_MODULE_34__.EditorActionsTitleBarAction.ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4333, "Title Bar")), toggled: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.or(
     (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.equals('config.workbench.editor.editorActionsLocation', 'titleBar')),
     (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.and(
         (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.equals('config.workbench.editor.showTabs', 'none')),
         (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.equals('config.workbench.editor.editorActionsLocation', 'default'))
    ))
))) }, group: '1_config', order: 20 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorActionsPositionSubmenu, { command: { id: vscode_vscode_vs_workbench_browser_actions_layoutActions__WEBPACK_IMPORTED_MODULE_34__.HideEditorActionsAction.ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4334, "Hidden")), toggled: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.equals('config.workbench.editor.editorActionsLocation', 'hidden'))) }, group: '1_config', order: 30 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTabsBarContext, { command: { id: vscode_vscode_vs_workbench_browser_actions_layoutActions__WEBPACK_IMPORTED_MODULE_34__.ConfigureEditorTabsAction.ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4335, "Configure Tabs")) }, group: '9_configure', order: 10 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTitleContext, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.CLOSE_EDITOR_COMMAND_ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4325, "Close")) }, group: '1_close', order: 10 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTitleContext, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.CLOSE_OTHER_EDITORS_IN_GROUP_COMMAND_ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4336, "Close Others")), precondition: ( (vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.EditorGroupEditorsCountContext.notEqualsTo('1'))) }, group: '1_close', order: 20 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTitleContext, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.CLOSE_EDITORS_TO_THE_RIGHT_COMMAND_ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4337, "Close to the Right")), precondition: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.and(
     (vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorLastInGroupContext.toNegated()),
     (vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.MultipleEditorsSelectedInGroupContext.negate())
))) }, group: '1_close', order: 30, when: vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.EditorTabsVisibleContext });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTitleContext, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.CLOSE_SAVED_EDITORS_COMMAND_ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4338, "Close Saved")) }, group: '1_close', order: 40 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTitleContext, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.CLOSE_EDITORS_IN_GROUP_COMMAND_ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4339, "Close All")) }, group: '1_close', order: 50 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTitleContext, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.REOPEN_WITH_COMMAND_ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4340, "Reopen Editor With...")) }, group: '1_open', order: 10, when: vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorAvailableEditorIdsContext });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTitleContext, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.KEEP_EDITOR_COMMAND_ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4341, "Keep Open")), precondition: ( (vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorPinnedContext.toNegated())) }, group: '3_preview', order: 10, when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.has('config.workbench.editor.enablePreview'))) });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTitleContext, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.PIN_EDITOR_COMMAND_ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4342, "Pin")) }, group: '3_preview', order: 20, when: ( (vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorStickyContext.toNegated())) });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTitleContext, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.UNPIN_EDITOR_COMMAND_ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4343, "Unpin")) }, group: '3_preview', order: 20, when: vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorStickyContext });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTitleContext, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.SPLIT_EDITOR_UP, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4319, "Split Up")) }, group: '5_split', order: 10 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTitleContext, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.SPLIT_EDITOR_DOWN, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4320, "Split Down")) }, group: '5_split', order: 20 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTitleContext, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.SPLIT_EDITOR_LEFT, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4321, "Split Left")) }, group: '5_split', order: 30 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTitleContext, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.SPLIT_EDITOR_RIGHT, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4322, "Split Right")) }, group: '5_split', order: 40 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTitleContext, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.SPLIT_EDITOR_IN_GROUP, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4344, "Split in Group")), precondition: ( (vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.MultipleEditorsSelectedInGroupContext.negate())) }, group: '6_split_in_group', order: 10, when: vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorCanSplitInGroupContext });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTitleContext, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.JOIN_EDITOR_IN_GROUP, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4345, "Join in Group")), precondition: ( (vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.MultipleEditorsSelectedInGroupContext.negate())) }, group: '6_split_in_group', order: 10, when: vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.SideBySideEditorActiveContext });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTitleContext, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.MOVE_EDITOR_INTO_NEW_WINDOW_COMMAND_ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4346, "Move into New Window")) }, group: '7_new_window', order: 10 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTitleContext, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.COPY_EDITOR_INTO_NEW_WINDOW_COMMAND_ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4347, "Copy into New Window")) }, group: '7_new_window', order: 20 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTitleContext, { submenu: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTitleContextShare, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4348, "Share")), group: '11_share', order: -1, when: ( (vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.MultipleEditorsSelectedInGroupContext.negate())) });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTitle, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_diffEditorCommands__WEBPACK_IMPORTED_MODULE_19__.TOGGLE_DIFF_SIDE_BY_SIDE, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4349, "Inline View")), toggled: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.equals('config.diffEditor.renderSideBySide', false))) }, group: '1_diff', order: 10, when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.has('isInDiffEditor'))) });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTitle, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.SHOW_EDITORS_IN_GROUP, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4350, "Show Opened Editors")) }, group: '3_open', order: 10 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTitle, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.CLOSE_EDITORS_IN_GROUP_COMMAND_ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4339, "Close All")) }, group: '5_close', order: 10 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTitle, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.CLOSE_SAVED_EDITORS_COMMAND_ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4338, "Close Saved")) }, group: '5_close', order: 20 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTitle, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.TOGGLE_KEEP_EDITORS_COMMAND_ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4351, "Enable Preview Editors")), toggled: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.has('config.workbench.editor.enablePreview'))) }, group: '7_settings', order: 10 });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTitle, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.TOGGLE_MAXIMIZE_EDITOR_GROUP, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4352, "Maximize Group")) }, group: '8_group_operations', order: 5, when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.and(
     (vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.EditorPartMaximizedEditorGroupContext.negate()),
    vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.EditorPartMultipleEditorGroupsContext
))) });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTitle, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.TOGGLE_MAXIMIZE_EDITOR_GROUP, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4353, "Unmaximize Group")) }, group: '8_group_operations', order: 5, when: vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.EditorPartMaximizedEditorGroupContext });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTitle, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.TOGGLE_LOCK_GROUP_COMMAND_ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4354, "Lock Group")), toggled: vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorGroupLockedContext }, group: '8_group_operations', order: 10, when: ( (vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.IsAuxiliaryEditorPartContext.toNegated()))  });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTitle, { command: { id: vscode_vscode_vs_workbench_browser_actions_layoutActions__WEBPACK_IMPORTED_MODULE_34__.ConfigureEditorAction.ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4355, "Configure Editors")) }, group: '9_configure', order: 10 });
function appendEditorToolItem(primary, when, order, alternative, precondition) {
    const item = {
        command: {
            id: primary.id,
            title: primary.title,
            icon: primary.icon,
            toggled: primary.toggled,
            precondition
        },
        group: 'navigation',
        when,
        order
    };
    if (alternative) {
        item.alt = {
            id: alternative.id,
            title: alternative.title,
            icon: alternative.icon
        };
    }
    vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTitle, item);
}
const SPLIT_ORDER = 100000;
const CLOSE_ORDER = 1000000;
appendEditorToolItem({
    id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.SPLIT_EDITOR,
    title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4356, "Split Editor Right")),
    icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_30__.Codicon.splitHorizontal
}, vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.not('splitEditorsVertically'), SPLIT_ORDER, {
    id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.SPLIT_EDITOR_DOWN,
    title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4357, "Split Editor Down")),
    icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_30__.Codicon.splitVertical
});
appendEditorToolItem({
    id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.SPLIT_EDITOR,
    title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4357, "Split Editor Down")),
    icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_30__.Codicon.splitVertical
}, ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.has('splitEditorsVertically'))), SPLIT_ORDER, {
    id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.SPLIT_EDITOR_RIGHT,
    title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4356, "Split Editor Right")),
    icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_30__.Codicon.splitHorizontal
});
appendEditorToolItem({
    id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.TOGGLE_SPLIT_EDITOR_IN_GROUP_LAYOUT,
    title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4358, "Toggle Layout")),
    icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_30__.Codicon.editorLayout
}, vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.SideBySideEditorActiveContext, SPLIT_ORDER - 1);
appendEditorToolItem({
    id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.CLOSE_EDITOR_COMMAND_ID,
    title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4325, "Close")),
    icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_30__.Codicon.close
}, ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.and(
     (vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.EditorTabsVisibleContext.toNegated()),
     (vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorDirtyContext.toNegated()),
     (vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorStickyContext.toNegated())
))), CLOSE_ORDER, {
    id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.CLOSE_EDITORS_IN_GROUP_COMMAND_ID,
    title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4339, "Close All")),
    icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_30__.Codicon.closeAll
});
appendEditorToolItem({
    id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.CLOSE_EDITOR_COMMAND_ID,
    title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4325, "Close")),
    icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_30__.Codicon.closeDirty
}, ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.and(
     (vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.EditorTabsVisibleContext.toNegated()),
    vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorDirtyContext,
     (vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorStickyContext.toNegated())
))), CLOSE_ORDER, {
    id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.CLOSE_EDITORS_IN_GROUP_COMMAND_ID,
    title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4339, "Close All")),
    icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_30__.Codicon.closeAll
});
appendEditorToolItem({
    id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.UNPIN_EDITOR_COMMAND_ID,
    title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4343, "Unpin")),
    icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_30__.Codicon.pinned
}, ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.and(
     (vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.EditorTabsVisibleContext.toNegated()),
     (vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorDirtyContext.toNegated()),
    vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorStickyContext
))), CLOSE_ORDER, {
    id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.CLOSE_EDITOR_COMMAND_ID,
    title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4325, "Close")),
    icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_30__.Codicon.close
});
appendEditorToolItem({
    id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.UNPIN_EDITOR_COMMAND_ID,
    title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4343, "Unpin")),
    icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_30__.Codicon.pinnedDirty
}, ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.and(
     (vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.EditorTabsVisibleContext.toNegated()),
    vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorDirtyContext,
    vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorStickyContext
))), CLOSE_ORDER, {
    id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.CLOSE_EDITOR_COMMAND_ID,
    title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4325, "Close")),
    icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_30__.Codicon.close
});
appendEditorToolItem({
    id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.LOCK_GROUP_COMMAND_ID,
    title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4359, "Lock Group")),
    icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_30__.Codicon.unlock
}, ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.and(
    vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.IsAuxiliaryEditorPartContext,
     (vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorGroupLockedContext.toNegated())
))), CLOSE_ORDER - 1);
appendEditorToolItem({
    id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.UNLOCK_GROUP_COMMAND_ID,
    title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4360, "Unlock Group")),
    icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_30__.Codicon.lock,
    toggled: vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.true()
}, vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorGroupLockedContext, CLOSE_ORDER - 1);
const previousChangeIcon = (0,vscode_vscode_vs_platform_theme_common_iconRegistry__WEBPACK_IMPORTED_MODULE_31__.registerIcon)('diff-editor-previous-change', vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_30__.Codicon.arrowUp, ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4361, 'Icon for the previous change action in the diff editor.')));
appendEditorToolItem({
    id: vscode_vscode_vs_workbench_browser_parts_editor_diffEditorCommands__WEBPACK_IMPORTED_MODULE_19__.GOTO_PREVIOUS_CHANGE,
    title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4362, "Previous Change")),
    icon: previousChangeIcon
}, vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.TextCompareEditorActiveContext, 10, undefined, vscode_vscode_vs_editor_common_editorContextKeys__WEBPACK_IMPORTED_MODULE_35__.EditorContextKeys.hasChanges);
const nextChangeIcon = (0,vscode_vscode_vs_platform_theme_common_iconRegistry__WEBPACK_IMPORTED_MODULE_31__.registerIcon)('diff-editor-next-change', vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_30__.Codicon.arrowDown, ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4363, 'Icon for the next change action in the diff editor.')));
appendEditorToolItem({
    id: vscode_vscode_vs_workbench_browser_parts_editor_diffEditorCommands__WEBPACK_IMPORTED_MODULE_19__.GOTO_NEXT_CHANGE,
    title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4364, "Next Change")),
    icon: nextChangeIcon
}, vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.TextCompareEditorActiveContext, 11, undefined, vscode_vscode_vs_editor_common_editorContextKeys__WEBPACK_IMPORTED_MODULE_35__.EditorContextKeys.hasChanges);
appendEditorToolItem({
    id: vscode_vscode_vs_workbench_browser_parts_editor_diffEditorCommands__WEBPACK_IMPORTED_MODULE_19__.DIFF_SWAP_SIDES,
    title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4365, "Swap Left and Right Side")),
    icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_30__.Codicon.arrowSwap
}, ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.and(vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.TextCompareEditorActiveContext, vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.ActiveCompareEditorCanSwapContext))), 15, undefined, undefined);
const toggleWhitespace = (0,vscode_vscode_vs_platform_theme_common_iconRegistry__WEBPACK_IMPORTED_MODULE_31__.registerIcon)('diff-editor-toggle-whitespace', vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_30__.Codicon.whitespace, ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4366, 'Icon for the toggle whitespace action in the diff editor.')));
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.EditorTitle, {
    command: {
        id: vscode_vscode_vs_workbench_browser_parts_editor_diffEditorCommands__WEBPACK_IMPORTED_MODULE_19__.TOGGLE_DIFF_IGNORE_TRIM_WHITESPACE,
        title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4367, "Show Leading/Trailing Whitespace Differences")),
        icon: toggleWhitespace,
        precondition: vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.TextCompareEditorActiveContext,
        toggled: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.equals('config.diffEditor.ignoreTrimWhitespace', false))),
    },
    group: 'navigation',
    when: vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.TextCompareEditorActiveContext,
    order: 20,
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.CommandPalette, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.KEEP_EDITOR_COMMAND_ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize2)(4368, 'Keep Editor')), category: vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_14__.Categories.View }, when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.has('config.workbench.editor.enablePreview'))) });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.CommandPalette, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.PIN_EDITOR_COMMAND_ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize2)(4369, 'Pin Editor')), category: vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_14__.Categories.View } });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.CommandPalette, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.UNPIN_EDITOR_COMMAND_ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize2)(4370, 'Unpin Editor')), category: vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_14__.Categories.View } });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.CommandPalette, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.CLOSE_EDITOR_COMMAND_ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize2)(4371, 'Close Editor')), category: vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_14__.Categories.View } });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.CommandPalette, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.CLOSE_PINNED_EDITOR_COMMAND_ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize2)(4372, 'Close Pinned Editor')), category: vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_14__.Categories.View } });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.CommandPalette, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.CLOSE_EDITORS_IN_GROUP_COMMAND_ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize2)(4373, 'Close All Editors in Group')), category: vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_14__.Categories.View } });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.CommandPalette, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.CLOSE_SAVED_EDITORS_COMMAND_ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize2)(4374, 'Close Saved Editors in Group')), category: vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_14__.Categories.View } });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.CommandPalette, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.CLOSE_OTHER_EDITORS_IN_GROUP_COMMAND_ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize2)(4375, 'Close Other Editors in Group')), category: vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_14__.Categories.View } });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.CommandPalette, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.CLOSE_EDITORS_TO_THE_RIGHT_COMMAND_ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize2)(4376, 'Close Editors to the Right in Group')), category: vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_14__.Categories.View }, when: ( (vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorLastInGroupContext.toNegated())) });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.CommandPalette, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.CLOSE_EDITORS_AND_GROUP_COMMAND_ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize2)(4377, 'Close Editor Group')), category: vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_14__.Categories.View }, when: vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.MultipleEditorGroupsContext });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.CommandPalette, { command: { id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.REOPEN_WITH_COMMAND_ID, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize2)(4340, "Reopen Editor With...")), category: vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_14__.Categories.View }, when: vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorAvailableEditorIdsContext });
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarRecentMenu, {
    group: '1_editor',
    command: {
        id: vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.ReopenClosedEditorAction.ID,
        title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4378, "&&Reopen Closed Editor")),
        precondition: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.has('canReopenClosedEditor')))
    },
    order: 1
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarRecentMenu, {
    group: 'z_clear',
    command: {
        id: vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.ClearRecentFilesAction.ID,
        title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4379, "&&Clear Recently Opened..."))
    },
    order: 1
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarFileMenu, {
    title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4380, "Share")),
    submenu: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarShare,
    group: '45_share',
    order: 1,
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarViewMenu, {
    group: '2_appearance',
    title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4381, "Editor &&Layout")),
    submenu: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarLayoutMenu,
    order: 2
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarLayoutMenu, {
    group: '1_split',
    command: {
        id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.SPLIT_EDITOR_UP,
        title: {
            ...( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize2)(4382, "Split Up")),
            mnemonicTitle: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4383, "Split &&Up")),
        }
    },
    order: 1
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarLayoutMenu, {
    group: '1_split',
    command: {
        id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.SPLIT_EDITOR_DOWN,
        title: {
            ...( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize2)(4384, "Split Down")),
            mnemonicTitle: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4385, "Split &&Down")),
        }
    },
    order: 2
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarLayoutMenu, {
    group: '1_split',
    command: {
        id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.SPLIT_EDITOR_LEFT,
        title: {
            ...( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize2)(4386, "Split Left")),
            mnemonicTitle: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4387, "Split &&Left")),
        }
    },
    order: 3
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarLayoutMenu, {
    group: '1_split',
    command: {
        id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.SPLIT_EDITOR_RIGHT,
        title: {
            ...( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize2)(4388, "Split Right")),
            mnemonicTitle: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4389, "Split &&Right")),
        }
    },
    order: 4
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarLayoutMenu, {
    group: '2_split_in_group',
    command: {
        id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.SPLIT_EDITOR_IN_GROUP,
        title: {
            ...( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize2)(4390, "Split in Group")),
            mnemonicTitle: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4391, "Split in &&Group")),
        }
    },
    when: vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorCanSplitInGroupContext,
    order: 1
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarLayoutMenu, {
    group: '2_split_in_group',
    command: {
        id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.JOIN_EDITOR_IN_GROUP,
        title: {
            ...( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize2)(4392, "Join in Group")),
            mnemonicTitle: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4393, "Join in &&Group")),
        }
    },
    when: vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.SideBySideEditorActiveContext,
    order: 1
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarLayoutMenu, {
    group: '3_new_window',
    command: {
        id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.MOVE_EDITOR_INTO_NEW_WINDOW_COMMAND_ID,
        title: {
            ...( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize2)(4394, "Move Editor into New Window")),
            mnemonicTitle: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4395, "&&Move Editor into New Window")),
        }
    },
    order: 1
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarLayoutMenu, {
    group: '3_new_window',
    command: {
        id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.COPY_EDITOR_INTO_NEW_WINDOW_COMMAND_ID,
        title: {
            ...( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize2)(4396, "Copy Editor into New Window")),
            mnemonicTitle: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4397, "&&Copy Editor into New Window")),
        }
    },
    order: 2
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarLayoutMenu, {
    group: '4_layouts',
    command: {
        id: vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.EditorLayoutSingleAction.ID,
        title: {
            ...( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize2)(4398, "Single")),
            mnemonicTitle: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4399, "&&Single")),
        }
    },
    order: 1
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarLayoutMenu, {
    group: '4_layouts',
    command: {
        id: vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.EditorLayoutTwoColumnsAction.ID,
        title: {
            ...( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize2)(4400, "Two Columns")),
            mnemonicTitle: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4401, "&&Two Columns")),
        }
    },
    order: 3
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarLayoutMenu, {
    group: '4_layouts',
    command: {
        id: vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.EditorLayoutThreeColumnsAction.ID,
        title: {
            ...( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize2)(4402, "Three Columns")),
            mnemonicTitle: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4403, "T&&hree Columns")),
        }
    },
    order: 4
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarLayoutMenu, {
    group: '4_layouts',
    command: {
        id: vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.EditorLayoutTwoRowsAction.ID,
        title: {
            ...( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize2)(4404, "Two Rows")),
            mnemonicTitle: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4405, "T&&wo Rows")),
        }
    },
    order: 5
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarLayoutMenu, {
    group: '4_layouts',
    command: {
        id: vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.EditorLayoutThreeRowsAction.ID,
        title: {
            ...( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize2)(4406, "Three Rows")),
            mnemonicTitle: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4407, "Three &&Rows")),
        }
    },
    order: 6
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarLayoutMenu, {
    group: '4_layouts',
    command: {
        id: vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.EditorLayoutTwoByTwoGridAction.ID,
        title: {
            ...( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize2)(4408, "Grid (2x2)")),
            mnemonicTitle: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4409, "&&Grid (2x2)")),
        }
    },
    order: 7
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarLayoutMenu, {
    group: '4_layouts',
    command: {
        id: vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.EditorLayoutTwoRowsRightAction.ID,
        title: {
            ...( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize2)(4410, "Two Rows Right")),
            mnemonicTitle: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4411, "Two R&&ows Right")),
        }
    },
    order: 8
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarLayoutMenu, {
    group: '4_layouts',
    command: {
        id: vscode_vscode_vs_workbench_browser_parts_editor_editorActions__WEBPACK_IMPORTED_MODULE_17__.EditorLayoutTwoColumnsBottomAction.ID,
        title: {
            ...( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize2)(4412, "Two Columns Bottom")),
            mnemonicTitle: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4413, "Two &&Columns Bottom")),
        }
    },
    order: 9
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarGoMenu, {
    group: '1_history_nav',
    command: {
        id: 'workbench.action.navigateToLastEditLocation',
        title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4414, "&&Last Edit Location")),
        precondition: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.has('canNavigateToLastEditLocation')))
    },
    order: 3
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarSwitchEditorMenu, {
    group: '1_sideBySide',
    command: {
        id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.FOCUS_FIRST_SIDE_EDITOR,
        title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4415, "&&First Side in Editor"))
    },
    when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.or(vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.SideBySideEditorActiveContext, vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.TextCompareEditorActiveContext))),
    order: 1
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarSwitchEditorMenu, {
    group: '1_sideBySide',
    command: {
        id: vscode_vscode_vs_workbench_browser_parts_editor_editorCommands__WEBPACK_IMPORTED_MODULE_18__.FOCUS_SECOND_SIDE_EDITOR,
        title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4416, "&&Second Side in Editor"))
    },
    when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_22__.ContextKeyExpr.or(vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.SideBySideEditorActiveContext, vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.TextCompareEditorActiveContext))),
    order: 2
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarSwitchEditorMenu, {
    group: '2_any',
    command: {
        id: 'workbench.action.nextEditor',
        title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4417, "&&Next Editor"))
    },
    order: 1
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarSwitchEditorMenu, {
    group: '2_any',
    command: {
        id: 'workbench.action.previousEditor',
        title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4418, "&&Previous Editor"))
    },
    order: 2
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarSwitchEditorMenu, {
    group: '3_any_used',
    command: {
        id: 'workbench.action.openNextRecentlyUsedEditor',
        title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4419, "&&Next Used Editor"))
    },
    order: 1
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarSwitchEditorMenu, {
    group: '3_any_used',
    command: {
        id: 'workbench.action.openPreviousRecentlyUsedEditor',
        title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4420, "&&Previous Used Editor"))
    },
    order: 2
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarSwitchEditorMenu, {
    group: '4_group',
    command: {
        id: 'workbench.action.nextEditorInGroup',
        title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4421, "&&Next Editor in Group"))
    },
    order: 1
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarSwitchEditorMenu, {
    group: '4_group',
    command: {
        id: 'workbench.action.previousEditorInGroup',
        title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4422, "&&Previous Editor in Group"))
    },
    order: 2
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarSwitchEditorMenu, {
    group: '5_group_used',
    command: {
        id: 'workbench.action.openNextRecentlyUsedEditorInGroup',
        title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4423, "&&Next Used Editor in Group"))
    },
    order: 1
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarSwitchEditorMenu, {
    group: '5_group_used',
    command: {
        id: 'workbench.action.openPreviousRecentlyUsedEditorInGroup',
        title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4424, "&&Previous Used Editor in Group"))
    },
    order: 2
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarGoMenu, {
    group: '2_editor_nav',
    title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4425, "Switch &&Editor")),
    submenu: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarSwitchEditorMenu,
    order: 1
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarSwitchGroupMenu, {
    group: '1_focus_index',
    command: {
        id: 'workbench.action.focusFirstEditorGroup',
        title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4426, "Group &&1"))
    },
    order: 1
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarSwitchGroupMenu, {
    group: '1_focus_index',
    command: {
        id: 'workbench.action.focusSecondEditorGroup',
        title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4427, "Group &&2"))
    },
    order: 2
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarSwitchGroupMenu, {
    group: '1_focus_index',
    command: {
        id: 'workbench.action.focusThirdEditorGroup',
        title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4428, "Group &&3")),
        precondition: vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.MultipleEditorGroupsContext
    },
    order: 3
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarSwitchGroupMenu, {
    group: '1_focus_index',
    command: {
        id: 'workbench.action.focusFourthEditorGroup',
        title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4429, "Group &&4")),
        precondition: vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.MultipleEditorGroupsContext
    },
    order: 4
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarSwitchGroupMenu, {
    group: '1_focus_index',
    command: {
        id: 'workbench.action.focusFifthEditorGroup',
        title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4430, "Group &&5")),
        precondition: vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.MultipleEditorGroupsContext
    },
    order: 5
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarSwitchGroupMenu, {
    group: '2_next_prev',
    command: {
        id: 'workbench.action.focusNextGroup',
        title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4431, "&&Next Group")),
        precondition: vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.MultipleEditorGroupsContext
    },
    order: 1
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarSwitchGroupMenu, {
    group: '2_next_prev',
    command: {
        id: 'workbench.action.focusPreviousGroup',
        title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4432, "&&Previous Group")),
        precondition: vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.MultipleEditorGroupsContext
    },
    order: 2
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarSwitchGroupMenu, {
    group: '3_directional',
    command: {
        id: 'workbench.action.focusLeftGroup',
        title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4433, "Group &&Left")),
        precondition: vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.MultipleEditorGroupsContext
    },
    order: 1
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarSwitchGroupMenu, {
    group: '3_directional',
    command: {
        id: 'workbench.action.focusRightGroup',
        title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4434, "Group &&Right")),
        precondition: vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.MultipleEditorGroupsContext
    },
    order: 2
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarSwitchGroupMenu, {
    group: '3_directional',
    command: {
        id: 'workbench.action.focusAboveGroup',
        title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4435, "Group &&Above")),
        precondition: vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.MultipleEditorGroupsContext
    },
    order: 3
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarSwitchGroupMenu, {
    group: '3_directional',
    command: {
        id: 'workbench.action.focusBelowGroup',
        title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4436, "Group &&Below")),
        precondition: vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.MultipleEditorGroupsContext
    },
    order: 4
});
vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuRegistry.appendMenuItem(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarGoMenu, {
    group: '2_editor_nav',
    title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4437, "Switch &&Group")),
    submenu: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.MenubarSwitchGroupMenu,
    order: 2
});


/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/editor/editorConfiguration.js":
/*!************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/editor/editorConfiguration.js ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DynamicEditorConfigurations: () => (/* binding */ DynamicEditorConfigurations)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/platform/registry/common/platform */ "./node_modules/vscode/vscode/src/vs/platform/registry/common/platform.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_platform_configuration_common_configurationRegistry__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/platform/configuration/common/configurationRegistry */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configurationRegistry.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_configuration__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/configuration */ "./node_modules/vscode/vscode/src/vs/workbench/common/configuration.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorResolverService */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorResolverService.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorResolverService_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorResolverService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorResolverService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_extensions_common_extensions_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/extensions/common/extensions.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/extensions/common/extensions.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/base/common/arrays */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_environment_common_environmentService_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/environment/common/environmentService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/environment/common/environmentService.service.js");
/* harmony import */ var vscode_vscode_vs_platform_files_common_files__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/platform/files/common/files */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.js");














var DynamicEditorConfigurations_1;
let DynamicEditorConfigurations = class DynamicEditorConfigurations extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__.Disposable {
    static { DynamicEditorConfigurations_1 = this; }
    static { this.ID = 'workbench.contrib.dynamicEditorConfigurations'; }
    static { this.AUTO_LOCK_DEFAULT_ENABLED = ( (new Set([
        'terminalEditor',
        'mainThreadWebview-simpleBrowser.view',
        'mainThreadWebview-browserPreview'
    ]))); }
    static { this.AUTO_LOCK_EXTRA_EDITORS = [
        {
            id: 'workbench.input.interactive',
            label: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(9840, 'Interactive Window')),
            priority: vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_6__.RegisteredEditorPriority.builtin
        },
        {
            id: 'mainThreadWebview-markdown.preview',
            label: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(9841, "Markdown Preview")),
            priority: vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_6__.RegisteredEditorPriority.builtin
        },
        {
            id: 'mainThreadWebview-simpleBrowser.view',
            label: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(9842, "Simple Browser")),
            priority: vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_6__.RegisteredEditorPriority.builtin
        },
        {
            id: 'mainThreadWebview-browserPreview',
            label: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(9843, "Live Preview")),
            priority: vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_6__.RegisteredEditorPriority.builtin
        }
    ]; }
    static { this.AUTO_LOCK_REMOVE_EDITORS = ( (new Set([
        'vscode-interactive-input',
        'interactive',
        'vscode.markdown.preview.editor'
    ]))); }
    constructor(editorResolverService, extensionService, environmentService) {
        super();
        this.editorResolverService = editorResolverService;
        this.environmentService = environmentService;
        this.configurationRegistry = ( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_2__.Registry.as(vscode_vscode_vs_platform_configuration_common_configurationRegistry__WEBPACK_IMPORTED_MODULE_4__.Extensions.Configuration)));
        (async () => {
            await extensionService.whenInstalledExtensionsRegistered();
            this.updateDynamicEditorConfigurations();
            this.registerListeners();
        })();
    }
    registerListeners() {
        this._register(vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_10__.Event.debounce(this.editorResolverService.onDidChangeEditorRegistrations, (_, e) => e)(() => this.updateDynamicEditorConfigurations()));
    }
    updateDynamicEditorConfigurations() {
        const lockableEditors = [...this.editorResolverService.getEditors(), ...DynamicEditorConfigurations_1.AUTO_LOCK_EXTRA_EDITORS].filter(e => !( (DynamicEditorConfigurations_1.AUTO_LOCK_REMOVE_EDITORS.has(e.id))));
        const binaryEditorCandidates = ( (this.editorResolverService.getEditors().filter(e => e.priority !== vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_6__.RegisteredEditorPriority.exclusive).map(e => e.id)));
        const autoLockGroupConfiguration = Object.create(null);
        for (const editor of lockableEditors) {
            autoLockGroupConfiguration[editor.id] = {
                type: 'boolean',
                default: ( (DynamicEditorConfigurations_1.AUTO_LOCK_DEFAULT_ENABLED.has(editor.id))),
                description: editor.label
            };
        }
        const defaultAutoLockGroupConfiguration = Object.create(null);
        for (const editor of lockableEditors) {
            defaultAutoLockGroupConfiguration[editor.id] = ( (DynamicEditorConfigurations_1.AUTO_LOCK_DEFAULT_ENABLED.has(editor.id)));
        }
        const oldAutoLockConfigurationNode = this.autoLockConfigurationNode;
        this.autoLockConfigurationNode = {
            ...vscode_vscode_vs_workbench_common_configuration__WEBPACK_IMPORTED_MODULE_5__.workbenchConfigurationNodeBase,
            properties: {
                'workbench.editor.autoLockGroups': {
                    type: 'object',
                    description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(
                        9844,
                        "If an editor matching one of the listed types is opened as the first in an editor group and more than one group is open, the group is automatically locked. Locked groups will only be used for opening editors when explicitly chosen by a user gesture (for example drag and drop), but not by default. Consequently, the active editor in a locked group is less likely to be replaced accidentally with a different editor."
                    )),
                    properties: autoLockGroupConfiguration,
                    default: defaultAutoLockGroupConfiguration,
                    additionalProperties: false
                }
            }
        };
        const oldDefaultBinaryEditorConfigurationNode = this.defaultBinaryEditorConfigurationNode;
        this.defaultBinaryEditorConfigurationNode = {
            ...vscode_vscode_vs_workbench_common_configuration__WEBPACK_IMPORTED_MODULE_5__.workbenchConfigurationNodeBase,
            properties: {
                'workbench.editor.defaultBinaryEditor': {
                    type: 'string',
                    default: '',
                    enum: [...binaryEditorCandidates, ''],
                    description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(
                        9845,
                        "The default editor for files detected as binary. If undefined, the user will be presented with a picker."
                    )),
                }
            }
        };
        const oldEditorAssociationsConfigurationNode = this.editorAssociationsConfigurationNode;
        this.editorAssociationsConfigurationNode = {
            ...vscode_vscode_vs_workbench_common_configuration__WEBPACK_IMPORTED_MODULE_5__.workbenchConfigurationNodeBase,
            properties: {
                'workbench.editorAssociations': {
                    type: 'object',
                    markdownDescription: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(
                        9846,
                        "Configure [glob patterns](https://aka.ms/vscode-glob-patterns) to editors (for example `\"*.hex\": \"hexEditor.hexedit\"`). These have precedence over the default behavior."
                    )),
                    patternProperties: {
                        '.*': {
                            type: 'string',
                            enum: binaryEditorCandidates,
                        }
                    }
                }
            }
        };
        const oldEditorLargeFileConfirmationConfigurationNode = this.editorLargeFileConfirmationConfigurationNode;
        this.editorLargeFileConfirmationConfigurationNode = {
            ...vscode_vscode_vs_workbench_common_configuration__WEBPACK_IMPORTED_MODULE_5__.workbenchConfigurationNodeBase,
            properties: {
                'workbench.editorLargeFileConfirmation': {
                    type: 'number',
                    default: (0,vscode_vscode_vs_platform_files_common_files__WEBPACK_IMPORTED_MODULE_12__.getLargeFileConfirmationLimit)(this.environmentService.remoteAuthority) / vscode_vscode_vs_platform_files_common_files__WEBPACK_IMPORTED_MODULE_12__.ByteSize.MB,
                    minimum: 1,
                    scope: 4 ,
                    markdownDescription: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(
                        9847,
                        "Controls the minimum size of a file in MB before asking for confirmation when opening in the editor. Note that this setting may not apply to all editor types and environments."
                    )),
                }
            }
        };
        this.configurationRegistry.updateConfigurations({
            add: [
                this.autoLockConfigurationNode,
                this.defaultBinaryEditorConfigurationNode,
                this.editorAssociationsConfigurationNode,
                this.editorLargeFileConfirmationConfigurationNode
            ],
            remove: (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_9__.coalesce)([
                oldAutoLockConfigurationNode,
                oldDefaultBinaryEditorConfigurationNode,
                oldEditorAssociationsConfigurationNode,
                oldEditorLargeFileConfirmationConfigurationNode
            ])
        });
    }
};
DynamicEditorConfigurations = DynamicEditorConfigurations_1 = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_workbench_services_editor_common_editorResolverService_service__WEBPACK_IMPORTED_MODULE_7__.IEditorResolverService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_workbench_services_extensions_common_extensions_service__WEBPACK_IMPORTED_MODULE_8__.IExtensionService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_workbench_services_environment_common_environmentService_service__WEBPACK_IMPORTED_MODULE_11__.IWorkbenchEnvironmentService)))
], DynamicEditorConfigurations)));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/editor/editorDropTarget.js":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/editor/editorDropTarget.js ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EditorDropTarget: () => (/* binding */ EditorDropTarget)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _media_editordroptarget_css_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./media/editordroptarget.css.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/editor/media/editordroptarget.css.js");
/* harmony import */ var vscode_vscode_vs_base_browser_dnd__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/dnd */ "./node_modules/vscode/vscode/src/vs/base/browser/dnd.js");
/* harmony import */ var vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/dom */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var vscode_vscode_vs_base_browser_formattedTextRenderer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/formattedTextRenderer */ "./node_modules/vscode/vscode/src/vs/base/browser/formattedTextRenderer.js");
/* harmony import */ var vscode_vscode_vs_base_common_async__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/base/common/async */ "./node_modules/vscode/vscode/src/vs/base/common/async.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_base_common_platform__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/base/common/platform */ "./node_modules/vscode/vscode/src/vs/base/common/platform.js");
/* harmony import */ var vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/base/common/types */ "./node_modules/vscode/vscode/src/vs/base/common/types.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/platform/configuration/common/configuration.service */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/platform/registry/common/platform */ "./node_modules/vscode/vscode/src/vs/platform/registry/common/platform.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colorUtils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colorUtils */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colorUtils.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_baseColors__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/baseColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/baseColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_chartsColors__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/chartsColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/chartsColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_editorColors__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/editorColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/editorColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_inputColors__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/inputColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/inputColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_listColors__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/listColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/listColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_menuColors__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/menuColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/menuColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_minimapColors__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/minimapColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/minimapColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_miscColors__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/miscColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/miscColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_quickpickColors__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/quickpickColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/quickpickColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_searchColors__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/searchColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/searchColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_themeService__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/themeService */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_themeService_service__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/themeService.service */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.service.js");
/* harmony import */ var vscode_vscode_vs_platform_workspace_common_workspace__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! vscode/vscode/vs/platform/workspace/common/workspace */ "./node_modules/vscode/vscode/src/vs/platform/workspace/common/workspace.js");
/* harmony import */ var vscode_vscode_vs_platform_workspace_common_workspace_service__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! vscode/vscode/vs/platform/workspace/common/workspace.service */ "./node_modules/vscode/vscode/src/vs/platform/workspace/common/workspace.service.js");
/* harmony import */ var vscode_vscode_vs_platform_dnd_browser_dnd__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! vscode/vscode/vs/platform/dnd/browser/dnd */ "./node_modules/vscode/vscode/src/vs/platform/dnd/browser/dnd.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_dnd__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/dnd */ "./node_modules/vscode/vscode/src/vs/workbench/browser/dnd.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_editor_editor__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/editor/editor */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editor.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/theme */ "./node_modules/vscode/vscode/src/vs/workbench/common/theme.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorGroupsService_service__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorGroupsService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorGroupsService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");
/* harmony import */ var vscode_vscode_vs_editor_common_services_treeViewsDndService__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/services/treeViewsDndService */ "./node_modules/vscode/vscode/src/vs/editor/common/services/treeViewsDndService.js");
/* harmony import */ var vscode_vscode_vs_editor_common_services_treeViewsDnd__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/services/treeViewsDnd */ "./node_modules/vscode/vscode/src/vs/editor/common/services/treeViewsDnd.js");





































var DropOverlay_1;
function isDropIntoEditorEnabledGlobally(configurationService) {
    return configurationService.getValue('editor.dropIntoEditor.enabled');
}
function isDragIntoEditorEvent(e) {
    return e.shiftKey;
}
let DropOverlay = class DropOverlay extends vscode_vscode_vs_platform_theme_common_themeService__WEBPACK_IMPORTED_MODULE_24__.Themable {
    static { DropOverlay_1 = this; }
    static { this.OVERLAY_ID = 'monaco-workbench-editor-drop-overlay'; }
    get disposed() { return !!this._disposed; }
    constructor(groupView, themeService, configurationService, instantiationService, editorService, editorGroupService, treeViewsDragAndDropService, contextService) {
        super(themeService);
        this.groupView = groupView;
        this.configurationService = configurationService;
        this.instantiationService = instantiationService;
        this.editorService = editorService;
        this.editorGroupService = editorGroupService;
        this.treeViewsDragAndDropService = treeViewsDragAndDropService;
        this.contextService = contextService;
        this.editorTransfer = vscode_vscode_vs_platform_dnd_browser_dnd__WEBPACK_IMPORTED_MODULE_28__.LocalSelectionTransfer.getInstance();
        this.groupTransfer = vscode_vscode_vs_platform_dnd_browser_dnd__WEBPACK_IMPORTED_MODULE_28__.LocalSelectionTransfer.getInstance();
        this.treeItemsTransfer = vscode_vscode_vs_platform_dnd_browser_dnd__WEBPACK_IMPORTED_MODULE_28__.LocalSelectionTransfer.getInstance();
        this.cleanupOverlayScheduler = this._register(( (new vscode_vscode_vs_base_common_async__WEBPACK_IMPORTED_MODULE_5__.RunOnceScheduler(() => this.dispose(), 300))));
        this.enableDropIntoEditor = isDropIntoEditorEnabledGlobally(this.configurationService) && this.isDropIntoActiveEditorEnabled();
        this.create();
    }
    create() {
        const overlayOffsetHeight = this.getOverlayOffsetHeight();
        const container = this.container = document.createElement('div');
        container.id = DropOverlay_1.OVERLAY_ID;
        container.style.top = `${overlayOffsetHeight}px`;
        this.groupView.element.appendChild(container);
        this.groupView.element.classList.add('dragged-over');
        this._register((0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_6__.toDisposable)(() => {
            container.remove();
            this.groupView.element.classList.remove('dragged-over');
        }));
        this.overlay = document.createElement('div');
        this.overlay.classList.add('editor-group-overlay-indicator');
        container.appendChild(this.overlay);
        if (this.enableDropIntoEditor) {
            this.dropIntoPromptElement = (0,vscode_vscode_vs_base_browser_formattedTextRenderer__WEBPACK_IMPORTED_MODULE_4__.renderFormattedText)(( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_9__.localize)(10983, "Hold __{0}__ to drop into editor", vscode_vscode_vs_base_common_platform__WEBPACK_IMPORTED_MODULE_7__.isMacintosh ? '' : 'Shift')), {});
            this.dropIntoPromptElement.classList.add('editor-group-overlay-drop-into-prompt');
            this.overlay.appendChild(this.dropIntoPromptElement);
        }
        this.registerListeners(container);
        this.updateStyles();
    }
    updateStyles() {
        const overlay = (0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_8__.assertIsDefined)(this.overlay);
        overlay.style.backgroundColor = this.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_31__.EDITOR_DRAG_AND_DROP_BACKGROUND) || '';
        const activeContrastBorderColor = this.getColor(vscode_vscode_vs_platform_theme_common_colors_baseColors__WEBPACK_IMPORTED_MODULE_14__.activeContrastBorder);
        overlay.style.outlineColor = activeContrastBorderColor || '';
        overlay.style.outlineOffset = activeContrastBorderColor ? '-2px' : '';
        overlay.style.outlineStyle = activeContrastBorderColor ? 'dashed' : '';
        overlay.style.outlineWidth = activeContrastBorderColor ? '2px' : '';
        if (this.dropIntoPromptElement) {
            this.dropIntoPromptElement.style.backgroundColor = this.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_31__.EDITOR_DROP_INTO_PROMPT_BACKGROUND) ?? '';
            this.dropIntoPromptElement.style.color = this.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_31__.EDITOR_DROP_INTO_PROMPT_FOREGROUND) ?? '';
            const borderColor = this.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_31__.EDITOR_DROP_INTO_PROMPT_BORDER);
            if (borderColor) {
                this.dropIntoPromptElement.style.borderWidth = '1px';
                this.dropIntoPromptElement.style.borderStyle = 'solid';
                this.dropIntoPromptElement.style.borderColor = borderColor;
            }
            else {
                this.dropIntoPromptElement.style.borderWidth = '0';
            }
        }
    }
    registerListeners(container) {
        this._register(( (new vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_3__.DragAndDropObserver(container, {
            onDragOver: e => {
                if (this.enableDropIntoEditor && isDragIntoEditorEvent(e)) {
                    this.dispose();
                    return;
                }
                const isDraggingGroup = this.groupTransfer.hasData(vscode_vscode_vs_workbench_browser_dnd__WEBPACK_IMPORTED_MODULE_29__.DraggedEditorGroupIdentifier.prototype);
                const isDraggingEditor = this.editorTransfer.hasData(vscode_vscode_vs_workbench_browser_dnd__WEBPACK_IMPORTED_MODULE_29__.DraggedEditorIdentifier.prototype);
                if (!isDraggingEditor && !isDraggingGroup && e.dataTransfer) {
                    e.dataTransfer.dropEffect = 'copy';
                }
                let isCopy = true;
                if (isDraggingGroup) {
                    isCopy = this.isCopyOperation(e);
                }
                else if (isDraggingEditor) {
                    const data = this.editorTransfer.getData(vscode_vscode_vs_workbench_browser_dnd__WEBPACK_IMPORTED_MODULE_29__.DraggedEditorIdentifier.prototype);
                    if (Array.isArray(data) && data.length > 0) {
                        isCopy = this.isCopyOperation(e, data[0].identifier);
                    }
                }
                if (!isCopy) {
                    const sourceGroupView = this.findSourceGroupView();
                    if (sourceGroupView === this.groupView) {
                        if (isDraggingGroup || (isDraggingEditor && sourceGroupView.count < 2)) {
                            this.hideOverlay();
                            return;
                        }
                    }
                }
                let splitOnDragAndDrop = !!this.editorGroupService.partOptions.splitOnDragAndDrop;
                if (this.isToggleSplitOperation(e)) {
                    splitOnDragAndDrop = !splitOnDragAndDrop;
                }
                this.positionOverlay(e.offsetX, e.offsetY, isDraggingGroup, splitOnDragAndDrop);
                if (this.cleanupOverlayScheduler.isScheduled()) {
                    this.cleanupOverlayScheduler.cancel();
                }
            },
            onDragLeave: e => this.dispose(),
            onDragEnd: e => this.dispose(),
            onDrop: e => {
                vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_3__.EventHelper.stop(e, true);
                this.dispose();
                if (this.currentDropOperation) {
                    this.handleDrop(e, this.currentDropOperation.splitDirection);
                }
            }
        }))));
        this._register((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_3__.addDisposableListener)(container, vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_3__.EventType.MOUSE_OVER, () => {
            if (!this.cleanupOverlayScheduler.isScheduled()) {
                this.cleanupOverlayScheduler.schedule();
            }
        }));
    }
    isDropIntoActiveEditorEnabled() {
        return !!this.groupView.activeEditor?.hasCapability(128 );
    }
    findSourceGroupView() {
        if (this.groupTransfer.hasData(vscode_vscode_vs_workbench_browser_dnd__WEBPACK_IMPORTED_MODULE_29__.DraggedEditorGroupIdentifier.prototype)) {
            const data = this.groupTransfer.getData(vscode_vscode_vs_workbench_browser_dnd__WEBPACK_IMPORTED_MODULE_29__.DraggedEditorGroupIdentifier.prototype);
            if (Array.isArray(data) && data.length > 0) {
                return this.editorGroupService.getGroup(data[0].identifier);
            }
        }
        else if (this.editorTransfer.hasData(vscode_vscode_vs_workbench_browser_dnd__WEBPACK_IMPORTED_MODULE_29__.DraggedEditorIdentifier.prototype)) {
            const data = this.editorTransfer.getData(vscode_vscode_vs_workbench_browser_dnd__WEBPACK_IMPORTED_MODULE_29__.DraggedEditorIdentifier.prototype);
            if (Array.isArray(data) && data.length > 0) {
                return this.editorGroupService.getGroup(data[0].identifier.groupId);
            }
        }
        return undefined;
    }
    async handleDrop(event, splitDirection) {
        const ensureTargetGroup = () => {
            let targetGroup;
            if (typeof splitDirection === 'number') {
                targetGroup = this.editorGroupService.addGroup(this.groupView, splitDirection);
            }
            else {
                targetGroup = this.groupView;
            }
            return targetGroup;
        };
        if (this.groupTransfer.hasData(vscode_vscode_vs_workbench_browser_dnd__WEBPACK_IMPORTED_MODULE_29__.DraggedEditorGroupIdentifier.prototype)) {
            const data = this.groupTransfer.getData(vscode_vscode_vs_workbench_browser_dnd__WEBPACK_IMPORTED_MODULE_29__.DraggedEditorGroupIdentifier.prototype);
            if (Array.isArray(data) && data.length > 0) {
                const sourceGroup = this.editorGroupService.getGroup(data[0].identifier);
                if (sourceGroup) {
                    if (typeof splitDirection !== 'number' && sourceGroup === this.groupView) {
                        return;
                    }
                    let targetGroup;
                    if (typeof splitDirection === 'number') {
                        if (this.isCopyOperation(event)) {
                            targetGroup = this.editorGroupService.copyGroup(sourceGroup, this.groupView, splitDirection);
                        }
                        else {
                            targetGroup = this.editorGroupService.moveGroup(sourceGroup, this.groupView, splitDirection);
                        }
                    }
                    else {
                        let mergeGroupOptions = undefined;
                        if (this.isCopyOperation(event)) {
                            mergeGroupOptions = { mode: 0  };
                        }
                        this.editorGroupService.mergeGroup(sourceGroup, this.groupView, mergeGroupOptions);
                    }
                    if (targetGroup) {
                        this.editorGroupService.activateGroup(targetGroup);
                    }
                }
                this.groupTransfer.clearData(vscode_vscode_vs_workbench_browser_dnd__WEBPACK_IMPORTED_MODULE_29__.DraggedEditorGroupIdentifier.prototype);
            }
        }
        else if (this.editorTransfer.hasData(vscode_vscode_vs_workbench_browser_dnd__WEBPACK_IMPORTED_MODULE_29__.DraggedEditorIdentifier.prototype)) {
            const data = this.editorTransfer.getData(vscode_vscode_vs_workbench_browser_dnd__WEBPACK_IMPORTED_MODULE_29__.DraggedEditorIdentifier.prototype);
            if (Array.isArray(data) && data.length > 0) {
                const draggedEditors = data;
                const firstDraggedEditor = data[0].identifier;
                const sourceGroup = this.editorGroupService.getGroup(firstDraggedEditor.groupId);
                if (sourceGroup) {
                    const copyEditor = this.isCopyOperation(event, firstDraggedEditor);
                    let targetGroup = undefined;
                    if (this.editorGroupService.partOptions.closeEmptyGroups && sourceGroup.count === 1 && typeof splitDirection === 'number' && !copyEditor) {
                        targetGroup = this.editorGroupService.moveGroup(sourceGroup, this.groupView, splitDirection);
                    }
                    else {
                        targetGroup = ensureTargetGroup();
                        if (sourceGroup === targetGroup) {
                            return;
                        }
                        const editors = ( (draggedEditors.map(draggedEditor => ({
                            editor: draggedEditor.identifier.editor,
                            options: (0,vscode_vscode_vs_workbench_browser_parts_editor_editor__WEBPACK_IMPORTED_MODULE_30__.fillActiveEditorViewState)(sourceGroup, draggedEditor.identifier.editor, {
                                pinned: true,
                                sticky: sourceGroup.isSticky(draggedEditor.identifier.editor)
                            })
                        }))));
                        if (!copyEditor) {
                            sourceGroup.moveEditors(editors, targetGroup);
                        }
                        else {
                            sourceGroup.copyEditors(editors, targetGroup);
                        }
                    }
                    targetGroup.focus();
                }
                this.editorTransfer.clearData(vscode_vscode_vs_workbench_browser_dnd__WEBPACK_IMPORTED_MODULE_29__.DraggedEditorIdentifier.prototype);
            }
        }
        else if (this.treeItemsTransfer.hasData(vscode_vscode_vs_editor_common_services_treeViewsDnd__WEBPACK_IMPORTED_MODULE_35__.DraggedTreeItemsIdentifier.prototype)) {
            const data = this.treeItemsTransfer.getData(vscode_vscode_vs_editor_common_services_treeViewsDnd__WEBPACK_IMPORTED_MODULE_35__.DraggedTreeItemsIdentifier.prototype);
            if (Array.isArray(data) && data.length > 0) {
                const editors = [];
                for (const id of data) {
                    const dataTransferItem = await this.treeViewsDragAndDropService.removeDragOperationTransfer(id.identifier);
                    if (dataTransferItem) {
                        const treeDropData = await (0,vscode_vscode_vs_workbench_browser_dnd__WEBPACK_IMPORTED_MODULE_29__.extractTreeDropData)(dataTransferItem);
                        editors.push(...( (treeDropData.map(editor => ({ ...editor, options: { ...editor.options, pinned: true } })))));
                    }
                }
                if (editors.length) {
                    this.editorService.openEditors(editors, ensureTargetGroup(), { validateTrust: true });
                }
            }
            this.treeItemsTransfer.clearData(vscode_vscode_vs_editor_common_services_treeViewsDnd__WEBPACK_IMPORTED_MODULE_35__.DraggedTreeItemsIdentifier.prototype);
        }
        else {
            const dropHandler = this.instantiationService.createInstance(vscode_vscode_vs_workbench_browser_dnd__WEBPACK_IMPORTED_MODULE_29__.ResourcesDropHandler, { allowWorkspaceOpen: !vscode_vscode_vs_base_common_platform__WEBPACK_IMPORTED_MODULE_7__.isWeb || (0,vscode_vscode_vs_platform_workspace_common_workspace__WEBPACK_IMPORTED_MODULE_26__.isTemporaryWorkspace)(this.contextService.getWorkspace()) });
            dropHandler.handleDrop(event, (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_3__.getWindow)(this.groupView.element), () => ensureTargetGroup(), targetGroup => targetGroup?.focus());
        }
    }
    isCopyOperation(e, draggedEditor) {
        if (draggedEditor?.editor.hasCapability(8 )) {
            return false;
        }
        return (e.ctrlKey && !vscode_vscode_vs_base_common_platform__WEBPACK_IMPORTED_MODULE_7__.isMacintosh) || (e.altKey && vscode_vscode_vs_base_common_platform__WEBPACK_IMPORTED_MODULE_7__.isMacintosh);
    }
    isToggleSplitOperation(e) {
        return (e.altKey && !vscode_vscode_vs_base_common_platform__WEBPACK_IMPORTED_MODULE_7__.isMacintosh) || (e.shiftKey && vscode_vscode_vs_base_common_platform__WEBPACK_IMPORTED_MODULE_7__.isMacintosh);
    }
    positionOverlay(mousePosX, mousePosY, isDraggingGroup, enableSplitting) {
        const preferSplitVertically = this.editorGroupService.partOptions.openSideBySideDirection === 'right';
        const editorControlWidth = this.groupView.element.clientWidth;
        const editorControlHeight = this.groupView.element.clientHeight - this.getOverlayOffsetHeight();
        let edgeWidthThresholdFactor;
        let edgeHeightThresholdFactor;
        if (enableSplitting) {
            if (isDraggingGroup) {
                edgeWidthThresholdFactor = preferSplitVertically ? 0.3 : 0.1;
            }
            else {
                edgeWidthThresholdFactor = 0.1;
            }
            if (isDraggingGroup) {
                edgeHeightThresholdFactor = preferSplitVertically ? 0.1 : 0.3;
            }
            else {
                edgeHeightThresholdFactor = 0.1;
            }
        }
        else {
            edgeWidthThresholdFactor = 0;
            edgeHeightThresholdFactor = 0;
        }
        const edgeWidthThreshold = editorControlWidth * edgeWidthThresholdFactor;
        const edgeHeightThreshold = editorControlHeight * edgeHeightThresholdFactor;
        const splitWidthThreshold = editorControlWidth / 3;
        const splitHeightThreshold = editorControlHeight / 3;
        let splitDirection;
        if (mousePosX > edgeWidthThreshold && mousePosX < editorControlWidth - edgeWidthThreshold &&
            mousePosY > edgeHeightThreshold && mousePosY < editorControlHeight - edgeHeightThreshold) {
            splitDirection = undefined;
        }
        else {
            if (preferSplitVertically) {
                if (mousePosX < splitWidthThreshold) {
                    splitDirection = 2 ;
                }
                else if (mousePosX > splitWidthThreshold * 2) {
                    splitDirection = 3 ;
                }
                else if (mousePosY < editorControlHeight / 2) {
                    splitDirection = 0 ;
                }
                else {
                    splitDirection = 1 ;
                }
            }
            else {
                if (mousePosY < splitHeightThreshold) {
                    splitDirection = 0 ;
                }
                else if (mousePosY > splitHeightThreshold * 2) {
                    splitDirection = 1 ;
                }
                else if (mousePosX < editorControlWidth / 2) {
                    splitDirection = 2 ;
                }
                else {
                    splitDirection = 3 ;
                }
            }
        }
        switch (splitDirection) {
            case 0 :
                this.doPositionOverlay({ top: '0', left: '0', width: '100%', height: '50%' });
                this.toggleDropIntoPrompt(false);
                break;
            case 1 :
                this.doPositionOverlay({ top: '50%', left: '0', width: '100%', height: '50%' });
                this.toggleDropIntoPrompt(false);
                break;
            case 2 :
                this.doPositionOverlay({ top: '0', left: '0', width: '50%', height: '100%' });
                this.toggleDropIntoPrompt(false);
                break;
            case 3 :
                this.doPositionOverlay({ top: '0', left: '50%', width: '50%', height: '100%' });
                this.toggleDropIntoPrompt(false);
                break;
            default:
                this.doPositionOverlay({ top: '0', left: '0', width: '100%', height: '100%' });
                this.toggleDropIntoPrompt(true);
        }
        const overlay = (0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_8__.assertIsDefined)(this.overlay);
        overlay.style.opacity = '1';
        setTimeout(() => overlay.classList.add('overlay-move-transition'), 0);
        this.currentDropOperation = { splitDirection };
    }
    doPositionOverlay(options) {
        const [container, overlay] = (0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_8__.assertAllDefined)(this.container, this.overlay);
        const offsetHeight = this.getOverlayOffsetHeight();
        if (offsetHeight) {
            container.style.height = `calc(100% - ${offsetHeight}px)`;
        }
        else {
            container.style.height = '100%';
        }
        overlay.style.top = options.top;
        overlay.style.left = options.left;
        overlay.style.width = options.width;
        overlay.style.height = options.height;
    }
    getOverlayOffsetHeight() {
        if (!this.groupView.isEmpty && this.editorGroupService.partOptions.showTabs === 'multiple') {
            return this.groupView.titleHeight.offset;
        }
        return 0;
    }
    hideOverlay() {
        const overlay = (0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_8__.assertIsDefined)(this.overlay);
        this.doPositionOverlay({ top: '0', left: '0', width: '100%', height: '100%' });
        overlay.style.opacity = '0';
        overlay.classList.remove('overlay-move-transition');
        this.currentDropOperation = undefined;
    }
    toggleDropIntoPrompt(showing) {
        if (!this.dropIntoPromptElement) {
            return;
        }
        this.dropIntoPromptElement.style.opacity = showing ? '1' : '0';
    }
    contains(element) {
        return element === this.container || element === this.overlay;
    }
    dispose() {
        super.dispose();
        this._disposed = true;
    }
};
DropOverlay = DropOverlay_1 = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_platform_theme_common_themeService_service__WEBPACK_IMPORTED_MODULE_25__.IThemeService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_10__.IConfigurationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_11__.IInstantiationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_33__.IEditorService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, vscode_vscode_vs_workbench_services_editor_common_editorGroupsService_service__WEBPACK_IMPORTED_MODULE_32__.IEditorGroupsService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, vscode_vscode_vs_editor_common_services_treeViewsDndService__WEBPACK_IMPORTED_MODULE_34__.ITreeViewsDnDService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, vscode_vscode_vs_platform_workspace_common_workspace_service__WEBPACK_IMPORTED_MODULE_27__.IWorkspaceContextService)))
], DropOverlay)));
let EditorDropTarget = class EditorDropTarget extends vscode_vscode_vs_platform_theme_common_themeService__WEBPACK_IMPORTED_MODULE_24__.Themable {
    constructor(container, delegate, editorGroupService, themeService, configurationService, instantiationService) {
        super(themeService);
        this.container = container;
        this.delegate = delegate;
        this.editorGroupService = editorGroupService;
        this.configurationService = configurationService;
        this.instantiationService = instantiationService;
        this.counter = 0;
        this.editorTransfer = vscode_vscode_vs_platform_dnd_browser_dnd__WEBPACK_IMPORTED_MODULE_28__.LocalSelectionTransfer.getInstance();
        this.groupTransfer = vscode_vscode_vs_platform_dnd_browser_dnd__WEBPACK_IMPORTED_MODULE_28__.LocalSelectionTransfer.getInstance();
        this.registerListeners();
    }
    get overlay() {
        if (this._overlay && !this._overlay.disposed) {
            return this._overlay;
        }
        return undefined;
    }
    registerListeners() {
        this._register((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_3__.addDisposableListener)(this.container, vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_3__.EventType.DRAG_ENTER, e => this.onDragEnter(e)));
        this._register((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_3__.addDisposableListener)(this.container, vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_3__.EventType.DRAG_LEAVE, () => this.onDragLeave()));
        for (const target of [this.container, (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_3__.getWindow)(this.container)]) {
            this._register((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_3__.addDisposableListener)(target, vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_3__.EventType.DRAG_END, () => this.onDragEnd()));
        }
    }
    onDragEnter(event) {
        if (isDropIntoEditorEnabledGlobally(this.configurationService) && isDragIntoEditorEvent(event)) {
            return;
        }
        this.counter++;
        if (!this.editorTransfer.hasData(vscode_vscode_vs_workbench_browser_dnd__WEBPACK_IMPORTED_MODULE_29__.DraggedEditorIdentifier.prototype) &&
            !this.groupTransfer.hasData(vscode_vscode_vs_workbench_browser_dnd__WEBPACK_IMPORTED_MODULE_29__.DraggedEditorGroupIdentifier.prototype) &&
            event.dataTransfer) {
            const dndContributions = ( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_12__.Registry.as(vscode_vscode_vs_platform_dnd_browser_dnd__WEBPACK_IMPORTED_MODULE_28__.Extensions.DragAndDropContribution))).getAll();
            const dndContributionKeys = ( (Array.from(dndContributions).map(e => e.dataFormatKey)));
            if (!(0,vscode_vscode_vs_platform_dnd_browser_dnd__WEBPACK_IMPORTED_MODULE_28__.containsDragType)(event, vscode_vscode_vs_base_browser_dnd__WEBPACK_IMPORTED_MODULE_2__.DataTransfers.FILES, vscode_vscode_vs_platform_dnd_browser_dnd__WEBPACK_IMPORTED_MODULE_28__.CodeDataTransfers.FILES, vscode_vscode_vs_base_browser_dnd__WEBPACK_IMPORTED_MODULE_2__.DataTransfers.RESOURCES, vscode_vscode_vs_platform_dnd_browser_dnd__WEBPACK_IMPORTED_MODULE_28__.CodeDataTransfers.EDITORS, ...dndContributionKeys)) {
                event.dataTransfer.dropEffect = 'none';
                return;
            }
        }
        this.updateContainer(true);
        const target = event.target;
        if (target) {
            if (this.overlay && !this.overlay.contains(target)) {
                this.disposeOverlay();
            }
            if (!this.overlay) {
                const targetGroupView = this.findTargetGroupView(target);
                if (targetGroupView) {
                    this._overlay = this.instantiationService.createInstance(DropOverlay, targetGroupView);
                }
            }
        }
    }
    onDragLeave() {
        this.counter--;
        if (this.counter === 0) {
            this.updateContainer(false);
        }
    }
    onDragEnd() {
        this.counter = 0;
        this.updateContainer(false);
        this.disposeOverlay();
    }
    findTargetGroupView(child) {
        const groups = this.editorGroupService.groups;
        return groups.find(groupView => (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_3__.isAncestor)(child, groupView.element) || this.delegate.containsGroup?.(groupView));
    }
    updateContainer(isDraggedOver) {
        this.container.classList.toggle('dragged-over', isDraggedOver);
    }
    dispose() {
        super.dispose();
        this.disposeOverlay();
    }
    disposeOverlay() {
        if (this.overlay) {
            this.overlay.dispose();
            this._overlay = undefined;
        }
    }
};
EditorDropTarget = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_workbench_services_editor_common_editorGroupsService_service__WEBPACK_IMPORTED_MODULE_32__.IEditorGroupsService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_platform_theme_common_themeService_service__WEBPACK_IMPORTED_MODULE_25__.IThemeService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_10__.IConfigurationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_11__.IInstantiationService)))
], EditorDropTarget)));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/editor/editorPart.js":
/*!***************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/editor/editorPart.js ***!
  \***************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EditorPart: () => (/* binding */ EditorPart),
/* harmony export */   MainEditorPart: () => (/* binding */ MainEditorPart)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_themeService_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/themeService.service */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_part__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/part */ "./node_modules/vscode/vscode/src/vs/workbench/browser/part.js");
/* harmony import */ var vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/dom */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colorUtils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colorUtils */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colorUtils.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_baseColors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/baseColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/baseColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_chartsColors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/chartsColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/chartsColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_editorColors__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/editorColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/editorColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_inputColors__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/inputColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/inputColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_listColors__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/listColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/listColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_menuColors__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/menuColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/menuColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_minimapColors__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/minimapColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/minimapColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_miscColors__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/miscColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/miscColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_quickpickColors__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/quickpickColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/quickpickColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_searchColors__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/searchColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/searchColors.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var _base_browser_ui_grid_grid_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../base/browser/ui/grid/grid.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/base/browser/ui/grid/grid.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/theme */ "./node_modules/vscode/vscode/src/vs/workbench/common/theme.js");
/* harmony import */ var vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! vscode/vscode/vs/base/common/arrays */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_editor_editor__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/editor/editor */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editor.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_editor_editorGroupView__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/editor/editorGroupView */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorGroupView.js");
/* harmony import */ var vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! vscode/vscode/vs/platform/configuration/common/configuration.service */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! vscode/vscode/vs/platform/storage/common/storage.service */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_editor_editorGroupModel__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/editor/editorGroupModel */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/editorGroupModel.js");
/* harmony import */ var _editorDropTarget_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./editorDropTarget.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/editor/editorDropTarget.js");
/* harmony import */ var vscode_vscode_vs_base_common_color__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! vscode/vscode/vs/base/common/color */ "./node_modules/vscode/vscode/src/vs/base/common/color.js");
/* harmony import */ var _base_browser_ui_centered_centeredViewLayout_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../../base/browser/ui/centered/centeredViewLayout.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/base/browser/ui/centered/centeredViewLayout.js");
/* harmony import */ var vscode_vscode_vs_base_common_errors__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! vscode/vscode/vs/base/common/errors */ "./node_modules/vscode/vscode/src/vs/base/common/errors.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_layout_browser_layoutService_service__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/layout/browser/layoutService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/layout/browser/layoutService.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! vscode/vscode/vs/base/common/types */ "./node_modules/vscode/vscode/src/vs/base/common/types.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_dnd__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/dnd */ "./node_modules/vscode/vscode/src/vs/workbench/browser/dnd.js");
/* harmony import */ var vscode_vscode_vs_base_common_async__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! vscode/vscode/vs/base/common/async */ "./node_modules/vscode/vscode/src/vs/base/common/async.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorGroupFinder__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorGroupFinder */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorGroupFinder.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorService__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorService */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_host_browser_host_service__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/host/browser/host.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/host/browser/host.service.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey.service */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_serviceCollection__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/serviceCollection */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/serviceCollection.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/contextkeys */ "./node_modules/vscode/vscode/src/vs/workbench/common/contextkeys.js");
/* harmony import */ var vscode_vscode_vs_base_browser_window__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/window */ "./node_modules/vscode/vscode/src/vs/base/browser/window.js");
/* harmony import */ var _base_browser_ui_grid_gridview_js__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../../../../base/browser/ui/grid/gridview.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/base/browser/ui/grid/gridview.js");











































var EditorPart_1;
class GridWidgetView {
    constructor() {
        this.element = (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_3__.$)('.grid-view-container');
        this._onDidChange = ( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Relay());
        this.onDidChange = this._onDidChange.event;
    }
    get minimumWidth() { return this.gridWidget ? this.gridWidget.minimumWidth : 0; }
    get maximumWidth() { return this.gridWidget ? this.gridWidget.maximumWidth : Number.POSITIVE_INFINITY; }
    get minimumHeight() { return this.gridWidget ? this.gridWidget.minimumHeight : 0; }
    get maximumHeight() { return this.gridWidget ? this.gridWidget.maximumHeight : Number.POSITIVE_INFINITY; }
    get gridWidget() {
        return this._gridWidget;
    }
    set gridWidget(grid) {
        this.element.innerText = '';
        if (grid) {
            this.element.appendChild(grid.element);
            this._onDidChange.input = grid.onDidChange;
        }
        else {
            this._onDidChange.input = vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Event.None;
        }
        this._gridWidget = grid;
    }
    layout(width, height, top, left) {
        this.gridWidget?.layout(width, height, top, left);
    }
    dispose() {
        this._onDidChange.dispose();
    }
}
let EditorPart = class EditorPart extends vscode_vscode_vs_workbench_browser_part__WEBPACK_IMPORTED_MODULE_2__.Part {
    static { EditorPart_1 = this; }
    static { this.EDITOR_PART_UI_STATE_STORAGE_KEY = 'editorpart.state'; }
    static { this.EDITOR_PART_CENTERED_VIEW_STORAGE_KEY = 'editorpart.centeredview'; }
    constructor(editorPartsView, id, groupsLabel, windowId, instantiationService, themeService, configurationService, storageService, layoutService, hostService, contextKeyService) {
        super(id, { hasTitle: false }, themeService, storageService, layoutService);
        this.editorPartsView = editorPartsView;
        this.groupsLabel = groupsLabel;
        this.windowId = windowId;
        this.instantiationService = instantiationService;
        this.configurationService = configurationService;
        this.hostService = hostService;
        this.contextKeyService = contextKeyService;
        this._onDidFocus = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Emitter()));
        this.onDidFocus = this._onDidFocus.event;
        this._onDidLayout = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Emitter()));
        this.onDidLayout = this._onDidLayout.event;
        this._onDidChangeActiveGroup = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Emitter()));
        this.onDidChangeActiveGroup = this._onDidChangeActiveGroup.event;
        this._onDidChangeGroupIndex = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Emitter()));
        this.onDidChangeGroupIndex = this._onDidChangeGroupIndex.event;
        this._onDidChangeGroupLabel = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Emitter()));
        this.onDidChangeGroupLabel = this._onDidChangeGroupLabel.event;
        this._onDidChangeGroupLocked = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Emitter()));
        this.onDidChangeGroupLocked = this._onDidChangeGroupLocked.event;
        this._onDidChangeGroupMaximized = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Emitter()));
        this.onDidChangeGroupMaximized = this._onDidChangeGroupMaximized.event;
        this._onDidActivateGroup = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Emitter()));
        this.onDidActivateGroup = this._onDidActivateGroup.event;
        this._onDidAddGroup = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.PauseableEmitter()));
        this.onDidAddGroup = this._onDidAddGroup.event;
        this._onDidRemoveGroup = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.PauseableEmitter()));
        this.onDidRemoveGroup = this._onDidRemoveGroup.event;
        this._onDidMoveGroup = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Emitter()));
        this.onDidMoveGroup = this._onDidMoveGroup.event;
        this.onDidSetGridWidget = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Emitter()));
        this._onDidChangeSizeConstraints = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Relay()));
        this.onDidChangeSizeConstraints = vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Event.any(this.onDidSetGridWidget.event, this._onDidChangeSizeConstraints.event);
        this._onDidScroll = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Relay()));
        this.onDidScroll = vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Event.any(this.onDidSetGridWidget.event, this._onDidScroll.event);
        this._onDidChangeEditorPartOptions = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Emitter()));
        this.onDidChangeEditorPartOptions = this._onDidChangeEditorPartOptions.event;
        this._onWillDispose = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Emitter()));
        this.onWillDispose = this._onWillDispose.event;
        this.workspaceMemento = this.getMemento(1 , 0 );
        this.profileMemento = this.getMemento(0 , 1 );
        this.groupViews = ( new Map());
        this.mostRecentActiveGroups = [];
        this.gridWidgetDisposables = this._register(( new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_23__.DisposableStore()));
        this.gridWidgetView = this._register(( new GridWidgetView()));
        this.enforcedPartOptions = [];
        this._partOptions = (0,vscode_vscode_vs_workbench_browser_parts_editor_editor__WEBPACK_IMPORTED_MODULE_20__.getEditorPartOptions)(this.configurationService, this.themeService);
        this.top = 0;
        this.left = 0;
        this.sideGroup = {
            openEditor: (editor, options) => {
                const [group] = this.scopedInstantiationService.invokeFunction(accessor => (0,vscode_vscode_vs_workbench_services_editor_common_editorGroupFinder__WEBPACK_IMPORTED_MODULE_34__.findGroup)(accessor, { editor, options }, vscode_vscode_vs_workbench_services_editor_common_editorService__WEBPACK_IMPORTED_MODULE_35__.SIDE_GROUP));
                return group.openEditor(editor, options);
            }
        };
        this._isReady = false;
        this.whenReadyPromise = ( new vscode_vscode_vs_base_common_async__WEBPACK_IMPORTED_MODULE_33__.DeferredPromise());
        this.whenReady = this.whenReadyPromise.p;
        this.whenRestoredPromise = ( new vscode_vscode_vs_base_common_async__WEBPACK_IMPORTED_MODULE_33__.DeferredPromise());
        this.whenRestored = this.whenRestoredPromise.p;
        this._willRestoreState = false;
        this.priority = 2 ;
        this.registerListeners();
    }
    registerListeners() {
        this._register(this.configurationService.onDidChangeConfiguration(e => this.onConfigurationUpdated(e)));
        this._register(this.themeService.onDidFileIconThemeChange(() => this.handleChangedPartOptions()));
        this._register(this.onDidChangeMementoValue(1 , this._store)(e => this.onDidChangeMementoState(e)));
    }
    onConfigurationUpdated(event) {
        if ((0,vscode_vscode_vs_workbench_browser_parts_editor_editor__WEBPACK_IMPORTED_MODULE_20__.impactsEditorPartOptions)(event)) {
            this.handleChangedPartOptions();
        }
    }
    handleChangedPartOptions() {
        const oldPartOptions = this._partOptions;
        const newPartOptions = (0,vscode_vscode_vs_workbench_browser_parts_editor_editor__WEBPACK_IMPORTED_MODULE_20__.getEditorPartOptions)(this.configurationService, this.themeService);
        for (const enforcedPartOptions of this.enforcedPartOptions) {
            Object.assign(newPartOptions, enforcedPartOptions);
        }
        this._partOptions = newPartOptions;
        this._onDidChangeEditorPartOptions.fire({ oldPartOptions, newPartOptions });
    }
    get partOptions() { return this._partOptions; }
    enforcePartOptions(options) {
        this.enforcedPartOptions.push(options);
        this.handleChangedPartOptions();
        return (0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_23__.toDisposable)(() => {
            this.enforcedPartOptions.splice(this.enforcedPartOptions.indexOf(options), 1);
            this.handleChangedPartOptions();
        });
    }
    get contentDimension() { return this._contentDimension; }
    get activeGroup() {
        return this._activeGroup;
    }
    get groups() {
        return Array.from(( this.groupViews.values()));
    }
    get count() {
        return this.groupViews.size;
    }
    get orientation() {
        return ((this.gridWidget && this.gridWidget.orientation === 0) ) ? 1  : 0 ;
    }
    get isReady() { return this._isReady; }
    get hasRestorableState() {
        return !!this.workspaceMemento[EditorPart_1.EDITOR_PART_UI_STATE_STORAGE_KEY];
    }
    get willRestoreState() { return this._willRestoreState; }
    getGroups(order = 0 ) {
        switch (order) {
            case 0 :
                return this.groups;
            case 1 : {
                const mostRecentActive = (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_19__.coalesce)(( this.mostRecentActiveGroups.map(groupId => this.getGroup(groupId))));
                return (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_19__.distinct)([...mostRecentActive, ...this.groups]);
            }
            case 2 : {
                const views = [];
                if (this.gridWidget) {
                    this.fillGridNodes(views, this.gridWidget.getViews());
                }
                return views;
            }
        }
    }
    fillGridNodes(target, node) {
        if ((0,_base_browser_ui_grid_grid_js__WEBPACK_IMPORTED_MODULE_17__.isGridBranchNode)(node)) {
            node.children.forEach(child => this.fillGridNodes(target, child));
        }
        else {
            target.push(node.view);
        }
    }
    hasGroup(identifier) {
        return ( this.groupViews.has(identifier));
    }
    getGroup(identifier) {
        return this.groupViews.get(identifier);
    }
    findGroup(scope, source = this.activeGroup, wrap) {
        if (typeof scope.direction === 'number') {
            return this.doFindGroupByDirection(scope.direction, source, wrap);
        }
        if (typeof scope.location === 'number') {
            return this.doFindGroupByLocation(scope.location, source, wrap);
        }
        throw ( new Error('invalid arguments'));
    }
    doFindGroupByDirection(direction, source, wrap) {
        const sourceGroupView = this.assertGroupView(source);
        const neighbours = this.gridWidget.getNeighborViews(sourceGroupView, this.toGridViewDirection(direction), wrap);
        neighbours.sort(((n1, n2) => this.mostRecentActiveGroups.indexOf(n1.id) - this.mostRecentActiveGroups.indexOf(n2.id)));
        return neighbours[0];
    }
    doFindGroupByLocation(location, source, wrap) {
        const sourceGroupView = this.assertGroupView(source);
        const groups = this.getGroups(2 );
        const index = groups.indexOf(sourceGroupView);
        switch (location) {
            case 0 :
                return groups[0];
            case 1 :
                return groups[groups.length - 1];
            case 2 : {
                let nextGroup = groups[index + 1];
                if (!nextGroup && wrap) {
                    nextGroup = this.doFindGroupByLocation(0 , source);
                }
                return nextGroup;
            }
            case 3 : {
                let previousGroup = groups[index - 1];
                if (!previousGroup && wrap) {
                    previousGroup = this.doFindGroupByLocation(1 , source);
                }
                return previousGroup;
            }
        }
    }
    activateGroup(group, preserveWindowOrder) {
        const groupView = this.assertGroupView(group);
        this.doSetGroupActive(groupView);
        if (!preserveWindowOrder) {
            this.hostService.moveTop((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_3__.getWindow)(this.element));
        }
        return groupView;
    }
    restoreGroup(group) {
        const groupView = this.assertGroupView(group);
        this.doRestoreGroup(groupView);
        return groupView;
    }
    getSize(group) {
        const groupView = this.assertGroupView(group);
        return this.gridWidget.getViewSize(groupView);
    }
    setSize(group, size) {
        const groupView = this.assertGroupView(group);
        this.gridWidget.resizeView(groupView, size);
    }
    arrangeGroups(arrangement, target = this.activeGroup) {
        if (this.count < 2) {
            return;
        }
        if (!this.gridWidget) {
            return;
        }
        const groupView = this.assertGroupView(target);
        switch (arrangement) {
            case 2 :
                this.gridWidget.distributeViewSizes();
                break;
            case 0 :
                if (this.groups.length < 2) {
                    return;
                }
                this.gridWidget.maximizeView(groupView);
                groupView.focus();
                break;
            case 1 :
                this.gridWidget.expandView(groupView);
                break;
        }
    }
    toggleMaximizeGroup(target = this.activeGroup) {
        if (this.hasMaximizedGroup()) {
            this.unmaximizeGroup();
        }
        else {
            this.arrangeGroups(0 , target);
        }
    }
    toggleExpandGroup(target = this.activeGroup) {
        if (this.isGroupExpanded(this.activeGroup)) {
            this.arrangeGroups(2 );
        }
        else {
            this.arrangeGroups(1 , target);
        }
    }
    unmaximizeGroup() {
        this.gridWidget.exitMaximizedView();
        this._activeGroup.focus();
    }
    hasMaximizedGroup() {
        return this.gridWidget.hasMaximizedView();
    }
    isGroupMaximized(targetGroup) {
        return this.gridWidget.isViewMaximized(targetGroup);
    }
    isGroupExpanded(targetGroup) {
        return this.gridWidget.isViewExpanded(targetGroup);
    }
    setGroupOrientation(orientation) {
        if (!this.gridWidget) {
            return;
        }
        const newOrientation = ((orientation === 0) ) ? 1  : 0 ;
        if (this.gridWidget.orientation !== newOrientation) {
            this.gridWidget.orientation = newOrientation;
        }
    }
    applyLayout(layout) {
        const restoreFocus = this.shouldRestoreFocus(this.container);
        let layoutGroupsCount = 0;
        function countGroups(groups) {
            for (const group of groups) {
                if (Array.isArray(group.groups)) {
                    countGroups(group.groups);
                }
                else {
                    layoutGroupsCount++;
                }
            }
        }
        countGroups(layout.groups);
        let currentGroupViews = this.getGroups(2 );
        if (layoutGroupsCount < currentGroupViews.length) {
            const lastGroupInLayout = currentGroupViews[layoutGroupsCount - 1];
            currentGroupViews.forEach((group, index) => {
                if (index >= layoutGroupsCount) {
                    this.mergeGroup(group, lastGroupInLayout);
                }
            });
            currentGroupViews = this.getGroups(2 );
        }
        const activeGroup = this.activeGroup;
        const gridDescriptor = (0,_base_browser_ui_grid_grid_js__WEBPACK_IMPORTED_MODULE_17__.createSerializedGrid)({
            orientation: this.toGridViewOrientation(layout.orientation, this.isTwoDimensionalGrid() ?
                this.gridWidget.orientation :
                (0,_base_browser_ui_grid_gridview_js__WEBPACK_IMPORTED_MODULE_41__.orthogonal)(this.gridWidget.orientation)
            ),
            groups: layout.groups
        });
        this.doApplyGridState(gridDescriptor, activeGroup.id, currentGroupViews);
        if (restoreFocus) {
            this._activeGroup.focus();
        }
    }
    getLayout() {
        const serializedGrid = this.gridWidget.serialize();
        const orientation = serializedGrid.orientation === 1  ? 0  : 1 ;
        const root = this.serializedNodeToGroupLayoutArgument(serializedGrid.root);
        return {
            orientation,
            groups: root.groups
        };
    }
    serializedNodeToGroupLayoutArgument(serializedNode) {
        if (serializedNode.type === 'branch') {
            return {
                size: serializedNode.size,
                groups: ( serializedNode.data.map(node => this.serializedNodeToGroupLayoutArgument(node)))
            };
        }
        return { size: serializedNode.size };
    }
    shouldRestoreFocus(target) {
        if (!target) {
            return false;
        }
        const activeElement = (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_3__.getActiveElement)();
        if (activeElement === target.ownerDocument.body) {
            return true;
        }
        return (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_3__.isAncestorOfActiveElement)(target);
    }
    isTwoDimensionalGrid() {
        const views = this.gridWidget.getViews();
        if ((0,_base_browser_ui_grid_grid_js__WEBPACK_IMPORTED_MODULE_17__.isGridBranchNode)(views)) {
            return ( views.children.some(child => (0,_base_browser_ui_grid_grid_js__WEBPACK_IMPORTED_MODULE_17__.isGridBranchNode)(child)));
        }
        return false;
    }
    addGroup(location, direction, groupToCopy) {
        const locationView = this.assertGroupView(location);
        let newGroupView;
        if (locationView.groupsView === this) {
            const restoreFocus = this.shouldRestoreFocus(locationView.element);
            const shouldExpand = this.groupViews.size > 1 && this.isGroupExpanded(locationView);
            newGroupView = this.doCreateGroupView(groupToCopy);
            this.gridWidget.addView(newGroupView, this.getSplitSizingStyle(), locationView, this.toGridViewDirection(direction));
            this.updateContainer();
            this._onDidAddGroup.fire(newGroupView);
            this.notifyGroupIndexChange();
            if (shouldExpand) {
                this.arrangeGroups(1 , newGroupView);
            }
            if (restoreFocus) {
                locationView.focus();
            }
        }
        else {
            newGroupView = locationView.groupsView.addGroup(locationView, direction, groupToCopy);
        }
        return newGroupView;
    }
    getSplitSizingStyle() {
        switch (this._partOptions.splitSizing) {
            case 'distribute':
                return _base_browser_ui_grid_grid_js__WEBPACK_IMPORTED_MODULE_17__.Sizing.Distribute;
            case 'split':
                return _base_browser_ui_grid_grid_js__WEBPACK_IMPORTED_MODULE_17__.Sizing.Split;
            default:
                return _base_browser_ui_grid_grid_js__WEBPACK_IMPORTED_MODULE_17__.Sizing.Auto;
        }
    }
    doCreateGroupView(from, options) {
        let groupView;
        if (from instanceof vscode_vscode_vs_workbench_browser_parts_editor_editorGroupView__WEBPACK_IMPORTED_MODULE_21__.EditorGroupView) {
            groupView = vscode_vscode_vs_workbench_browser_parts_editor_editorGroupView__WEBPACK_IMPORTED_MODULE_21__.EditorGroupView.createCopy(from, this.editorPartsView, this, this.groupsLabel, this.count, this.scopedInstantiationService, options);
        }
        else if ((0,vscode_vscode_vs_workbench_common_editor_editorGroupModel__WEBPACK_IMPORTED_MODULE_25__.isSerializedEditorGroupModel)(from)) {
            groupView = vscode_vscode_vs_workbench_browser_parts_editor_editorGroupView__WEBPACK_IMPORTED_MODULE_21__.EditorGroupView.createFromSerialized(from, this.editorPartsView, this, this.groupsLabel, this.count, this.scopedInstantiationService, options);
        }
        else {
            groupView = vscode_vscode_vs_workbench_browser_parts_editor_editorGroupView__WEBPACK_IMPORTED_MODULE_21__.EditorGroupView.createNew(this.editorPartsView, this, this.groupsLabel, this.count, this.scopedInstantiationService, options);
        }
        this.groupViews.set(groupView.id, groupView);
        const groupDisposables = ( new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_23__.DisposableStore());
        groupDisposables.add(groupView.onDidFocus(() => {
            this.doSetGroupActive(groupView);
            this._onDidFocus.fire();
        }));
        groupDisposables.add(groupView.onDidModelChange(e => {
            switch (e.kind) {
                case 3 :
                    this._onDidChangeGroupLocked.fire(groupView);
                    break;
                case 1 :
                    this._onDidChangeGroupIndex.fire(groupView);
                    break;
                case 2 :
                    this._onDidChangeGroupLabel.fire(groupView);
                    break;
            }
        }));
        groupDisposables.add(groupView.onDidActiveEditorChange(() => {
            this.updateContainer();
        }));
        vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Event.once(groupView.onWillDispose)(() => {
            (0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_23__.dispose)(groupDisposables);
            this.groupViews.delete(groupView.id);
            this.doUpdateMostRecentActive(groupView);
        });
        return groupView;
    }
    doSetGroupActive(group) {
        if (this._activeGroup !== group) {
            const previousActiveGroup = this._activeGroup;
            this._activeGroup = group;
            this.doUpdateMostRecentActive(group, true);
            if (previousActiveGroup && !previousActiveGroup.disposed) {
                previousActiveGroup.setActive(false);
            }
            group.setActive(true);
            this.doRestoreGroup(group);
            this._onDidChangeActiveGroup.fire(group);
        }
        this._onDidActivateGroup.fire(group);
    }
    doRestoreGroup(group) {
        if (!this.gridWidget) {
            return;
        }
        if (this.hasMaximizedGroup() && !this.isGroupMaximized(group)) {
            this.unmaximizeGroup();
        }
        try {
            const viewSize = this.gridWidget.getViewSize(group);
            if (viewSize.width === group.minimumWidth || viewSize.height === group.minimumHeight) {
                this.arrangeGroups(1 , group);
            }
        }
        catch (error) {
        }
    }
    doUpdateMostRecentActive(group, makeMostRecentlyActive) {
        const index = this.mostRecentActiveGroups.indexOf(group.id);
        if (index !== -1) {
            this.mostRecentActiveGroups.splice(index, 1);
        }
        if (makeMostRecentlyActive) {
            this.mostRecentActiveGroups.unshift(group.id);
        }
    }
    toGridViewDirection(direction) {
        switch (direction) {
            case 0 : return 0 ;
            case 1 : return 1 ;
            case 2 : return 2 ;
            case 3 : return 3 ;
        }
    }
    toGridViewOrientation(orientation, fallback) {
        if (typeof orientation === 'number') {
            return orientation === 0  ? 1  : 0 ;
        }
        return fallback;
    }
    removeGroup(group, preserveFocus) {
        const groupView = this.assertGroupView(group);
        if (this.count === 1) {
            return;
        }
        if (groupView.isEmpty) {
            this.doRemoveEmptyGroup(groupView, preserveFocus);
        }
        else {
            this.doRemoveGroupWithEditors(groupView);
        }
    }
    doRemoveGroupWithEditors(groupView) {
        const mostRecentlyActiveGroups = this.getGroups(1 );
        let lastActiveGroup;
        if (this._activeGroup === groupView) {
            lastActiveGroup = mostRecentlyActiveGroups[1];
        }
        else {
            lastActiveGroup = mostRecentlyActiveGroups[0];
        }
        this.mergeGroup(groupView, lastActiveGroup);
    }
    doRemoveEmptyGroup(groupView, preserveFocus) {
        const restoreFocus = !preserveFocus && this.shouldRestoreFocus(this.container);
        if (this._activeGroup === groupView) {
            const mostRecentlyActiveGroups = this.getGroups(1 );
            const nextActiveGroup = mostRecentlyActiveGroups[1];
            this.doSetGroupActive(nextActiveGroup);
        }
        this.gridWidget.removeView(groupView, this.getSplitSizingStyle());
        groupView.dispose();
        if (restoreFocus) {
            this._activeGroup.focus();
        }
        this.notifyGroupIndexChange();
        this.updateContainer();
        this._onDidRemoveGroup.fire(groupView);
    }
    moveGroup(group, location, direction) {
        const sourceView = this.assertGroupView(group);
        const targetView = this.assertGroupView(location);
        if (sourceView.id === targetView.id) {
            throw ( new Error('Cannot move group into its own'));
        }
        const restoreFocus = this.shouldRestoreFocus(sourceView.element);
        let movedView;
        if (sourceView.groupsView === targetView.groupsView) {
            this.gridWidget.moveView(sourceView, this.getSplitSizingStyle(), targetView, this.toGridViewDirection(direction));
            movedView = sourceView;
        }
        else {
            movedView = targetView.groupsView.addGroup(targetView, direction, sourceView);
            sourceView.closeAllEditors();
            this.removeGroup(sourceView, restoreFocus);
        }
        if (restoreFocus) {
            movedView.focus();
        }
        this._onDidMoveGroup.fire(movedView);
        this.notifyGroupIndexChange();
        return movedView;
    }
    copyGroup(group, location, direction) {
        const groupView = this.assertGroupView(group);
        const locationView = this.assertGroupView(location);
        const restoreFocus = this.shouldRestoreFocus(groupView.element);
        const copiedGroupView = this.addGroup(locationView, direction, groupView);
        if (restoreFocus) {
            copiedGroupView.focus();
        }
        return copiedGroupView;
    }
    mergeGroup(group, target, options) {
        const sourceView = this.assertGroupView(group);
        const targetView = this.assertGroupView(target);
        const editors = [];
        let index = (options && typeof options.index === 'number') ? options.index : targetView.count;
        for (const editor of sourceView.editors) {
            const inactive = !sourceView.isActive(editor) || this._activeGroup !== sourceView;
            const sticky = sourceView.isSticky(editor);
            const options = { index: !sticky ? index : undefined , inactive, preserveFocus: inactive };
            editors.push({ editor, options });
            index++;
        }
        let result = true;
        if (options?.mode === 0 ) {
            sourceView.copyEditors(editors, targetView);
        }
        else {
            result = sourceView.moveEditors(editors, targetView);
        }
        if (sourceView.isEmpty && !sourceView.disposed ) {
            this.removeGroup(sourceView, true);
        }
        return result;
    }
    mergeAllGroups(target) {
        const targetView = this.assertGroupView(target);
        let result = true;
        for (const group of this.getGroups(1 )) {
            if (group === targetView) {
                continue;
            }
            const merged = this.mergeGroup(group, targetView);
            if (!merged) {
                result = false;
            }
        }
        return result;
    }
    assertGroupView(group) {
        let groupView;
        if (typeof group === 'number') {
            groupView = this.editorPartsView.getGroup(group);
        }
        else {
            groupView = group;
        }
        if (!groupView) {
            throw ( new Error('Invalid editor group provided!'));
        }
        return groupView;
    }
    createEditorDropTarget(container, delegate) {
        (0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_31__.assertType)((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_3__.isHTMLElement)(container));
        return this.scopedInstantiationService.createInstance(_editorDropTarget_js__WEBPACK_IMPORTED_MODULE_26__.EditorDropTarget, container, delegate);
    }
    get minimumWidth() { return Math.min(this.centeredLayoutWidget.minimumWidth, this.layoutService.getMaximumEditorDimensions(this.layoutService.getContainer((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_3__.getWindow)(this.container))).width); }
    get maximumWidth() { return this.centeredLayoutWidget.maximumWidth; }
    get minimumHeight() { return Math.min(this.centeredLayoutWidget.minimumHeight, this.layoutService.getMaximumEditorDimensions(this.layoutService.getContainer((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_3__.getWindow)(this.container))).height); }
    get maximumHeight() { return this.centeredLayoutWidget.maximumHeight; }
    get snap() { return this.layoutService.getPanelAlignment() === 'center'; }
    get onDidChange() { return vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Event.any(this.centeredLayoutWidget.onDidChange, this.onDidSetGridWidget.event); }
    get gridSeparatorBorder() {
        return this.theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_18__.EDITOR_GROUP_BORDER) || this.theme.getColor(vscode_vscode_vs_platform_theme_common_colors_baseColors__WEBPACK_IMPORTED_MODULE_6__.contrastBorder) || vscode_vscode_vs_base_common_color__WEBPACK_IMPORTED_MODULE_27__.Color.transparent;
    }
    updateStyles() {
        const container = (0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_31__.assertIsDefined)(this.container);
        container.style.backgroundColor = this.getColor(vscode_vscode_vs_platform_theme_common_colors_editorColors__WEBPACK_IMPORTED_MODULE_8__.editorBackground) || '';
        const separatorBorderStyle = { separatorBorder: this.gridSeparatorBorder, background: this.theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_18__.EDITOR_PANE_BACKGROUND) || vscode_vscode_vs_base_common_color__WEBPACK_IMPORTED_MODULE_27__.Color.transparent };
        this.gridWidget.style(separatorBorderStyle);
        this.centeredLayoutWidget.styles(separatorBorderStyle);
    }
    createContentArea(parent, options) {
        this.element = parent;
        this.container = document.createElement('div');
        this.container.classList.add('content');
        if (this.windowId !== vscode_vscode_vs_base_browser_window__WEBPACK_IMPORTED_MODULE_40__.mainWindow.vscodeWindowId) {
            this.container.classList.add('auxiliary');
        }
        parent.appendChild(this.container);
        const scopedContextKeyService = this._register(this.contextKeyService.createScoped(this.container));
        this.scopedInstantiationService = this._register(this.instantiationService.createChild(( new vscode_vscode_vs_platform_instantiation_common_serviceCollection__WEBPACK_IMPORTED_MODULE_38__.ServiceCollection([vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_37__.IContextKeyService, scopedContextKeyService]))));
        this._willRestoreState = !options || options.restorePreviousState;
        this.doCreateGridControl();
        this.centeredLayoutWidget = this._register(( new _base_browser_ui_centered_centeredViewLayout_js__WEBPACK_IMPORTED_MODULE_28__.CenteredViewLayout(
            this.container,
            this.gridWidgetView,
            this.profileMemento[EditorPart_1.EDITOR_PART_CENTERED_VIEW_STORAGE_KEY],
            this._partOptions.centeredLayoutFixedWidth
        )));
        this._register(this.onDidChangeEditorPartOptions(e => this.centeredLayoutWidget.setFixedWidth(e.newPartOptions.centeredLayoutFixedWidth ?? false)));
        this.setupDragAndDropSupport(parent, this.container);
        this.handleContextKeys(scopedContextKeyService);
        this.whenReadyPromise.complete();
        this._isReady = true;
        vscode_vscode_vs_base_common_async__WEBPACK_IMPORTED_MODULE_33__.Promises.settled(( this.groups.map(group => group.whenRestored))).finally(() => {
            this.whenRestoredPromise.complete();
        });
        return this.container;
    }
    handleContextKeys(contextKeyService) {
        const isAuxiliaryEditorPartContext = vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_39__.IsAuxiliaryEditorPartContext.bindTo(contextKeyService);
        isAuxiliaryEditorPartContext.set(this.windowId !== vscode_vscode_vs_base_browser_window__WEBPACK_IMPORTED_MODULE_40__.mainWindow.vscodeWindowId);
        const multipleEditorGroupsContext = vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_39__.EditorPartMultipleEditorGroupsContext.bindTo(contextKeyService);
        const maximizedEditorGroupContext = vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_39__.EditorPartMaximizedEditorGroupContext.bindTo(contextKeyService);
        const updateContextKeys = () => {
            const groupCount = this.count;
            if (groupCount > 1) {
                multipleEditorGroupsContext.set(true);
            }
            else {
                multipleEditorGroupsContext.reset();
            }
            if (this.hasMaximizedGroup()) {
                maximizedEditorGroupContext.set(true);
            }
            else {
                maximizedEditorGroupContext.reset();
            }
        };
        updateContextKeys();
        this._register(this.onDidAddGroup(() => updateContextKeys()));
        this._register(this.onDidRemoveGroup(() => updateContextKeys()));
        this._register(this.onDidChangeGroupMaximized(() => updateContextKeys()));
    }
    setupDragAndDropSupport(parent, container) {
        this._register(this.createEditorDropTarget(container, Object.create(null)));
        const overlay = document.createElement('div');
        overlay.classList.add('drop-block-overlay');
        parent.appendChild(overlay);
        this._register((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_3__.addDisposableGenericMouseDownListener)(overlay, () => overlay.classList.remove('visible')));
        this._register(vscode_vscode_vs_workbench_browser_dnd__WEBPACK_IMPORTED_MODULE_32__.CompositeDragAndDropObserver.INSTANCE.registerTarget(this.element, {
            onDragStart: e => overlay.classList.add('visible'),
            onDragEnd: e => overlay.classList.remove('visible')
        }));
        let horizontalOpenerTimeout;
        let verticalOpenerTimeout;
        let lastOpenHorizontalPosition;
        let lastOpenVerticalPosition;
        const openPartAtPosition = (position) => {
            if (!this.layoutService.isVisible("workbench.parts.panel" ) && position === this.layoutService.getPanelPosition()) {
                this.layoutService.setPartHidden(false, "workbench.parts.panel" );
            }
            else if (!this.layoutService.isVisible("workbench.parts.auxiliarybar" ) && position === ((this.layoutService.getSideBarPosition() === 1  ? 0  : 1) )) {
                this.layoutService.setPartHidden(false, "workbench.parts.auxiliarybar" );
            }
        };
        const clearAllTimeouts = () => {
            if (horizontalOpenerTimeout) {
                clearTimeout(horizontalOpenerTimeout);
                horizontalOpenerTimeout = undefined;
            }
            if (verticalOpenerTimeout) {
                clearTimeout(verticalOpenerTimeout);
                verticalOpenerTimeout = undefined;
            }
        };
        this._register(vscode_vscode_vs_workbench_browser_dnd__WEBPACK_IMPORTED_MODULE_32__.CompositeDragAndDropObserver.INSTANCE.registerTarget(overlay, {
            onDragOver: e => {
                vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_3__.EventHelper.stop(e.eventData, true);
                if (e.eventData.dataTransfer) {
                    e.eventData.dataTransfer.dropEffect = 'none';
                }
                const boundingRect = overlay.getBoundingClientRect();
                let openHorizontalPosition = undefined;
                let openVerticalPosition = undefined;
                const proximity = 100;
                if (e.eventData.clientX < boundingRect.left + proximity) {
                    openHorizontalPosition = 0 ;
                }
                if (e.eventData.clientX > boundingRect.right - proximity) {
                    openHorizontalPosition = 1 ;
                }
                if (e.eventData.clientY > boundingRect.bottom - proximity) {
                    openVerticalPosition = 2 ;
                }
                if (e.eventData.clientY < boundingRect.top + proximity) {
                    openVerticalPosition = 3 ;
                }
                if (horizontalOpenerTimeout && openHorizontalPosition !== lastOpenHorizontalPosition) {
                    clearTimeout(horizontalOpenerTimeout);
                    horizontalOpenerTimeout = undefined;
                }
                if (verticalOpenerTimeout && openVerticalPosition !== lastOpenVerticalPosition) {
                    clearTimeout(verticalOpenerTimeout);
                    verticalOpenerTimeout = undefined;
                }
                if (!horizontalOpenerTimeout && openHorizontalPosition !== undefined) {
                    lastOpenHorizontalPosition = openHorizontalPosition;
                    horizontalOpenerTimeout = setTimeout(() => openPartAtPosition(openHorizontalPosition), 200);
                }
                if (!verticalOpenerTimeout && openVerticalPosition !== undefined) {
                    lastOpenVerticalPosition = openVerticalPosition;
                    verticalOpenerTimeout = setTimeout(() => openPartAtPosition(openVerticalPosition), 200);
                }
            },
            onDragLeave: () => clearAllTimeouts(),
            onDragEnd: () => clearAllTimeouts(),
            onDrop: () => clearAllTimeouts()
        }));
    }
    centerLayout(active) {
        this.centeredLayoutWidget.activate(active);
        this._activeGroup.focus();
    }
    isLayoutCentered() {
        if (this.centeredLayoutWidget) {
            return this.centeredLayoutWidget.isActive();
        }
        return false;
    }
    doCreateGridControl() {
        let restoreError = false;
        if (this._willRestoreState) {
            restoreError = !this.doCreateGridControlWithPreviousState();
        }
        if (!this.gridWidget || restoreError) {
            const initialGroup = this.doCreateGroupView();
            this.doSetGridWidget(( new _base_browser_ui_grid_grid_js__WEBPACK_IMPORTED_MODULE_17__.SerializableGrid(initialGroup)));
            this.doSetGroupActive(initialGroup);
        }
        this.updateContainer();
        this.notifyGroupIndexChange();
    }
    doCreateGridControlWithPreviousState() {
        const state = this.loadState();
        if (state?.serializedGrid) {
            try {
                this.mostRecentActiveGroups = state.mostRecentActiveGroups;
                this.doCreateGridControlWithState(state.serializedGrid, state.activeGroup);
            }
            catch (error) {
                (0,vscode_vscode_vs_base_common_errors__WEBPACK_IMPORTED_MODULE_29__.onUnexpectedError)(( new Error(
                    `Error restoring editor grid widget: ${error} (with state: ${JSON.stringify(state)})`
                )));
                this.disposeGroups();
                return false;
            }
        }
        return true;
    }
    doCreateGridControlWithState(serializedGrid, activeGroupId, editorGroupViewsToReuse, options) {
        let reuseGroupViews;
        if (editorGroupViewsToReuse) {
            reuseGroupViews = editorGroupViewsToReuse.slice(0);
        }
        else {
            reuseGroupViews = [];
        }
        const groupViews = [];
        const gridWidget = _base_browser_ui_grid_grid_js__WEBPACK_IMPORTED_MODULE_17__.SerializableGrid.deserialize(serializedGrid, {
            fromJSON: (serializedEditorGroup) => {
                let groupView;
                if (reuseGroupViews.length > 0) {
                    groupView = reuseGroupViews.shift();
                }
                else {
                    groupView = this.doCreateGroupView(serializedEditorGroup, options);
                }
                groupViews.push(groupView);
                if (groupView.id === activeGroupId) {
                    this.doSetGroupActive(groupView);
                }
                return groupView;
            }
        }, { styles: { separatorBorder: this.gridSeparatorBorder } });
        if (!this._activeGroup) {
            this.doSetGroupActive(groupViews[0]);
        }
        if (( this.mostRecentActiveGroups.some(groupId => !this.getGroup(groupId)))) {
            this.mostRecentActiveGroups = ( groupViews.map(group => group.id));
        }
        this.doSetGridWidget(gridWidget);
    }
    doSetGridWidget(gridWidget) {
        let boundarySashes = {};
        if (this.gridWidget) {
            boundarySashes = this.gridWidget.boundarySashes;
            this.gridWidget.dispose();
        }
        this.gridWidget = gridWidget;
        this.gridWidget.boundarySashes = boundarySashes;
        this.gridWidgetView.gridWidget = gridWidget;
        this._onDidChangeSizeConstraints.input = gridWidget.onDidChange;
        this._onDidScroll.input = gridWidget.onDidScroll;
        this.gridWidgetDisposables.clear();
        this.gridWidgetDisposables.add(gridWidget.onDidChangeViewMaximized(maximized => this._onDidChangeGroupMaximized.fire(maximized)));
        this._onDidChangeGroupMaximized.fire(this.hasMaximizedGroup());
        this.onDidSetGridWidget.fire(undefined);
    }
    updateContainer() {
        const container = (0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_31__.assertIsDefined)(this.container);
        container.classList.toggle('empty', this.isEmpty);
    }
    notifyGroupIndexChange() {
        this.getGroups(2 ).forEach((group, index) => group.notifyIndexChanged(index));
    }
    notifyGroupsLabelChange(newLabel) {
        for (const group of this.groups) {
            group.notifyLabelChanged(newLabel);
        }
    }
    get isEmpty() {
        return this.count === 1 && this._activeGroup.isEmpty;
    }
    setBoundarySashes(sashes) {
        this.gridWidget.boundarySashes = sashes;
        this.centeredLayoutWidget.boundarySashes = sashes;
    }
    layout(width, height, top, left) {
        this.top = top;
        this.left = left;
        const contentAreaSize = super.layoutContents(width, height).contentSize;
        this.doLayout(vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_3__.Dimension.lift(contentAreaSize), top, left);
    }
    doLayout(dimension, top = this.top, left = this.left) {
        this._contentDimension = dimension;
        this.centeredLayoutWidget.layout(this._contentDimension.width, this._contentDimension.height, top, left);
        this._onDidLayout.fire(dimension);
    }
    saveState() {
        if (this.gridWidget) {
            if (this.isEmpty) {
                delete this.workspaceMemento[EditorPart_1.EDITOR_PART_UI_STATE_STORAGE_KEY];
            }
            else {
                this.workspaceMemento[EditorPart_1.EDITOR_PART_UI_STATE_STORAGE_KEY] = this.createState();
            }
        }
        if (this.centeredLayoutWidget) {
            const centeredLayoutState = this.centeredLayoutWidget.state;
            if (this.centeredLayoutWidget.isDefault(centeredLayoutState)) {
                delete this.profileMemento[EditorPart_1.EDITOR_PART_CENTERED_VIEW_STORAGE_KEY];
            }
            else {
                this.profileMemento[EditorPart_1.EDITOR_PART_CENTERED_VIEW_STORAGE_KEY] = centeredLayoutState;
            }
        }
        super.saveState();
    }
    loadState() {
        return this.workspaceMemento[EditorPart_1.EDITOR_PART_UI_STATE_STORAGE_KEY];
    }
    createState() {
        return {
            serializedGrid: this.gridWidget.serialize(),
            activeGroup: this._activeGroup.id,
            mostRecentActiveGroups: this.mostRecentActiveGroups
        };
    }
    applyState(state, options) {
        if (state === 'empty') {
            return this.doApplyEmptyState();
        }
        else {
            return this.doApplyState(state, options);
        }
    }
    async doApplyState(state, options) {
        const groups = await this.doPrepareApplyState();
        this._onDidAddGroup.pause();
        this._onDidRemoveGroup.pause();
        this.disposeGroups();
        this.mostRecentActiveGroups = state.mostRecentActiveGroups;
        try {
            this.doApplyGridState(state.serializedGrid, state.activeGroup, undefined, options);
        }
        finally {
            this._onDidRemoveGroup.resume();
            this._onDidAddGroup.resume();
        }
        await this.activeGroup.openEditors(( groups
            .flatMap(group => group.editors)
            .filter(editor => this.editorPartsView.groups.every(groupView => !groupView.contains(editor)))
            .map(editor => ({
            editor, options: { pinned: true, preserveFocus: true, inactive: true }
        }))));
    }
    async doApplyEmptyState() {
        await this.doPrepareApplyState();
        this.mergeAllGroups(this.activeGroup);
    }
    async doPrepareApplyState() {
        const groups = this.getGroups(1 );
        for (const group of groups) {
            await group.closeAllEditors({ excludeConfirming: true });
        }
        return groups;
    }
    doApplyGridState(gridState, activeGroupId, editorGroupViewsToReuse, options) {
        this.doCreateGridControlWithState(gridState, activeGroupId, editorGroupViewsToReuse, options);
        this.doLayout(this._contentDimension);
        this.updateContainer();
        for (const groupView of this.getGroups(2 )) {
            if (!editorGroupViewsToReuse?.includes(groupView)) {
                this._onDidAddGroup.fire(groupView);
            }
        }
        this.notifyGroupIndexChange();
    }
    onDidChangeMementoState(e) {
        if (e.external && e.scope === 1 ) {
            this.reloadMemento(e.scope);
            const state = this.loadState();
            if (state) {
                this.applyState(state);
            }
        }
    }
    toJSON() {
        return {
            type: "workbench.parts.editor"
        };
    }
    disposeGroups() {
        for (const group of this.groups) {
            group.dispose();
            this._onDidRemoveGroup.fire(group);
        }
        this.groupViews.clear();
        this.mostRecentActiveGroups = [];
    }
    dispose() {
        this._onWillDispose.fire();
        this.disposeGroups();
        this.gridWidget?.dispose();
        super.dispose();
    }
};
EditorPart = EditorPart_1 = ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_16__.IInstantiationService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, vscode_vscode_vs_platform_theme_common_themeService_service__WEBPACK_IMPORTED_MODULE_1__.IThemeService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_22__.IConfigurationService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_24__.IStorageService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, vscode_vscode_vs_workbench_services_layout_browser_layoutService_service__WEBPACK_IMPORTED_MODULE_30__.IWorkbenchLayoutService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, vscode_vscode_vs_workbench_services_host_browser_host_service__WEBPACK_IMPORTED_MODULE_36__.IHostService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_37__.IContextKeyService))
], EditorPart));
let MainEditorPart = class MainEditorPart extends EditorPart {
    constructor(editorPartsView, instantiationService, themeService, configurationService, storageService, layoutService, hostService, contextKeyService) {
        super(editorPartsView, "workbench.parts.editor" , '', vscode_vscode_vs_base_browser_window__WEBPACK_IMPORTED_MODULE_40__.mainWindow.vscodeWindowId, instantiationService, themeService, configurationService, storageService, layoutService, hostService, contextKeyService);
    }
};
MainEditorPart = ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_16__.IInstantiationService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_platform_theme_common_themeService_service__WEBPACK_IMPORTED_MODULE_1__.IThemeService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_22__.IConfigurationService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_24__.IStorageService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, vscode_vscode_vs_workbench_services_layout_browser_layoutService_service__WEBPACK_IMPORTED_MODULE_30__.IWorkbenchLayoutService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, vscode_vscode_vs_workbench_services_host_browser_host_service__WEBPACK_IMPORTED_MODULE_36__.IHostService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_37__.IContextKeyService))
], MainEditorPart));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/editor/editorParts.js":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/editor/editorParts.js ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EditorParts: () => (/* binding */ EditorParts)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _editorPart_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./editorPart.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/editor/editorPart.js");
/* harmony import */ var vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/base/common/arrays */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var _auxiliaryEditorPart_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./auxiliaryEditorPart.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/editor/auxiliaryEditorPart.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_part__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/part */ "./node_modules/vscode/vscode/src/vs/workbench/browser/part.js");
/* harmony import */ var vscode_vscode_vs_base_common_async__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/base/common/async */ "./node_modules/vscode/vscode/src/vs/base/common/async.js");
/* harmony import */ var vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/platform/storage/common/storage.service */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_themeService_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/themeService.service */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_auxiliaryWindow_browser_auxiliaryWindowService_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/auxiliaryWindow/browser/auxiliaryWindowService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/auxiliaryWindow/browser/auxiliaryWindowService.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_uuid__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/base/common/uuid */ "./node_modules/vscode/vscode/src/vs/base/common/uuid.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey.service */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/dom */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_serviceCollection__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/serviceCollection */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/serviceCollection.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");



















var EditorParts_1;
let EditorParts = class EditorParts extends vscode_vscode_vs_workbench_browser_part__WEBPACK_IMPORTED_MODULE_8__.MultiWindowParts {
    static { EditorParts_1 = this; }
    constructor(instantiationService, storageService, themeService, auxiliaryWindowService, contextKeyService) {
        super('workbench.editorParts', themeService, storageService);
        this.instantiationService = instantiationService;
        this.storageService = storageService;
        this.auxiliaryWindowService = auxiliaryWindowService;
        this.contextKeyService = contextKeyService;
        this.mainPart = this._register(this.createMainEditorPart());
        this.mostRecentActiveParts = [this.mainPart];
        this.mapPartToInstantiationService = ( (new Map()));
        this._onDidCreateAuxiliaryEditorPart = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__.Emitter())));
        this.onDidCreateAuxiliaryEditorPart = this._onDidCreateAuxiliaryEditorPart.event;
        this.workspaceMemento = this.getMemento(1 , 0 );
        this._isReady = false;
        this.whenReadyPromise = ( (new vscode_vscode_vs_base_common_async__WEBPACK_IMPORTED_MODULE_9__.DeferredPromise()));
        this.whenReady = this.whenReadyPromise.p;
        this.whenRestoredPromise = ( (new vscode_vscode_vs_base_common_async__WEBPACK_IMPORTED_MODULE_9__.DeferredPromise()));
        this.whenRestored = this.whenRestoredPromise.p;
        this.editorWorkingSets = (() => {
            const workingSetsRaw = this.storageService.get(EditorParts_1.EDITOR_WORKING_SETS_STORAGE_KEY, 1 );
            if (workingSetsRaw) {
                return JSON.parse(workingSetsRaw);
            }
            return [];
        })();
        this._onDidActiveGroupChange = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__.Emitter())));
        this.onDidChangeActiveGroup = this._onDidActiveGroupChange.event;
        this._onDidAddGroup = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__.Emitter())));
        this.onDidAddGroup = this._onDidAddGroup.event;
        this._onDidRemoveGroup = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__.Emitter())));
        this.onDidRemoveGroup = this._onDidRemoveGroup.event;
        this._onDidMoveGroup = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__.Emitter())));
        this.onDidMoveGroup = this._onDidMoveGroup.event;
        this._onDidActivateGroup = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__.Emitter())));
        this.onDidActivateGroup = this._onDidActivateGroup.event;
        this._onDidChangeGroupIndex = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__.Emitter())));
        this.onDidChangeGroupIndex = this._onDidChangeGroupIndex.event;
        this._onDidChangeGroupLocked = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__.Emitter())));
        this.onDidChangeGroupLocked = this._onDidChangeGroupLocked.event;
        this._onDidChangeGroupMaximized = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__.Emitter())));
        this.onDidChangeGroupMaximized = this._onDidChangeGroupMaximized.event;
        this.globalContextKeys = ( (new Map()));
        this.scopedContextKeys = ( (new Map()));
        this.contextKeyProviders = ( (new Map()));
        this.registeredContextKeys = ( (new Map()));
        this.contextKeyProviderDisposables = this._register(( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__.DisposableMap())));
        this._register(this.registerPart(this.mainPart));
        this.restoreParts();
        this.registerListeners();
    }
    registerListeners() {
        this._register(this.onDidChangeMementoValue(1 , this._store)(e => this.onDidChangeMementoState(e)));
        this.whenReady.then(() => this.registerGroupsContextKeyListeners());
    }
    createMainEditorPart() {
        return this.instantiationService.createInstance(_editorPart_js__WEBPACK_IMPORTED_MODULE_5__.MainEditorPart, this);
    }
    getScopedInstantiationService(part) {
        if (part === this.mainPart) {
            if (!( (this.mapPartToInstantiationService.has(part.windowId)))) {
                this.instantiationService.invokeFunction(accessor => {
                    const editorService = accessor.get(vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_17__.IEditorService);
                    this.mapPartToInstantiationService.set(part.windowId, this._register(this.instantiationService.createChild(( (new vscode_vscode_vs_platform_instantiation_common_serviceCollection__WEBPACK_IMPORTED_MODULE_16__.ServiceCollection([vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_17__.IEditorService, editorService.createScoped('main', this._store)]))))));
                });
            }
        }
        return this.mapPartToInstantiationService.get(part.windowId) ?? this.instantiationService;
    }
    async createAuxiliaryEditorPart(options) {
        const { part, instantiationService, disposables } = await this.instantiationService.createInstance(_auxiliaryEditorPart_js__WEBPACK_IMPORTED_MODULE_7__.AuxiliaryEditorPart, this).create(this.getGroupsLabel(this._parts.size), options);
        this.mapPartToInstantiationService.set(part.windowId, instantiationService);
        disposables.add((0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__.toDisposable)(() => this.mapPartToInstantiationService.delete(part.windowId)));
        this._onDidAddGroup.fire(part.activeGroup);
        this._onDidCreateAuxiliaryEditorPart.fire(part);
        return part;
    }
    registerPart(part) {
        const disposables = this._register(( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__.DisposableStore())));
        disposables.add(super.registerPart(part));
        this.registerEditorPartListeners(part, disposables);
        return disposables;
    }
    unregisterPart(part) {
        super.unregisterPart(part);
        this.parts.forEach((part, index) => {
            if (part === this.mainPart) {
                return;
            }
            part.notifyGroupsLabelChange(this.getGroupsLabel(index));
        });
    }
    registerEditorPartListeners(part, disposables) {
        disposables.add(part.onDidFocus(() => {
            this.doUpdateMostRecentActive(part, true);
            if (this._parts.size > 1) {
                this._onDidActiveGroupChange.fire(this.activeGroup);
            }
        }));
        disposables.add((0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__.toDisposable)(() => this.doUpdateMostRecentActive(part)));
        disposables.add(part.onDidChangeActiveGroup(group => this._onDidActiveGroupChange.fire(group)));
        disposables.add(part.onDidAddGroup(group => this._onDidAddGroup.fire(group)));
        disposables.add(part.onDidRemoveGroup(group => this._onDidRemoveGroup.fire(group)));
        disposables.add(part.onDidMoveGroup(group => this._onDidMoveGroup.fire(group)));
        disposables.add(part.onDidActivateGroup(group => this._onDidActivateGroup.fire(group)));
        disposables.add(part.onDidChangeGroupMaximized(maximized => this._onDidChangeGroupMaximized.fire(maximized)));
        disposables.add(part.onDidChangeGroupIndex(group => this._onDidChangeGroupIndex.fire(group)));
        disposables.add(part.onDidChangeGroupLocked(group => this._onDidChangeGroupLocked.fire(group)));
    }
    doUpdateMostRecentActive(part, makeMostRecentlyActive) {
        const index = this.mostRecentActiveParts.indexOf(part);
        if (index !== -1) {
            this.mostRecentActiveParts.splice(index, 1);
        }
        if (makeMostRecentlyActive) {
            this.mostRecentActiveParts.unshift(part);
        }
    }
    getGroupsLabel(index) {
        return ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(3569, "Window {0}", index + 1));
    }
    getPart(groupOrElement) {
        if (this._parts.size > 1) {
            if ((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_15__.isHTMLElement)(groupOrElement)) {
                const element = groupOrElement;
                return this.getPartByDocument(element.ownerDocument);
            }
            else {
                const group = groupOrElement;
                let id;
                if (typeof group === 'number') {
                    id = group;
                }
                else {
                    id = group.id;
                }
                for (const part of this._parts) {
                    if (part.hasGroup(id)) {
                        return part;
                    }
                }
            }
        }
        return this.mainPart;
    }
    static { this.EDITOR_PARTS_UI_STATE_STORAGE_KEY = 'editorparts.state'; }
    get isReady() { return this._isReady; }
    async restoreParts() {
        await this.mainPart.whenReady;
        if (this.mainPart.willRestoreState) {
            const state = this.loadState();
            if (state) {
                await this.restoreState(state);
            }
        }
        const mostRecentActivePart = this.mostRecentActiveParts.at(0);
        mostRecentActivePart?.activeGroup.focus();
        this._isReady = true;
        this.whenReadyPromise.complete();
        await Promise.allSettled(( (this.parts.map(part => part.whenRestored))));
        this.whenRestoredPromise.complete();
    }
    loadState() {
        return this.workspaceMemento[EditorParts_1.EDITOR_PARTS_UI_STATE_STORAGE_KEY];
    }
    saveState() {
        const state = this.createState();
        if (state.auxiliary.length === 0) {
            delete this.workspaceMemento[EditorParts_1.EDITOR_PARTS_UI_STATE_STORAGE_KEY];
        }
        else {
            this.workspaceMemento[EditorParts_1.EDITOR_PARTS_UI_STATE_STORAGE_KEY] = state;
        }
    }
    createState() {
        return {
            auxiliary: ( (this.parts.filter(part => part !== this.mainPart).map(part => {
                const auxiliaryWindow = this.auxiliaryWindowService.getWindow(part.windowId);
                return {
                    state: part.createState(),
                    ...auxiliaryWindow?.createState()
                };
            }))),
            mru: ( (this.mostRecentActiveParts.map(part => this.parts.indexOf(part))))
        };
    }
    async restoreState(state) {
        if (state.auxiliary.length) {
            const auxiliaryEditorPartPromises = [];
            for (const auxiliaryEditorPartState of state.auxiliary) {
                auxiliaryEditorPartPromises.push(this.createAuxiliaryEditorPart(auxiliaryEditorPartState));
            }
            await Promise.allSettled(auxiliaryEditorPartPromises);
            if (state.mru.length === this.parts.length) {
                this.mostRecentActiveParts = ( (state.mru.map(index => this.parts[index])));
            }
            else {
                this.mostRecentActiveParts = [...this.parts];
            }
            await Promise.allSettled(( (this.parts.map(part => part.whenReady))));
        }
    }
    get hasRestorableState() {
        return (
             (this.parts.some(part => part.hasRestorableState))
        );
    }
    onDidChangeMementoState(e) {
        if (e.external && e.scope === 1 ) {
            this.reloadMemento(e.scope);
            const state = this.loadState();
            if (state) {
                this.applyState(state);
            }
        }
    }
    async applyState(state) {
        for (const part of this.parts) {
            if (part === this.mainPart) {
                continue;
            }
            for (const group of part.getGroups(1 )) {
                await group.closeAllEditors({ excludeConfirming: true });
            }
            const closed = part.close();
            if (!closed) {
                return false;
            }
        }
        if (state !== 'empty') {
            await this.restoreState(state);
        }
        return true;
    }
    static { this.EDITOR_WORKING_SETS_STORAGE_KEY = 'editor.workingSets'; }
    saveWorkingSet(name) {
        const workingSet = {
            id: (0,vscode_vscode_vs_base_common_uuid__WEBPACK_IMPORTED_MODULE_13__.generateUuid)(),
            name,
            main: this.mainPart.createState(),
            auxiliary: this.createState()
        };
        this.editorWorkingSets.push(workingSet);
        this.saveWorkingSets();
        return {
            id: workingSet.id,
            name: workingSet.name
        };
    }
    getWorkingSets() {
        return (
             (this.editorWorkingSets.map(workingSet => ({ id: workingSet.id, name: workingSet.name })))
        );
    }
    deleteWorkingSet(workingSet) {
        const index = this.indexOfWorkingSet(workingSet);
        if (typeof index === 'number') {
            this.editorWorkingSets.splice(index, 1);
            this.saveWorkingSets();
        }
    }
    async applyWorkingSet(workingSet, options) {
        let workingSetState;
        if (workingSet === 'empty') {
            workingSetState = 'empty';
        }
        else {
            workingSetState = this.editorWorkingSets[this.indexOfWorkingSet(workingSet) ?? -1];
        }
        if (!workingSetState) {
            return false;
        }
        const applied = await this.applyState(workingSetState === 'empty' ? workingSetState : workingSetState.auxiliary);
        if (!applied) {
            return false;
        }
        await this.mainPart.applyState(workingSetState === 'empty' ? workingSetState : workingSetState.main, options);
        if (!options?.preserveFocus) {
            const mostRecentActivePart = this.mostRecentActiveParts.at(0);
            if (mostRecentActivePart) {
                await mostRecentActivePart.whenReady;
                mostRecentActivePart.activeGroup.focus();
            }
        }
        return true;
    }
    indexOfWorkingSet(workingSet) {
        for (let i = 0; i < this.editorWorkingSets.length; i++) {
            if (this.editorWorkingSets[i].id === workingSet.id) {
                return i;
            }
        }
        return undefined;
    }
    saveWorkingSets() {
        this.storageService.store(EditorParts_1.EDITOR_WORKING_SETS_STORAGE_KEY, JSON.stringify(this.editorWorkingSets), 1 , 1 );
    }
    get activeGroup() {
        return this.activePart.activeGroup;
    }
    get sideGroup() {
        return this.activePart.sideGroup;
    }
    get groups() {
        return this.getGroups();
    }
    get count() {
        return this.groups.length;
    }
    getGroups(order = 0 ) {
        if (this._parts.size > 1) {
            let parts;
            switch (order) {
                case 2 :
                case 0 :
                    parts = this.parts;
                    break;
                case 1 :
                    parts = (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_6__.distinct)([...this.mostRecentActiveParts, ...this.parts]);
                    break;
            }
            return ( (parts.map(part => part.getGroups(order)))).flat();
        }
        return this.mainPart.getGroups(order);
    }
    getGroup(identifier) {
        if (this._parts.size > 1) {
            for (const part of this._parts) {
                const group = part.getGroup(identifier);
                if (group) {
                    return group;
                }
            }
        }
        return this.mainPart.getGroup(identifier);
    }
    assertGroupView(group) {
        let groupView;
        if (typeof group === 'number') {
            groupView = this.getGroup(group);
        }
        else {
            groupView = group;
        }
        if (!groupView) {
            throw ( (new Error('Invalid editor group provided!')));
        }
        return groupView;
    }
    activateGroup(group) {
        return this.getPart(group).activateGroup(group);
    }
    getSize(group) {
        return this.getPart(group).getSize(group);
    }
    setSize(group, size) {
        this.getPart(group).setSize(group, size);
    }
    arrangeGroups(arrangement, group = this.activePart.activeGroup) {
        this.getPart(group).arrangeGroups(arrangement, group);
    }
    toggleMaximizeGroup(group = this.activePart.activeGroup) {
        this.getPart(group).toggleMaximizeGroup(group);
    }
    toggleExpandGroup(group = this.activePart.activeGroup) {
        this.getPart(group).toggleExpandGroup(group);
    }
    restoreGroup(group) {
        return this.getPart(group).restoreGroup(group);
    }
    applyLayout(layout) {
        this.activePart.applyLayout(layout);
    }
    getLayout() {
        return this.activePart.getLayout();
    }
    get orientation() {
        return this.activePart.orientation;
    }
    setGroupOrientation(orientation) {
        this.activePart.setGroupOrientation(orientation);
    }
    findGroup(scope, source = this.activeGroup, wrap) {
        const sourcePart = this.getPart(source);
        if (this._parts.size > 1) {
            const groups = this.getGroups(2 );
            if (scope.location === 0  || scope.location === 1 ) {
                return scope.location === 0  ? groups[0] : groups[groups.length - 1];
            }
            const group = sourcePart.findGroup(scope, source, false);
            if (group) {
                return group;
            }
            if (scope.location === 2  || scope.location === 3 ) {
                const sourceGroup = this.assertGroupView(source);
                const index = groups.indexOf(sourceGroup);
                if (scope.location === 2 ) {
                    let nextGroup = groups[index + 1];
                    if (!nextGroup && wrap) {
                        nextGroup = groups[0];
                    }
                    return nextGroup;
                }
                else {
                    let previousGroup = groups[index - 1];
                    if (!previousGroup && wrap) {
                        previousGroup = groups[groups.length - 1];
                    }
                    return previousGroup;
                }
            }
        }
        return sourcePart.findGroup(scope, source, wrap);
    }
    addGroup(location, direction) {
        return this.getPart(location).addGroup(location, direction);
    }
    removeGroup(group) {
        this.getPart(group).removeGroup(group);
    }
    moveGroup(group, location, direction) {
        return this.getPart(group).moveGroup(group, location, direction);
    }
    mergeGroup(group, target, options) {
        return this.getPart(group).mergeGroup(group, target, options);
    }
    mergeAllGroups(target) {
        return this.activePart.mergeAllGroups(target);
    }
    copyGroup(group, location, direction) {
        return this.getPart(group).copyGroup(group, location, direction);
    }
    createEditorDropTarget(container, delegate) {
        return this.getPart(container).createEditorDropTarget(container, delegate);
    }
    registerGroupsContextKeyListeners() {
        this._register(this.onDidChangeActiveGroup(() => this.updateGlobalContextKeys()));
        this.groups.forEach(group => this.registerGroupContextKeyProvidersListeners(group));
        this._register(this.onDidAddGroup(group => this.registerGroupContextKeyProvidersListeners(group)));
        this._register(this.onDidRemoveGroup(group => {
            this.scopedContextKeys.delete(group.id);
            this.registeredContextKeys.delete(group.id);
            this.contextKeyProviderDisposables.deleteAndDispose(group.id);
        }));
    }
    updateGlobalContextKeys() {
        const activeGroupScopedContextKeys = this.scopedContextKeys.get(this.activeGroup.id);
        if (!activeGroupScopedContextKeys) {
            return;
        }
        for (const [key, globalContextKey] of this.globalContextKeys) {
            const scopedContextKey = activeGroupScopedContextKeys.get(key);
            if (scopedContextKey) {
                globalContextKey.set(scopedContextKey.get());
            }
            else {
                globalContextKey.reset();
            }
        }
    }
    bind(contextKey, group) {
        let globalContextKey = this.globalContextKeys.get(contextKey.key);
        if (!globalContextKey) {
            globalContextKey = contextKey.bindTo(this.contextKeyService);
            this.globalContextKeys.set(contextKey.key, globalContextKey);
        }
        let groupScopedContextKeys = this.scopedContextKeys.get(group.id);
        if (!groupScopedContextKeys) {
            groupScopedContextKeys = ( (new Map()));
            this.scopedContextKeys.set(group.id, groupScopedContextKeys);
        }
        let scopedContextKey = groupScopedContextKeys.get(contextKey.key);
        if (!scopedContextKey) {
            scopedContextKey = contextKey.bindTo(group.scopedContextKeyService);
            groupScopedContextKeys.set(contextKey.key, scopedContextKey);
        }
        const that = this;
        return {
            get() {
                return scopedContextKey.get();
            },
            set(value) {
                if (that.activeGroup === group) {
                    globalContextKey.set(value);
                }
                scopedContextKey.set(value);
            },
            reset() {
                if (that.activeGroup === group) {
                    globalContextKey.reset();
                }
                scopedContextKey.reset();
            },
        };
    }
    registerContextKeyProvider(provider) {
        if (( (this.contextKeyProviders.has(provider.contextKey.key))) || ( (this.globalContextKeys.has(provider.contextKey.key)))) {
            throw ( (new Error(
                `A context key provider for key ${provider.contextKey.key} already exists.`
            )));
        }
        this.contextKeyProviders.set(provider.contextKey.key, provider);
        const setContextKeyForGroups = () => {
            for (const group of this.groups) {
                this.updateRegisteredContextKey(group, provider);
            }
        };
        setContextKeyForGroups();
        const onDidChange = provider.onDidChange?.(() => setContextKeyForGroups());
        return (0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__.toDisposable)(() => {
            onDidChange?.dispose();
            this.globalContextKeys.delete(provider.contextKey.key);
            this.scopedContextKeys.forEach(scopedContextKeys => scopedContextKeys.delete(provider.contextKey.key));
            this.contextKeyProviders.delete(provider.contextKey.key);
            this.registeredContextKeys.forEach(registeredContextKeys => registeredContextKeys.delete(provider.contextKey.key));
        });
    }
    registerGroupContextKeyProvidersListeners(group) {
        const disposable = group.onDidActiveEditorChange(() => {
            for (const contextKeyProvider of ( (this.contextKeyProviders.values()))) {
                this.updateRegisteredContextKey(group, contextKeyProvider);
            }
        });
        this.contextKeyProviderDisposables.set(group.id, disposable);
    }
    updateRegisteredContextKey(group, provider) {
        let groupRegisteredContextKeys = this.registeredContextKeys.get(group.id);
        if (!groupRegisteredContextKeys) {
            groupRegisteredContextKeys = ( (new Map()));
            this.registeredContextKeys.set(group.id, groupRegisteredContextKeys);
        }
        let scopedRegisteredContextKey = groupRegisteredContextKeys.get(provider.contextKey.key);
        if (!scopedRegisteredContextKey) {
            scopedRegisteredContextKey = this.bind(provider.contextKey, group);
            groupRegisteredContextKeys.set(provider.contextKey.key, scopedRegisteredContextKey);
        }
        scopedRegisteredContextKey.set(provider.getGroupContextKeyValue(group));
    }
    get partOptions() { return this.mainPart.partOptions; }
    get onDidChangeEditorPartOptions() { return this.mainPart.onDidChangeEditorPartOptions; }
};
EditorParts = EditorParts_1 = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_2__.IInstantiationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_10__.IStorageService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_platform_theme_common_themeService_service__WEBPACK_IMPORTED_MODULE_11__.IThemeService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_workbench_services_auxiliaryWindow_browser_auxiliaryWindowService_service__WEBPACK_IMPORTED_MODULE_12__.IAuxiliaryWindowService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_14__.IContextKeyService)))
], EditorParts)));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/editor/media/editordroptarget.css.js":
/*!*******************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/editor/media/editordroptarget.css.js ***!
  \*******************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ css),
/* harmony export */   "default": () => (/* binding */ css)
/* harmony export */ });
/* harmony import */ var vscode_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js */ "./node_modules/vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js");


var css = "#monaco-workbench-editor-drop-overlay{height:100%;left:0;position:absolute;width:100%;z-index:10000}#monaco-workbench-editor-drop-overlay>.editor-group-overlay-indicator{align-items:center;display:flex;height:100%;justify-content:center;left:0;opacity:0;pointer-events:none;position:absolute;top:0;width:100%}.monaco-workbench:not(.reduce-motion) #monaco-workbench-editor-drop-overlay>.editor-group-overlay-indicator{transition:opacity .15s ease-out}#monaco-workbench-editor-drop-overlay .editor-group-overlay-drop-into-prompt{line-height:normal;margin:.2em;opacity:0;padding:.6em;text-align:center}.monaco-workbench:not(.reduce-motion) #monaco-workbench-editor-drop-overlay .editor-group-overlay-drop-into-prompt{transition:opacity .15s ease-out}#monaco-workbench-editor-drop-overlay .editor-group-overlay-drop-into-prompt i{background-color:hsla(0,0%,100%,.05);border:1px solid hsla(0,0%,80%,.4);border-radius:5px;font-style:normal;margin:0 1px;padding:0 8px}.monaco-workbench:not(.reduce-motion) #monaco-workbench-editor-drop-overlay>.editor-group-overlay-indicator.overlay-move-transition{transition:top 70ms ease-out,left 70ms ease-out,width 70ms ease-out,height 70ms ease-out,opacity .15s ease-out}";
(0,vscode_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__["default"])(css,{});




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/media/compositepart.css.js":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/media/compositepart.css.js ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ css),
/* harmony export */   "default": () => (/* binding */ css)
/* harmony export */ });
/* harmony import */ var vscode_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js */ "./node_modules/vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js");


var css = ".monaco-workbench .part>.content>.composite{height:100%}.monaco-workbench .part>.composite.header-or-footer,.monaco-workbench .part>.composite.title{display:flex}.monaco-workbench .part>.composite.title>.title-actions{flex:1;padding-left:5px}";
(0,vscode_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__["default"])(css,{});




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/media/paneCompositePart.css.js":
/*!*************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/media/paneCompositePart.css.js ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ css),
/* harmony export */   "default": () => (/* binding */ css)
/* harmony export */ });
/* harmony import */ var vscode_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js */ "./node_modules/vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js");


var css = ".monaco-workbench .pane-composite-part>.title.has-composite-bar>.title-actions .monaco-action-bar .actions-container{justify-content:flex-end}.monaco-workbench .pane-composite-part>.title.has-composite-bar>.global-actions .monaco-action-bar .action-item,.monaco-workbench .pane-composite-part>.title.has-composite-bar>.title-actions .monaco-action-bar .action-item{margin-right:4px}.monaco-workbench .pane-composite-part>.title.has-composite-bar>.title-actions .monaco-action-bar .action-item .action-label{outline-offset:-2px}.monaco-workbench .pane-composite-part>.title.has-composite-bar>.title-label{display:none}.monaco-workbench .pane-composite-part>.header-or-footer{background-color:var(--vscode-activityBarTop-background);padding-left:4px;padding-right:4px}.monaco-workbench .pane-composite-part>.header{border-bottom:1px solid var(--vscode-sideBarActivityBarTop-border)}.monaco-workbench .pane-composite-part>.footer{border-top:1px solid var(--vscode-sideBarActivityBarTop-border)}.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container,.monaco-workbench .pane-composite-part>.title>.composite-bar-container{display:flex}.monaco-workbench .pane-composite-part>.header-or-footer .composite-bar-container{flex:1}.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-label.codicon-more,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-label.codicon-more{align-items:center;color:inherit!important;display:flex;justify-content:center;margin-left:0;margin-right:0}.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar{height:35px;line-height:27px}.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item{display:flex;font-size:11px;padding:2px 10px;text-transform:uppercase}.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.icon,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.icon{height:35px;padding:0 3px}.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.icon .action-label:not(.codicon),.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.icon .action-label:not(.codicon){height:16px;width:16px}.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:after,.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:before,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:after,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:before{background-color:var(--insert-border-color);content:\"\";display:none;height:24px;opacity:0;position:absolute;transition-delay:.1s;transition-duration:0ms;transition-property:opacity;width:2px}.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container.dragged-over>.composite-bar>.monaco-action-bar .action-item:after,.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container.dragged-over>.composite-bar>.monaco-action-bar .action-item:before,.monaco-workbench .pane-composite-part>.title>.composite-bar-container.dragged-over>.composite-bar>.monaco-action-bar .action-item:after,.monaco-workbench .pane-composite-part>.title>.composite-bar-container.dragged-over>.composite-bar>.monaco-action-bar .action-item:before{display:block}.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:before,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:before{left:1px;margin-left:-2px}.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:after,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:after{margin-right:-2px;right:1px}.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:first-of-type:before,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:first-of-type:before{left:2px;margin-left:-2px}.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:last-of-type:after,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:last-of-type:after{margin-right:-2px;right:2px}.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.left:after,.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.left:before,.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.right:after,.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.right:before,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.left:after,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.left:before,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.right:after,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.right:before{transition-delay:0s}.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container.dragged-over-head>.composite-bar>.monaco-action-bar .action-item:first-of-type:before,.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container.dragged-over-tail>.composite-bar>.monaco-action-bar .action-item:last-of-type:after,.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.left:before,.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.right+.action-item:before,.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:last-of-type.right:after,.monaco-workbench .pane-composite-part>.title>.composite-bar-container.dragged-over-head>.composite-bar>.monaco-action-bar .action-item:first-of-type:before,.monaco-workbench .pane-composite-part>.title>.composite-bar-container.dragged-over-tail>.composite-bar>.monaco-action-bar .action-item:last-of-type:after,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.left:before,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.right+.action-item:before,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:last-of-type.right:after{opacity:1}.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item .action-label,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item .action-label{border-radius:0;margin-right:0;padding:2px}.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.icon .action-label.codicon,.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:not(.icon) .action-label,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.icon .action-label.codicon,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:not(.icon) .action-label{background:none!important}.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.checked .action-label,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.checked .action-label{margin-right:0}.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .badge,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .badge{align-items:center;display:flex;margin-left:8px}.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.icon .badge,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.icon .badge{margin-left:0}.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .badge .badge-content,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .badge .badge-content{border-radius:11px;box-sizing:border-box;display:inline-block;font-size:11px;font-weight:400;height:18px;line-height:11px;min-width:18px;padding:3px 5px;position:relative;text-align:center}.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .icon-badge .badge-content{padding:3px}.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.icon .badge.compact,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.icon .badge.compact{bottom:0;height:100%;left:0;margin:auto;overflow:hidden;position:absolute;top:0;width:100%;z-index:2}.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.icon .badge.compact .badge-content,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.icon .badge.compact .badge-content{border-radius:16px;font-size:9px;font-weight:600;height:13px;line-height:13px;min-width:13px;padding:0 2px;position:absolute;right:0;text-align:center;top:17px}.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.icon .badge.compact.compact-content .badge-content,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.icon .badge.compact.compact-content .badge-content{font-size:8px;padding:0 3px}.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.icon .badge.compact.progress-badge .badge-content:before,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.icon .badge.compact.progress-badge .badge-content:before{left:1px;mask-size:11px;-webkit-mask-size:11px;top:3px}.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item .active-item-indicator,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item .active-item-indicator{bottom:0;height:100%;left:10px;overflow:hidden;pointer-events:none;position:absolute;top:-4px;width:calc(100% - 20px);z-index:1}.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.icon .active-item-indicator,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.icon .active-item-indicator{left:2px;top:1px;width:calc(100% - 4px)}.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.icon.checked,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.icon.checked{background-color:var(--vscode-activityBarTop-activeBackground)}.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.checked .active-item-indicator:before,.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:focus .active-item-indicator:before,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.checked .active-item-indicator:before,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:focus .active-item-indicator:before{border-top-style:solid;border-top-width:1px;bottom:2px;content:\"\";height:0;position:absolute;width:100%;z-index:1}.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.clicked:not(.checked):focus .active-item-indicator:before,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.clicked:not(.checked):focus .active-item-indicator:before{border-top-color:transparent!important}.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:focus .active-item-indicator:before,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:focus .active-item-indicator:before{border-top-color:var(--vscode-focusBorder)!important;border-top-width:2px}.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.checked .action-label,.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:hover .action-label,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.checked .action-label,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:hover .action-label{outline:var(--vscode-contrastActiveBorder,unset) solid 1px!important}.monaco-workbench .pane-composite-part>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:not(.checked):hover .action-label,.monaco-workbench .pane-composite-part>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:not(.checked):hover .action-label{outline:var(--vscode-contrastActiveBorder,unset) dashed 1px!important}.monaco-workbench .pane-composite-part .empty-pane-message-area{display:none;height:100%;width:100%}.monaco-workbench .pane-composite-part .empty-pane-message-area.visible{align-content:center;align-items:center;display:flex;justify-content:center}.monaco-workbench .pane-composite-part .empty-pane-message-area .empty-pane-message{margin:12px;text-align:center}";
(0,vscode_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__["default"])(css,{});




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/paneCompositeBar.js":
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/paneCompositeBar.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PaneCompositeBar: () => (/* binding */ PaneCompositeBar)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_activity_common_activity_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/activity/common/activity.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/activity/common/activity.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_layout_browser_layoutService_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/layout/browser/layoutService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/layout/browser/layoutService.service.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _compositeBar_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./compositeBar.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/compositeBar.js");
/* harmony import */ var vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/dom */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/platform/storage/common/storage.service */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_extensions_common_extensions_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/extensions/common/extensions.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/extensions/common/extensions.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/base/common/uri */ "./node_modules/vscode/vscode/src/vs/base/common/uri.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_compositeBarActions__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/compositeBarActions */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/compositeBarActions.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_views_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/views.service */ "./node_modules/vscode/vscode/src/vs/workbench/common/views.service.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey.service */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/base/common/types */ "./node_modules/vscode/vscode/src/vs/base/common/types.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_environment_common_environmentService_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/environment/common/environmentService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/environment/common/environmentService.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_platform__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/base/common/platform */ "./node_modules/vscode/vscode/src/vs/base/common/platform.js");
/* harmony import */ var vscode_vscode_vs_base_common_themables__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! vscode/vscode/vs/base/common/themables */ "./node_modules/vscode/vscode/src/vs/base/common/themables.js");
/* harmony import */ var vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! vscode/vscode/vs/base/common/actions */ "./node_modules/vscode/vscode/src/vs/base/common/actions.js");
/* harmony import */ var vscode_vscode_vs_base_common_hash__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! vscode/vscode/vs/base/common/hash */ "./node_modules/vscode/vscode/src/vs/base/common/hash.js");
/* harmony import */ var vscode_vscode_vs_platform_telemetry_common_telemetry_service__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! vscode/vscode/vs/platform/telemetry/common/telemetry.service */ "./node_modules/vscode/vscode/src/vs/platform/telemetry/common/telemetry.service.js");
/* harmony import */ var vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! vscode/vscode/vs/platform/configuration/common/configuration.service */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_views_common_viewsService_service__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/views/common/viewsService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/views/common/viewsService.service.js");

























var ViewContainerActivityAction_1;
let PaneCompositeBar = class PaneCompositeBar extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_5__.Disposable {
    constructor(options, part, paneCompositePart, instantiationService, storageService, extensionService, viewDescriptorService, viewService, contextKeyService, environmentService, layoutService) {
        super();
        this.options = options;
        this.part = part;
        this.paneCompositePart = paneCompositePart;
        this.instantiationService = instantiationService;
        this.storageService = storageService;
        this.extensionService = extensionService;
        this.viewDescriptorService = viewDescriptorService;
        this.viewService = viewService;
        this.contextKeyService = contextKeyService;
        this.environmentService = environmentService;
        this.layoutService = layoutService;
        this.viewContainerDisposables = this._register(( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_5__.DisposableMap())));
        this.compositeActions = ( (new Map()));
        this.hasExtensionsRegistered = false;
        this._cachedViewContainers = undefined;
        this.location = paneCompositePart.partId === "workbench.parts.panel"
            ? 1  : paneCompositePart.partId === "workbench.parts.auxiliarybar"
            ? 2  : 0 ;
        this.dndHandler = ( (new _compositeBar_js__WEBPACK_IMPORTED_MODULE_6__.CompositeDragAndDrop(
            this.viewDescriptorService,
            this.location,
            this.options.orientation,
            async (id, focus) => { return (await this.paneCompositePart.openPaneComposite(id, focus)) ?? null; },
            (from, to, before) => this.compositeBar.move(from, to, this.options.orientation === 1  ? before?.verticallyBefore : before?.horizontallyBefore),
            () => this.compositeBar.getCompositeBarItems()
        )));
        const cachedItems = ( (this.cachedViewContainers
            .map(container => ({
            id: container.id,
            name: container.name,
            visible: !this.shouldBeHidden(container.id, container),
            order: container.order,
            pinned: container.pinned,
        }))));
        this.compositeBar = this.createCompositeBar(cachedItems);
        this.onDidRegisterViewContainers(this.getViewContainers());
        this.registerListeners();
    }
    createCompositeBar(cachedItems) {
        return this._register(this.instantiationService.createInstance(_compositeBar_js__WEBPACK_IMPORTED_MODULE_6__.CompositeBar, cachedItems, {
            icon: this.options.icon,
            compact: this.options.compact,
            orientation: this.options.orientation,
            activityHoverOptions: this.options.activityHoverOptions,
            preventLoopNavigation: this.options.preventLoopNavigation,
            openComposite: async (compositeId, preserveFocus) => {
                return (await this.paneCompositePart.openPaneComposite(compositeId, !preserveFocus)) ?? null;
            },
            getActivityAction: compositeId => this.getCompositeActions(compositeId).activityAction,
            getCompositePinnedAction: compositeId => this.getCompositeActions(compositeId).pinnedAction,
            getCompositeBadgeAction: compositeId => this.getCompositeActions(compositeId).badgeAction,
            getOnCompositeClickAction: compositeId => this.getCompositeActions(compositeId).activityAction,
            fillExtraContextMenuActions: (actions, e) => this.options.fillExtraContextMenuActions(actions, e),
            getContextMenuActionsForComposite: compositeId => this.getContextMenuActionsForComposite(compositeId),
            getDefaultCompositeId: () => this.viewDescriptorService.getDefaultViewContainer(this.location)?.id,
            dndHandler: this.dndHandler,
            compositeSize: this.options.compositeSize,
            overflowActionSize: this.options.overflowActionSize,
            colors: theme => this.options.colors(theme),
        }));
    }
    getContextMenuActionsForComposite(compositeId) {
        const actions = [];
        const viewContainer = this.viewDescriptorService.getViewContainerById(compositeId);
        const defaultLocation = this.viewDescriptorService.getDefaultViewContainerLocation(viewContainer);
        if (defaultLocation !== this.viewDescriptorService.getViewContainerLocation(viewContainer)) {
            actions.push((0,vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_19__.toAction)({ id: 'resetLocationAction', label: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(9409, "Reset Location")), run: () => this.viewDescriptorService.moveViewContainerToLocation(viewContainer, defaultLocation, undefined, 'resetLocationAction') }));
        }
        else {
            const viewContainerModel = this.viewDescriptorService.getViewContainerModel(viewContainer);
            if (viewContainerModel.allViewDescriptors.length === 1) {
                const viewToReset = viewContainerModel.allViewDescriptors[0];
                const defaultContainer = this.viewDescriptorService.getDefaultContainerById(viewToReset.id);
                if (defaultContainer !== viewContainer) {
                    actions.push((0,vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_19__.toAction)({ id: 'resetLocationAction', label: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(9409, "Reset Location")), run: () => this.viewDescriptorService.moveViewsToContainer([viewToReset], defaultContainer, undefined, 'resetLocationAction') }));
                }
            }
        }
        return actions;
    }
    registerListeners() {
        this._register(this.viewDescriptorService.onDidChangeViewContainers(({ added, removed }) => this.onDidChangeViewContainers(added, removed)));
        this._register(this.viewDescriptorService.onDidChangeContainerLocation(({ viewContainer, from, to }) => this.onDidChangeViewContainerLocation(viewContainer, from, to)));
        this._register(this.paneCompositePart.onDidPaneCompositeOpen(e => this.onDidChangeViewContainerVisibility(e.getId(), true)));
        this._register(this.paneCompositePart.onDidPaneCompositeClose(e => this.onDidChangeViewContainerVisibility(e.getId(), false)));
        this.extensionService.whenInstalledExtensionsRegistered().then(() => {
            if (this._store.isDisposed) {
                return;
            }
            this.onDidRegisterExtensions();
            this._register(this.compositeBar.onDidChange(() => {
                this.updateCompositeBarItemsFromStorage(true);
                this.saveCachedViewContainers();
            }));
            this._register(this.storageService.onDidChangeValue(0 , this.options.pinnedViewContainersKey, this._store)(() => this.updateCompositeBarItemsFromStorage(false)));
        });
    }
    onDidChangeViewContainers(added, removed) {
        removed.filter(({ location }) => location === this.location).forEach(({ container }) => this.onDidDeregisterViewContainer(container));
        this.onDidRegisterViewContainers(( (added.filter(({ location }) => location === this.location).map(({ container }) => container))));
    }
    onDidChangeViewContainerLocation(container, from, to) {
        if (from === this.location) {
            this.onDidDeregisterViewContainer(container);
        }
        if (to === this.location) {
            this.onDidRegisterViewContainers([container]);
        }
    }
    onDidChangeViewContainerVisibility(id, visible) {
        if (visible) {
            this.onDidViewContainerVisible(id);
        }
        else {
            this.compositeBar.deactivateComposite(id);
        }
    }
    onDidRegisterExtensions() {
        this.hasExtensionsRegistered = true;
        for (const { id } of this.cachedViewContainers) {
            const viewContainer = this.getViewContainer(id);
            if (viewContainer) {
                this.showOrHideViewContainer(viewContainer);
            }
            else {
                if (this.viewDescriptorService.isViewContainerRemovedPermanently(id)) {
                    this.removeComposite(id);
                }
                else {
                    this.hideComposite(id);
                }
            }
        }
        this.saveCachedViewContainers();
    }
    onDidViewContainerVisible(id) {
        const viewContainer = this.getViewContainer(id);
        if (viewContainer) {
            this.addComposite(viewContainer);
            this.compositeBar.activateComposite(viewContainer.id);
            if (this.shouldBeHidden(viewContainer)) {
                const viewContainerModel = this.viewDescriptorService.getViewContainerModel(viewContainer);
                if (viewContainerModel.activeViewDescriptors.length === 0) {
                    this.hideComposite(viewContainer.id);
                }
            }
        }
    }
    create(parent) {
        return this.compositeBar.create(parent);
    }
    getCompositeActions(compositeId) {
        let compositeActions = this.compositeActions.get(compositeId);
        if (!compositeActions) {
            const viewContainer = this.getViewContainer(compositeId);
            if (viewContainer) {
                const viewContainerModel = this.viewDescriptorService.getViewContainerModel(viewContainer);
                compositeActions = {
                    activityAction: this._register(this.instantiationService.createInstance(ViewContainerActivityAction, this.toCompositeBarActionItemFrom(viewContainerModel), this.part, this.paneCompositePart)),
                    pinnedAction: this._register(( (new vscode_vscode_vs_workbench_browser_parts_compositeBarActions__WEBPACK_IMPORTED_MODULE_11__.ToggleCompositePinnedAction(this.toCompositeBarActionItemFrom(viewContainerModel), this.compositeBar)))),
                    badgeAction: this._register(( (new vscode_vscode_vs_workbench_browser_parts_compositeBarActions__WEBPACK_IMPORTED_MODULE_11__.ToggleCompositeBadgeAction(this.toCompositeBarActionItemFrom(viewContainerModel), this.compositeBar))))
                };
            }
            else {
                const cachedComposite = this.cachedViewContainers.filter(c => c.id === compositeId)[0];
                compositeActions = {
                    activityAction: this._register(this.instantiationService.createInstance(PlaceHolderViewContainerActivityAction, this.toCompositeBarActionItem(compositeId, cachedComposite?.name ?? compositeId, cachedComposite?.icon, undefined), this.part, this.paneCompositePart)),
                    pinnedAction: this._register(( (new PlaceHolderToggleCompositePinnedAction(compositeId, this.compositeBar)))),
                    badgeAction: this._register(( (new PlaceHolderToggleCompositeBadgeAction(compositeId, this.compositeBar))))
                };
            }
            this.compositeActions.set(compositeId, compositeActions);
        }
        return compositeActions;
    }
    onDidRegisterViewContainers(viewContainers) {
        for (const viewContainer of viewContainers) {
            this.addComposite(viewContainer);
            const cachedViewContainer = this.cachedViewContainers.filter(({ id }) => id === viewContainer.id)[0];
            if (!cachedViewContainer) {
                this.compositeBar.pin(viewContainer.id);
            }
            const visibleViewContainer = this.paneCompositePart.getActivePaneComposite();
            if (visibleViewContainer?.getId() === viewContainer.id) {
                this.compositeBar.activateComposite(viewContainer.id);
            }
            const viewContainerModel = this.viewDescriptorService.getViewContainerModel(viewContainer);
            this.updateCompositeBarActionItem(viewContainer, viewContainerModel);
            this.showOrHideViewContainer(viewContainer);
            const disposables = ( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_5__.DisposableStore()));
            disposables.add(viewContainerModel.onDidChangeContainerInfo(() => this.updateCompositeBarActionItem(viewContainer, viewContainerModel)));
            disposables.add(viewContainerModel.onDidChangeActiveViewDescriptors(() => this.showOrHideViewContainer(viewContainer)));
            this.viewContainerDisposables.set(viewContainer.id, disposables);
        }
    }
    onDidDeregisterViewContainer(viewContainer) {
        this.viewContainerDisposables.deleteAndDispose(viewContainer.id);
        this.removeComposite(viewContainer.id);
    }
    updateCompositeBarActionItem(viewContainer, viewContainerModel) {
        const compositeBarActionItem = this.toCompositeBarActionItemFrom(viewContainerModel);
        const { activityAction, pinnedAction } = this.getCompositeActions(viewContainer.id);
        activityAction.updateCompositeBarActionItem(compositeBarActionItem);
        if (pinnedAction instanceof PlaceHolderToggleCompositePinnedAction) {
            pinnedAction.setActivity(compositeBarActionItem);
        }
        if (this.options.recomputeSizes) {
            this.compositeBar.recomputeSizes();
        }
        this.saveCachedViewContainers();
    }
    toCompositeBarActionItemFrom(viewContainerModel) {
        return this.toCompositeBarActionItem(viewContainerModel.viewContainer.id, viewContainerModel.title, viewContainerModel.icon, viewContainerModel.keybindingId);
    }
    toCompositeBarActionItem(id, name, icon, keybindingId) {
        let classNames = undefined;
        let iconUrl = undefined;
        if (this.options.icon) {
            if (vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_10__.URI.isUri(icon)) {
                iconUrl = icon;
                const cssUrl = (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_7__.asCSSUrl)(icon);
                const hash = ( (new vscode_vscode_vs_base_common_hash__WEBPACK_IMPORTED_MODULE_20__.StringSHA1()));
                hash.update(cssUrl);
                const iconId = `activity-${id.replace(/\./g, '-')}-${hash.digest()}`;
                const iconClass = `.monaco-workbench .${this.options.partContainerClass} .monaco-action-bar .action-label.${iconId}`;
                classNames = [iconId, 'uri-icon'];
                (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_7__.createCSSRule)(iconClass, `
				mask: ${cssUrl} no-repeat 50% 50%;
				mask-size: ${this.options.iconSize}px;
				-webkit-mask: ${cssUrl} no-repeat 50% 50%;
				-webkit-mask-size: ${this.options.iconSize}px;
				mask-origin: padding;
				-webkit-mask-origin: padding;
			`);
            }
            else if (vscode_vscode_vs_base_common_themables__WEBPACK_IMPORTED_MODULE_18__.ThemeIcon.isThemeIcon(icon)) {
                classNames = vscode_vscode_vs_base_common_themables__WEBPACK_IMPORTED_MODULE_18__.ThemeIcon.asClassNameArray(icon);
            }
        }
        return { id, name, classNames, iconUrl, keybindingId };
    }
    showOrHideViewContainer(viewContainer) {
        if (this.shouldBeHidden(viewContainer)) {
            this.hideComposite(viewContainer.id);
        }
        else {
            this.addComposite(viewContainer);
        }
    }
    shouldBeHidden(viewContainerOrId, cachedViewContainer) {
        const viewContainer = (0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_15__.isString)(viewContainerOrId) ? this.getViewContainer(viewContainerOrId) : viewContainerOrId;
        const viewContainerId = (0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_15__.isString)(viewContainerOrId) ? viewContainerOrId : viewContainerOrId.id;
        if (viewContainer) {
            if (viewContainer.hideIfEmpty) {
                if (this.viewService.isViewContainerActive(viewContainerId)) {
                    return false;
                }
            }
            else {
                return false;
            }
        }
        if (!this.hasExtensionsRegistered && !(this.part === "workbench.parts.sidebar"  && this.environmentService.remoteAuthority && vscode_vscode_vs_base_common_platform__WEBPACK_IMPORTED_MODULE_17__.isNative)) {
            cachedViewContainer = cachedViewContainer || this.cachedViewContainers.find(({ id }) => id === viewContainerId);
            if (!viewContainer && cachedViewContainer?.isBuiltin && cachedViewContainer?.visible) {
                return false;
            }
            if (cachedViewContainer?.views?.length) {
                return cachedViewContainer.views.every(({ when }) => !!when && !this.contextKeyService.contextMatchesRules(vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_13__.ContextKeyExpr.deserialize(when)));
            }
        }
        return true;
    }
    addComposite(viewContainer) {
        this.compositeBar.addComposite({ id: viewContainer.id, name: typeof viewContainer.title === 'string' ? viewContainer.title : viewContainer.title.value, order: viewContainer.order, requestedIndex: viewContainer.requestedIndex });
    }
    hideComposite(compositeId) {
        this.compositeBar.hideComposite(compositeId);
        const compositeActions = this.compositeActions.get(compositeId);
        if (compositeActions) {
            compositeActions.activityAction.dispose();
            compositeActions.pinnedAction.dispose();
            this.compositeActions.delete(compositeId);
        }
    }
    removeComposite(compositeId) {
        this.compositeBar.removeComposite(compositeId);
        const compositeActions = this.compositeActions.get(compositeId);
        if (compositeActions) {
            compositeActions.activityAction.dispose();
            compositeActions.pinnedAction.dispose();
            this.compositeActions.delete(compositeId);
        }
    }
    getPinnedPaneCompositeIds() {
        const pinnedCompositeIds = ( (this.compositeBar.getPinnedComposites().map(v => v.id)));
        return (
             (this.getViewContainers()
                .filter(v => this.compositeBar.isPinned(v.id))
                .sort((v1, v2) => pinnedCompositeIds.indexOf(v1.id) - pinnedCompositeIds.indexOf(v2.id))
                .map(v => v.id))
        );
    }
    getVisiblePaneCompositeIds() {
        return (
             (this.compositeBar.getVisibleComposites()
                .filter(v => this.paneCompositePart.getActivePaneComposite()?.getId() === v.id || this.compositeBar.isPinned(v.id))
                .map(v => v.id))
        );
    }
    getContextMenuActions() {
        return this.compositeBar.getContextMenuActions();
    }
    focus(index) {
        this.compositeBar.focus(index);
    }
    layout(width, height) {
        this.compositeBar.layout(( (new vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_7__.Dimension(width, height))));
    }
    getViewContainer(id) {
        const viewContainer = this.viewDescriptorService.getViewContainerById(id);
        return viewContainer && this.viewDescriptorService.getViewContainerLocation(viewContainer) === this.location ? viewContainer : undefined;
    }
    getViewContainers() {
        return this.viewDescriptorService.getViewContainersByLocation(this.location);
    }
    updateCompositeBarItemsFromStorage(retainExisting) {
        if (this.pinnedViewContainersValue === this.getStoredPinnedViewContainersValue()) {
            return;
        }
        this._placeholderViewContainersValue = undefined;
        this._pinnedViewContainersValue = undefined;
        this._cachedViewContainers = undefined;
        const newCompositeItems = [];
        const compositeItems = this.compositeBar.getCompositeBarItems();
        for (const cachedViewContainer of this.cachedViewContainers) {
            newCompositeItems.push({
                id: cachedViewContainer.id,
                name: cachedViewContainer.name,
                order: cachedViewContainer.order,
                pinned: cachedViewContainer.pinned,
                visible: cachedViewContainer.visible && !!this.getViewContainer(cachedViewContainer.id),
            });
        }
        for (const viewContainer of this.getViewContainers()) {
            if (!( (newCompositeItems.some(({ id }) => id === viewContainer.id)))) {
                const index = compositeItems.findIndex(({ id }) => id === viewContainer.id);
                if (index !== -1) {
                    const compositeItem = compositeItems[index];
                    newCompositeItems.splice(index, 0, {
                        id: viewContainer.id,
                        name: typeof viewContainer.title === 'string' ? viewContainer.title : viewContainer.title.value,
                        order: compositeItem.order,
                        pinned: compositeItem.pinned,
                        visible: compositeItem.visible,
                    });
                }
                else {
                    newCompositeItems.push({
                        id: viewContainer.id,
                        name: typeof viewContainer.title === 'string' ? viewContainer.title : viewContainer.title.value,
                        order: viewContainer.order,
                        pinned: true,
                        visible: !this.shouldBeHidden(viewContainer),
                    });
                }
            }
        }
        if (retainExisting) {
            for (const compositeItem of compositeItems) {
                const newCompositeItem = newCompositeItems.find(({ id }) => id === compositeItem.id);
                if (!newCompositeItem) {
                    newCompositeItems.push(compositeItem);
                }
            }
        }
        this.compositeBar.setCompositeBarItems(newCompositeItems);
    }
    saveCachedViewContainers() {
        const state = [];
        const compositeItems = this.compositeBar.getCompositeBarItems();
        for (const compositeItem of compositeItems) {
            const viewContainer = this.getViewContainer(compositeItem.id);
            if (viewContainer) {
                const viewContainerModel = this.viewDescriptorService.getViewContainerModel(viewContainer);
                const views = [];
                for (const { when } of viewContainerModel.allViewDescriptors) {
                    views.push({ when: when ? when.serialize() : undefined });
                }
                state.push({
                    id: compositeItem.id,
                    name: viewContainerModel.title,
                    icon: vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_10__.URI.isUri(viewContainerModel.icon) && this.environmentService.remoteAuthority ? undefined : viewContainerModel.icon,
                    views,
                    pinned: compositeItem.pinned,
                    order: compositeItem.order,
                    visible: compositeItem.visible,
                    isBuiltin: !viewContainer.extensionId
                });
            }
            else {
                state.push({ id: compositeItem.id, name: compositeItem.name, pinned: compositeItem.pinned, order: compositeItem.order, visible: false, isBuiltin: false });
            }
        }
        this.storeCachedViewContainersState(state);
    }
    get cachedViewContainers() {
        if (this._cachedViewContainers === undefined) {
            this._cachedViewContainers = this.getPinnedViewContainers();
            for (const placeholderViewContainer of this.getPlaceholderViewContainers()) {
                const cachedViewContainer = this._cachedViewContainers.find(cached => cached.id === placeholderViewContainer.id);
                if (cachedViewContainer) {
                    cachedViewContainer.visible = placeholderViewContainer.visible ?? cachedViewContainer.visible;
                    cachedViewContainer.name = placeholderViewContainer.name;
                    cachedViewContainer.icon = placeholderViewContainer.themeIcon ? placeholderViewContainer.themeIcon :
                        placeholderViewContainer.iconUrl ? vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_10__.URI.revive(placeholderViewContainer.iconUrl) : undefined;
                    if (vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_10__.URI.isUri(cachedViewContainer.icon) && this.environmentService.remoteAuthority) {
                        cachedViewContainer.icon = undefined;
                    }
                    cachedViewContainer.views = placeholderViewContainer.views;
                    cachedViewContainer.isBuiltin = placeholderViewContainer.isBuiltin;
                }
            }
            for (const viewContainerWorkspaceState of this.getViewContainersWorkspaceState()) {
                const cachedViewContainer = this._cachedViewContainers.find(cached => cached.id === viewContainerWorkspaceState.id);
                if (cachedViewContainer) {
                    cachedViewContainer.visible = viewContainerWorkspaceState.visible ?? cachedViewContainer.visible;
                }
            }
        }
        return this._cachedViewContainers;
    }
    storeCachedViewContainersState(cachedViewContainers) {
        const pinnedViewContainers = this.getPinnedViewContainers();
        this.setPinnedViewContainers(( (cachedViewContainers.map(({ id, pinned, order }) => ({
            id,
            pinned,
            visible: Boolean(pinnedViewContainers.find(({ id: pinnedId }) => pinnedId === id)?.visible),
            order
        })))));
        this.setPlaceholderViewContainers(( (cachedViewContainers.map(({ id, icon, name, views, isBuiltin }) => ({
            id,
            iconUrl: vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_10__.URI.isUri(icon) ? icon : undefined,
            themeIcon: vscode_vscode_vs_base_common_themables__WEBPACK_IMPORTED_MODULE_18__.ThemeIcon.isThemeIcon(icon) ? icon : undefined,
            name,
            isBuiltin,
            views
        })))));
        this.setViewContainersWorkspaceState(( (cachedViewContainers.map(({ id, visible }) => ({
            id,
            visible,
        })))));
    }
    getPinnedViewContainers() {
        return JSON.parse(this.pinnedViewContainersValue);
    }
    setPinnedViewContainers(pinnedViewContainers) {
        this.pinnedViewContainersValue = JSON.stringify(pinnedViewContainers);
    }
    get pinnedViewContainersValue() {
        if (!this._pinnedViewContainersValue) {
            this._pinnedViewContainersValue = this.getStoredPinnedViewContainersValue();
        }
        return this._pinnedViewContainersValue;
    }
    set pinnedViewContainersValue(pinnedViewContainersValue) {
        if (this.pinnedViewContainersValue !== pinnedViewContainersValue) {
            this._pinnedViewContainersValue = pinnedViewContainersValue;
            this.setStoredPinnedViewContainersValue(pinnedViewContainersValue);
        }
    }
    getStoredPinnedViewContainersValue() {
        return this.storageService.get(this.options.pinnedViewContainersKey, 0 , '[]');
    }
    setStoredPinnedViewContainersValue(value) {
        this.storageService.store(this.options.pinnedViewContainersKey, value, 0 , 0 );
    }
    getPlaceholderViewContainers() {
        return JSON.parse(this.placeholderViewContainersValue);
    }
    setPlaceholderViewContainers(placeholderViewContainers) {
        this.placeholderViewContainersValue = JSON.stringify(placeholderViewContainers);
    }
    get placeholderViewContainersValue() {
        if (!this._placeholderViewContainersValue) {
            this._placeholderViewContainersValue = this.getStoredPlaceholderViewContainersValue();
        }
        return this._placeholderViewContainersValue;
    }
    set placeholderViewContainersValue(placeholderViewContainesValue) {
        if (this.placeholderViewContainersValue !== placeholderViewContainesValue) {
            this._placeholderViewContainersValue = placeholderViewContainesValue;
            this.setStoredPlaceholderViewContainersValue(placeholderViewContainesValue);
        }
    }
    getStoredPlaceholderViewContainersValue() {
        return this.storageService.get(this.options.placeholderViewContainersKey, 0 , '[]');
    }
    setStoredPlaceholderViewContainersValue(value) {
        this.storageService.store(this.options.placeholderViewContainersKey, value, 0 , 1 );
    }
    getViewContainersWorkspaceState() {
        return JSON.parse(this.viewContainersWorkspaceStateValue);
    }
    setViewContainersWorkspaceState(viewContainersWorkspaceState) {
        this.viewContainersWorkspaceStateValue = JSON.stringify(viewContainersWorkspaceState);
    }
    get viewContainersWorkspaceStateValue() {
        if (!this._viewContainersWorkspaceStateValue) {
            this._viewContainersWorkspaceStateValue = this.getStoredViewContainersWorkspaceStateValue();
        }
        return this._viewContainersWorkspaceStateValue;
    }
    set viewContainersWorkspaceStateValue(viewContainersWorkspaceStateValue) {
        if (this.viewContainersWorkspaceStateValue !== viewContainersWorkspaceStateValue) {
            this._viewContainersWorkspaceStateValue = viewContainersWorkspaceStateValue;
            this.setStoredViewContainersWorkspaceStateValue(viewContainersWorkspaceStateValue);
        }
    }
    getStoredViewContainersWorkspaceStateValue() {
        return this.storageService.get(this.options.viewContainersWorkspaceStateKey, 1 , '[]');
    }
    setStoredViewContainersWorkspaceStateValue(value) {
        this.storageService.store(this.options.viewContainersWorkspaceStateKey, value, 1 , 1 );
    }
};
PaneCompositeBar = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_4__.IInstantiationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_8__.IStorageService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, vscode_vscode_vs_workbench_services_extensions_common_extensions_service__WEBPACK_IMPORTED_MODULE_9__.IExtensionService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, vscode_vscode_vs_workbench_common_views_service__WEBPACK_IMPORTED_MODULE_12__.IViewDescriptorService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, vscode_vscode_vs_workbench_services_views_common_viewsService_service__WEBPACK_IMPORTED_MODULE_23__.IViewsService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_14__.IContextKeyService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, vscode_vscode_vs_workbench_services_environment_common_environmentService_service__WEBPACK_IMPORTED_MODULE_16__.IWorkbenchEnvironmentService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, vscode_vscode_vs_workbench_services_layout_browser_layoutService_service__WEBPACK_IMPORTED_MODULE_3__.IWorkbenchLayoutService)))
], PaneCompositeBar)));
let ViewContainerActivityAction = class ViewContainerActivityAction extends vscode_vscode_vs_workbench_browser_parts_compositeBarActions__WEBPACK_IMPORTED_MODULE_11__.CompositeBarAction {
    static { ViewContainerActivityAction_1 = this; }
    static { this.preventDoubleClickDelay = 300; }
    constructor(compositeBarActionItem, part, paneCompositePart, layoutService, telemetryService, configurationService, activityService) {
        super(compositeBarActionItem);
        this.part = part;
        this.paneCompositePart = paneCompositePart;
        this.layoutService = layoutService;
        this.telemetryService = telemetryService;
        this.configurationService = configurationService;
        this.activityService = activityService;
        this.lastRun = 0;
        this.updateActivity();
        this._register(this.activityService.onDidChangeActivity(viewContainerOrAction => {
            if (!(0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_15__.isString)(viewContainerOrAction) && viewContainerOrAction.id === this.compositeBarActionItem.id) {
                this.updateActivity();
            }
        }));
    }
    updateCompositeBarActionItem(compositeBarActionItem) {
        this.compositeBarActionItem = compositeBarActionItem;
    }
    updateActivity() {
        const activities = this.activityService.getViewContainerActivities(this.compositeBarActionItem.id);
        this.activity = activities[0];
    }
    async run(event) {
        if ((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_7__.isMouseEvent)(event) && event.button === 2) {
            return;
        }
        const now = Date.now();
        if (now > this.lastRun  && now - this.lastRun < ViewContainerActivityAction_1.preventDoubleClickDelay) {
            return;
        }
        this.lastRun = now;
        const focus = (event && 'preserveFocus' in event) ? !event.preserveFocus : true;
        if (this.part === "workbench.parts.activitybar" ) {
            const sideBarVisible = this.layoutService.isVisible("workbench.parts.sidebar" );
            const activeViewlet = this.paneCompositePart.getActivePaneComposite();
            const focusBehavior = this.configurationService.getValue('workbench.activityBar.iconClickBehavior');
            if (sideBarVisible && activeViewlet?.getId() === this.compositeBarActionItem.id) {
                switch (focusBehavior) {
                    case 'focus':
                        this.logAction('refocus');
                        this.paneCompositePart.openPaneComposite(this.compositeBarActionItem.id, focus);
                        break;
                    case 'toggle':
                    default:
                        this.logAction('hide');
                        this.layoutService.setPartHidden(true, "workbench.parts.sidebar" );
                        break;
                }
                return;
            }
            this.logAction('show');
        }
        await this.paneCompositePart.openPaneComposite(this.compositeBarActionItem.id, focus);
        return this.activate();
    }
    logAction(action) {
        this.telemetryService.publicLog2('activityBarAction', { viewletId: this.compositeBarActionItem.id, action });
    }
};
ViewContainerActivityAction = ViewContainerActivityAction_1 = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_workbench_services_layout_browser_layoutService_service__WEBPACK_IMPORTED_MODULE_3__.IWorkbenchLayoutService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_platform_telemetry_common_telemetry_service__WEBPACK_IMPORTED_MODULE_21__.ITelemetryService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_22__.IConfigurationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, vscode_vscode_vs_workbench_services_activity_common_activity_service__WEBPACK_IMPORTED_MODULE_2__.IActivityService)))
], ViewContainerActivityAction)));
class PlaceHolderViewContainerActivityAction extends ViewContainerActivityAction {
}
class PlaceHolderToggleCompositePinnedAction extends vscode_vscode_vs_workbench_browser_parts_compositeBarActions__WEBPACK_IMPORTED_MODULE_11__.ToggleCompositePinnedAction {
    constructor(id, compositeBar) {
        super({ id, name: id, classNames: undefined }, compositeBar);
    }
    setActivity(activity) {
        this.label = activity.name;
    }
}
class PlaceHolderToggleCompositeBadgeAction extends vscode_vscode_vs_workbench_browser_parts_compositeBarActions__WEBPACK_IMPORTED_MODULE_11__.ToggleCompositeBadgeAction {
    constructor(id, compositeBar) {
        super({ id, name: id, classNames: undefined }, compositeBar);
    }
    setCompositeBarActionItem(actionItem) {
        this.label = actionItem.name;
    }
}




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/paneCompositePart.js":
/*!***************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/paneCompositePart.js ***!
  \***************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AbstractPaneCompositePart: () => (/* binding */ AbstractPaneCompositePart),
/* harmony export */   CompositeBarPosition: () => (/* binding */ CompositeBarPosition)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _media_paneCompositePart_css_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./media/paneCompositePart.css.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/media/paneCompositePart.css.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_panecomposite__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/panecomposite */ "./node_modules/vscode/vscode/src/vs/workbench/browser/panecomposite.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_views_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/views.service */ "./node_modules/vscode/vscode/src/vs/workbench/common/views.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_layout_browser_layoutService_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/layout/browser/layoutService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/layout/browser/layoutService.service.js");
/* harmony import */ var _compositePart_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./compositePart.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/compositePart.js");
/* harmony import */ var _paneCompositeBar_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./paneCompositeBar.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/paneCompositeBar.js");
/* harmony import */ var vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/dom */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/platform/registry/common/platform */ "./node_modules/vscode/vscode/src/vs/platform/registry/common/platform.js");
/* harmony import */ var vscode_vscode_vs_platform_notification_common_notification_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/platform/notification/common/notification.service */ "./node_modules/vscode/vscode/src/vs/platform/notification/common/notification.service.js");
/* harmony import */ var vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/platform/storage/common/storage.service */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var vscode_vscode_vs_platform_contextview_browser_contextView_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextview/browser/contextView.service */ "./node_modules/vscode/vscode/src/vs/platform/contextview/browser/contextView.service.js");
/* harmony import */ var vscode_vscode_vs_platform_keybinding_common_keybinding_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/platform/keybinding/common/keybinding.service */ "./node_modules/vscode/vscode/src/vs/platform/keybinding/common/keybinding.service.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_themeService_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/themeService.service */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.service.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey.service */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_extensions_common_extensions_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/extensions/common/extensions.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/extensions/common/extensions.service.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_dnd__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/dnd */ "./node_modules/vscode/vscode/src/vs/workbench/browser/dnd.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/theme */ "./node_modules/vscode/vscode/src/vs/workbench/common/theme.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_actions__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/actions */ "./node_modules/vscode/vscode/src/vs/workbench/browser/actions.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions_service__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions.service */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.service.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_actionbar_actionbar__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/actionbar/actionbar */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/actionbar/actionbar.js");
/* harmony import */ var vscode_vscode_vs_base_browser_touch__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/touch */ "./node_modules/vscode/vscode/src/vs/base/browser/touch.js");
/* harmony import */ var vscode_vscode_vs_base_browser_mouseEvent__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/mouseEvent */ "./node_modules/vscode/vscode/src/vs/base/browser/mouseEvent.js");
/* harmony import */ var vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! vscode/vscode/vs/base/common/actions */ "./node_modules/vscode/vscode/src/vs/base/common/actions.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_views_viewPaneContainer__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/views/viewPaneContainer */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/views/viewPaneContainer.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_browser_menuEntryActionViewItem__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/browser/menuEntryActionViewItem */ "./node_modules/vscode/vscode/src/vs/platform/actions/browser/menuEntryActionViewItem.js");
/* harmony import */ var vscode_vscode_vs_platform_hover_browser_hover_service__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! vscode/vscode/vs/platform/hover/browser/hover.service */ "./node_modules/vscode/vscode/src/vs/platform/hover/browser/hover.service.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_browser_toolbar__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/browser/toolbar */ "./node_modules/vscode/vscode/src/vs/platform/actions/browser/toolbar.js");


































var AbstractPaneCompositePart_1;
var CompositeBarPosition;
( ((function(CompositeBarPosition) {
    CompositeBarPosition[CompositeBarPosition["TOP"] = 0] = "TOP";
    CompositeBarPosition[CompositeBarPosition["TITLE"] = 1] = "TITLE";
    CompositeBarPosition[CompositeBarPosition["BOTTOM"] = 2] = "BOTTOM";
})(CompositeBarPosition || (CompositeBarPosition = {}))));
let AbstractPaneCompositePart = class AbstractPaneCompositePart extends _compositePart_js__WEBPACK_IMPORTED_MODULE_8__.CompositePart {
    static { AbstractPaneCompositePart_1 = this; }
    static { this.MIN_COMPOSITE_BAR_WIDTH = 50; }
    get snap() {
        return this.layoutService.isVisible(this.partId) || !!this.paneCompositeBar.value?.getVisiblePaneCompositeIds().length;
    }
    get onDidPaneCompositeOpen() { return (
         (vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_2__.Event.map(this.onDidCompositeOpen.event, compositeEvent => compositeEvent.composite))
    ); }
    constructor(partId, partOptions, activePaneCompositeSettingsKey, activePaneContextKey, paneFocusContextKey, nameForTelemetry, compositeCSSClass, titleForegroundColor, notificationService, storageService, contextMenuService, layoutService, keybindingService, hoverService, instantiationService, themeService, viewDescriptorService, contextKeyService, extensionService, menuService) {
        let location = 0 ;
        let registryId = vscode_vscode_vs_workbench_browser_panecomposite__WEBPACK_IMPORTED_MODULE_4__.Extensions.Viewlets;
        let globalActionsMenuId = vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_23__.MenuId.SidebarTitle;
        if (partId === "workbench.parts.panel" ) {
            location = 1 ;
            registryId = vscode_vscode_vs_workbench_browser_panecomposite__WEBPACK_IMPORTED_MODULE_4__.Extensions.Panels;
            globalActionsMenuId = vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_23__.MenuId.PanelTitle;
        }
        else if (partId === "workbench.parts.auxiliarybar" ) {
            location = 2 ;
            registryId = vscode_vscode_vs_workbench_browser_panecomposite__WEBPACK_IMPORTED_MODULE_4__.Extensions.Auxiliary;
            globalActionsMenuId = vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_23__.MenuId.AuxiliaryBarTitle;
        }
        super(notificationService, storageService, contextMenuService, layoutService, keybindingService, hoverService, instantiationService, themeService, ( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_11__.Registry.as(registryId))), activePaneCompositeSettingsKey, viewDescriptorService.getDefaultViewContainer(location)?.id || '', nameForTelemetry, compositeCSSClass, titleForegroundColor, partId, partOptions);
        this.partId = partId;
        this.activePaneContextKey = activePaneContextKey;
        this.paneFocusContextKey = paneFocusContextKey;
        this.viewDescriptorService = viewDescriptorService;
        this.contextKeyService = contextKeyService;
        this.extensionService = extensionService;
        this.menuService = menuService;
        this.onDidPaneCompositeClose = this.onDidCompositeClose.event;
        this.headerFooterCompositeBarDispoables = this._register(( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_6__.DisposableStore())));
        this.paneCompositeBar = this._register(( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_6__.MutableDisposable())));
        this.compositeBarPosition = undefined;
        this.blockOpening = false;
        this.location = location;
        this.globalActions = this._register(this.instantiationService.createInstance(vscode_vscode_vs_workbench_browser_actions__WEBPACK_IMPORTED_MODULE_22__.CompositeMenuActions, globalActionsMenuId, undefined, undefined));
        this.registerListeners();
    }
    registerListeners() {
        this._register(this.onDidPaneCompositeOpen(composite => this.onDidOpen(composite)));
        this._register(this.onDidPaneCompositeClose(this.onDidClose, this));
        this._register(this.globalActions.onDidChange(() => this.updateGlobalToolbarActions()));
        this._register(this.registry.onDidDeregister((viewletDescriptor) => {
            const activeContainers = this.viewDescriptorService.getViewContainersByLocation(this.location)
                .filter(container => this.viewDescriptorService.getViewContainerModel(container).activeViewDescriptors.length > 0);
            if (activeContainers.length) {
                if (this.getActiveComposite()?.getId() === viewletDescriptor.id) {
                    const defaultViewletId = this.viewDescriptorService.getDefaultViewContainer(this.location)?.id;
                    const containerToOpen = activeContainers.filter(c => c.id === defaultViewletId)[0] || activeContainers[0];
                    this.doOpenPaneComposite(containerToOpen.id);
                }
            }
            else {
                this.layoutService.setPartHidden(true, this.partId);
            }
            this.removeComposite(viewletDescriptor.id);
        }));
        this._register(this.extensionService.onDidRegisterExtensions(() => {
            this.layoutCompositeBar();
        }));
    }
    onDidOpen(composite) {
        this.activePaneContextKey.set(composite.getId());
    }
    onDidClose(composite) {
        const id = composite.getId();
        if (this.activePaneContextKey.get() === id) {
            this.activePaneContextKey.reset();
        }
    }
    showComposite(composite) {
        super.showComposite(composite);
        this.layoutCompositeBar();
        this.layoutEmptyMessage();
    }
    hideActiveComposite() {
        const composite = super.hideActiveComposite();
        this.layoutCompositeBar();
        this.layoutEmptyMessage();
        return composite;
    }
    create(parent) {
        this.element = parent;
        this.element.classList.add('pane-composite-part');
        super.create(parent);
        const contentArea = this.getContentArea();
        if (contentArea) {
            this.createEmptyPaneMessage(contentArea);
        }
        this.updateCompositeBar();
        const focusTracker = this._register((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_10__.trackFocus)(parent));
        this._register(focusTracker.onDidFocus(() => this.paneFocusContextKey.set(true)));
        this._register(focusTracker.onDidBlur(() => this.paneFocusContextKey.set(false)));
    }
    createEmptyPaneMessage(parent) {
        this.emptyPaneMessageElement = document.createElement('div');
        this.emptyPaneMessageElement.classList.add('empty-pane-message-area');
        const messageElement = document.createElement('div');
        messageElement.classList.add('empty-pane-message');
        messageElement.innerText = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_19__.localize)(9406, "Drag a view here to display."));
        this.emptyPaneMessageElement.appendChild(messageElement);
        parent.appendChild(this.emptyPaneMessageElement);
        this._register(vscode_vscode_vs_workbench_browser_dnd__WEBPACK_IMPORTED_MODULE_20__.CompositeDragAndDropObserver.INSTANCE.registerTarget(this.element, {
            onDragOver: (e) => {
                vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_10__.EventHelper.stop(e.eventData, true);
                if (this.paneCompositeBar.value) {
                    const validDropTarget = this.paneCompositeBar.value.dndHandler.onDragEnter(e.dragAndDropData, undefined, e.eventData);
                    (0,vscode_vscode_vs_workbench_browser_dnd__WEBPACK_IMPORTED_MODULE_20__.toggleDropEffect)(e.eventData.dataTransfer, 'move', validDropTarget);
                }
            },
            onDragEnter: (e) => {
                vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_10__.EventHelper.stop(e.eventData, true);
                if (this.paneCompositeBar.value) {
                    const validDropTarget = this.paneCompositeBar.value.dndHandler.onDragEnter(e.dragAndDropData, undefined, e.eventData);
                    this.emptyPaneMessageElement.style.backgroundColor = validDropTarget ? this.theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_21__.EDITOR_DRAG_AND_DROP_BACKGROUND)?.toString() || '' : '';
                }
            },
            onDragLeave: (e) => {
                vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_10__.EventHelper.stop(e.eventData, true);
                this.emptyPaneMessageElement.style.backgroundColor = '';
            },
            onDragEnd: (e) => {
                vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_10__.EventHelper.stop(e.eventData, true);
                this.emptyPaneMessageElement.style.backgroundColor = '';
            },
            onDrop: (e) => {
                vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_10__.EventHelper.stop(e.eventData, true);
                this.emptyPaneMessageElement.style.backgroundColor = '';
                if (this.paneCompositeBar.value) {
                    this.paneCompositeBar.value.dndHandler.drop(e.dragAndDropData, undefined, e.eventData);
                }
                else {
                    const dragData = e.dragAndDropData.getData();
                    if (dragData.type === 'composite') {
                        const currentContainer = this.viewDescriptorService.getViewContainerById(dragData.id);
                        this.viewDescriptorService.moveViewContainerToLocation(currentContainer, this.location, undefined, 'dnd');
                        this.openPaneComposite(currentContainer.id, true);
                    }
                    else if (dragData.type === 'view') {
                        const viewToMove = this.viewDescriptorService.getViewDescriptorById(dragData.id);
                        if (viewToMove && viewToMove.canMoveView) {
                            this.viewDescriptorService.moveViewToLocation(viewToMove, this.location, 'dnd');
                            const newContainer = this.viewDescriptorService.getViewContainerByViewId(viewToMove.id);
                            this.openPaneComposite(newContainer.id, true).then(composite => {
                                composite?.openView(viewToMove.id, true);
                            });
                        }
                    }
                }
            },
        }));
    }
    createTitleArea(parent) {
        const titleArea = super.createTitleArea(parent);
        this._register((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_10__.addDisposableListener)(titleArea, vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_10__.EventType.CONTEXT_MENU, e => {
            this.onTitleAreaContextMenu(( (new vscode_vscode_vs_base_browser_mouseEvent__WEBPACK_IMPORTED_MODULE_27__.StandardMouseEvent((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_10__.getWindow)(titleArea), e))));
        }));
        this._register(vscode_vscode_vs_base_browser_touch__WEBPACK_IMPORTED_MODULE_26__.Gesture.addTarget(titleArea));
        this._register((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_10__.addDisposableListener)(titleArea, vscode_vscode_vs_base_browser_touch__WEBPACK_IMPORTED_MODULE_26__.EventType.Contextmenu, e => {
            this.onTitleAreaContextMenu(( (new vscode_vscode_vs_base_browser_mouseEvent__WEBPACK_IMPORTED_MODULE_27__.StandardMouseEvent((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_10__.getWindow)(titleArea), e))));
        }));
        const globalTitleActionsContainer = titleArea.appendChild((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_10__.$)('.global-actions'));
        this.globalToolBar = this._register(this.instantiationService.createInstance(vscode_vscode_vs_platform_actions_browser_toolbar__WEBPACK_IMPORTED_MODULE_32__.WorkbenchToolBar, globalTitleActionsContainer, {
            actionViewItemProvider: (action, options) => this.actionViewItemProvider(action, options),
            orientation: 0 ,
            getKeyBinding: action => this.keybindingService.lookupKeybinding(action.id),
            anchorAlignmentProvider: () => this.getTitleAreaDropDownAnchorAlignment(),
            toggleMenuTitle: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_19__.localize)(9407, "More Actions...")),
            hoverDelegate: this.toolbarHoverDelegate,
            hiddenItemStrategy: -1
        }));
        this.updateGlobalToolbarActions();
        return titleArea;
    }
    createTitleLabel(parent) {
        this.titleContainer = parent;
        const titleLabel = super.createTitleLabel(parent);
        this.titleLabelElement.draggable = true;
        const draggedItemProvider = () => {
            const activeViewlet = this.getActivePaneComposite();
            return { type: 'composite', id: activeViewlet.getId() };
        };
        this._register(vscode_vscode_vs_workbench_browser_dnd__WEBPACK_IMPORTED_MODULE_20__.CompositeDragAndDropObserver.INSTANCE.registerDraggable(this.titleLabelElement, draggedItemProvider, {}));
        return titleLabel;
    }
    updateCompositeBar(updateCompositeBarOption = false) {
        const wasCompositeBarVisible = this.compositeBarPosition !== undefined;
        const isCompositeBarVisible = this.shouldShowCompositeBar();
        const previousPosition = this.compositeBarPosition;
        const newPosition = isCompositeBarVisible ? this.getCompositeBarPosition() : undefined;
        if (!updateCompositeBarOption && previousPosition === newPosition) {
            return;
        }
        if (wasCompositeBarVisible) {
            const previousCompositeBarContainer = previousPosition === CompositeBarPosition.TITLE ? this.titleContainer : this.headerFooterCompositeBarContainer;
            if (!this.paneCompositeBarContainer || !this.paneCompositeBar.value || !previousCompositeBarContainer) {
                throw ( (new Error(
                    'Composite bar containers should exist when removing the previous composite bar'
                )));
            }
            this.paneCompositeBarContainer.remove();
            this.paneCompositeBarContainer = undefined;
            this.paneCompositeBar.value = undefined;
            previousCompositeBarContainer.classList.remove('has-composite-bar');
            if (previousPosition === CompositeBarPosition.TOP) {
                this.removeFooterHeaderArea(true);
            }
            else if (previousPosition === CompositeBarPosition.BOTTOM) {
                this.removeFooterHeaderArea(false);
            }
        }
        let newCompositeBarContainer;
        switch (newPosition) {
            case CompositeBarPosition.TOP:
                newCompositeBarContainer = this.createHeaderArea();
                break;
            case CompositeBarPosition.TITLE:
                newCompositeBarContainer = this.titleContainer;
                break;
            case CompositeBarPosition.BOTTOM:
                newCompositeBarContainer = this.createFooterArea();
                break;
        }
        if (isCompositeBarVisible) {
            if (this.paneCompositeBarContainer || this.paneCompositeBar.value || !newCompositeBarContainer) {
                throw ( (new Error('Invalid composite bar state when creating the new composite bar')));
            }
            newCompositeBarContainer.classList.add('has-composite-bar');
            this.paneCompositeBarContainer = (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_10__.prepend)(newCompositeBarContainer, (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_10__.$)('.composite-bar-container'));
            this.paneCompositeBar.value = this.createCompositeBar();
            this.paneCompositeBar.value.create(this.paneCompositeBarContainer);
            if (newPosition === CompositeBarPosition.TOP) {
                this.setHeaderArea(newCompositeBarContainer);
            }
            else if (newPosition === CompositeBarPosition.BOTTOM) {
                this.setFooterArea(newCompositeBarContainer);
            }
        }
        this.compositeBarPosition = newPosition;
        if (updateCompositeBarOption) {
            this.layoutCompositeBar();
        }
    }
    createHeaderArea() {
        const headerArea = super.createHeaderArea();
        return this.createHeaderFooterCompositeBarArea(headerArea);
    }
    createFooterArea() {
        const footerArea = super.createFooterArea();
        return this.createHeaderFooterCompositeBarArea(footerArea);
    }
    createHeaderFooterCompositeBarArea(area) {
        if (this.headerFooterCompositeBarContainer) {
            throw ( (new Error('Header or Footer composite bar already exists')));
        }
        this.headerFooterCompositeBarContainer = area;
        this.headerFooterCompositeBarDispoables.add((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_10__.addDisposableListener)(area, vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_10__.EventType.CONTEXT_MENU, e => {
            this.onCompositeBarAreaContextMenu(( (new vscode_vscode_vs_base_browser_mouseEvent__WEBPACK_IMPORTED_MODULE_27__.StandardMouseEvent((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_10__.getWindow)(area), e))));
        }));
        this.headerFooterCompositeBarDispoables.add(vscode_vscode_vs_base_browser_touch__WEBPACK_IMPORTED_MODULE_26__.Gesture.addTarget(area));
        this.headerFooterCompositeBarDispoables.add((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_10__.addDisposableListener)(area, vscode_vscode_vs_base_browser_touch__WEBPACK_IMPORTED_MODULE_26__.EventType.Contextmenu, e => {
            this.onCompositeBarAreaContextMenu(( (new vscode_vscode_vs_base_browser_mouseEvent__WEBPACK_IMPORTED_MODULE_27__.StandardMouseEvent((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_10__.getWindow)(area), e))));
        }));
        return area;
    }
    removeFooterHeaderArea(header) {
        this.headerFooterCompositeBarContainer = undefined;
        this.headerFooterCompositeBarDispoables.clear();
        if (header) {
            this.removeHeaderArea();
        }
        else {
            this.removeFooterArea();
        }
    }
    createCompositeBar() {
        return this.instantiationService.createInstance(_paneCompositeBar_js__WEBPACK_IMPORTED_MODULE_9__.PaneCompositeBar, this.getCompositeBarOptions(), this.partId, this);
    }
    onTitleAreaUpdate(compositeId) {
        super.onTitleAreaUpdate(compositeId);
        this.layoutCompositeBar();
    }
    async openPaneComposite(id, focus) {
        if (typeof id === 'string' && this.getPaneComposite(id)) {
            return this.doOpenPaneComposite(id, focus);
        }
        await this.extensionService.whenInstalledExtensionsRegistered();
        if (typeof id === 'string' && this.getPaneComposite(id)) {
            return this.doOpenPaneComposite(id, focus);
        }
        return undefined;
    }
    doOpenPaneComposite(id, focus) {
        if (this.blockOpening) {
            return undefined;
        }
        if (!this.layoutService.isVisible(this.partId)) {
            try {
                this.blockOpening = true;
                this.layoutService.setPartHidden(false, this.partId);
            }
            finally {
                this.blockOpening = false;
            }
        }
        return this.openComposite(id, focus);
    }
    getPaneComposite(id) {
        return this.registry.getPaneComposite(id);
    }
    getPaneComposites() {
        return this.registry.getPaneComposites()
            .sort((v1, v2) => {
            if (typeof v1.order !== 'number') {
                return 1;
            }
            if (typeof v2.order !== 'number') {
                return -1;
            }
            return v1.order - v2.order;
        });
    }
    getPinnedPaneCompositeIds() {
        return this.paneCompositeBar.value?.getPinnedPaneCompositeIds() ?? [];
    }
    getVisiblePaneCompositeIds() {
        return this.paneCompositeBar.value?.getVisiblePaneCompositeIds() ?? [];
    }
    getActivePaneComposite() {
        return this.getActiveComposite();
    }
    getLastActivePaneCompositeId() {
        return this.getLastActiveCompositeId();
    }
    hideActivePaneComposite() {
        if (this.layoutService.isVisible(this.partId)) {
            this.layoutService.setPartHidden(true, this.partId);
        }
        this.hideActiveComposite();
    }
    focusCompositeBar() {
        this.paneCompositeBar.value?.focus();
    }
    layout(width, height, top, left) {
        if (!this.layoutService.isVisible(this.partId)) {
            return;
        }
        this.contentDimension = ( (new vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_10__.Dimension(width, height)));
        super.layout(this.contentDimension.width, this.contentDimension.height, top, left);
        this.layoutCompositeBar();
        this.layoutEmptyMessage();
    }
    layoutCompositeBar() {
        if (this.contentDimension && this.dimension && this.paneCompositeBar.value) {
            const padding = this.compositeBarPosition === CompositeBarPosition.TITLE ? 16 : 8;
            const borderWidth = this.partId === "workbench.parts.panel"  ? 0 : 1;
            let availableWidth = this.contentDimension.width - padding - borderWidth;
            availableWidth = Math.max(AbstractPaneCompositePart_1.MIN_COMPOSITE_BAR_WIDTH, availableWidth - this.getToolbarWidth());
            this.paneCompositeBar.value.layout(availableWidth, this.dimension.height);
        }
    }
    layoutEmptyMessage() {
        const visible = !this.getActiveComposite();
        this.emptyPaneMessageElement?.classList.toggle('visible', visible);
        if (visible) {
            this.titleLabel?.updateTitle('', '');
        }
    }
    updateGlobalToolbarActions() {
        const primaryActions = this.globalActions.getPrimaryActions();
        const secondaryActions = this.globalActions.getSecondaryActions();
        this.globalToolBar?.setActions((0,vscode_vscode_vs_base_browser_ui_actionbar_actionbar__WEBPACK_IMPORTED_MODULE_25__.prepareActions)(primaryActions), (0,vscode_vscode_vs_base_browser_ui_actionbar_actionbar__WEBPACK_IMPORTED_MODULE_25__.prepareActions)(secondaryActions));
    }
    getToolbarWidth() {
        if (!this.toolBar || this.compositeBarPosition !== CompositeBarPosition.TITLE) {
            return 0;
        }
        const activePane = this.getActivePaneComposite();
        if (!activePane) {
            return 0;
        }
        const toolBarWidth = this.toolBar.getItemsWidth() + this.toolBar.getItemsLength() * 4;
        const globalToolBarWidth = this.globalToolBar ? this.globalToolBar.getItemsWidth() + this.globalToolBar.getItemsLength() * 4 : 0;
        return toolBarWidth + globalToolBarWidth + 5;
    }
    onTitleAreaContextMenu(event) {
        if (this.shouldShowCompositeBar() && this.getCompositeBarPosition() === CompositeBarPosition.TITLE) {
            return this.onCompositeBarContextMenu(event);
        }
        else {
            const activePaneComposite = this.getActivePaneComposite();
            const activePaneCompositeActions = activePaneComposite ? activePaneComposite.getContextMenuActions() : [];
            if (activePaneCompositeActions.length) {
                this.contextMenuService.showContextMenu({
                    getAnchor: () => event,
                    getActions: () => activePaneCompositeActions,
                    getActionViewItem: (action, options) => this.actionViewItemProvider(action, options),
                    actionRunner: activePaneComposite.getActionRunner(),
                    skipTelemetry: true
                });
            }
        }
    }
    onCompositeBarAreaContextMenu(event) {
        return this.onCompositeBarContextMenu(event);
    }
    onCompositeBarContextMenu(event) {
        if (this.paneCompositeBar.value) {
            const actions = [...this.paneCompositeBar.value.getContextMenuActions()];
            if (actions.length) {
                this.contextMenuService.showContextMenu({
                    getAnchor: () => event,
                    getActions: () => actions,
                    skipTelemetry: true
                });
            }
        }
    }
    getViewsSubmenuAction() {
        const viewPaneContainer = this.getActivePaneComposite()?.getViewPaneContainer();
        if (viewPaneContainer) {
            const disposables = ( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_6__.DisposableStore()));
            const viewsActions = [];
            const scopedContextKeyService = disposables.add(this.contextKeyService.createScoped(this.element));
            scopedContextKeyService.createKey('viewContainer', viewPaneContainer.viewContainer.id);
            const menu = this.menuService.getMenuActions(vscode_vscode_vs_workbench_browser_parts_views_viewPaneContainer__WEBPACK_IMPORTED_MODULE_29__.ViewsSubMenu, scopedContextKeyService, { shouldForwardArgs: true, renderShortTitle: true });
            (0,vscode_vscode_vs_platform_actions_browser_menuEntryActionViewItem__WEBPACK_IMPORTED_MODULE_30__.createAndFillInActionBarActions)(menu, { primary: viewsActions, secondary: [] }, () => true);
            disposables.dispose();
            return viewsActions.length > 1 && ( (viewsActions.some(a => a.enabled))) ? ( (new vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_28__.SubmenuAction('views', ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_19__.localize)(9408, "Views")), viewsActions))) : undefined;
        }
        return undefined;
    }
};
AbstractPaneCompositePart = AbstractPaneCompositePart_1 = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, vscode_vscode_vs_platform_notification_common_notification_service__WEBPACK_IMPORTED_MODULE_12__.INotificationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_13__.IStorageService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, vscode_vscode_vs_platform_contextview_browser_contextView_service__WEBPACK_IMPORTED_MODULE_14__.IContextMenuService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(11, vscode_vscode_vs_workbench_services_layout_browser_layoutService_service__WEBPACK_IMPORTED_MODULE_7__.IWorkbenchLayoutService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(12, vscode_vscode_vs_platform_keybinding_common_keybinding_service__WEBPACK_IMPORTED_MODULE_15__.IKeybindingService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(13, vscode_vscode_vs_platform_hover_browser_hover_service__WEBPACK_IMPORTED_MODULE_31__.IHoverService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(14, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_3__.IInstantiationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(15, vscode_vscode_vs_platform_theme_common_themeService_service__WEBPACK_IMPORTED_MODULE_16__.IThemeService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(16, vscode_vscode_vs_workbench_common_views_service__WEBPACK_IMPORTED_MODULE_5__.IViewDescriptorService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(17, vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_17__.IContextKeyService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(18, vscode_vscode_vs_workbench_services_extensions_common_extensions_service__WEBPACK_IMPORTED_MODULE_18__.IExtensionService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(19, vscode_vscode_vs_platform_actions_common_actions_service__WEBPACK_IMPORTED_MODULE_24__.IMenuService)))
], AbstractPaneCompositePart)));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/paneCompositePartService.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/paneCompositePartService.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PaneCompositePartService: () => (/* binding */ PaneCompositePartService)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/common/types */ "./node_modules/vscode/vscode/src/vs/base/common/types.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var _auxiliarybar_auxiliaryBarPart_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./auxiliarybar/auxiliaryBarPart.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/auxiliarybar/auxiliaryBarPart.js");
/* harmony import */ var _panel_panelPart_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./panel/panelPart.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/panel/panelPart.js");
/* harmony import */ var _sidebar_sidebarPart_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./sidebar/sidebarPart.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/sidebar/sidebarPart.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/views */ "./node_modules/vscode/vscode/src/vs/workbench/common/views.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");










let PaneCompositePartService = class PaneCompositePartService extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_8__.Disposable {
    constructor(instantiationService) {
        super();
        this.paneCompositeParts = ( new Map());
        const panelPart = instantiationService.createInstance(_panel_panelPart_js__WEBPACK_IMPORTED_MODULE_5__.PanelPart);
        const sideBarPart = instantiationService.createInstance(_sidebar_sidebarPart_js__WEBPACK_IMPORTED_MODULE_6__.SidebarPart);
        const auxiliaryBarPart = instantiationService.createInstance(_auxiliarybar_auxiliaryBarPart_js__WEBPACK_IMPORTED_MODULE_4__.AuxiliaryBarPart);
        this.paneCompositeParts.set(1 , panelPart);
        this.paneCompositeParts.set(0 , sideBarPart);
        this.paneCompositeParts.set(2 , auxiliaryBarPart);
        const eventDisposables = this._register(( new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_8__.DisposableStore()));
        this.onDidPaneCompositeOpen = vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_1__.Event.any(...( vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_7__.ViewContainerLocations.map(loc => ( vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_1__.Event.map(
            this.paneCompositeParts.get(loc).onDidPaneCompositeOpen,
            composite => { return { composite, viewContainerLocation: loc }; },
            eventDisposables
        )))));
        this.onDidPaneCompositeClose = vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_1__.Event.any(...( vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_7__.ViewContainerLocations.map(loc => ( vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_1__.Event.map(
            this.paneCompositeParts.get(loc).onDidPaneCompositeClose,
            composite => { return { composite, viewContainerLocation: loc }; },
            eventDisposables
        )))));
    }
    openPaneComposite(id, viewContainerLocation, focus) {
        return this.getPartByLocation(viewContainerLocation).openPaneComposite(id, focus);
    }
    getActivePaneComposite(viewContainerLocation) {
        return this.getPartByLocation(viewContainerLocation).getActivePaneComposite();
    }
    getPaneComposite(id, viewContainerLocation) {
        return this.getPartByLocation(viewContainerLocation).getPaneComposite(id);
    }
    getPaneComposites(viewContainerLocation) {
        return this.getPartByLocation(viewContainerLocation).getPaneComposites();
    }
    getPinnedPaneCompositeIds(viewContainerLocation) {
        return this.getPartByLocation(viewContainerLocation).getPinnedPaneCompositeIds();
    }
    getVisiblePaneCompositeIds(viewContainerLocation) {
        return this.getPartByLocation(viewContainerLocation).getVisiblePaneCompositeIds();
    }
    getProgressIndicator(id, viewContainerLocation) {
        return this.getPartByLocation(viewContainerLocation).getProgressIndicator(id);
    }
    hideActivePaneComposite(viewContainerLocation) {
        this.getPartByLocation(viewContainerLocation).hideActivePaneComposite();
    }
    getLastActivePaneCompositeId(viewContainerLocation) {
        return this.getPartByLocation(viewContainerLocation).getLastActivePaneCompositeId();
    }
    getPartByLocation(viewContainerLocation) {
        return (0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_2__.assertIsDefined)(this.paneCompositeParts.get(viewContainerLocation));
    }
};
PaneCompositePartService = ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_3__.IInstantiationService))
], PaneCompositePartService));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/panel/panelPart.js":
/*!*************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/panel/panelPart.js ***!
  \*************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PanelPart: () => (/* binding */ PanelPart)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_panel_media_panelpart_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/panel/media/panelpart.css */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/panel/media/panelpart.css.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/common/actions */ "./node_modules/vscode/vscode/src/vs/base/common/actions.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/contextkeys */ "./node_modules/vscode/vscode/src/vs/workbench/common/contextkeys.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_layout_browser_layoutService_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/layout/browser/layoutService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/layout/browser/layoutService.service.js");
/* harmony import */ var vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/platform/storage/common/storage.service */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var vscode_vscode_vs_platform_contextview_browser_contextView_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextview/browser/contextView.service */ "./node_modules/vscode/vscode/src/vs/platform/contextview/browser/contextView.service.js");
/* harmony import */ var vscode_vscode_vs_platform_keybinding_common_keybinding_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/platform/keybinding/common/keybinding.service */ "./node_modules/vscode/vscode/src/vs/platform/keybinding/common/keybinding.service.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_panel_panelActions__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/panel/panelActions */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/panel/panelActions.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_themeService_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/themeService.service */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/theme */ "./node_modules/vscode/vscode/src/vs/workbench/common/theme.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colorUtils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colorUtils */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colorUtils.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_baseColors__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/baseColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/baseColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_chartsColors__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/chartsColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/chartsColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_editorColors__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/editorColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/editorColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_inputColors__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/inputColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/inputColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_listColors__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/listColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/listColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_menuColors__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/menuColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/menuColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_minimapColors__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/minimapColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/minimapColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_miscColors__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/miscColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/miscColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_quickpickColors__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/quickpickColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/quickpickColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_searchColors__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/searchColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/searchColors.js");
/* harmony import */ var vscode_vscode_vs_platform_notification_common_notification_service__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! vscode/vscode/vs/platform/notification/common/notification.service */ "./node_modules/vscode/vscode/src/vs/platform/notification/common/notification.service.js");
/* harmony import */ var vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/dom */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey.service */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! vscode/vscode/vs/base/common/types */ "./node_modules/vscode/vscode/src/vs/base/common/types.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_extensions_common_extensions_service__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/extensions/common/extensions.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/extensions/common/extensions.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_views_service__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/views.service */ "./node_modules/vscode/vscode/src/vs/workbench/common/views.service.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions_service__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions.service */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.service.js");
/* harmony import */ var _paneCompositePart_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../paneCompositePart.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/paneCompositePart.js");
/* harmony import */ var vscode_vscode_vs_platform_commands_common_commands_service__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! vscode/vscode/vs/platform/commands/common/commands.service */ "./node_modules/vscode/vscode/src/vs/platform/commands/common/commands.service.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_browser_menuEntryActionViewItem__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/browser/menuEntryActionViewItem */ "./node_modules/vscode/vscode/src/vs/platform/actions/browser/menuEntryActionViewItem.js");
/* harmony import */ var vscode_vscode_vs_platform_hover_browser_hover_service__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! vscode/vscode/vs/platform/hover/browser/hover.service */ "./node_modules/vscode/vscode/src/vs/platform/hover/browser/hover.service.js");
/* harmony import */ var vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! vscode/vscode/vs/platform/configuration/common/configuration.service */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");






































var PanelPart_1;
let PanelPart = class PanelPart extends _paneCompositePart_js__WEBPACK_IMPORTED_MODULE_32__.AbstractPaneCompositePart {
    static { PanelPart_1 = this; }
    get preferredHeight() {
        return this.layoutService.mainContainerDimension.height * 0.4;
    }
    get preferredWidth() {
        const activeComposite = this.getActivePaneComposite();
        if (!activeComposite) {
            return;
        }
        const width = activeComposite.getOptimalWidth();
        if (typeof width !== 'number') {
            return;
        }
        return Math.max(width, 300);
    }
    static { this.activePanelSettingsKey = 'workbench.panelpart.activepanelid'; }
    constructor(notificationService, storageService, contextMenuService, layoutService, keybindingService, hoverService, instantiationService, themeService, viewDescriptorService, contextKeyService, extensionService, commandService, menuService, configurationService) {
        super("workbench.parts.panel" , { hasTitle: true }, PanelPart_1.activePanelSettingsKey, vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.ActivePanelContext.bindTo(contextKeyService), vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.PanelFocusContext.bindTo(contextKeyService), 'panel', 'panel', undefined, notificationService, storageService, contextMenuService, layoutService, keybindingService, hoverService, instantiationService, themeService, viewDescriptorService, contextKeyService, extensionService, menuService);
        this.commandService = commandService;
        this.configurationService = configurationService;
        this.minimumWidth = 300;
        this.maximumWidth = Number.POSITIVE_INFINITY;
        this.minimumHeight = 77;
        this.maximumHeight = Number.POSITIVE_INFINITY;
        this._register(this.configurationService.onDidChangeConfiguration(e => {
            if (e.affectsConfiguration('workbench.panel.showLabel')) {
                this.updateCompositeBar(true);
            }
        }));
    }
    updateStyles() {
        super.updateStyles();
        const container = (0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_27__.assertIsDefined)(this.getContainer());
        container.style.backgroundColor = this.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_12__.PANEL_BACKGROUND) || '';
        const borderColor = this.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_12__.PANEL_BORDER) || this.getColor(vscode_vscode_vs_platform_theme_common_colors_baseColors__WEBPACK_IMPORTED_MODULE_14__.contrastBorder) || '';
        container.style.borderLeftColor = borderColor;
        container.style.borderRightColor = borderColor;
        container.style.borderBottomColor = borderColor;
        const title = this.getTitleArea();
        if (title) {
            title.style.borderTopColor = this.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_12__.PANEL_BORDER) || this.getColor(vscode_vscode_vs_platform_theme_common_colors_baseColors__WEBPACK_IMPORTED_MODULE_14__.contrastBorder) || '';
        }
    }
    getCompositeBarOptions() {
        return {
            partContainerClass: 'panel',
            pinnedViewContainersKey: 'workbench.panel.pinnedPanels',
            placeholderViewContainersKey: 'workbench.panel.placeholderPanels',
            viewContainersWorkspaceStateKey: 'workbench.panel.viewContainersWorkspaceState',
            icon: this.configurationService.getValue('workbench.panel.showLabel') === false,
            orientation: 0 ,
            recomputeSizes: true,
            activityHoverOptions: {
                position: () => this.layoutService.getPanelPosition() === 2  && !this.layoutService.isPanelMaximized() ? 3  : 2 ,
            },
            fillExtraContextMenuActions: actions => this.fillExtraContextMenuActions(actions),
            compositeSize: 0,
            iconSize: 16,
            overflowActionSize: 44,
            colors: theme => ({
                activeBackgroundColor: theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_12__.PANEL_BACKGROUND),
                inactiveBackgroundColor: theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_12__.PANEL_BACKGROUND),
                activeBorderBottomColor: theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_12__.PANEL_ACTIVE_TITLE_BORDER),
                activeForegroundColor: theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_12__.PANEL_ACTIVE_TITLE_FOREGROUND),
                inactiveForegroundColor: theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_12__.PANEL_INACTIVE_TITLE_FOREGROUND),
                badgeBackground: theme.getColor(vscode_vscode_vs_platform_theme_common_colors_miscColors__WEBPACK_IMPORTED_MODULE_21__.badgeBackground),
                badgeForeground: theme.getColor(vscode_vscode_vs_platform_theme_common_colors_miscColors__WEBPACK_IMPORTED_MODULE_21__.badgeForeground),
                dragAndDropBorder: theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_12__.PANEL_DRAG_AND_DROP_BORDER)
            })
        };
    }
    fillExtraContextMenuActions(actions) {
        const panelPositionMenu = this.menuService.getMenuActions(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_30__.MenuId.PanelPositionMenu, this.contextKeyService, { shouldForwardArgs: true });
        const panelAlignMenu = this.menuService.getMenuActions(vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_30__.MenuId.PanelAlignmentMenu, this.contextKeyService, { shouldForwardArgs: true });
        const positionActions = [];
        const alignActions = [];
        (0,vscode_vscode_vs_platform_actions_browser_menuEntryActionViewItem__WEBPACK_IMPORTED_MODULE_34__.createAndFillInContextMenuActions)(panelPositionMenu, { primary: [], secondary: positionActions });
        (0,vscode_vscode_vs_platform_actions_browser_menuEntryActionViewItem__WEBPACK_IMPORTED_MODULE_34__.createAndFillInContextMenuActions)(panelAlignMenu, { primary: [], secondary: alignActions });
        actions.push(...[
            ( (new vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_3__.Separator())),
            ( (new vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_3__.SubmenuAction('workbench.action.panel.position', ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__.localize)(3774, "Panel Position")), positionActions))),
            ( (new vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_3__.SubmenuAction('workbench.action.panel.align', ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__.localize)(3775, "Align Panel")), alignActions))),
            (0,vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_3__.toAction)({ id: vscode_vscode_vs_workbench_browser_parts_panel_panelActions__WEBPACK_IMPORTED_MODULE_10__.TogglePanelAction.ID, label: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__.localize)(3776, "Hide Panel")), run: () => this.commandService.executeCommand(vscode_vscode_vs_workbench_browser_parts_panel_panelActions__WEBPACK_IMPORTED_MODULE_10__.TogglePanelAction.ID) })
        ]);
    }
    layout(width, height, top, left) {
        let dimensions;
        switch (this.layoutService.getPanelPosition()) {
            case 1 :
                dimensions = ( (new vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_25__.Dimension(width - 1, height)));
                break;
            case 3 :
                dimensions = ( (new vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_25__.Dimension(width, height - 1)));
                break;
            default:
                dimensions = ( (new vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_25__.Dimension(width, height)));
                break;
        }
        super.layout(dimensions.width, dimensions.height, top, left);
    }
    shouldShowCompositeBar() {
        return true;
    }
    getCompositeBarPosition() {
        return _paneCompositePart_js__WEBPACK_IMPORTED_MODULE_32__.CompositeBarPosition.TITLE;
    }
    toJSON() {
        return {
            type: "workbench.parts.panel"
        };
    }
};
PanelPart = PanelPart_1 = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_platform_notification_common_notification_service__WEBPACK_IMPORTED_MODULE_24__.INotificationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_6__.IStorageService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_platform_contextview_browser_contextView_service__WEBPACK_IMPORTED_MODULE_7__.IContextMenuService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_workbench_services_layout_browser_layoutService_service__WEBPACK_IMPORTED_MODULE_5__.IWorkbenchLayoutService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_platform_keybinding_common_keybinding_service__WEBPACK_IMPORTED_MODULE_8__.IKeybindingService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, vscode_vscode_vs_platform_hover_browser_hover_service__WEBPACK_IMPORTED_MODULE_35__.IHoverService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_9__.IInstantiationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, vscode_vscode_vs_platform_theme_common_themeService_service__WEBPACK_IMPORTED_MODULE_11__.IThemeService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, vscode_vscode_vs_workbench_common_views_service__WEBPACK_IMPORTED_MODULE_29__.IViewDescriptorService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_26__.IContextKeyService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, vscode_vscode_vs_workbench_services_extensions_common_extensions_service__WEBPACK_IMPORTED_MODULE_28__.IExtensionService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(11, vscode_vscode_vs_platform_commands_common_commands_service__WEBPACK_IMPORTED_MODULE_33__.ICommandService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(12, vscode_vscode_vs_platform_actions_common_actions_service__WEBPACK_IMPORTED_MODULE_31__.IMenuService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(13, vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_36__.IConfigurationService)))
], PanelPart)));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/sidebar/media/sidebarpart.css.js":
/*!***************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/sidebar/media/sidebarpart.css.js ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ css),
/* harmony export */   "default": () => (/* binding */ css)
/* harmony export */ });
/* harmony import */ var vscode_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js */ "./node_modules/vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js");


var css = ".monaco-workbench.nosidebar>.part.sidebar{display:none!important;visibility:hidden!important}.monaco-workbench .part.sidebar .title-actions .actions-container{justify-content:flex-end}.monaco-workbench .part.sidebar .title-actions .action-item{margin-right:4px}.monaco-workbench .part.sidebar>.title{background-color:var(--vscode-sideBarTitle-background)}.monaco-workbench .part.sidebar>.title>.title-label h2{text-transform:uppercase}.monaco-workbench .viewlet .collapsible.header .title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.monaco-workbench .viewlet .collapsible.header .actions{width:0}.monaco-workbench .viewlet .collapsible.header.focused .actions,.monaco-workbench .viewlet .split-view-view:hover>.header .actions{flex:1;width:auto}.monaco-workbench .viewlet .collapsible.header .actions .action-label{background-position:50%;background-repeat:no-repeat;background-size:16px;height:22px;margin-right:0;width:28px}.monaco-workbench .viewlet .collapsible.header .actions .action-label .label,.monaco-workbench .viewlet .collapsible.header.collapsed .actions{display:none}.monaco-workbench .viewlet .collapsible.header .action-label{background-repeat:no-repeat;height:16px;margin-right:.2em;width:16px}.monaco-workbench .part.sidebar>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:focus,.monaco-workbench .part.sidebar>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:focus{outline:0!important}.monaco-workbench .part.sidebar>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item .action-label,.monaco-workbench .part.sidebar>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item .action-label{border-radius:0;outline-offset:2px}.monaco-workbench .part.sidebar>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item .action-label:before,.monaco-workbench .part.sidebar>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item .action-label:before{left:5px;position:absolute}.monaco-workbench .part.sidebar>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.checked.clicked:focus .active-item-indicator:before,.monaco-workbench .part.sidebar>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.checked:not(:focus) .active-item-indicator:before,.monaco-workbench .part.sidebar>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.checked.clicked:focus .active-item-indicator:before,.monaco-workbench .part.sidebar>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.checked:not(:focus) .active-item-indicator:before{border-top-color:var(--vscode-activityBarTop-activeBorder)!important}.monaco-workbench .part.sidebar>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:focus .action-label,.monaco-workbench .part.sidebar>.header-or-footer>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:hover .action-label,.monaco-workbench .part.sidebar>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:focus .action-label,.monaco-workbench .part.sidebar>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:hover .action-label{color:var(--vscode-activityBarTop-foreground)!important}.monaco-workbench .sidebar.pane-composite-part>.title>.composite-bar-container{flex:1}.monaco-workbench .sidebar.part.pane-composite-part>.composite.title.has-composite-bar>.title-actions{flex:inherit}.monaco-workbench .sidebar.pane-composite-part>.title.has-composite-bar>.title-actions .monaco-action-bar .action-item{max-width:150px}";
(0,vscode_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__["default"])(css,{});




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/sidebar/sidebarActions.js":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/sidebar/sidebarActions.js ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FocusSideBarAction: () => (/* binding */ FocusSideBarAction)
/* harmony export */ });
/* harmony import */ var _media_sidebarpart_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./media/sidebarpart.css.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/sidebar/media/sidebarpart.css.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_layout_browser_layoutService_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/layout/browser/layoutService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/layout/browser/layoutService.service.js");
/* harmony import */ var vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/platform/action/common/actionCommonCategories */ "./node_modules/vscode/vscode/src/vs/platform/action/common/actionCommonCategories.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_panecomposite_browser_panecomposite_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/panecomposite/browser/panecomposite.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/panecomposite/browser/panecomposite.service.js");







class FocusSideBarAction extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_2__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.focusSideBar',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize2)(9405, 'Focus into Primary Side Bar')),
            category: vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_4__.Categories.View,
            f1: true,
            keybinding: {
                weight: 200 ,
                when: null,
                primary: 2048  | 21
            }
        });
    }
    async run(accessor) {
        const layoutService = accessor.get(vscode_vscode_vs_workbench_services_layout_browser_layoutService_service__WEBPACK_IMPORTED_MODULE_3__.IWorkbenchLayoutService);
        const paneCompositeService = accessor.get(vscode_vscode_vs_workbench_services_panecomposite_browser_panecomposite_service__WEBPACK_IMPORTED_MODULE_5__.IPaneCompositePartService);
        if (!layoutService.isVisible("workbench.parts.sidebar" )) {
            layoutService.setPartHidden(false, "workbench.parts.sidebar" );
        }
        const viewlet = paneCompositeService.getActivePaneComposite(0 );
        viewlet?.focus();
    }
}
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_2__.registerAction2)(FocusSideBarAction);




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/sidebar/sidebarPart.js":
/*!*****************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/sidebar/sidebarPart.js ***!
  \*****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SidebarPart: () => (/* binding */ SidebarPart)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _media_sidebarpart_css_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./media/sidebarpart.css.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/sidebar/media/sidebarpart.css.js");
/* harmony import */ var _sidebarActions_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sidebarActions.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/sidebar/sidebarActions.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_layout_browser_layoutService_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/layout/browser/layoutService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/layout/browser/layoutService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/contextkeys */ "./node_modules/vscode/vscode/src/vs/workbench/common/contextkeys.js");
/* harmony import */ var vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/platform/storage/common/storage.service */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var vscode_vscode_vs_platform_contextview_browser_contextView_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextview/browser/contextView.service */ "./node_modules/vscode/vscode/src/vs/platform/contextview/browser/contextView.service.js");
/* harmony import */ var vscode_vscode_vs_platform_keybinding_common_keybinding_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/platform/keybinding/common/keybinding.service */ "./node_modules/vscode/vscode/src/vs/platform/keybinding/common/keybinding.service.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_themeService_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/themeService.service */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.service.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colorUtils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colorUtils */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colorUtils.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_baseColors__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/baseColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/baseColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_chartsColors__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/chartsColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/chartsColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_editorColors__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/editorColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/editorColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_inputColors__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/inputColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/inputColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_listColors__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/listColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/listColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_menuColors__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/menuColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/menuColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_minimapColors__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/minimapColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/minimapColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_miscColors__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/miscColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/miscColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_quickpickColors__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/quickpickColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/quickpickColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_searchColors__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/searchColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/searchColors.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/theme */ "./node_modules/vscode/vscode/src/vs/workbench/common/theme.js");
/* harmony import */ var vscode_vscode_vs_platform_notification_common_notification_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! vscode/vscode/vs/platform/notification/common/notification.service */ "./node_modules/vscode/vscode/src/vs/platform/notification/common/notification.service.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey.service */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_extensions_common_extensions_service__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/extensions/common/extensions.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/extensions/common/extensions.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! vscode/vscode/vs/base/common/types */ "./node_modules/vscode/vscode/src/vs/base/common/types.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_views_service__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/views.service */ "./node_modules/vscode/vscode/src/vs/workbench/common/views.service.js");
/* harmony import */ var _paneCompositePart_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../paneCompositePart.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/paneCompositePart.js");
/* harmony import */ var _activitybar_activitybarPart_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../activitybar/activitybarPart.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/parts/activitybar/activitybarPart.js");
/* harmony import */ var vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! vscode/vscode/vs/platform/configuration/common/configuration.service */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions_service__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions.service */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! vscode/vscode/vs/base/common/actions */ "./node_modules/vscode/vscode/src/vs/base/common/actions.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_actions_layoutActions__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/actions/layoutActions */ "./node_modules/vscode/vscode/src/vs/workbench/browser/actions/layoutActions.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_platform_hover_browser_hover_service__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! vscode/vscode/vs/platform/hover/browser/hover.service */ "./node_modules/vscode/vscode/src/vs/platform/hover/browser/hover.service.js");





































var SidebarPart_1;
let SidebarPart = class SidebarPart extends _paneCompositePart_js__WEBPACK_IMPORTED_MODULE_27__.AbstractPaneCompositePart {
    static { SidebarPart_1 = this; }
    static { this.activeViewletSettingsKey = 'workbench.sidebar.activeviewletid'; }
    get snap() { return true; }
    get preferredWidth() {
        const viewlet = this.getActivePaneComposite();
        if (!viewlet) {
            return;
        }
        const width = viewlet.getOptimalWidth();
        if (typeof width !== 'number') {
            return;
        }
        return Math.max(width, 300);
    }
    constructor(notificationService, storageService, contextMenuService, layoutService, keybindingService, hoverService, instantiationService, themeService, viewDescriptorService, contextKeyService, extensionService, configurationService, menuService) {
        super("workbench.parts.sidebar" , { hasTitle: true, borderWidth: () => (this.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_21__.SIDE_BAR_BORDER) || this.getColor(vscode_vscode_vs_platform_theme_common_colors_baseColors__WEBPACK_IMPORTED_MODULE_11__.contrastBorder)) ? 1 : 0 }, SidebarPart_1.activeViewletSettingsKey, vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.ActiveViewletContext.bindTo(contextKeyService), vscode_vscode_vs_workbench_common_contextkeys__WEBPACK_IMPORTED_MODULE_4__.SidebarFocusContext.bindTo(contextKeyService), 'sideBar', 'viewlet', vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_21__.SIDE_BAR_TITLE_FOREGROUND, notificationService, storageService, contextMenuService, layoutService, keybindingService, hoverService, instantiationService, themeService, viewDescriptorService, contextKeyService, extensionService, menuService);
        this.configurationService = configurationService;
        this.minimumWidth = 170;
        this.maximumWidth = Number.POSITIVE_INFINITY;
        this.minimumHeight = 0;
        this.maximumHeight = Number.POSITIVE_INFINITY;
        this.priority = 1 ;
        this.activityBarPart = this._register(this.instantiationService.createInstance(_activitybar_activitybarPart_js__WEBPACK_IMPORTED_MODULE_28__.ActivitybarPart, this));
        this.rememberActivityBarVisiblePosition();
        this._register(configurationService.onDidChangeConfiguration(e => {
            if (e.affectsConfiguration("workbench.activityBar.location" )) {
                this.onDidChangeActivityBarLocation();
            }
        }));
        this.registerActions();
    }
    onDidChangeActivityBarLocation() {
        this.activityBarPart.hide();
        this.updateCompositeBar();
        const id = this.getActiveComposite()?.getId();
        if (id) {
            this.onTitleAreaUpdate(id);
        }
        if (this.shouldShowActivityBar()) {
            this.activityBarPart.show();
        }
        this.rememberActivityBarVisiblePosition();
    }
    updateStyles() {
        super.updateStyles();
        const container = (0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_25__.assertIsDefined)(this.getContainer());
        container.style.backgroundColor = this.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_21__.SIDE_BAR_BACKGROUND) || '';
        container.style.color = this.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_21__.SIDE_BAR_FOREGROUND) || '';
        const borderColor = this.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_21__.SIDE_BAR_BORDER) || this.getColor(vscode_vscode_vs_platform_theme_common_colors_baseColors__WEBPACK_IMPORTED_MODULE_11__.contrastBorder);
        const isPositionLeft = this.layoutService.getSideBarPosition() === 0 ;
        container.style.borderRightWidth = borderColor && isPositionLeft ? '1px' : '';
        container.style.borderRightStyle = borderColor && isPositionLeft ? 'solid' : '';
        container.style.borderRightColor = isPositionLeft ? borderColor || '' : '';
        container.style.borderLeftWidth = borderColor && !isPositionLeft ? '1px' : '';
        container.style.borderLeftStyle = borderColor && !isPositionLeft ? 'solid' : '';
        container.style.borderLeftColor = !isPositionLeft ? borderColor || '' : '';
        container.style.outlineColor = this.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_21__.SIDE_BAR_DRAG_AND_DROP_BACKGROUND) ?? '';
    }
    layout(width, height, top, left) {
        if (!this.layoutService.isVisible("workbench.parts.sidebar" )) {
            return;
        }
        super.layout(width, height, top, left);
    }
    getTitleAreaDropDownAnchorAlignment() {
        return this.layoutService.getSideBarPosition() === 0  ? 0  : 1 ;
    }
    createCompositeBar() {
        return this.instantiationService.createInstance(_activitybar_activitybarPart_js__WEBPACK_IMPORTED_MODULE_28__.ActivityBarCompositeBar, this.getCompositeBarOptions(), this.partId, this, false);
    }
    getCompositeBarOptions() {
        return {
            partContainerClass: 'sidebar',
            pinnedViewContainersKey: _activitybar_activitybarPart_js__WEBPACK_IMPORTED_MODULE_28__.ActivitybarPart.pinnedViewContainersKey,
            placeholderViewContainersKey: _activitybar_activitybarPart_js__WEBPACK_IMPORTED_MODULE_28__.ActivitybarPart.placeholderViewContainersKey,
            viewContainersWorkspaceStateKey: _activitybar_activitybarPart_js__WEBPACK_IMPORTED_MODULE_28__.ActivitybarPart.viewContainersWorkspaceStateKey,
            icon: true,
            orientation: 0 ,
            recomputeSizes: true,
            activityHoverOptions: {
                position: () => this.getCompositeBarPosition() === _paneCompositePart_js__WEBPACK_IMPORTED_MODULE_27__.CompositeBarPosition.BOTTOM ? 3  : 2 ,
            },
            fillExtraContextMenuActions: actions => {
                const viewsSubmenuAction = this.getViewsSubmenuAction();
                if (viewsSubmenuAction) {
                    actions.push(( (new vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_32__.Separator())));
                    actions.push(viewsSubmenuAction);
                }
            },
            compositeSize: 0,
            iconSize: 16,
            overflowActionSize: 30,
            colors: theme => ({
                activeBackgroundColor: theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_21__.SIDE_BAR_BACKGROUND),
                inactiveBackgroundColor: theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_21__.SIDE_BAR_BACKGROUND),
                activeBorderBottomColor: theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_21__.ACTIVITY_BAR_TOP_ACTIVE_BORDER),
                activeForegroundColor: theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_21__.ACTIVITY_BAR_TOP_FOREGROUND),
                inactiveForegroundColor: theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_21__.ACTIVITY_BAR_TOP_INACTIVE_FOREGROUND),
                badgeBackground: theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_21__.ACTIVITY_BAR_BADGE_BACKGROUND),
                badgeForeground: theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_21__.ACTIVITY_BAR_BADGE_FOREGROUND),
                dragAndDropBorder: theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_21__.ACTIVITY_BAR_TOP_DRAG_AND_DROP_BORDER)
            }),
            compact: true
        };
    }
    shouldShowCompositeBar() {
        const activityBarPosition = this.configurationService.getValue("workbench.activityBar.location" );
        return activityBarPosition === "top"  || activityBarPosition === "bottom" ;
    }
    shouldShowActivityBar() {
        if (this.shouldShowCompositeBar()) {
            return false;
        }
        return this.configurationService.getValue("workbench.activityBar.location" ) !== "hidden" ;
    }
    getCompositeBarPosition() {
        const activityBarPosition = this.configurationService.getValue("workbench.activityBar.location" );
        switch (activityBarPosition) {
            case "top" : return _paneCompositePart_js__WEBPACK_IMPORTED_MODULE_27__.CompositeBarPosition.TOP;
            case "bottom" : return _paneCompositePart_js__WEBPACK_IMPORTED_MODULE_27__.CompositeBarPosition.BOTTOM;
            case "hidden" :
            case "default" :
            default: return _paneCompositePart_js__WEBPACK_IMPORTED_MODULE_27__.CompositeBarPosition.TITLE;
        }
    }
    rememberActivityBarVisiblePosition() {
        const activityBarPosition = this.configurationService.getValue("workbench.activityBar.location" );
        if (activityBarPosition !== "hidden" ) {
            this.storageService.store("workbench.activityBar.location" , activityBarPosition, 0 , 0 );
        }
    }
    getRememberedActivityBarVisiblePosition() {
        const activityBarPosition = this.storageService.get("workbench.activityBar.location" , 0 );
        switch (activityBarPosition) {
            case "top" : return "top" ;
            case "bottom" : return "bottom" ;
            default: return "default" ;
        }
    }
    getPinnedPaneCompositeIds() {
        return this.shouldShowCompositeBar() ? super.getPinnedPaneCompositeIds() : this.activityBarPart.getPinnedPaneCompositeIds();
    }
    getVisiblePaneCompositeIds() {
        return this.shouldShowCompositeBar() ? super.getVisiblePaneCompositeIds() : this.activityBarPart.getVisiblePaneCompositeIds();
    }
    async focusActivityBar() {
        if (this.configurationService.getValue("workbench.activityBar.location" ) === "hidden" ) {
            await this.configurationService.updateValue("workbench.activityBar.location" , this.getRememberedActivityBarVisiblePosition());
            this.onDidChangeActivityBarLocation();
        }
        if (this.shouldShowCompositeBar()) {
            this.focusCompositeBar();
        }
        else {
            if (!this.layoutService.isVisible("workbench.parts.activitybar" )) {
                this.layoutService.setPartHidden(false, "workbench.parts.activitybar" );
            }
            this.activityBarPart.show(true);
        }
    }
    registerActions() {
        const that = this;
        this._register((0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_30__.registerAction2)(class extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_30__.Action2 {
            constructor() {
                super({
                    id: vscode_vscode_vs_workbench_browser_actions_layoutActions__WEBPACK_IMPORTED_MODULE_33__.ToggleActivityBarVisibilityActionId,
                    title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_34__.localize2)(3754, "Toggle Activity Bar Visibility")),
                });
            }
            run() {
                const value = that.configurationService.getValue("workbench.activityBar.location" ) === "hidden"  ? that.getRememberedActivityBarVisiblePosition() : "hidden" ;
                return that.configurationService.updateValue("workbench.activityBar.location" , value);
            }
        }));
    }
    toJSON() {
        return {
            type: "workbench.parts.sidebar"
        };
    }
};
SidebarPart = SidebarPart_1 = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_platform_notification_common_notification_service__WEBPACK_IMPORTED_MODULE_22__.INotificationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_5__.IStorageService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_platform_contextview_browser_contextView_service__WEBPACK_IMPORTED_MODULE_6__.IContextMenuService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_workbench_services_layout_browser_layoutService_service__WEBPACK_IMPORTED_MODULE_3__.IWorkbenchLayoutService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_platform_keybinding_common_keybinding_service__WEBPACK_IMPORTED_MODULE_7__.IKeybindingService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, vscode_vscode_vs_platform_hover_browser_hover_service__WEBPACK_IMPORTED_MODULE_35__.IHoverService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_8__.IInstantiationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, vscode_vscode_vs_platform_theme_common_themeService_service__WEBPACK_IMPORTED_MODULE_9__.IThemeService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, vscode_vscode_vs_workbench_common_views_service__WEBPACK_IMPORTED_MODULE_26__.IViewDescriptorService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_23__.IContextKeyService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, vscode_vscode_vs_workbench_services_extensions_common_extensions_service__WEBPACK_IMPORTED_MODULE_24__.IExtensionService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(11, vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_29__.IConfigurationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(12, vscode_vscode_vs_platform_actions_common_actions_service__WEBPACK_IMPORTED_MODULE_31__.IMenuService)))
], SidebarPart)));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/style.js":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/style.js ***!
  \*********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _media_style_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./media/style.css.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/browser/media/style.css.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_themeService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/themeService */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/theme */ "./node_modules/vscode/vscode/src/vs/workbench/common/theme.js");
/* harmony import */ var vscode_vscode_vs_base_common_platform__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/common/platform */ "./node_modules/vscode/vscode/src/vs/base/common/platform.js");
/* harmony import */ var vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/dom */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var vscode_vscode_vs_base_browser_browser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/browser */ "./node_modules/vscode/vscode/src/vs/base/browser/browser.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colorUtils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colorUtils */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colorUtils.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_baseColors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/baseColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/baseColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_chartsColors__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/chartsColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/chartsColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_editorColors__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/editorColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/editorColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_inputColors__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/inputColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/inputColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_listColors__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/listColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/listColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_menuColors__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/menuColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/menuColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_minimapColors__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/minimapColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/minimapColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_miscColors__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/miscColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/miscColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_quickpickColors__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/quickpickColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/quickpickColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_searchColors__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/searchColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/searchColors.js");
/* harmony import */ var vscode_vscode_vs_base_browser_window__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/window */ "./node_modules/vscode/vscode/src/vs/base/browser/window.js");



















(0,vscode_vscode_vs_platform_theme_common_themeService__WEBPACK_IMPORTED_MODULE_1__.registerThemingParticipant)((theme, collector) => {
    const workbenchBackground = (0,vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_2__.WORKBENCH_BACKGROUND)(theme);
    collector.addRule(`.monaco-workbench-part { background-color: ${workbenchBackground}; }`);
    const windowSelectionBackground = theme.getColor(vscode_vscode_vs_platform_theme_common_colors_baseColors__WEBPACK_IMPORTED_MODULE_7__.selectionBackground);
    if (windowSelectionBackground) {
        collector.addRule(`.monaco-workbench-part ::selection { background-color: ${windowSelectionBackground}; }`);
    }
    if (vscode_vscode_vs_base_common_platform__WEBPACK_IMPORTED_MODULE_3__.isWeb) {
        const titleBackground = theme.getColor(vscode_vscode_vs_workbench_common_theme__WEBPACK_IMPORTED_MODULE_2__.TITLE_BAR_ACTIVE_BACKGROUND);
        if (titleBackground) {
            const metaElementId = 'monaco-workbench-meta-theme-color';
            let metaElement = vscode_vscode_vs_base_browser_window__WEBPACK_IMPORTED_MODULE_17__.mainWindow.document.getElementById(metaElementId);
            if (!metaElement) {
                metaElement = (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_4__.createMetaElement)();
                metaElement.name = 'theme-color';
                metaElement.id = metaElementId;
            }
            metaElement.content = ( titleBackground.toString());
        }
    }
    if (vscode_vscode_vs_base_browser_browser__WEBPACK_IMPORTED_MODULE_5__.isSafari) {
        collector.addRule(`
			.monaco-workbench-part.web {
				touch-action: none;
			}
			.monaco-workbench-part .monaco-editor .view-lines {
				user-select: text;
				-webkit-user-select: text;
			}
		`);
    }
    if (vscode_vscode_vs_base_common_platform__WEBPACK_IMPORTED_MODULE_3__.isIOS && (0,vscode_vscode_vs_base_browser_browser__WEBPACK_IMPORTED_MODULE_5__.isStandalone)()) {
        collector.addRule(`.monaco-workbench-part { background-color: ${workbenchBackground}; }`);
    }
});


/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/callHierarchy/browser/callHierarchy.contribution.js":
/*!****************************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/callHierarchy/browser/callHierarchy.contribution.js ***!
  \****************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_callHierarchy_common_callHierarchy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/callHierarchy/common/callHierarchy */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/callHierarchy/common/callHierarchy.js");
/* harmony import */ var vscode_vscode_vs_base_common_cancellation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/common/cancellation */ "./node_modules/vscode/vscode/src/vs/base/common/cancellation.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var _callHierarchyPeek_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./callHierarchyPeek.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/callHierarchy/browser/callHierarchyPeek.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_editor_browser_editorExtensions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/editor/browser/editorExtensions */ "./node_modules/vscode/vscode/src/vs/editor/browser/editorExtensions.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey.service */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_editor_common_editorContextKeys__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/editorContextKeys */ "./node_modules/vscode/vscode/src/vs/editor/common/editorContextKeys.js");
/* harmony import */ var vscode_vscode_vs_editor_contrib_peekView_browser_peekView__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/editor/contrib/peekView/browser/peekView */ "./node_modules/vscode/vscode/src/vs/editor/contrib/peekView/browser/peekView.js");
/* harmony import */ var vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/platform/storage/common/storage.service */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var vscode_vscode_vs_editor_browser_services_codeEditorService__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/editor/browser/services/codeEditorService */ "./node_modules/vscode/vscode/src/vs/editor/browser/services/codeEditorService.js");
/* harmony import */ var vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/core/range */ "./node_modules/vscode/vscode/src/vs/editor/common/core/range.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/base/common/codicons */ "./node_modules/vscode/vscode/src/vs/base/common/codicons.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_iconRegistry__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/iconRegistry */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/iconRegistry.js");
/* harmony import */ var vscode_vscode_vs_base_common_errors__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! vscode/vscode/vs/base/common/errors */ "./node_modules/vscode/vscode/src/vs/base/common/errors.js");





















var CallHierarchyController_1;
const _ctxHasCallHierarchyProvider = ( (new vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_8__.RawContextKey('editorHasCallHierarchyProvider', false, ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4235, 'Whether a call hierarchy provider is available')))));
const _ctxCallHierarchyVisible = ( (new vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_8__.RawContextKey('callHierarchyVisible', false, ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4236, 'Whether call hierarchy peek is currently showing')))));
const _ctxCallHierarchyDirection = ( (new vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_8__.RawContextKey(
    'callHierarchyDirection',
    undefined,
    { type: 'string', description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4237, 'Whether call hierarchy shows incoming or outgoing calls')) }
)));
function sanitizedDirection(candidate) {
    return candidate === "outgoingCalls"  || candidate === "incomingCalls"
        ? candidate
        : "incomingCalls" ;
}
let CallHierarchyController = class CallHierarchyController {
    static { CallHierarchyController_1 = this; }
    static { this.Id = 'callHierarchy'; }
    static get(editor) {
        return editor.getContribution(CallHierarchyController_1.Id);
    }
    static { this._StorageDirection = 'callHierarchy/defaultDirection'; }
    constructor(_editor, _contextKeyService, _storageService, _editorService, _instantiationService) {
        this._editor = _editor;
        this._contextKeyService = _contextKeyService;
        this._storageService = _storageService;
        this._editorService = _editorService;
        this._instantiationService = _instantiationService;
        this._dispoables = ( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_10__.DisposableStore()));
        this._sessionDisposables = ( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_10__.DisposableStore()));
        this._ctxIsVisible = _ctxCallHierarchyVisible.bindTo(this._contextKeyService);
        this._ctxHasProvider = _ctxHasCallHierarchyProvider.bindTo(this._contextKeyService);
        this._ctxDirection = _ctxCallHierarchyDirection.bindTo(this._contextKeyService);
        this._dispoables.add(vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_6__.Event.any(_editor.onDidChangeModel, _editor.onDidChangeModelLanguage, vscode_vscode_vs_workbench_contrib_callHierarchy_common_callHierarchy__WEBPACK_IMPORTED_MODULE_2__.CallHierarchyProviderRegistry.onDidChange)(() => {
            this._ctxHasProvider.set(_editor.hasModel() && ( (vscode_vscode_vs_workbench_contrib_callHierarchy_common_callHierarchy__WEBPACK_IMPORTED_MODULE_2__.CallHierarchyProviderRegistry.has(_editor.getModel()))));
        }));
        this._dispoables.add(this._sessionDisposables);
    }
    dispose() {
        this._ctxHasProvider.reset();
        this._ctxIsVisible.reset();
        this._dispoables.dispose();
    }
    async startCallHierarchyFromEditor() {
        this._sessionDisposables.clear();
        if (!this._editor.hasModel()) {
            return;
        }
        const document = this._editor.getModel();
        const position = this._editor.getPosition();
        if (!( (vscode_vscode_vs_workbench_contrib_callHierarchy_common_callHierarchy__WEBPACK_IMPORTED_MODULE_2__.CallHierarchyProviderRegistry.has(document)))) {
            return;
        }
        const cts = ( (new vscode_vscode_vs_base_common_cancellation__WEBPACK_IMPORTED_MODULE_3__.CancellationTokenSource()));
        const model = vscode_vscode_vs_workbench_contrib_callHierarchy_common_callHierarchy__WEBPACK_IMPORTED_MODULE_2__.CallHierarchyModel.create(document, position, cts.token);
        const direction = sanitizedDirection(this._storageService.get(CallHierarchyController_1._StorageDirection, 0 , "incomingCalls" ));
        this._showCallHierarchyWidget(position, direction, model, cts);
    }
    async startCallHierarchyFromCallHierarchy() {
        if (!this._widget) {
            return;
        }
        const model = this._widget.getModel();
        const call = this._widget.getFocused();
        if (!call || !model) {
            return;
        }
        const newEditor = await this._editorService.openCodeEditor({ resource: call.item.uri }, this._editor);
        if (!newEditor) {
            return;
        }
        const newModel = model.fork(call.item);
        this._sessionDisposables.clear();
        CallHierarchyController_1.get(newEditor)?._showCallHierarchyWidget(vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_15__.Range.lift(newModel.root.selectionRange).getStartPosition(), this._widget.direction, Promise.resolve(newModel), ( (new vscode_vscode_vs_base_common_cancellation__WEBPACK_IMPORTED_MODULE_3__.CancellationTokenSource())));
    }
    _showCallHierarchyWidget(position, direction, model, cts) {
        this._ctxIsVisible.set(true);
        this._ctxDirection.set(direction);
        vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_6__.Event.any(this._editor.onDidChangeModel, this._editor.onDidChangeModelLanguage)(this.endCallHierarchy, this, this._sessionDisposables);
        this._widget = this._instantiationService.createInstance(_callHierarchyPeek_js__WEBPACK_IMPORTED_MODULE_5__.CallHierarchyTreePeekWidget, this._editor, position, direction);
        this._widget.showLoading();
        this._sessionDisposables.add(this._widget.onDidClose(() => {
            this.endCallHierarchy();
            this._storageService.store(CallHierarchyController_1._StorageDirection, this._widget.direction, 0 , 0 );
        }));
        this._sessionDisposables.add({ dispose() { cts.dispose(true); } });
        this._sessionDisposables.add(this._widget);
        model.then(model => {
            if (cts.token.isCancellationRequested) {
                return;
            }
            if (model) {
                this._sessionDisposables.add(model);
                this._widget.showModel(model);
            }
            else {
                this._widget.showMessage(( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4238, "No results")));
            }
        }).catch(err => {
            if ((0,vscode_vscode_vs_base_common_errors__WEBPACK_IMPORTED_MODULE_19__.isCancellationError)(err)) {
                this.endCallHierarchy();
                return;
            }
            this._widget.showMessage(( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4239, "Failed to show call hierarchy")));
        });
    }
    showOutgoingCalls() {
        this._widget?.updateDirection("outgoingCalls" );
        this._ctxDirection.set("outgoingCalls" );
    }
    showIncomingCalls() {
        this._widget?.updateDirection("incomingCalls" );
        this._ctxDirection.set("incomingCalls" );
    }
    endCallHierarchy() {
        this._sessionDisposables.clear();
        this._ctxIsVisible.set(false);
        this._editor.focus();
    }
};
CallHierarchyController = CallHierarchyController_1 = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_9__.IContextKeyService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_13__.IStorageService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_editor_browser_services_codeEditorService__WEBPACK_IMPORTED_MODULE_14__.ICodeEditorService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_4__.IInstantiationService)))
], CallHierarchyController)));
(0,vscode_vscode_vs_editor_browser_editorExtensions__WEBPACK_IMPORTED_MODULE_7__.registerEditorContribution)(CallHierarchyController.Id, CallHierarchyController, 0 );
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_16__.registerAction2)(class PeekCallHierarchyAction extends vscode_vscode_vs_editor_browser_editorExtensions__WEBPACK_IMPORTED_MODULE_7__.EditorAction2 {
    constructor() {
        super({
            id: 'editor.showCallHierarchy',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize2)(4240, 'Peek Call Hierarchy')),
            menu: {
                id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_16__.MenuId.EditorContextPeek,
                group: 'navigation',
                order: 1000,
                when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_8__.ContextKeyExpr.and(
                    _ctxHasCallHierarchyProvider,
                    vscode_vscode_vs_editor_contrib_peekView_browser_peekView__WEBPACK_IMPORTED_MODULE_12__.PeekContext.notInPeekEditor,
                     (vscode_vscode_vs_editor_common_editorContextKeys__WEBPACK_IMPORTED_MODULE_11__.EditorContextKeys.isInEmbeddedEditor.toNegated())
                ))),
            },
            keybinding: {
                when: vscode_vscode_vs_editor_common_editorContextKeys__WEBPACK_IMPORTED_MODULE_11__.EditorContextKeys.editorTextFocus,
                weight: 200 ,
                primary: 1024  + 512  + 38
            },
            precondition: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_8__.ContextKeyExpr.and(_ctxHasCallHierarchyProvider, vscode_vscode_vs_editor_contrib_peekView_browser_peekView__WEBPACK_IMPORTED_MODULE_12__.PeekContext.notInPeekEditor))),
            f1: true
        });
    }
    async runEditorCommand(_accessor, editor) {
        return CallHierarchyController.get(editor)?.startCallHierarchyFromEditor();
    }
});
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_16__.registerAction2)(class extends vscode_vscode_vs_editor_browser_editorExtensions__WEBPACK_IMPORTED_MODULE_7__.EditorAction2 {
    constructor() {
        super({
            id: 'editor.showIncomingCalls',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize2)(4241, 'Show Incoming Calls')),
            icon: (0,vscode_vscode_vs_platform_theme_common_iconRegistry__WEBPACK_IMPORTED_MODULE_18__.registerIcon)('callhierarchy-incoming', vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_17__.Codicon.callIncoming, ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4242, 'Icon for incoming calls in the call hierarchy view.'))),
            precondition: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_8__.ContextKeyExpr.and(
                _ctxCallHierarchyVisible,
                 (_ctxCallHierarchyDirection.isEqualTo("outgoingCalls" ))
            ))),
            keybinding: {
                weight: 200 ,
                primary: 1024  + 512  + 38 ,
            },
            menu: {
                id: _callHierarchyPeek_js__WEBPACK_IMPORTED_MODULE_5__.CallHierarchyTreePeekWidget.TitleMenu,
                when: ( (_ctxCallHierarchyDirection.isEqualTo("outgoingCalls" ))),
                order: 1,
            }
        });
    }
    runEditorCommand(_accessor, editor) {
        return CallHierarchyController.get(editor)?.showIncomingCalls();
    }
});
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_16__.registerAction2)(class extends vscode_vscode_vs_editor_browser_editorExtensions__WEBPACK_IMPORTED_MODULE_7__.EditorAction2 {
    constructor() {
        super({
            id: 'editor.showOutgoingCalls',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize2)(4243, 'Show Outgoing Calls')),
            icon: (0,vscode_vscode_vs_platform_theme_common_iconRegistry__WEBPACK_IMPORTED_MODULE_18__.registerIcon)('callhierarchy-outgoing', vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_17__.Codicon.callOutgoing, ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4244, 'Icon for outgoing calls in the call hierarchy view.'))),
            precondition: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_8__.ContextKeyExpr.and(
                _ctxCallHierarchyVisible,
                 (_ctxCallHierarchyDirection.isEqualTo("incomingCalls" ))
            ))),
            keybinding: {
                weight: 200 ,
                primary: 1024  + 512  + 38 ,
            },
            menu: {
                id: _callHierarchyPeek_js__WEBPACK_IMPORTED_MODULE_5__.CallHierarchyTreePeekWidget.TitleMenu,
                when: ( (_ctxCallHierarchyDirection.isEqualTo("incomingCalls" ))),
                order: 1
            }
        });
    }
    runEditorCommand(_accessor, editor) {
        return CallHierarchyController.get(editor)?.showOutgoingCalls();
    }
});
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_16__.registerAction2)(class extends vscode_vscode_vs_editor_browser_editorExtensions__WEBPACK_IMPORTED_MODULE_7__.EditorAction2 {
    constructor() {
        super({
            id: 'editor.refocusCallHierarchy',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize2)(4245, 'Refocus Call Hierarchy')),
            precondition: _ctxCallHierarchyVisible,
            keybinding: {
                weight: 200 ,
                primary: 1024  + 3
            }
        });
    }
    async runEditorCommand(_accessor, editor) {
        return CallHierarchyController.get(editor)?.startCallHierarchyFromCallHierarchy();
    }
});
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_16__.registerAction2)(class extends vscode_vscode_vs_editor_browser_editorExtensions__WEBPACK_IMPORTED_MODULE_7__.EditorAction2 {
    constructor() {
        super({
            id: 'editor.closeCallHierarchy',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4246, 'Close')),
            icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_17__.Codicon.close,
            precondition: _ctxCallHierarchyVisible,
            keybinding: {
                weight: 200  + 10,
                primary: 9 ,
                when: vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_8__.ContextKeyExpr.not('config.editor.stablePeek')
            },
            menu: {
                id: _callHierarchyPeek_js__WEBPACK_IMPORTED_MODULE_5__.CallHierarchyTreePeekWidget.TitleMenu,
                order: 1000
            }
        });
    }
    runEditorCommand(_accessor, editor) {
        return CallHierarchyController.get(editor)?.endCallHierarchy();
    }
});


/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/callHierarchy/browser/callHierarchyPeek.js":
/*!*******************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/callHierarchy/browser/callHierarchyPeek.js ***!
  \*******************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CallHierarchyTreePeekWidget: () => (/* binding */ CallHierarchyTreePeekWidget)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _media_callHierarchy_css_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./media/callHierarchy.css.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/callHierarchy/browser/media/callHierarchy.css.js");
/* harmony import */ var vscode_vscode_vs_editor_contrib_peekView_browser_peekView__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/editor/contrib/peekView/browser/peekView */ "./node_modules/vscode/vscode/src/vs/editor/contrib/peekView/browser/peekView.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/platform/list/browser/listService */ "./node_modules/vscode/vscode/src/vs/platform/list/browser/listService.js");
/* harmony import */ var _callHierarchyTree_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./callHierarchyTree.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/callHierarchy/browser/callHierarchyTree.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/core/range */ "./node_modules/vscode/vscode/src/vs/editor/common/core/range.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_splitview_splitview__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/splitview/splitview */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/splitview/splitview.js");
/* harmony import */ var vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/dom */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");
/* harmony import */ var vscode_vscode_vs_editor_browser_widget_codeEditor_embeddedCodeEditorWidget__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/editor/browser/widget/codeEditor/embeddedCodeEditorWidget */ "./node_modules/vscode/vscode/src/vs/editor/browser/widget/codeEditor/embeddedCodeEditorWidget.js");
/* harmony import */ var vscode_vscode_vs_editor_common_services_resolverService__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/services/resolverService */ "./node_modules/vscode/vscode/src/vs/editor/common/services/resolverService.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_editor_common_model__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/model */ "./node_modules/vscode/vscode/src/vs/editor/common/model.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_themeService__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/themeService */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_themeService_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/themeService.service */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.service.js");
/* harmony import */ var vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! vscode/vscode/vs/platform/storage/common/storage.service */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_color__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! vscode/vscode/vs/base/common/color */ "./node_modules/vscode/vscode/src/vs/base/common/color.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_tree_tree__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/tree/tree */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/tree/tree.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions.service */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.service.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey.service */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_browser_menuEntryActionViewItem__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/browser/menuEntryActionViewItem */ "./node_modules/vscode/vscode/src/vs/platform/actions/browser/menuEntryActionViewItem.js");


























var CallHierarchyTreePeekWidget_1;
class LayoutInfo {
    static store(info, storageService) {
        storageService.store('callHierarchyPeekLayout', JSON.stringify(info), 0 , 1 );
    }
    static retrieve(storageService) {
        const value = storageService.get('callHierarchyPeekLayout', 0 , '{}');
        const defaultInfo = { ratio: 0.7, height: 17 };
        try {
            return { ...defaultInfo, ...JSON.parse(value) };
        }
        catch {
            return defaultInfo;
        }
    }
    constructor(ratio, height) {
        this.ratio = ratio;
        this.height = height;
    }
}
class CallHierarchyTree extends vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_4__.WorkbenchAsyncDataTree {
}
let CallHierarchyTreePeekWidget = class CallHierarchyTreePeekWidget extends vscode_vscode_vs_editor_contrib_peekView_browser_peekView__WEBPACK_IMPORTED_MODULE_2__.PeekViewWidget {
    static { CallHierarchyTreePeekWidget_1 = this; }
    static { this.TitleMenu = ( (new vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_21__.MenuId('callhierarchy/title'))); }
    constructor(editor, _where, _direction, themeService, _peekViewService, _editorService, _textModelService, _storageService, _menuService, _contextKeyService, _instantiationService) {
        super(editor, { showFrame: true, showArrow: true, isResizeable: true, isAccessible: true }, _instantiationService);
        this._where = _where;
        this._direction = _direction;
        this._peekViewService = _peekViewService;
        this._editorService = _editorService;
        this._textModelService = _textModelService;
        this._storageService = _storageService;
        this._menuService = _menuService;
        this._contextKeyService = _contextKeyService;
        this._instantiationService = _instantiationService;
        this._treeViewStates = ( (new Map()));
        this._previewDisposable = ( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_14__.DisposableStore()));
        this.create();
        this._peekViewService.addExclusiveWidget(editor, this);
        this._applyTheme(themeService.getColorTheme());
        this._disposables.add(themeService.onDidColorThemeChange(this._applyTheme, this));
        this._disposables.add(this._previewDisposable);
    }
    dispose() {
        LayoutInfo.store(this._layoutInfo, this._storageService);
        this._splitView.dispose();
        this._tree.dispose();
        this._editor.dispose();
        super.dispose();
    }
    get direction() {
        return this._direction;
    }
    _applyTheme(theme) {
        const borderColor = theme.getColor(vscode_vscode_vs_editor_contrib_peekView_browser_peekView__WEBPACK_IMPORTED_MODULE_2__.peekViewBorder) || vscode_vscode_vs_base_common_color__WEBPACK_IMPORTED_MODULE_19__.Color.transparent;
        this.style({
            arrowColor: borderColor,
            frameColor: borderColor,
            headerBackgroundColor: theme.getColor(vscode_vscode_vs_editor_contrib_peekView_browser_peekView__WEBPACK_IMPORTED_MODULE_2__.peekViewTitleBackground) || vscode_vscode_vs_base_common_color__WEBPACK_IMPORTED_MODULE_19__.Color.transparent,
            primaryHeadingColor: theme.getColor(vscode_vscode_vs_editor_contrib_peekView_browser_peekView__WEBPACK_IMPORTED_MODULE_2__.peekViewTitleForeground),
            secondaryHeadingColor: theme.getColor(vscode_vscode_vs_editor_contrib_peekView_browser_peekView__WEBPACK_IMPORTED_MODULE_2__.peekViewTitleInfoForeground)
        });
    }
    _fillHead(container) {
        super._fillHead(container, true);
        const menu = this._menuService.createMenu(CallHierarchyTreePeekWidget_1.TitleMenu, this._contextKeyService);
        const updateToolbar = () => {
            const actions = [];
            (0,vscode_vscode_vs_platform_actions_browser_menuEntryActionViewItem__WEBPACK_IMPORTED_MODULE_24__.createAndFillInActionBarActions)(menu, undefined, actions);
            this._actionbarWidget.clear();
            this._actionbarWidget.push(actions, { label: false, icon: true });
        };
        this._disposables.add(menu);
        this._disposables.add(menu.onDidChange(updateToolbar));
        updateToolbar();
    }
    _fillBody(parent) {
        this._layoutInfo = LayoutInfo.retrieve(this._storageService);
        this._dim = ( (new vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_9__.Dimension(0, 0)));
        this._parent = parent;
        parent.classList.add('call-hierarchy');
        const message = document.createElement('div');
        message.classList.add('message');
        parent.appendChild(message);
        this._message = message;
        this._message.tabIndex = 0;
        const container = document.createElement('div');
        container.classList.add('results');
        parent.appendChild(container);
        this._splitView = ( (new vscode_vscode_vs_base_browser_ui_splitview_splitview__WEBPACK_IMPORTED_MODULE_8__.SplitView(container, { orientation: 1  })));
        const editorContainer = document.createElement('div');
        editorContainer.classList.add('editor');
        container.appendChild(editorContainer);
        const editorOptions = {
            scrollBeyondLastLine: false,
            scrollbar: {
                verticalScrollbarSize: 14,
                horizontal: 'auto',
                useShadows: true,
                verticalHasArrows: false,
                horizontalHasArrows: false,
                alwaysConsumeMouseWheel: false
            },
            overviewRulerLanes: 2,
            fixedOverflowWidgets: true,
            minimap: {
                enabled: false
            }
        };
        this._editor = this._instantiationService.createInstance(vscode_vscode_vs_editor_browser_widget_codeEditor_embeddedCodeEditorWidget__WEBPACK_IMPORTED_MODULE_12__.EmbeddedCodeEditorWidget, editorContainer, editorOptions, {}, this.editor);
        const treeContainer = document.createElement('div');
        treeContainer.classList.add('tree');
        container.appendChild(treeContainer);
        const options = {
            sorter: new _callHierarchyTree_js__WEBPACK_IMPORTED_MODULE_5__.Sorter(),
            accessibilityProvider: new _callHierarchyTree_js__WEBPACK_IMPORTED_MODULE_5__.AccessibilityProvider(() => this._direction),
            identityProvider: new _callHierarchyTree_js__WEBPACK_IMPORTED_MODULE_5__.IdentityProvider(() => this._direction),
            expandOnlyOnTwistieClick: true,
            overrideStyles: {
                listBackground: vscode_vscode_vs_editor_contrib_peekView_browser_peekView__WEBPACK_IMPORTED_MODULE_2__.peekViewResultsBackground
            }
        };
        this._tree = this._instantiationService.createInstance(CallHierarchyTree, 'CallHierarchyPeek', treeContainer, new _callHierarchyTree_js__WEBPACK_IMPORTED_MODULE_5__.VirtualDelegate(), [this._instantiationService.createInstance(_callHierarchyTree_js__WEBPACK_IMPORTED_MODULE_5__.CallRenderer)], this._instantiationService.createInstance(_callHierarchyTree_js__WEBPACK_IMPORTED_MODULE_5__.DataSource, () => this._direction), options);
        this._splitView.addView({
            onDidChange: vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_10__.Event.None,
            element: editorContainer,
            minimumSize: 200,
            maximumSize: Number.MAX_VALUE,
            layout: (width) => {
                if (this._dim.height) {
                    this._editor.layout({ height: this._dim.height, width });
                }
            }
        }, vscode_vscode_vs_base_browser_ui_splitview_splitview__WEBPACK_IMPORTED_MODULE_8__.Sizing.Distribute);
        this._splitView.addView({
            onDidChange: vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_10__.Event.None,
            element: treeContainer,
            minimumSize: 100,
            maximumSize: Number.MAX_VALUE,
            layout: (width) => {
                if (this._dim.height) {
                    this._tree.layout(this._dim.height, width);
                }
            }
        }, vscode_vscode_vs_base_browser_ui_splitview_splitview__WEBPACK_IMPORTED_MODULE_8__.Sizing.Distribute);
        this._disposables.add(this._splitView.onDidSashChange(() => {
            if (this._dim.width) {
                this._layoutInfo.ratio = this._splitView.getViewSize(0) / this._dim.width;
            }
        }));
        this._disposables.add(this._tree.onDidChangeFocus(this._updatePreview, this));
        this._disposables.add(this._editor.onMouseDown(e => {
            const { event, target } = e;
            if (event.detail !== 2) {
                return;
            }
            const [focus] = this._tree.getFocus();
            if (!focus) {
                return;
            }
            this.dispose();
            this._editorService.openEditor({
                resource: focus.item.uri,
                options: { selection: target.range }
            });
        }));
        this._disposables.add(this._tree.onMouseDblClick(e => {
            if (e.target === vscode_vscode_vs_base_browser_ui_tree_tree__WEBPACK_IMPORTED_MODULE_20__.TreeMouseEventTarget.Twistie) {
                return;
            }
            if (e.element) {
                this.dispose();
                this._editorService.openEditor({
                    resource: e.element.item.uri,
                    options: { selection: e.element.item.selectionRange, pinned: true }
                });
            }
        }));
        this._disposables.add(this._tree.onDidChangeSelection(e => {
            const [element] = e.elements;
            if (element && (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_9__.isKeyboardEvent)(e.browserEvent)) {
                this.dispose();
                this._editorService.openEditor({
                    resource: element.item.uri,
                    options: { selection: element.item.selectionRange, pinned: true }
                });
            }
        }));
    }
    async _updatePreview() {
        const [element] = this._tree.getFocus();
        if (!element) {
            return;
        }
        this._previewDisposable.clear();
        const options = {
            description: 'call-hierarchy-decoration',
            stickiness: 1 ,
            className: 'call-decoration',
            overviewRuler: {
                color: (0,vscode_vscode_vs_platform_theme_common_themeService__WEBPACK_IMPORTED_MODULE_16__.themeColorFromId)(vscode_vscode_vs_editor_contrib_peekView_browser_peekView__WEBPACK_IMPORTED_MODULE_2__.peekViewEditorMatchHighlight),
                position: vscode_vscode_vs_editor_common_model__WEBPACK_IMPORTED_MODULE_15__.OverviewRulerLane.Center
            },
        };
        let previewUri;
        if (this._direction === "outgoingCalls" ) {
            previewUri = element.parent ? element.parent.item.uri : element.model.root.uri;
        }
        else {
            previewUri = element.item.uri;
        }
        const value = await this._textModelService.createModelReference(previewUri);
        this._editor.setModel(value.object.textEditorModel);
        const decorations = [];
        let fullRange;
        let locations = element.locations;
        if (!locations) {
            locations = [{ uri: element.item.uri, range: element.item.selectionRange }];
        }
        for (const loc of locations) {
            if (( (loc.uri.toString())) === ( (previewUri.toString()))) {
                decorations.push({ range: loc.range, options });
                fullRange = !fullRange ? loc.range : vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_7__.Range.plusRange(loc.range, fullRange);
            }
        }
        if (fullRange) {
            this._editor.revealRangeInCenter(fullRange, 1 );
            const decorationsCollection = this._editor.createDecorationsCollection(decorations);
            this._previewDisposable.add((0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_14__.toDisposable)(() => decorationsCollection.clear()));
        }
        this._previewDisposable.add(value);
        const title = this._direction === "outgoingCalls"
            ? ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_6__.localize)(9630, "Calls from '{0}'", element.model.root.name))
            : ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_6__.localize)(9631, "Callers of '{0}'", element.model.root.name));
        this.setTitle(title);
    }
    showLoading() {
        this._parent.dataset['state'] = "loading" ;
        this.setTitle(( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_6__.localize)(9632, "Loading...")));
        this._show();
    }
    showMessage(message) {
        this._parent.dataset['state'] = "message" ;
        this.setTitle('');
        this.setMetaTitle('');
        this._message.innerText = message;
        this._show();
        this._message.focus();
    }
    async showModel(model) {
        this._show();
        const viewState = this._treeViewStates.get(this._direction);
        await this._tree.setInput(model, viewState);
        const root = this._tree.getNode(model).children[0];
        await this._tree.expand(root.element);
        if (root.children.length === 0) {
            this.showMessage(this._direction === "outgoingCalls"
                ? ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_6__.localize)(9633, "No calls from '{0}'", model.root.name))
                : ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_6__.localize)(9634, "No callers of '{0}'", model.root.name)));
        }
        else {
            this._parent.dataset['state'] = "data" ;
            if (!viewState || this._tree.getFocus().length === 0) {
                this._tree.setFocus([root.children[0].element]);
            }
            this._tree.domFocus();
            this._updatePreview();
        }
    }
    getModel() {
        return this._tree.getInput();
    }
    getFocused() {
        return this._tree.getFocus()[0];
    }
    async updateDirection(newDirection) {
        const model = this._tree.getInput();
        if (model && newDirection !== this._direction) {
            this._treeViewStates.set(this._direction, this._tree.getViewState());
            this._direction = newDirection;
            await this.showModel(model);
        }
    }
    _show() {
        if (!this._isShowing) {
            this.editor.revealLineInCenterIfOutsideViewport(this._where.lineNumber, 0 );
            super.show(vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_7__.Range.fromPositions(this._where), this._layoutInfo.height);
        }
    }
    _onWidth(width) {
        if (this._dim) {
            this._doLayoutBody(this._dim.height, width);
        }
    }
    _doLayoutBody(height, width) {
        if (this._dim.height !== height || this._dim.width !== width) {
            super._doLayoutBody(height, width);
            this._dim = ( (new vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_9__.Dimension(width, height)));
            this._layoutInfo.height = this._viewZone ? this._viewZone.heightInLines : this._layoutInfo.height;
            this._splitView.layout(width);
            this._splitView.resizeView(0, width * this._layoutInfo.ratio);
        }
    }
};
CallHierarchyTreePeekWidget = CallHierarchyTreePeekWidget_1 = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_platform_theme_common_themeService_service__WEBPACK_IMPORTED_MODULE_17__.IThemeService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_editor_contrib_peekView_browser_peekView__WEBPACK_IMPORTED_MODULE_2__.IPeekViewService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_11__.IEditorService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, vscode_vscode_vs_editor_common_services_resolverService__WEBPACK_IMPORTED_MODULE_13__.ITextModelService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_18__.IStorageService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, vscode_vscode_vs_platform_actions_common_actions_service__WEBPACK_IMPORTED_MODULE_22__.IMenuService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_23__.IContextKeyService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_3__.IInstantiationService)))
], CallHierarchyTreePeekWidget)));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/callHierarchy/browser/callHierarchyTree.js":
/*!*******************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/callHierarchy/browser/callHierarchyTree.js ***!
  \*******************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AccessibilityProvider: () => (/* binding */ AccessibilityProvider),
/* harmony export */   Call: () => (/* binding */ Call),
/* harmony export */   CallRenderer: () => (/* binding */ CallRenderer),
/* harmony export */   DataSource: () => (/* binding */ DataSource),
/* harmony export */   IdentityProvider: () => (/* binding */ IdentityProvider),
/* harmony export */   Sorter: () => (/* binding */ Sorter),
/* harmony export */   VirtualDelegate: () => (/* binding */ VirtualDelegate)
/* harmony export */ });
/* harmony import */ var vscode_vscode_vs_workbench_contrib_callHierarchy_common_callHierarchy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/callHierarchy/common/callHierarchy */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/callHierarchy/common/callHierarchy.js");
/* harmony import */ var vscode_vscode_vs_base_common_cancellation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/common/cancellation */ "./node_modules/vscode/vscode/src/vs/base/common/cancellation.js");
/* harmony import */ var vscode_vscode_vs_base_common_filters__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/common/filters */ "./node_modules/vscode/vscode/src/vs/base/common/filters.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_iconLabel_iconLabel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/iconLabel/iconLabel */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/iconLabel/iconLabel.js");
/* harmony import */ var vscode_vscode_vs_editor_common_languages__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/languages */ "./node_modules/vscode/vscode/src/vs/editor/common/languages.js");
/* harmony import */ var vscode_vscode_vs_base_common_strings__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/base/common/strings */ "./node_modules/vscode/vscode/src/vs/base/common/strings.js");
/* harmony import */ var vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/core/range */ "./node_modules/vscode/vscode/src/vs/editor/common/core/range.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_base_common_themables__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/base/common/themables */ "./node_modules/vscode/vscode/src/vs/base/common/themables.js");










class Call {
    constructor(item, locations, model, parent) {
        this.item = item;
        this.locations = locations;
        this.model = model;
        this.parent = parent;
    }
    static compare(a, b) {
        let res = (0,vscode_vscode_vs_base_common_strings__WEBPACK_IMPORTED_MODULE_5__.compare)(( (a.item.uri.toString())), ( (b.item.uri.toString())));
        if (res === 0) {
            res = vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_6__.Range.compareRangesUsingStarts(a.item.range, b.item.range);
        }
        return res;
    }
}
class DataSource {
    constructor(getDirection) {
        this.getDirection = getDirection;
    }
    hasChildren() {
        return true;
    }
    async getChildren(element) {
        if (element instanceof vscode_vscode_vs_workbench_contrib_callHierarchy_common_callHierarchy__WEBPACK_IMPORTED_MODULE_0__.CallHierarchyModel) {
            return (
                 (element.roots.map(root => ( (new Call(root, undefined, element, undefined)))))
            );
        }
        const { model, item } = element;
        if (this.getDirection() === "outgoingCalls" ) {
            return (
                 ((await model.resolveOutgoingCalls(item, vscode_vscode_vs_base_common_cancellation__WEBPACK_IMPORTED_MODULE_1__.CancellationToken.None)).map(call => {
                    return (
                         (new Call(
                            call.to,
                             (call.fromRanges.map(range => ({ range, uri: item.uri }))),
                            model,
                            element
                        ))
                    );
                }))
            );
        }
        else {
            return (
                 ((await model.resolveIncomingCalls(item, vscode_vscode_vs_base_common_cancellation__WEBPACK_IMPORTED_MODULE_1__.CancellationToken.None)).map(call => {
                    return (
                         (new Call(
                            call.from,
                             (call.fromRanges.map(range => ({ range, uri: call.from.uri }))),
                            model,
                            element
                        ))
                    );
                }))
            );
        }
    }
}
class Sorter {
    compare(element, otherElement) {
        return Call.compare(element, otherElement);
    }
}
class IdentityProvider {
    constructor(getDirection) {
        this.getDirection = getDirection;
    }
    getId(element) {
        let res = this.getDirection() + JSON.stringify(element.item.uri) + JSON.stringify(element.item.range);
        if (element.parent) {
            res += this.getId(element.parent);
        }
        return res;
    }
}
class CallRenderingTemplate {
    constructor(icon, label) {
        this.icon = icon;
        this.label = label;
    }
}
class CallRenderer {
    constructor() {
        this.templateId = CallRenderer.id;
    }
    static { this.id = 'CallRenderer'; }
    renderTemplate(container) {
        container.classList.add('callhierarchy-element');
        const icon = document.createElement('div');
        container.appendChild(icon);
        const label = ( (new vscode_vscode_vs_base_browser_ui_iconLabel_iconLabel__WEBPACK_IMPORTED_MODULE_3__.IconLabel(container, { supportHighlights: true })));
        return (
             (new CallRenderingTemplate(icon, label))
        );
    }
    renderElement(node, _index, template) {
        const { element, filterData } = node;
        const deprecated = element.item.tags?.includes(1 );
        template.icon.className = '';
        template.icon.classList.add('inline', ...vscode_vscode_vs_base_common_themables__WEBPACK_IMPORTED_MODULE_8__.ThemeIcon.asClassNameArray(vscode_vscode_vs_editor_common_languages__WEBPACK_IMPORTED_MODULE_4__.SymbolKinds.toIcon(element.item.kind)));
        template.label.setLabel(element.item.name, element.item.detail, { labelEscapeNewLines: true, matches: (0,vscode_vscode_vs_base_common_filters__WEBPACK_IMPORTED_MODULE_2__.createMatches)(filterData), strikethrough: deprecated });
    }
    disposeTemplate(template) {
        template.label.dispose();
    }
}
class VirtualDelegate {
    getHeight(_element) {
        return 22;
    }
    getTemplateId(_element) {
        return CallRenderer.id;
    }
}
class AccessibilityProvider {
    constructor(getDirection) {
        this.getDirection = getDirection;
    }
    getWidgetAriaLabel() {
        return ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(11356, "Call Hierarchy"));
    }
    getAriaLabel(element) {
        if (this.getDirection() === "outgoingCalls" ) {
            return ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(11357, "calls from {0}", element.item.name));
        }
        else {
            return ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(11358, "callers of {0}", element.item.name));
        }
    }
}




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/callHierarchy/browser/media/callHierarchy.css.js":
/*!*************************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/callHierarchy/browser/media/callHierarchy.css.js ***!
  \*************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ css),
/* harmony export */   "default": () => (/* binding */ css)
/* harmony export */ });
/* harmony import */ var vscode_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js */ "./node_modules/vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js");


var css = ".monaco-workbench .call-hierarchy .message,.monaco-workbench .call-hierarchy .results{display:none}.monaco-workbench .call-hierarchy[data-state=data] .results{display:inherit;height:100%}.monaco-workbench .call-hierarchy[data-state=message] .message{align-items:center;display:flex;height:100%;justify-content:center}.monaco-workbench .call-hierarchy .editor,.monaco-workbench .call-hierarchy .tree{height:100%}.monaco-editor .call-hierarchy .tree{background-color:var(--vscode-peekViewResult-background);color:var(--vscode-peekViewResult-fileForeground)}.monaco-workbench .call-hierarchy .tree .callhierarchy-element{align-items:center;display:flex;flex:1;flex-flow:row nowrap}.monaco-workbench .call-hierarchy .tree .callhierarchy-element .monaco-icon-label{padding-left:4px}.monaco-editor .call-hierarchy .tree .monaco-list:focus .monaco-list-rows>.monaco-list-row.selected:not(.highlighted){background-color:var(--vscode-peekViewResult-selectionBackground);color:var(--vscode-peekViewResult-selectionForeground)!important}.monaco-editor .call-hierarchy .call-decoration{background-color:var(--vscode-peekViewEditor-matchHighlightBackground);border:2px solid var(--vscode-peekViewEditor-matchHighlightBorder);box-sizing:border-box}.monaco-editor .call-hierarchy .editor .monaco-editor .inputarea.ime-input,.monaco-editor .call-hierarchy .editor .monaco-editor .monaco-editor-background{background-color:var(--vscode-peekViewEditor-background)}.monaco-editor .call-hierarchy .editor .monaco-editor .margin{background-color:var(--vscode-peekViewEditorGutter-background)}";
(0,vscode_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__["default"])(css,{});




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/customEditor/browser/customEditor.contribution.js":
/*!**************************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/customEditor/browser/customEditor.contribution.js ***!
  \**************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/descriptors */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/descriptors.js");
/* harmony import */ var vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/platform/registry/common/platform */ "./node_modules/vscode/vscode/src/vs/platform/registry/common/platform.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_editor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/editor */ "./node_modules/vscode/vscode/src/vs/workbench/browser/editor.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_contributions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/contributions */ "./node_modules/vscode/vscode/src/vs/workbench/common/contributions.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/editor */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor.js");
/* harmony import */ var _customEditorInputFactory_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./customEditorInputFactory.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/customEditor/browser/customEditorInputFactory.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_webviewPanel_browser_webviewEditor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/webviewPanel/browser/webviewEditor */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/webviewPanel/browser/webviewEditor.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_customEditor_browser_customEditorInput__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/customEditor/browser/customEditorInput */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/customEditor/browser/customEditorInput.js");
/* harmony import */ var _customEditors_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./customEditors.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/customEditor/browser/customEditors.js");











( vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_1__.Registry.as(vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_4__.EditorExtensions.EditorPane))
    .registerEditorPane(vscode_vscode_vs_workbench_browser_editor__WEBPACK_IMPORTED_MODULE_2__.EditorPaneDescriptor.create(vscode_vscode_vs_workbench_contrib_webviewPanel_browser_webviewEditor__WEBPACK_IMPORTED_MODULE_7__.WebviewEditor, vscode_vscode_vs_workbench_contrib_webviewPanel_browser_webviewEditor__WEBPACK_IMPORTED_MODULE_7__.WebviewEditor.ID, 'Webview Editor'), [
    ( new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_0__.SyncDescriptor(vscode_vscode_vs_workbench_contrib_customEditor_browser_customEditorInput__WEBPACK_IMPORTED_MODULE_8__.CustomEditorInput))
]);
( vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_1__.Registry.as(vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_4__.EditorExtensions.EditorFactory))
    .registerEditorSerializer(_customEditorInputFactory_js__WEBPACK_IMPORTED_MODULE_5__.CustomEditorInputSerializer.ID, _customEditorInputFactory_js__WEBPACK_IMPORTED_MODULE_5__.CustomEditorInputSerializer);
(0,vscode_vscode_vs_workbench_common_contributions__WEBPACK_IMPORTED_MODULE_3__.registerWorkbenchContribution2)(_customEditorInputFactory_js__WEBPACK_IMPORTED_MODULE_5__.ComplexCustomWorkingCopyEditorHandler.ID, _customEditorInputFactory_js__WEBPACK_IMPORTED_MODULE_5__.ComplexCustomWorkingCopyEditorHandler, 1 );


/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/customEditor/browser/customEditorInputFactory.js":
/*!*************************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/customEditor/browser/customEditorInputFactory.js ***!
  \*************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ComplexCustomWorkingCopyEditorHandler: () => (/* binding */ ComplexCustomWorkingCopyEditorHandler),
/* harmony export */   CustomEditorInputSerializer: () => (/* binding */ CustomEditorInputSerializer)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/common/network */ "./node_modules/vscode/vscode/src/vs/base/common/network.js");
/* harmony import */ var vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/common/resources */ "./node_modules/vscode/vscode/src/vs/base/common/resources.js");
/* harmony import */ var vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/base/common/uri */ "./node_modules/vscode/vscode/src/vs/base/common/uri.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_customEditor_browser_customEditorInput__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/customEditor/browser/customEditorInput */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/customEditor/browser/customEditorInput.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_customEditor_common_customEditor_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/customEditor/common/customEditor.service */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/customEditor/common/customEditor.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_notebook_common_notebookEditorInput__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/notebook/common/notebookEditorInput */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/notebook/common/notebookEditorInput.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_webview_browser_webview_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/webview/browser/webview.service */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/webview/browser/webview.service.js");
/* harmony import */ var _webviewPanel_browser_webviewEditorInputSerializer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../webviewPanel/browser/webviewEditorInputSerializer.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/webviewPanel/browser/webviewEditorInputSerializer.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_webviewPanel_browser_webviewWorkbenchService_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/webviewPanel/browser/webviewWorkbenchService.service */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/webviewPanel/browser/webviewWorkbenchService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_workingCopy_common_workingCopyBackup_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/workingCopy/common/workingCopyBackup.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/workingCopy/common/workingCopyBackup.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_workingCopy_common_workingCopyEditorService_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/workingCopy/common/workingCopyEditorService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/workingCopy/common/workingCopyEditorService.service.js");















let CustomEditorInputSerializer = class CustomEditorInputSerializer extends _webviewPanel_browser_webviewEditorInputSerializer_js__WEBPACK_IMPORTED_MODULE_10__.WebviewEditorInputSerializer {
    static { this.ID = vscode_vscode_vs_workbench_contrib_customEditor_browser_customEditorInput__WEBPACK_IMPORTED_MODULE_6__.CustomEditorInput.typeId; }
    constructor(webviewWorkbenchService, _instantiationService, _webviewService) {
        super(webviewWorkbenchService);
        this._instantiationService = _instantiationService;
        this._webviewService = _webviewService;
    }
    serialize(input) {
        const dirty = input.isDirty();
        const data = {
            ...this.toJson(input),
            editorResource: input.resource.toJSON(),
            dirty,
            backupId: dirty ? input.backupId : undefined,
        };
        try {
            return JSON.stringify(data);
        }
        catch {
            return undefined;
        }
    }
    fromJson(data) {
        return {
            ...super.fromJson(data),
            editorResource: ( vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_4__.URI.from(data.editorResource)),
            dirty: data.dirty,
        };
    }
    deserialize(_instantiationService, serializedEditorInput) {
        const data = this.fromJson(JSON.parse(serializedEditorInput));
        const webview = reviveWebview(this._webviewService, data);
        const customInput = this._instantiationService.createInstance(vscode_vscode_vs_workbench_contrib_customEditor_browser_customEditorInput__WEBPACK_IMPORTED_MODULE_6__.CustomEditorInput, { resource: data.editorResource, viewType: data.viewType }, webview, { startsDirty: data.dirty, backupId: data.backupId });
        if (typeof data.group === 'number') {
            customInput.updateGroup(data.group);
        }
        return customInput;
    }
};
CustomEditorInputSerializer = ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_workbench_contrib_webviewPanel_browser_webviewWorkbenchService_service__WEBPACK_IMPORTED_MODULE_11__.IWebviewWorkbenchService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_5__.IInstantiationService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_workbench_contrib_webview_browser_webview_service__WEBPACK_IMPORTED_MODULE_9__.IWebviewService))
], CustomEditorInputSerializer));
function reviveWebview(webviewService, data) {
    const webview = webviewService.createWebviewOverlay({
        providedViewType: data.viewType,
        origin: data.origin,
        title: undefined,
        options: {
            purpose: "customEditor" ,
            enableFindWidget: data.webviewOptions.enableFindWidget,
            retainContextWhenHidden: data.webviewOptions.retainContextWhenHidden,
        },
        contentOptions: data.contentOptions,
        extension: data.extension,
    });
    webview.state = data.state;
    return webview;
}
let ComplexCustomWorkingCopyEditorHandler = class ComplexCustomWorkingCopyEditorHandler extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_1__.Disposable {
    static { this.ID = 'workbench.contrib.complexCustomWorkingCopyEditorHandler'; }
    constructor(_instantiationService, _workingCopyEditorService, _workingCopyBackupService, _webviewService, _customEditorService
    ) {
        super();
        this._instantiationService = _instantiationService;
        this._workingCopyBackupService = _workingCopyBackupService;
        this._webviewService = _webviewService;
        this._register(_workingCopyEditorService.registerHandler(this));
    }
    handles(workingCopy) {
        return workingCopy.resource.scheme === vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_2__.Schemas.vscodeCustomEditor;
    }
    isOpen(workingCopy, editor) {
        if (!this.handles(workingCopy)) {
            return false;
        }
        if (workingCopy.resource.authority === 'jupyter-notebook-ipynb' && editor instanceof vscode_vscode_vs_workbench_contrib_notebook_common_notebookEditorInput__WEBPACK_IMPORTED_MODULE_8__.NotebookEditorInput) {
            try {
                const data = JSON.parse(workingCopy.resource.query);
                const workingCopyResource = ( vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_4__.URI.from(data));
                return (0,vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_3__.isEqual)(workingCopyResource, editor.resource);
            }
            catch {
                return false;
            }
        }
        if (!(editor instanceof vscode_vscode_vs_workbench_contrib_customEditor_browser_customEditorInput__WEBPACK_IMPORTED_MODULE_6__.CustomEditorInput)) {
            return false;
        }
        if (workingCopy.resource.authority !== editor.viewType.replace(/[^a-z0-9\-_]/gi, '-').toLowerCase()) {
            return false;
        }
        try {
            const data = JSON.parse(workingCopy.resource.query);
            const workingCopyResource = ( vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_4__.URI.from(data));
            return (0,vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_3__.isEqual)(workingCopyResource, editor.resource);
        }
        catch {
            return false;
        }
    }
    async createEditor(workingCopy) {
        const backup = await this._workingCopyBackupService.resolve(workingCopy);
        if (!backup?.meta) {
            throw ( new Error(`No backup found for custom editor: ${workingCopy.resource}`));
        }
        const backupData = backup.meta;
        const extension = (0,_webviewPanel_browser_webviewEditorInputSerializer_js__WEBPACK_IMPORTED_MODULE_10__.reviveWebviewExtensionDescription)(backupData.extension?.id, backupData.extension?.location);
        const webview = reviveWebview(this._webviewService, {
            viewType: backupData.viewType,
            origin: backupData.webview.origin,
            webviewOptions: (0,_webviewPanel_browser_webviewEditorInputSerializer_js__WEBPACK_IMPORTED_MODULE_10__.restoreWebviewOptions)(backupData.webview.options),
            contentOptions: (0,_webviewPanel_browser_webviewEditorInputSerializer_js__WEBPACK_IMPORTED_MODULE_10__.restoreWebviewContentOptions)(backupData.webview.options),
            state: backupData.webview.state,
            extension,
        });
        const editor = this._instantiationService.createInstance(vscode_vscode_vs_workbench_contrib_customEditor_browser_customEditorInput__WEBPACK_IMPORTED_MODULE_6__.CustomEditorInput, { resource: vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_4__.URI.revive(backupData.editorResource), viewType: backupData.viewType }, webview, { backupId: backupData.backupId });
        editor.updateGroup(0);
        return editor;
    }
};
ComplexCustomWorkingCopyEditorHandler = ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_5__.IInstantiationService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_workbench_services_workingCopy_common_workingCopyEditorService_service__WEBPACK_IMPORTED_MODULE_13__.IWorkingCopyEditorService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_workbench_services_workingCopy_common_workingCopyBackup_service__WEBPACK_IMPORTED_MODULE_12__.IWorkingCopyBackupService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_workbench_contrib_webview_browser_webview_service__WEBPACK_IMPORTED_MODULE_9__.IWebviewService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_workbench_contrib_customEditor_common_customEditor_service__WEBPACK_IMPORTED_MODULE_7__.ICustomEditorService))
], ComplexCustomWorkingCopyEditorHandler));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/customEditor/browser/customEditors.js":
/*!**************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/customEditor/browser/customEditors.js ***!
  \**************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CustomEditorService: () => (/* binding */ CustomEditorService)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _media_customEditor_css_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./media/customEditor.css.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/customEditor/browser/media/customEditor.css.js");
/* harmony import */ var vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/common/arrays */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/base/common/network */ "./node_modules/vscode/vscode/src/vs/base/common/network.js");
/* harmony import */ var vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/base/common/resources */ "./node_modules/vscode/vscode/src/vs/base/common/resources.js");
/* harmony import */ var vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/base/common/types */ "./node_modules/vscode/vscode/src/vs/base/common/types.js");
/* harmony import */ var vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/base/common/uri */ "./node_modules/vscode/vscode/src/vs/base/common/uri.js");
/* harmony import */ var vscode_vscode_vs_editor_browser_editorExtensions__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/editor/browser/editorExtensions */ "./node_modules/vscode/vscode/src/vs/editor/browser/editorExtensions.js");
/* harmony import */ var vscode_vscode_vs_platform_files_common_files_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/platform/files/common/files.service */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.service.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/platform/registry/common/platform */ "./node_modules/vscode/vscode/src/vs/platform/registry/common/platform.js");
/* harmony import */ var vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/platform/storage/common/storage.service */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var vscode_vscode_vs_platform_uriIdentity_common_uriIdentity_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/platform/uriIdentity/common/uriIdentity.service */ "./node_modules/vscode/vscode/src/vs/platform/uriIdentity/common/uriIdentity.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/editor */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_editor_diffEditorInput__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/editor/diffEditorInput */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/diffEditorInput.js");
/* harmony import */ var _common_customEditor_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../common/customEditor.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/customEditor/common/customEditor.js");
/* harmony import */ var _common_customEditorModelManager_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../common/customEditorModelManager.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/customEditor/common/customEditorModelManager.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorGroupsService_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorGroupsService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorGroupsService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorResolverService */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorResolverService.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorResolverService_service__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorResolverService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorResolverService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");
/* harmony import */ var _common_contributedCustomEditors_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../common/contributedCustomEditors.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/customEditor/common/contributedCustomEditors.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_customEditor_browser_customEditorInput__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/customEditor/browser/customEditorInput */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/customEditor/browser/customEditorInput.js");


























let CustomEditorService = class CustomEditorService extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__.Disposable {
    constructor(fileService, storageService, editorService, editorGroupService, instantiationService, uriIdentityService, editorResolverService) {
        super();
        this.editorService = editorService;
        this.editorGroupService = editorGroupService;
        this.instantiationService = instantiationService;
        this.uriIdentityService = uriIdentityService;
        this.editorResolverService = editorResolverService;
        this._untitledCounter = 0;
        this._editorResolverDisposables = this._register(( new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__.DisposableStore()));
        this._editorCapabilities = ( new Map());
        this._models = ( new _common_customEditorModelManager_js__WEBPACK_IMPORTED_MODULE_18__.CustomEditorModelManager());
        this._onDidChangeEditorTypes = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__.Emitter()));
        this.onDidChangeEditorTypes = this._onDidChangeEditorTypes.event;
        this._fileEditorFactory = ( vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_12__.Registry.as(vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_15__.EditorExtensions.EditorFactory)).getFileEditorFactory();
        this._contributedEditors = this._register(( new _common_contributedCustomEditors_js__WEBPACK_IMPORTED_MODULE_23__.ContributedCustomEditors(storageService)));
        this.editorResolverService.bufferChangeEvents(this.registerContributionPoints.bind(this));
        this._register(this._contributedEditors.onChange(() => {
            this.editorResolverService.bufferChangeEvents(this.registerContributionPoints.bind(this));
            this._onDidChangeEditorTypes.fire();
        }));
        const activeCustomEditorContextKeyProvider = {
            contextKey: _common_customEditor_js__WEBPACK_IMPORTED_MODULE_17__.CONTEXT_ACTIVE_CUSTOM_EDITOR_ID,
            getGroupContextKeyValue: group => this.getActiveCustomEditorId(group),
            onDidChange: this.onDidChangeEditorTypes
        };
        const customEditorIsEditableContextKeyProvider = {
            contextKey: _common_customEditor_js__WEBPACK_IMPORTED_MODULE_17__.CONTEXT_FOCUSED_CUSTOM_EDITOR_IS_EDITABLE,
            getGroupContextKeyValue: group => this.getCustomEditorIsEditable(group),
            onDidChange: this.onDidChangeEditorTypes
        };
        this._register(this.editorGroupService.registerContextKeyProvider(activeCustomEditorContextKeyProvider));
        this._register(this.editorGroupService.registerContextKeyProvider(customEditorIsEditableContextKeyProvider));
        this._register(fileService.onDidRunOperation(e => {
            if (e.isOperation(2 )) {
                this.handleMovedFileInOpenedFileEditors(e.resource, this.uriIdentityService.asCanonicalUri(e.target.resource));
            }
        }));
        const PRIORITY = 105;
        this._register(vscode_vscode_vs_editor_browser_editorExtensions__WEBPACK_IMPORTED_MODULE_9__.UndoCommand.addImplementation(PRIORITY, 'custom-editor', () => {
            return this.withActiveCustomEditor(editor => editor.undo());
        }));
        this._register(vscode_vscode_vs_editor_browser_editorExtensions__WEBPACK_IMPORTED_MODULE_9__.RedoCommand.addImplementation(PRIORITY, 'custom-editor', () => {
            return this.withActiveCustomEditor(editor => editor.redo());
        }));
    }
    getEditorTypes() {
        return [...this._contributedEditors];
    }
    withActiveCustomEditor(f) {
        const activeEditor = this.editorService.activeEditor;
        if (activeEditor instanceof vscode_vscode_vs_workbench_contrib_customEditor_browser_customEditorInput__WEBPACK_IMPORTED_MODULE_24__.CustomEditorInput) {
            const result = f(activeEditor);
            if (result) {
                return result;
            }
            return true;
        }
        return false;
    }
    registerContributionPoints() {
        this._editorResolverDisposables.clear();
        for (const contributedEditor of this._contributedEditors) {
            for (const globPattern of contributedEditor.selector) {
                if (!globPattern.filenamePattern) {
                    continue;
                }
                this._editorResolverDisposables.add(this.editorResolverService.registerEditor(globPattern.filenamePattern, {
                    id: contributedEditor.id,
                    label: contributedEditor.displayName,
                    detail: contributedEditor.providerDisplayName,
                    priority: contributedEditor.priority,
                }, {
                    singlePerResource: () => !(this.getCustomEditorCapabilities(contributedEditor.id)?.supportsMultipleEditorsPerDocument ?? false)
                }, {
                    createEditorInput: ({ resource }, group) => {
                        return { editor: vscode_vscode_vs_workbench_contrib_customEditor_browser_customEditorInput__WEBPACK_IMPORTED_MODULE_24__.CustomEditorInput.create(this.instantiationService, resource, contributedEditor.id, group.id) };
                    },
                    createUntitledEditorInput: ({ resource }, group) => {
                        return { editor: vscode_vscode_vs_workbench_contrib_customEditor_browser_customEditorInput__WEBPACK_IMPORTED_MODULE_24__.CustomEditorInput.create(this.instantiationService, resource ?? ( vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_8__.URI.from(
                            { scheme: vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_5__.Schemas.untitled, authority: `Untitled-${this._untitledCounter++}` }
                        )), contributedEditor.id, group.id) };
                    },
                    createDiffEditorInput: (diffEditorInput, group) => {
                        return { editor: this.createDiffEditorInput(diffEditorInput, contributedEditor.id, group) };
                    },
                }));
            }
        }
    }
    createDiffEditorInput(editor, editorID, group) {
        const modifiedOverride = vscode_vscode_vs_workbench_contrib_customEditor_browser_customEditorInput__WEBPACK_IMPORTED_MODULE_24__.CustomEditorInput.create(this.instantiationService, (0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_7__.assertIsDefined)(editor.modified.resource), editorID, group.id, { customClasses: 'modified' });
        const originalOverride = vscode_vscode_vs_workbench_contrib_customEditor_browser_customEditorInput__WEBPACK_IMPORTED_MODULE_24__.CustomEditorInput.create(this.instantiationService, (0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_7__.assertIsDefined)(editor.original.resource), editorID, group.id, { customClasses: 'original' });
        return this.instantiationService.createInstance(vscode_vscode_vs_workbench_common_editor_diffEditorInput__WEBPACK_IMPORTED_MODULE_16__.DiffEditorInput, editor.label, editor.description, originalOverride, modifiedOverride, true);
    }
    get models() { return this._models; }
    getCustomEditor(viewType) {
        return this._contributedEditors.get(viewType);
    }
    getContributedCustomEditors(resource) {
        return ( new _common_customEditor_js__WEBPACK_IMPORTED_MODULE_17__.CustomEditorInfoCollection(this._contributedEditors.getContributedEditors(resource)));
    }
    getUserConfiguredCustomEditors(resource) {
        const resourceAssocations = this.editorResolverService.getAssociationsForResource(resource);
        return ( new _common_customEditor_js__WEBPACK_IMPORTED_MODULE_17__.CustomEditorInfoCollection((0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_2__.coalesce)(( resourceAssocations
            .map(association => this._contributedEditors.get(association.viewType))))));
    }
    getAllCustomEditors(resource) {
        return ( new _common_customEditor_js__WEBPACK_IMPORTED_MODULE_17__.CustomEditorInfoCollection([
            ...this.getUserConfiguredCustomEditors(resource).allEditors,
            ...this.getContributedCustomEditors(resource).allEditors,
        ]));
    }
    registerCustomEditorCapabilities(viewType, options) {
        if (( this._editorCapabilities.has(viewType))) {
            throw ( new Error(`Capabilities for ${viewType} already set`));
        }
        this._editorCapabilities.set(viewType, options);
        return (0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__.toDisposable)(() => {
            this._editorCapabilities.delete(viewType);
        });
    }
    getCustomEditorCapabilities(viewType) {
        return this._editorCapabilities.get(viewType);
    }
    getActiveCustomEditorId(group) {
        const activeEditorPane = group.activeEditorPane;
        const resource = activeEditorPane?.input?.resource;
        if (!resource) {
            return '';
        }
        return activeEditorPane?.input instanceof vscode_vscode_vs_workbench_contrib_customEditor_browser_customEditorInput__WEBPACK_IMPORTED_MODULE_24__.CustomEditorInput ? activeEditorPane.input.viewType : '';
    }
    getCustomEditorIsEditable(group) {
        const activeEditorPane = group.activeEditorPane;
        const resource = activeEditorPane?.input?.resource;
        if (!resource) {
            return false;
        }
        return activeEditorPane?.input instanceof vscode_vscode_vs_workbench_contrib_customEditor_browser_customEditorInput__WEBPACK_IMPORTED_MODULE_24__.CustomEditorInput;
    }
    async handleMovedFileInOpenedFileEditors(oldResource, newResource) {
        if ((0,vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_6__.extname)(oldResource).toLowerCase() === (0,vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_6__.extname)(newResource).toLowerCase()) {
            return;
        }
        const possibleEditors = this.getAllCustomEditors(newResource);
        if (!( possibleEditors.allEditors.some(editor => editor.priority !== vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_20__.RegisteredEditorPriority.option))) {
            return;
        }
        const editorsToReplace = ( new Map());
        for (const group of this.editorGroupService.groups) {
            for (const editor of group.editors) {
                if (this._fileEditorFactory.isFileEditor(editor)
                    && !(editor instanceof vscode_vscode_vs_workbench_contrib_customEditor_browser_customEditorInput__WEBPACK_IMPORTED_MODULE_24__.CustomEditorInput)
                    && (0,vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_6__.isEqual)(editor.resource, newResource)) {
                    let entry = editorsToReplace.get(group.id);
                    if (!entry) {
                        entry = [];
                        editorsToReplace.set(group.id, entry);
                    }
                    entry.push(editor);
                }
            }
        }
        if (!editorsToReplace.size) {
            return;
        }
        for (const [group, entries] of editorsToReplace) {
            this.editorService.replaceEditors(( entries.map(editor => {
                let replacement;
                if (possibleEditors.defaultEditor) {
                    const viewType = possibleEditors.defaultEditor.id;
                    replacement = vscode_vscode_vs_workbench_contrib_customEditor_browser_customEditorInput__WEBPACK_IMPORTED_MODULE_24__.CustomEditorInput.create(this.instantiationService, newResource, viewType, group);
                }
                else {
                    replacement = { resource: newResource, options: { override: vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_15__.DEFAULT_EDITOR_ASSOCIATION.id } };
                }
                return {
                    editor,
                    replacement,
                    options: {
                        preserveFocus: true,
                    }
                };
            })), group);
        }
    }
};
CustomEditorService = ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_platform_files_common_files_service__WEBPACK_IMPORTED_MODULE_10__.IFileService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_13__.IStorageService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_22__.IEditorService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_workbench_services_editor_common_editorGroupsService_service__WEBPACK_IMPORTED_MODULE_19__.IEditorGroupsService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_11__.IInstantiationService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, vscode_vscode_vs_platform_uriIdentity_common_uriIdentity_service__WEBPACK_IMPORTED_MODULE_14__.IUriIdentityService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, vscode_vscode_vs_workbench_services_editor_common_editorResolverService_service__WEBPACK_IMPORTED_MODULE_21__.IEditorResolverService))
], CustomEditorService));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/customEditor/browser/media/customEditor.css.js":
/*!***********************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/customEditor/browser/media/customEditor.css.js ***!
  \***********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ css),
/* harmony export */   "default": () => (/* binding */ css)
/* harmony export */ });
/* harmony import */ var vscode_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js */ "./node_modules/vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js");


var css = ".webview.modified{box-shadow:-6px 0 5px -5px var(--vscode-scrollbar-shadow)}";
(0,vscode_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__["default"])(css,{});




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/customEditor/common/contributedCustomEditors.js":
/*!************************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/customEditor/common/contributedCustomEditors.js ***!
  \************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ContributedCustomEditors: () => (/* binding */ ContributedCustomEditors)
/* harmony export */ });
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_memento__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/memento */ "./node_modules/vscode/vscode/src/vs/workbench/common/memento.js");
/* harmony import */ var _customEditor_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./customEditor.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/customEditor/common/customEditor.js");
/* harmony import */ var _extensionPoint_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./extensionPoint.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/customEditor/common/extensionPoint.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorResolverService */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorResolverService.js");








class ContributedCustomEditors extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_1__.Disposable {
    static { this.CUSTOM_EDITORS_STORAGE_ID = 'customEditors'; }
    static { this.CUSTOM_EDITORS_ENTRY_ID = 'editors'; }
    constructor(storageService) {
        super();
        this._editors = ( (new Map()));
        this._onChange = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_0__.Emitter())));
        this.onChange = this._onChange.event;
        this._memento = ( (new vscode_vscode_vs_workbench_common_memento__WEBPACK_IMPORTED_MODULE_3__.Memento(ContributedCustomEditors.CUSTOM_EDITORS_STORAGE_ID, storageService)));
        const mementoObject = this._memento.getMemento(0 , 1 );
        for (const info of (mementoObject[ContributedCustomEditors.CUSTOM_EDITORS_ENTRY_ID] || [])) {
            this.add(( (new _customEditor_js__WEBPACK_IMPORTED_MODULE_4__.CustomEditorInfo(info))));
        }
        _extensionPoint_js__WEBPACK_IMPORTED_MODULE_5__.customEditorsExtensionPoint.setHandler(extensions => {
            this.update(extensions);
        });
    }
    update(extensions) {
        this._editors.clear();
        for (const extension of extensions) {
            for (const webviewEditorContribution of extension.value) {
                this.add(( (new _customEditor_js__WEBPACK_IMPORTED_MODULE_4__.CustomEditorInfo({
                    id: webviewEditorContribution.viewType,
                    displayName: webviewEditorContribution.displayName,
                    providerDisplayName: extension.description.isBuiltin ? ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__.localize)(9618, "Built-in")) : extension.description.displayName || extension.description.identifier.value,
                    selector: webviewEditorContribution.selector || [],
                    priority: getPriorityFromContribution(webviewEditorContribution, extension.description),
                }))));
            }
        }
        const mementoObject = this._memento.getMemento(0 , 1 );
        mementoObject[ContributedCustomEditors.CUSTOM_EDITORS_ENTRY_ID] = Array.from(( (this._editors.values())));
        this._memento.saveMemento();
        this._onChange.fire();
    }
    [Symbol.iterator]() {
        return (
             (this._editors.values())
        );
    }
    get(viewType) {
        return this._editors.get(viewType);
    }
    getContributedEditors(resource) {
        return Array.from(( (this._editors.values())))
            .filter(customEditor => customEditor.matches(resource));
    }
    add(info) {
        if (( (this._editors.has(info.id)))) {
            console.error(`Custom editor with id '${info.id}' already registered`);
            return;
        }
        this._editors.set(info.id, info);
    }
}
function getPriorityFromContribution(contribution, extension) {
    switch (contribution.priority) {
        case vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_6__.RegisteredEditorPriority.default:
        case vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_6__.RegisteredEditorPriority.option:
            return contribution.priority;
        case vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_6__.RegisteredEditorPriority.builtin:
            return extension.isBuiltin ? vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_6__.RegisteredEditorPriority.builtin : vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_6__.RegisteredEditorPriority.default;
        default:
            return vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_6__.RegisteredEditorPriority.default;
    }
}




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/customEditor/common/customEditor.js":
/*!************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/customEditor/common/customEditor.js ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CONTEXT_ACTIVE_CUSTOM_EDITOR_ID: () => (/* binding */ CONTEXT_ACTIVE_CUSTOM_EDITOR_ID),
/* harmony export */   CONTEXT_FOCUSED_CUSTOM_EDITOR_IS_EDITABLE: () => (/* binding */ CONTEXT_FOCUSED_CUSTOM_EDITOR_IS_EDITABLE),
/* harmony export */   CustomEditorInfo: () => (/* binding */ CustomEditorInfo),
/* harmony export */   CustomEditorInfoCollection: () => (/* binding */ CustomEditorInfoCollection)
/* harmony export */ });
/* harmony import */ var vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/base/common/arrays */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorResolverService */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorResolverService.js");





const CONTEXT_ACTIVE_CUSTOM_EDITOR_ID = ( (new vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_2__.RawContextKey('activeCustomEditorId', '', {
    type: 'string',
    description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(9617, "The viewType of the currently active custom editor.")),
})));
const CONTEXT_FOCUSED_CUSTOM_EDITOR_IS_EDITABLE = ( (new vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_2__.RawContextKey('focusedCustomEditorIsEditable', false)));
class CustomEditorInfo {
    constructor(descriptor) {
        this.id = descriptor.id;
        this.displayName = descriptor.displayName;
        this.providerDisplayName = descriptor.providerDisplayName;
        this.priority = descriptor.priority;
        this.selector = descriptor.selector;
    }
    matches(resource) {
        return (
             (this.selector.some(
                selector => selector.filenamePattern && (0,vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_3__.globMatchesResource)(selector.filenamePattern, resource)
            ))
        );
    }
}
class CustomEditorInfoCollection {
    constructor(editors) {
        this.allEditors = (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_0__.distinct)(editors, editor => editor.id);
    }
    get length() { return this.allEditors.length; }
    get defaultEditor() {
        return this.allEditors.find(editor => {
            switch (editor.priority) {
                case vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_3__.RegisteredEditorPriority.default:
                case vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_3__.RegisteredEditorPriority.builtin:
                    return this.allEditors.every(otherEditor => otherEditor === editor || isLowerPriority(otherEditor, editor));
                default:
                    return false;
            }
        });
    }
    get bestAvailableEditor() {
        const editors = Array.from(this.allEditors).sort((a, b) => {
            return (0,vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_3__.priorityToRank)(a.priority) - (0,vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_3__.priorityToRank)(b.priority);
        });
        return editors[0];
    }
}
function isLowerPriority(otherEditor, editor) {
    return (0,vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_3__.priorityToRank)(otherEditor.priority) < (0,vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_3__.priorityToRank)(editor.priority);
}




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/customEditor/common/customEditorModelManager.js":
/*!************************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/customEditor/common/customEditorModelManager.js ***!
  \************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CustomEditorModelManager: () => (/* binding */ CustomEditorModelManager)
/* harmony export */ });
/* harmony import */ var vscode_vscode_vs_base_common_functional__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/base/common/functional */ "./node_modules/vscode/vscode/src/vs/base/common/functional.js");


class CustomEditorModelManager {
    constructor() {
        this._references = ( new Map());
    }
    async getAllModels(resource) {
        const keyStart = `${( resource.toString())}@@@`;
        const models = [];
        for (const [key, entry] of this._references) {
            if (key.startsWith(keyStart) && entry.model) {
                models.push(await entry.model);
            }
        }
        return models;
    }
    async get(resource, viewType) {
        const key = this.key(resource, viewType);
        const entry = this._references.get(key);
        return entry?.model;
    }
    tryRetain(resource, viewType) {
        const key = this.key(resource, viewType);
        const entry = this._references.get(key);
        if (!entry) {
            return undefined;
        }
        entry.counter++;
        return entry.model.then(model => {
            return {
                object: model,
                dispose: (0,vscode_vscode_vs_base_common_functional__WEBPACK_IMPORTED_MODULE_0__.createSingleCallFunction)(() => {
                    if (--entry.counter <= 0) {
                        entry.model.then(x => x.dispose());
                        this._references.delete(key);
                    }
                }),
            };
        });
    }
    add(resource, viewType, model) {
        const key = this.key(resource, viewType);
        const existing = this._references.get(key);
        if (existing) {
            throw ( new Error('Model already exists'));
        }
        this._references.set(key, { viewType, model, counter: 0 });
        return this.tryRetain(resource, viewType);
    }
    disposeAllModelsForView(viewType) {
        for (const [key, value] of this._references) {
            if (value.viewType === viewType) {
                value.model.then(x => x.dispose());
                this._references.delete(key);
            }
        }
    }
    key(resource, viewType) {
        return `${( resource.toString())}@@@${viewType}`;
    }
}




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/customEditor/common/extensionPoint.js":
/*!**************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/customEditor/common/extensionPoint.js ***!
  \**************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   customEditorsExtensionPoint: () => (/* binding */ customEditorsExtensionPoint)
/* harmony export */ });
/* harmony import */ var vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/base/common/arrays */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/descriptors */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/descriptors.js");
/* harmony import */ var vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/platform/registry/common/platform */ "./node_modules/vscode/vscode/src/vs/platform/registry/common/platform.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_extensionManagement_common_extensionFeatures__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/extensionManagement/common/extensionFeatures */ "./node_modules/vscode/vscode/src/vs/workbench/services/extensionManagement/common/extensionFeatures.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_extensions_common_extensionsRegistry__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/extensions/common/extensionsRegistry */ "./node_modules/vscode/vscode/src/vs/workbench/services/extensions/common/extensionsRegistry.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_language_common_languageService__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/language/common/languageService */ "./node_modules/vscode/vscode/src/vs/workbench/services/language/common/languageService.js");









const Fields = ( (Object.freeze({
    viewType: 'viewType',
    displayName: 'displayName',
    selector: 'selector',
    priority: 'priority',
})));
const CustomEditorsContribution = {
    description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__.localize)(11344, 'Contributed custom editors.')),
    type: 'array',
    defaultSnippets: [{
            body: [{
                    [Fields.viewType]: '$1',
                    [Fields.displayName]: '$2',
                    [Fields.selector]: [{
                            filenamePattern: '$3'
                        }],
                }]
        }],
    items: {
        type: 'object',
        required: [
            Fields.viewType,
            Fields.displayName,
            Fields.selector,
        ],
        properties: {
            [Fields.viewType]: {
                type: 'string',
                markdownDescription: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__.localize)(
                    11345,
                    'Identifier for the custom editor. This must be unique across all custom editors, so we recommend including your extension id as part of `viewType`. The `viewType` is used when registering custom editors with `vscode.registerCustomEditorProvider` and in the `onCustomEditor:${id}` [activation event](https://code.visualstudio.com/api/references/activation-events).'
                )),
            },
            [Fields.displayName]: {
                type: 'string',
                description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__.localize)(
                    11346,
                    'Human readable name of the custom editor. This is displayed to users when selecting which editor to use.'
                )),
            },
            [Fields.selector]: {
                type: 'array',
                description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__.localize)(11347, 'Set of globs that the custom editor is enabled for.')),
                items: {
                    type: 'object',
                    defaultSnippets: [{
                            body: {
                                filenamePattern: '$1',
                            }
                        }],
                    properties: {
                        filenamePattern: {
                            type: 'string',
                            description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__.localize)(11348, 'Glob that the custom editor is enabled for.')),
                        },
                    }
                }
            },
            [Fields.priority]: {
                type: 'string',
                markdownDeprecationMessage: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__.localize)(
                    11349,
                    'Controls if the custom editor is enabled automatically when the user opens a file. This may be overridden by users using the `workbench.editorAssociations` setting.'
                )),
                enum: [
                    "default" ,
                    "option" ,
                ],
                markdownEnumDescriptions: [
                    ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__.localize)(
                        11350,
                        'The editor is automatically used when the user opens a resource, provided that no other default custom editors are registered for that resource.'
                    )),
                    ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__.localize)(
                        11351,
                        'The editor is not automatically used when the user opens a resource, but a user can switch to the editor using the `Reopen With` command.'
                    )),
                ],
                default: 'default'
            }
        }
    }
};
const customEditorsExtensionPoint = vscode_vscode_vs_workbench_services_extensions_common_extensionsRegistry__WEBPACK_IMPORTED_MODULE_6__.ExtensionsRegistry.registerExtensionPoint({
    extensionPoint: 'customEditors',
    deps: [vscode_vscode_vs_workbench_services_language_common_languageService__WEBPACK_IMPORTED_MODULE_7__.languagesExtPoint],
    jsonSchema: CustomEditorsContribution,
    activationEventsGenerator: (contribs, result) => {
        for (const contrib of contribs) {
            const viewType = contrib[Fields.viewType];
            if (viewType) {
                result.push(`onCustomEditor:${viewType}`);
            }
        }
    },
});
class CustomEditorsDataRenderer extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_1__.Disposable {
    constructor() {
        super(...arguments);
        this.type = 'table';
    }
    shouldRender(manifest) {
        return !!manifest.contributes?.customEditors;
    }
    render(manifest) {
        const customEditors = manifest.contributes?.customEditors || [];
        if (!customEditors.length) {
            return { data: { headers: [], rows: [] }, dispose: () => { } };
        }
        const headers = [
            ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__.localize)(11352, "View Type")),
            ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__.localize)(11353, "Priority")),
            ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__.localize)(11354, "Filename Pattern")),
        ];
        const rows = ( (customEditors
            .map(customEditor => {
            return [
                customEditor.viewType,
                customEditor.priority ?? '',
                (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_0__.coalesce)(( (customEditor.selector.map(x => x.filenamePattern)))).join(', ')
            ];
        })));
        return {
            data: {
                headers,
                rows
            },
            dispose: () => { }
        };
    }
}
( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_4__.Registry.as(vscode_vscode_vs_workbench_services_extensionManagement_common_extensionFeatures__WEBPACK_IMPORTED_MODULE_5__.Extensions.ExtensionFeaturesRegistry))).registerExtensionFeature({
    id: 'customEditors',
    label: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__.localize)(11355, "Custom Editors")),
    access: {
        canToggle: false
    },
    renderer: ( (new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_3__.SyncDescriptor(CustomEditorsDataRenderer))),
});




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/externalUriOpener/common/externalUriOpener.contribution.js":
/*!***********************************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/externalUriOpener/common/externalUriOpener.contribution.js ***!
  \***********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var vscode_vscode_vs_platform_configuration_common_configurationRegistry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/platform/configuration/common/configurationRegistry */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configurationRegistry.js");
/* harmony import */ var vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/platform/registry/common/platform */ "./node_modules/vscode/vscode/src/vs/platform/registry/common/platform.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_externalUriOpener_common_configuration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/externalUriOpener/common/configuration */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/externalUriOpener/common/configuration.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_externalUriOpener_common_externalUriOpenerService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/externalUriOpener/common/externalUriOpenerService */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/externalUriOpener/common/externalUriOpenerService.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");






( vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_1__.Registry.as(vscode_vscode_vs_platform_configuration_common_configurationRegistry__WEBPACK_IMPORTED_MODULE_0__.Extensions.Configuration))
    .registerConfiguration(vscode_vscode_vs_workbench_contrib_externalUriOpener_common_configuration__WEBPACK_IMPORTED_MODULE_2__.externalUriOpenersConfigurationNode);


/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/languageStatus/browser/languageStatus.contribution.js":
/*!******************************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/languageStatus/browser/languageStatus.contribution.js ***!
  \******************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _media_languageStatus_css_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./media/languageStatus.css.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/languageStatus/browser/media/languageStatus.css.js");
/* harmony import */ var vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/dom */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_iconLabel_iconLabels__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/iconLabel/iconLabels */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/iconLabel/iconLabels.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_base_common_severity__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/base/common/severity */ "./node_modules/vscode/vscode/src/vs/base/common/severity.js");
/* harmony import */ var vscode_vscode_vs_editor_browser_editorBrowser__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/editor/browser/editorBrowser */ "./node_modules/vscode/vscode/src/vs/editor/browser/editorBrowser.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/platform/registry/common/platform */ "./node_modules/vscode/vscode/src/vs/platform/registry/common/platform.js");
/* harmony import */ var vscode_vscode_vs_base_common_themables__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/base/common/themables */ "./node_modules/vscode/vscode/src/vs/base/common/themables.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_contributions__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/contributions */ "./node_modules/vscode/vscode/src/vs/workbench/common/contributions.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_languageStatus_common_languageStatusService_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/languageStatus/common/languageStatusService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/languageStatus/common/languageStatusService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_statusbar_browser_statusbar__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/statusbar/browser/statusbar */ "./node_modules/vscode/vscode/src/vs/workbench/services/statusbar/browser/statusbar.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_statusbar_browser_statusbar_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/statusbar/browser/statusbar.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/statusbar/browser/statusbar.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_linkedText__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/base/common/linkedText */ "./node_modules/vscode/vscode/src/vs/base/common/linkedText.js");
/* harmony import */ var vscode_vscode_vs_platform_opener_browser_link__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/platform/opener/browser/link */ "./node_modules/vscode/vscode/src/vs/platform/opener/browser/link.js");
/* harmony import */ var vscode_vscode_vs_platform_opener_common_opener_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/platform/opener/common/opener.service */ "./node_modules/vscode/vscode/src/vs/platform/opener/common/opener.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_htmlContent__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! vscode/vscode/vs/base/common/htmlContent */ "./node_modules/vscode/vscode/src/vs/base/common/htmlContent.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_actionbar_actionbar__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/actionbar/actionbar */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/actionbar/actionbar.js");
/* harmony import */ var vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! vscode/vscode/vs/base/common/actions */ "./node_modules/vscode/vscode/src/vs/base/common/actions.js");
/* harmony import */ var vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! vscode/vscode/vs/base/common/codicons */ "./node_modules/vscode/vscode/src/vs/base/common/codicons.js");
/* harmony import */ var vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! vscode/vscode/vs/platform/storage/common/storage.service */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! vscode/vscode/vs/base/common/arrays */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! vscode/vscode/vs/base/common/uri */ "./node_modules/vscode/vscode/src/vs/base/common/uri.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! vscode/vscode/vs/platform/action/common/actionCommonCategories */ "./node_modules/vscode/vscode/src/vs/platform/action/common/actionCommonCategories.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorGroupsService_service__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorGroupsService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorGroupsService.service.js");
/* harmony import */ var vscode_vscode_vs_platform_hover_browser_hover__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! vscode/vscode/vs/platform/hover/browser/hover */ "./node_modules/vscode/vscode/src/vs/platform/hover/browser/hover.js");
/* harmony import */ var vscode_vscode_vs_platform_hover_browser_hover_service__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! vscode/vscode/vs/platform/hover/browser/hover.service */ "./node_modules/vscode/vscode/src/vs/platform/hover/browser/hover.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
































var LanguageStatus_1;
class LanguageStatusViewModel {
    constructor(combined, dedicated) {
        this.combined = combined;
        this.dedicated = dedicated;
    }
    isEqual(other) {
        return (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_23__.equals)(this.combined, other.combined) && (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_23__.equals)(this.dedicated, other.dedicated);
    }
}
let StoredCounter = class StoredCounter {
    constructor(_storageService, _key) {
        this._storageService = _storageService;
        this._key = _key;
    }
    get value() {
        return this._storageService.getNumber(this._key, 0 , 0);
    }
    increment() {
        const n = this.value + 1;
        this._storageService.store(this._key, n, 0 , 1 );
        return n;
    }
};
StoredCounter = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_22__.IStorageService)))
], StoredCounter)));
let LanguageStatusContribution = class LanguageStatusContribution extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__.Disposable {
    constructor(editorGroupService) {
        super();
        this.editorGroupService = editorGroupService;
        for (const part of editorGroupService.parts) {
            this.createLanguageStatus(part);
        }
        this._register(editorGroupService.onDidCreateAuxiliaryEditorPart(part => this.createLanguageStatus(part)));
    }
    createLanguageStatus(part) {
        const disposables = ( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__.DisposableStore()));
        vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_30__.Event.once(part.onWillDispose)(() => disposables.dispose());
        const scopedInstantiationService = this.editorGroupService.getScopedInstantiationService(part);
        disposables.add(scopedInstantiationService.createInstance(LanguageStatus));
    }
};
LanguageStatusContribution = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_workbench_services_editor_common_editorGroupsService_service__WEBPACK_IMPORTED_MODULE_27__.IEditorGroupsService)))
], LanguageStatusContribution)));
let LanguageStatus = class LanguageStatus {
    static { LanguageStatus_1 = this; }
    static { this._id = 'status.languageStatus'; }
    static { this._keyDedicatedItems = 'languageStatus.dedicated'; }
    constructor(_languageStatusService, _statusBarService, _editorService, _hoverService, _openerService, _storageService) {
        this._languageStatusService = _languageStatusService;
        this._statusBarService = _statusBarService;
        this._editorService = _editorService;
        this._hoverService = _hoverService;
        this._openerService = _openerService;
        this._storageService = _storageService;
        this._disposables = ( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__.DisposableStore()));
        this._dedicated = ( (new Set()));
        this._dedicatedEntries = ( (new Map()));
        this._renderDisposables = ( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__.DisposableStore()));
        _storageService.onDidChangeValue(0 , LanguageStatus_1._keyDedicatedItems, this._disposables)(this._handleStorageChange, this, this._disposables);
        this._restoreState();
        this._interactionCounter = ( (new StoredCounter(_storageService, 'languageStatus.interactCount')));
        _languageStatusService.onDidChange(this._update, this, this._disposables);
        _editorService.onDidActiveEditorChange(this._update, this, this._disposables);
        this._update();
        _statusBarService.onDidChangeEntryVisibility(e => {
            if (!e.visible && ( (this._dedicated.has(e.id)))) {
                this._dedicated.delete(e.id);
                this._update();
                this._storeState();
            }
        }, undefined, this._disposables);
    }
    dispose() {
        this._disposables.dispose();
        this._combinedEntry?.dispose();
        (0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__.dispose)(( (this._dedicatedEntries.values())));
        this._renderDisposables.dispose();
    }
    _handleStorageChange() {
        this._restoreState();
        this._update();
    }
    _restoreState() {
        const raw = this._storageService.get(LanguageStatus_1._keyDedicatedItems, 0 , '[]');
        try {
            const ids = JSON.parse(raw);
            this._dedicated = ( (new Set(ids)));
        }
        catch {
            this._dedicated.clear();
        }
    }
    _storeState() {
        if (this._dedicated.size === 0) {
            this._storageService.remove(LanguageStatus_1._keyDedicatedItems, 0 );
        }
        else {
            const raw = JSON.stringify(Array.from(( (this._dedicated.keys()))));
            this._storageService.store(LanguageStatus_1._keyDedicatedItems, raw, 0 , 0 );
        }
    }
    _createViewModel(editor) {
        if (!editor?.hasModel()) {
            return (
                 (new LanguageStatusViewModel([], []))
            );
        }
        const all = this._languageStatusService.getLanguageStatus(editor.getModel());
        const combined = [];
        const dedicated = [];
        for (const item of all) {
            if (( (this._dedicated.has(item.id)))) {
                dedicated.push(item);
            }
            combined.push(item);
        }
        return (
             (new LanguageStatusViewModel(combined, dedicated))
        );
    }
    _update() {
        const editor = (0,vscode_vscode_vs_editor_browser_editorBrowser__WEBPACK_IMPORTED_MODULE_6__.getCodeEditor)(this._editorService.activeTextEditorControl);
        const model = this._createViewModel(editor);
        if (this._model?.isEqual(model)) {
            return;
        }
        this._renderDisposables.clear();
        this._model = model;
        editor?.onDidChangeModelLanguage(this._update, this, this._renderDisposables);
        if (model.combined.length === 0) {
            this._combinedEntry?.dispose();
            this._combinedEntry = undefined;
        }
        else {
            const [first] = model.combined;
            const showSeverity = first.severity >= vscode_vscode_vs_base_common_severity__WEBPACK_IMPORTED_MODULE_5__["default"].Warning;
            const text = LanguageStatus_1._severityToComboCodicon(first.severity);
            let isOneBusy = false;
            const ariaLabels = [];
            const element = document.createElement('div');
            for (const status of model.combined) {
                const isPinned = model.dedicated.includes(status);
                element.appendChild(this._renderStatus(status, showSeverity, isPinned, this._renderDisposables));
                ariaLabels.push(LanguageStatus_1._accessibilityInformation(status).label);
                isOneBusy = isOneBusy || (!isPinned && status.busy);
            }
            const props = {
                name: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(4439, "Editor Language Status")),
                ariaLabel: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(4440, "Editor Language Status: {0}", ariaLabels.join(', next: '))),
                tooltip: element,
                command: vscode_vscode_vs_workbench_services_statusbar_browser_statusbar__WEBPACK_IMPORTED_MODULE_13__.ShowTooltipCommand,
                text: isOneBusy ? `${text}\u00A0\u00A0$(sync~spin)` : text,
            };
            if (!this._combinedEntry) {
                this._combinedEntry = this._statusBarService.addEntry(props, LanguageStatus_1._id, 1 , { id: 'status.editor.mode', alignment: 0 , compact: true });
            }
            else {
                this._combinedEntry.update(props);
            }
            const userHasInteractedWithStatus = this._interactionCounter.value >= 3;
            const targetWindow = (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_2__.getWindow)(editor?.getContainerDomNode());
            const node = targetWindow.document.querySelector('.monaco-workbench .statusbar DIV#status\\.languageStatus A>SPAN.codicon');
            const container = targetWindow.document.querySelector('.monaco-workbench .statusbar DIV#status\\.languageStatus');
            if ((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_2__.isHTMLElement)(node) && container) {
                const _wiggle = 'wiggle';
                const _flash = 'flash';
                if (!isOneBusy) {
                    node.classList.toggle(_wiggle, showSeverity || !userHasInteractedWithStatus);
                    this._renderDisposables.add((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_2__.addDisposableListener)(node, 'animationend', _e => node.classList.remove(_wiggle)));
                    container.classList.toggle(_flash, showSeverity);
                    this._renderDisposables.add((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_2__.addDisposableListener)(container, 'animationend', _e => container.classList.remove(_flash)));
                }
                else {
                    node.classList.remove(_wiggle);
                    container.classList.remove(_flash);
                }
            }
            if (!userHasInteractedWithStatus) {
                const hoverTarget = targetWindow.document.querySelector('.monaco-workbench .context-view');
                if ((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_2__.isHTMLElement)(hoverTarget)) {
                    const observer = ( (new MutationObserver(() => {
                        if (targetWindow.document.contains(element)) {
                            this._interactionCounter.increment();
                            observer.disconnect();
                        }
                    })));
                    observer.observe(hoverTarget, { childList: true, subtree: true });
                    this._renderDisposables.add((0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__.toDisposable)(() => observer.disconnect()));
                }
            }
        }
        const newDedicatedEntries = ( (new Map()));
        for (const status of model.dedicated) {
            const props = LanguageStatus_1._asStatusbarEntry(status);
            let entry = this._dedicatedEntries.get(status.id);
            if (!entry) {
                entry = this._statusBarService.addEntry(props, status.id, 1 , { id: 'status.editor.mode', alignment: 1  });
            }
            else {
                entry.update(props);
                this._dedicatedEntries.delete(status.id);
            }
            newDedicatedEntries.set(status.id, entry);
        }
        (0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__.dispose)(( (this._dedicatedEntries.values())));
        this._dedicatedEntries = newDedicatedEntries;
    }
    _renderStatus(status, showSeverity, isPinned, store) {
        const parent = document.createElement('div');
        parent.classList.add('hover-language-status');
        const severity = document.createElement('div');
        severity.classList.add('severity', `sev${status.severity}`);
        severity.classList.toggle('show', showSeverity);
        const severityText = LanguageStatus_1._severityToSingleCodicon(status.severity);
        (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_2__.append)(severity, ...(0,vscode_vscode_vs_base_browser_ui_iconLabel_iconLabels__WEBPACK_IMPORTED_MODULE_3__.renderLabelWithIcons)(severityText));
        parent.appendChild(severity);
        const element = document.createElement('div');
        element.classList.add('element');
        parent.appendChild(element);
        const left = document.createElement('div');
        left.classList.add('left');
        element.appendChild(left);
        const label = document.createElement('span');
        label.classList.add('label');
        const labelValue = typeof status.label === 'string' ? status.label : status.label.value;
        (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_2__.append)(label, ...(0,vscode_vscode_vs_base_browser_ui_iconLabel_iconLabels__WEBPACK_IMPORTED_MODULE_3__.renderLabelWithIcons)(status.busy ? `$(sync~spin)\u00A0\u00A0${labelValue}` : labelValue));
        left.appendChild(label);
        const detail = document.createElement('span');
        detail.classList.add('detail');
        this._renderTextPlus(detail, status.detail, store);
        left.appendChild(detail);
        const right = document.createElement('div');
        right.classList.add('right');
        element.appendChild(right);
        const { command } = status;
        if (command) {
            store.add(( (new vscode_vscode_vs_platform_opener_browser_link__WEBPACK_IMPORTED_MODULE_16__.Link(right, {
                label: command.title,
                title: command.tooltip,
                href: ( (( (vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_24__.URI.from({
                    scheme: 'command', path: command.id, query: command.arguments && JSON.stringify(command.arguments)
                }))).toString()))
            }, { hoverDelegate: vscode_vscode_vs_platform_hover_browser_hover__WEBPACK_IMPORTED_MODULE_28__.nativeHoverDelegate }, this._hoverService, this._openerService))));
        }
        const actionBar = ( (new vscode_vscode_vs_base_browser_ui_actionbar_actionbar__WEBPACK_IMPORTED_MODULE_19__.ActionBar(right, { hoverDelegate: vscode_vscode_vs_platform_hover_browser_hover__WEBPACK_IMPORTED_MODULE_28__.nativeHoverDelegate })));
        const actionLabel = isPinned ? ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(4441, "Remove from Status Bar")) : ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(4442, "Add to Status Bar"));
        actionBar.setAriaLabel(actionLabel);
        store.add(actionBar);
        let action;
        if (!isPinned) {
            action = ( (new vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_20__.Action('pin', actionLabel, vscode_vscode_vs_base_common_themables__WEBPACK_IMPORTED_MODULE_9__.ThemeIcon.asClassName(vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_21__.Codicon.pin), true, () => {
                this._dedicated.add(status.id);
                this._statusBarService.updateEntryVisibility(status.id, true);
                this._update();
                this._storeState();
            })));
        }
        else {
            action = ( (new vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_20__.Action('unpin', actionLabel, vscode_vscode_vs_base_common_themables__WEBPACK_IMPORTED_MODULE_9__.ThemeIcon.asClassName(vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_21__.Codicon.pinned), true, () => {
                this._dedicated.delete(status.id);
                this._statusBarService.updateEntryVisibility(status.id, false);
                this._update();
                this._storeState();
            })));
        }
        actionBar.push(action, { icon: true, label: false });
        store.add(action);
        return parent;
    }
    static _severityToComboCodicon(sev) {
        switch (sev) {
            case vscode_vscode_vs_base_common_severity__WEBPACK_IMPORTED_MODULE_5__["default"].Error: return '$(bracket-error)';
            case vscode_vscode_vs_base_common_severity__WEBPACK_IMPORTED_MODULE_5__["default"].Warning: return '$(bracket-dot)';
            default: return '$(bracket)';
        }
    }
    static _severityToSingleCodicon(sev) {
        switch (sev) {
            case vscode_vscode_vs_base_common_severity__WEBPACK_IMPORTED_MODULE_5__["default"].Error: return '$(error)';
            case vscode_vscode_vs_base_common_severity__WEBPACK_IMPORTED_MODULE_5__["default"].Warning: return '$(info)';
            default: return '$(check)';
        }
    }
    _renderTextPlus(target, text, store) {
        for (const node of (0,vscode_vscode_vs_base_common_linkedText__WEBPACK_IMPORTED_MODULE_15__.parseLinkedText)(text).nodes) {
            if (typeof node === 'string') {
                const parts = (0,vscode_vscode_vs_base_browser_ui_iconLabel_iconLabels__WEBPACK_IMPORTED_MODULE_3__.renderLabelWithIcons)(node);
                (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_2__.append)(target, ...parts);
            }
            else {
                store.add(( (new vscode_vscode_vs_platform_opener_browser_link__WEBPACK_IMPORTED_MODULE_16__.Link(target, node, undefined, this._hoverService, this._openerService))));
            }
        }
    }
    static _accessibilityInformation(status) {
        if (status.accessibilityInfo) {
            return status.accessibilityInfo;
        }
        const textValue = typeof status.label === 'string' ? status.label : status.label.value;
        if (status.detail) {
            return { label: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(4443, '{0}, {1}', textValue, status.detail)) };
        }
        else {
            return { label: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(4444, '{0}', textValue)) };
        }
    }
    static _asStatusbarEntry(item) {
        let kind;
        if (item.severity === vscode_vscode_vs_base_common_severity__WEBPACK_IMPORTED_MODULE_5__["default"].Warning) {
            kind = 'warning';
        }
        else if (item.severity === vscode_vscode_vs_base_common_severity__WEBPACK_IMPORTED_MODULE_5__["default"].Error) {
            kind = 'error';
        }
        const textValue = typeof item.label === 'string' ? item.label : item.label.shortValue;
        return {
            name: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(4445, '{0} (Language Status)', item.name)),
            text: item.busy ? `${textValue}\u00A0\u00A0$(sync~spin)` : textValue,
            ariaLabel: LanguageStatus_1._accessibilityInformation(item).label,
            role: item.accessibilityInfo?.role,
            tooltip: item.command?.tooltip || ( (new vscode_vscode_vs_base_common_htmlContent__WEBPACK_IMPORTED_MODULE_18__.MarkdownString(item.detail, { isTrusted: true, supportThemeIcons: true }))),
            kind,
            command: item.command
        };
    }
};
LanguageStatus = LanguageStatus_1 = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_workbench_services_languageStatus_common_languageStatusService_service__WEBPACK_IMPORTED_MODULE_12__.ILanguageStatusService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_workbench_services_statusbar_browser_statusbar_service__WEBPACK_IMPORTED_MODULE_14__.IStatusbarService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_11__.IEditorService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_platform_hover_browser_hover_service__WEBPACK_IMPORTED_MODULE_29__.IHoverService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_platform_opener_common_opener_service__WEBPACK_IMPORTED_MODULE_17__.IOpenerService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_22__.IStorageService)))
], LanguageStatus)));
( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_8__.Registry.as(vscode_vscode_vs_workbench_common_contributions__WEBPACK_IMPORTED_MODULE_10__.Extensions.Workbench))).registerWorkbenchContribution(LanguageStatusContribution, 3 );
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_25__.registerAction2)(class extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_25__.Action2 {
    constructor() {
        super({
            id: 'editor.inlayHints.Reset',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize2)(4446, "Reset Language Status Interaction Counter")),
            category: vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_26__.Categories.View,
            f1: true
        });
    }
    run(accessor) {
        accessor.get(vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_22__.IStorageService).remove('languageStatus.interactCount', 0 );
    }
});


/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/languageStatus/browser/media/languageStatus.css.js":
/*!***************************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/languageStatus/browser/media/languageStatus.css.js ***!
  \***************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ css),
/* harmony export */   "default": () => (/* binding */ css)
/* harmony export */ });
/* harmony import */ var vscode_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js */ "./node_modules/vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js");


var css = "@keyframes wiggle{0%{transform:rotate(0) scale(1)}15%,45%{transform:rotate(.04turn) scale(1.1)}30%,60%{transform:rotate(-.04turn) scale(1.2)}to{transform:rotate(0) scale(1)}}.monaco-workbench .statusbar DIV#status\\.languageStatus A>SPAN.codicon.wiggle{animation-duration:.8s;animation-iteration-count:1;animation-name:wiggle}@keyframes flash{0%{background-color:initial}50%{background-color:var(--vscode-statusBarItem-prominentBackground)}to{background-color:initial}}.monaco-workbench .statusbar DIV#status\\.languageStatus.flash A{animation-duration:.8s;animation-iteration-count:1;animation-name:flash}.monaco-workbench .hover-language-status{display:flex}.monaco-workbench .hover-language-status:not(:last-child){border-bottom:1px solid var(--vscode-notifications-border)}.monaco-workbench .hover-language-status>.severity{display:none;flex:1;margin:auto;padding-right:8px}.monaco-workbench .hover-language-status>.severity.sev3{color:var(--vscode-notificationsErrorIcon-foreground)}.monaco-workbench .hover-language-status>.severity.sev2{color:var(--vscode-notificationsInfoIcon-foreground)}.monaco-workbench .hover-language-status>.severity.show{display:inherit}.monaco-workbench .hover-language-status>.element{display:flex;flex-grow:100;justify-content:space-between;vertical-align:middle}.monaco-workbench .hover-language-status>.element>.left>.detail:not(:empty):before{content:\"\\2013\";opacity:.6;padding:0 4px}.monaco-workbench .hover-language-status>.element>.left>.label:empty{display:none}.monaco-workbench .hover-language-status>.element .left{margin:auto 0}.monaco-workbench .hover-language-status>.element .right{display:flex;margin:auto 0}.monaco-workbench .hover-language-status>.element .right:not(:empty){padding-left:16px}.monaco-workbench .hover-language-status>.element .right .monaco-link{margin:auto 0;text-decoration:var(--text-link-decoration);white-space:nowrap}.monaco-workbench .hover-language-status>.element .right .monaco-action-bar:not(:first-child){padding-left:8px}";
(0,vscode_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__["default"])(css,{});




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/limitIndicator/browser/limitIndicator.contribution.js":
/*!******************************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/limitIndicator/browser/limitIndicator.contribution.js ***!
  \******************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LimitIndicatorContribution: () => (/* binding */ LimitIndicatorContribution)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_base_common_severity__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/common/severity */ "./node_modules/vscode/vscode/src/vs/base/common/severity.js");
/* harmony import */ var vscode_vscode_vs_editor_browser_editorBrowser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/editor/browser/editorBrowser */ "./node_modules/vscode/vscode/src/vs/editor/browser/editorBrowser.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_languageStatus_common_languageStatusService_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/languageStatus/common/languageStatusService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/languageStatus/common/languageStatusService.service.js");
/* harmony import */ var vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/platform/registry/common/platform */ "./node_modules/vscode/vscode/src/vs/platform/registry/common/platform.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_contributions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/contributions */ "./node_modules/vscode/vscode/src/vs/workbench/common/contributions.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_editor_contrib_folding_browser_folding__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/editor/contrib/folding/browser/folding */ "./node_modules/vscode/vscode/src/vs/editor/contrib/folding/browser/folding.js");
/* harmony import */ var vscode_vscode_vs_editor_contrib_colorPicker_browser_colorDetector__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/editor/contrib/colorPicker/browser/colorDetector */ "./node_modules/vscode/vscode/src/vs/editor/contrib/colorPicker/browser/colorDetector.js");












const openSettingsCommand = 'workbench.action.openSettings';
const configureSettingsLabel = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_8__.localize)(4453, "Configure"));
let LimitIndicatorContribution = class LimitIndicatorContribution extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_1__.Disposable {
    constructor(editorService, languageStatusService) {
        super();
        const accessors = [( (new ColorDecorationAccessor())), ( (new FoldingRangeAccessor()))];
        const statusEntries = ( (accessors.map(
            indicator => ( (new LanguageStatusEntry(languageStatusService, indicator)))
        )));
        statusEntries.forEach(entry => this._register(entry));
        let control;
        const onActiveEditorChanged = () => {
            const activeControl = editorService.activeTextEditorControl;
            if (activeControl === control) {
                return;
            }
            control = activeControl;
            const editor = (0,vscode_vscode_vs_editor_browser_editorBrowser__WEBPACK_IMPORTED_MODULE_3__.getCodeEditor)(activeControl);
            statusEntries.forEach(statusEntry => statusEntry.onActiveEditorChanged(editor));
        };
        this._register(editorService.onDidActiveEditorChange(onActiveEditorChanged));
        onActiveEditorChanged();
    }
};
LimitIndicatorContribution = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_4__.IEditorService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_workbench_services_languageStatus_common_languageStatusService_service__WEBPACK_IMPORTED_MODULE_5__.ILanguageStatusService)))
], LimitIndicatorContribution)));
class ColorDecorationAccessor {
    constructor() {
        this.id = 'decoratorsLimitInfo';
        this.name = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_8__.localize)(4454, 'Color Decorator Status'));
        this.label = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_8__.localize)(4455, 'Color Decorators'));
        this.source = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_8__.localize)(4456, 'Color Decorators'));
        this.settingsId = 'editor.colorDecoratorsLimit';
    }
    getLimitReporter(editor) {
        return vscode_vscode_vs_editor_contrib_colorPicker_browser_colorDetector__WEBPACK_IMPORTED_MODULE_10__.ColorDetector.get(editor)?.limitReporter;
    }
}
class FoldingRangeAccessor {
    constructor() {
        this.id = 'foldingLimitInfo';
        this.name = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_8__.localize)(4457, 'Folding Status'));
        this.label = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_8__.localize)(4458, 'Folding Ranges'));
        this.source = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_8__.localize)(4459, 'Folding'));
        this.settingsId = 'editor.foldingMaximumRegions';
    }
    getLimitReporter(editor) {
        return vscode_vscode_vs_editor_contrib_folding_browser_folding__WEBPACK_IMPORTED_MODULE_9__.FoldingController.get(editor)?.limitReporter;
    }
}
class LanguageStatusEntry {
    constructor(languageStatusService, accessor) {
        this.languageStatusService = languageStatusService;
        this.accessor = accessor;
    }
    onActiveEditorChanged(editor) {
        if (this._indicatorChangeListener) {
            this._indicatorChangeListener.dispose();
            this._indicatorChangeListener = undefined;
        }
        let info;
        if (editor) {
            info = this.accessor.getLimitReporter(editor);
        }
        this.updateStatusItem(info);
        if (info) {
            this._indicatorChangeListener = info.onDidChange(_ => {
                this.updateStatusItem(info);
            });
            return true;
        }
        return false;
    }
    updateStatusItem(info) {
        if (this._limitStatusItem) {
            this._limitStatusItem.dispose();
            this._limitStatusItem = undefined;
        }
        if (info && info.limited !== false) {
            const status = {
                id: this.accessor.id,
                selector: '*',
                name: this.accessor.name,
                severity: vscode_vscode_vs_base_common_severity__WEBPACK_IMPORTED_MODULE_2__["default"].Warning,
                label: this.accessor.label,
                detail: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_8__.localize)(4460, 'only {0} shown for performance reasons', info.limited)),
                command: { id: openSettingsCommand, arguments: [this.accessor.settingsId], title: configureSettingsLabel },
                accessibilityInfo: undefined,
                source: this.accessor.source,
                busy: false
            };
            this._limitStatusItem = this.languageStatusService.addStatus(status);
        }
    }
    dispose() {
        this._limitStatusItem = undefined;
        this._indicatorChangeListener = undefined;
    }
}
( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_6__.Registry.as(vscode_vscode_vs_workbench_common_contributions__WEBPACK_IMPORTED_MODULE_7__.Extensions.Workbench))).registerWorkbenchContribution(LimitIndicatorContribution, 3 );




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/commands/commands.js":
/*!*****************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/commands/commands.js ***!
  \*****************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AcceptAllInput1: () => (/* binding */ AcceptAllInput1),
/* harmony export */   AcceptAllInput2: () => (/* binding */ AcceptAllInput2),
/* harmony export */   AcceptMerge: () => (/* binding */ AcceptMerge),
/* harmony export */   CompareInput1WithBaseCommand: () => (/* binding */ CompareInput1WithBaseCommand),
/* harmony export */   CompareInput2WithBaseCommand: () => (/* binding */ CompareInput2WithBaseCommand),
/* harmony export */   GoToNextUnhandledConflict: () => (/* binding */ GoToNextUnhandledConflict),
/* harmony export */   GoToPreviousUnhandledConflict: () => (/* binding */ GoToPreviousUnhandledConflict),
/* harmony export */   OpenBaseFile: () => (/* binding */ OpenBaseFile),
/* harmony export */   OpenMergeEditor: () => (/* binding */ OpenMergeEditor),
/* harmony export */   OpenResultResource: () => (/* binding */ OpenResultResource),
/* harmony export */   ResetCloseWithConflictsChoice: () => (/* binding */ ResetCloseWithConflictsChoice),
/* harmony export */   ResetToBaseAndAutoMergeCommand: () => (/* binding */ ResetToBaseAndAutoMergeCommand),
/* harmony export */   SetColumnLayout: () => (/* binding */ SetColumnLayout),
/* harmony export */   SetMixedLayout: () => (/* binding */ SetMixedLayout),
/* harmony export */   ShowHideBase: () => (/* binding */ ShowHideBase),
/* harmony export */   ShowHideCenterBase: () => (/* binding */ ShowHideCenterBase),
/* harmony export */   ShowHideTopBase: () => (/* binding */ ShowHideTopBase),
/* harmony export */   ShowNonConflictingChanges: () => (/* binding */ ShowNonConflictingChanges),
/* harmony export */   ToggleActiveConflictInput1: () => (/* binding */ ToggleActiveConflictInput1),
/* harmony export */   ToggleActiveConflictInput2: () => (/* binding */ ToggleActiveConflictInput2)
/* harmony export */ });
/* harmony import */ var vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/base/common/codicons */ "./node_modules/vscode/vscode/src/vs/base/common/codicons.js");
/* harmony import */ var vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/common/resources */ "./node_modules/vscode/vscode/src/vs/base/common/resources.js");
/* harmony import */ var vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/common/uri */ "./node_modules/vscode/vscode/src/vs/base/common/uri.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.js");
/* harmony import */ var vscode_vscode_vs_platform_dialogs_common_dialogs_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/platform/dialogs/common/dialogs.service */ "./node_modules/vscode/vscode/src/vs/platform/dialogs/common/dialogs.service.js");
/* harmony import */ var vscode_vscode_vs_platform_opener_common_opener_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/platform/opener/common/opener.service */ "./node_modules/vscode/vscode/src/vs/platform/opener/common/opener.service.js");
/* harmony import */ var vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/platform/storage/common/storage.service */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_mergeEditor_browser_mergeEditorInput__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/mergeEditor/browser/mergeEditorInput */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/mergeEditor/browser/mergeEditorInput.js");
/* harmony import */ var _view_mergeEditor_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../view/mergeEditor.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/mergeEditor.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/mergeEditor/common/mergeEditor */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/mergeEditor/common/mergeEditor.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");














class MergeEditorAction extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_4__.Action2 {
    constructor(desc) {
        super(desc);
    }
    run(accessor) {
        const { activeEditorPane } = accessor.get(vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_12__.IEditorService);
        if (activeEditorPane instanceof _view_mergeEditor_js__WEBPACK_IMPORTED_MODULE_10__.MergeEditor) {
            const vm = activeEditorPane.viewModel.get();
            if (!vm) {
                return;
            }
            this.runWithViewModel(vm, accessor);
        }
    }
}
class MergeEditorAction2 extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_4__.Action2 {
    constructor(desc) {
        super(desc);
    }
    run(accessor, ...args) {
        const { activeEditorPane } = accessor.get(vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_12__.IEditorService);
        if (activeEditorPane instanceof _view_mergeEditor_js__WEBPACK_IMPORTED_MODULE_10__.MergeEditor) {
            const vm = activeEditorPane.viewModel.get();
            if (!vm) {
                return;
            }
            return this.runWithMergeEditor({
                viewModel: vm,
                inputModel: activeEditorPane.inputModel.get(),
                input: activeEditorPane.input,
                editorIdentifier: {
                    editor: activeEditorPane.input,
                    groupId: activeEditorPane.group.id,
                }
            }, accessor, ...args);
        }
    }
}
class OpenMergeEditor extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_4__.Action2 {
    constructor() {
        super({
            id: '_open.mergeEditor',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize2)(9853, 'Open Merge Editor')),
        });
    }
    run(accessor, ...args) {
        const validatedArgs = IRelaxedOpenArgs.validate(args[0]);
        const input = {
            base: { resource: validatedArgs.base },
            input1: { resource: validatedArgs.input1.uri, label: validatedArgs.input1.title, description: validatedArgs.input1.description, detail: validatedArgs.input1.detail },
            input2: { resource: validatedArgs.input2.uri, label: validatedArgs.input2.title, description: validatedArgs.input2.description, detail: validatedArgs.input2.detail },
            result: { resource: validatedArgs.output },
            options: { preserveFocus: true }
        };
        accessor.get(vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_12__.IEditorService).openEditor(input);
    }
}
var IRelaxedOpenArgs;
( ((function(IRelaxedOpenArgs) {
    function validate(obj) {
        if (!obj || typeof obj !== 'object') {
            throw ( (new TypeError('invalid argument')));
        }
        const o = obj;
        const base = toUri(o.base);
        const output = toUri(o.output);
        const input1 = toInputData(o.input1);
        const input2 = toInputData(o.input2);
        return { base, input1, input2, output };
    }
    IRelaxedOpenArgs.validate = validate;
    function toInputData(obj) {
        if (typeof obj === 'string') {
            return (
                 (new vscode_vscode_vs_workbench_contrib_mergeEditor_browser_mergeEditorInput__WEBPACK_IMPORTED_MODULE_9__.MergeEditorInputData( (vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_2__.URI.parse(obj, true)), undefined, undefined, undefined))
            );
        }
        if (!obj || typeof obj !== 'object') {
            throw ( (new TypeError('invalid argument')));
        }
        if (isUriComponents(obj)) {
            return (
                 (new vscode_vscode_vs_workbench_contrib_mergeEditor_browser_mergeEditorInput__WEBPACK_IMPORTED_MODULE_9__.MergeEditorInputData(vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_2__.URI.revive(obj), undefined, undefined, undefined))
            );
        }
        const o = obj;
        const title = o.title;
        const uri = toUri(o.uri);
        const detail = o.detail;
        const description = o.description;
        return (
             (new vscode_vscode_vs_workbench_contrib_mergeEditor_browser_mergeEditorInput__WEBPACK_IMPORTED_MODULE_9__.MergeEditorInputData(uri, title, detail, description))
        );
    }
    function toUri(obj) {
        if (typeof obj === 'string') {
            return (
                 (vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_2__.URI.parse(obj, true))
            );
        }
        else if (obj && typeof obj === 'object') {
            return vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_2__.URI.revive(obj);
        }
        throw ( (new TypeError('invalid argument')));
    }
    function isUriComponents(obj) {
        if (!obj || typeof obj !== 'object') {
            return false;
        }
        const o = obj;
        return typeof o.scheme === 'string'
            && typeof o.authority === 'string'
            && typeof o.path === 'string'
            && typeof o.query === 'string'
            && typeof o.fragment === 'string';
    }
})(IRelaxedOpenArgs || (IRelaxedOpenArgs = {}))));
class SetMixedLayout extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_4__.Action2 {
    constructor() {
        super({
            id: 'merge.mixedLayout',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize2)(9854, "Mixed Layout")),
            toggled: ( (vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxMergeEditorLayout.isEqualTo('mixed'))),
            menu: [
                {
                    id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_4__.MenuId.EditorTitle,
                    when: vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxIsMergeEditor,
                    group: '1_merge',
                    order: 9,
                },
            ],
            precondition: vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxIsMergeEditor,
        });
    }
    run(accessor) {
        const { activeEditorPane } = accessor.get(vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_12__.IEditorService);
        if (activeEditorPane instanceof _view_mergeEditor_js__WEBPACK_IMPORTED_MODULE_10__.MergeEditor) {
            activeEditorPane.setLayoutKind('mixed');
        }
    }
}
class SetColumnLayout extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_4__.Action2 {
    constructor() {
        super({
            id: 'merge.columnLayout',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize2)(9855, 'Column Layout')),
            toggled: ( (vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxMergeEditorLayout.isEqualTo('columns'))),
            menu: [{
                    id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_4__.MenuId.EditorTitle,
                    when: vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxIsMergeEditor,
                    group: '1_merge',
                    order: 10,
                }],
            precondition: vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxIsMergeEditor,
        });
    }
    run(accessor) {
        const { activeEditorPane } = accessor.get(vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_12__.IEditorService);
        if (activeEditorPane instanceof _view_mergeEditor_js__WEBPACK_IMPORTED_MODULE_10__.MergeEditor) {
            activeEditorPane.setLayoutKind('columns');
        }
    }
}
class ShowNonConflictingChanges extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_4__.Action2 {
    constructor() {
        super({
            id: 'merge.showNonConflictingChanges',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize2)(9856, "Show Non-Conflicting Changes")),
            toggled: ( (vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxMergeEditorShowNonConflictingChanges.isEqualTo(true))),
            menu: [
                {
                    id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_4__.MenuId.EditorTitle,
                    when: vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxIsMergeEditor,
                    group: '3_merge',
                    order: 9,
                },
            ],
            precondition: vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxIsMergeEditor,
        });
    }
    run(accessor) {
        const { activeEditorPane } = accessor.get(vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_12__.IEditorService);
        if (activeEditorPane instanceof _view_mergeEditor_js__WEBPACK_IMPORTED_MODULE_10__.MergeEditor) {
            activeEditorPane.toggleShowNonConflictingChanges();
        }
    }
}
class ShowHideBase extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_4__.Action2 {
    constructor() {
        super({
            id: 'merge.showBase',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize2)(9857, "Show Base")),
            toggled: ( (vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxMergeEditorShowBase.isEqualTo(true))),
            menu: [
                {
                    id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_4__.MenuId.EditorTitle,
                    when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_5__.ContextKeyExpr.and(
                        vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxIsMergeEditor,
                         (vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxMergeEditorLayout.isEqualTo('columns'))
                    ))),
                    group: '2_merge',
                    order: 9,
                },
            ]
        });
    }
    run(accessor) {
        const { activeEditorPane } = accessor.get(vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_12__.IEditorService);
        if (activeEditorPane instanceof _view_mergeEditor_js__WEBPACK_IMPORTED_MODULE_10__.MergeEditor) {
            activeEditorPane.toggleBase();
        }
    }
}
class ShowHideTopBase extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_4__.Action2 {
    constructor() {
        super({
            id: 'merge.showBaseTop',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize2)(9858, "Show Base Top")),
            toggled: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_5__.ContextKeyExpr.and(vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxMergeEditorShowBase, vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxMergeEditorShowBaseAtTop))),
            menu: [
                {
                    id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_4__.MenuId.EditorTitle,
                    when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_5__.ContextKeyExpr.and(vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxIsMergeEditor,  (vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxMergeEditorLayout.isEqualTo('mixed'))))),
                    group: '2_merge',
                    order: 10,
                },
            ],
        });
    }
    run(accessor) {
        const { activeEditorPane } = accessor.get(vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_12__.IEditorService);
        if (activeEditorPane instanceof _view_mergeEditor_js__WEBPACK_IMPORTED_MODULE_10__.MergeEditor) {
            activeEditorPane.toggleShowBaseTop();
        }
    }
}
class ShowHideCenterBase extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_4__.Action2 {
    constructor() {
        super({
            id: 'merge.showBaseCenter',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize2)(9859, "Show Base Center")),
            toggled: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_5__.ContextKeyExpr.and(
                vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxMergeEditorShowBase,
                 (vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxMergeEditorShowBaseAtTop.negate())
            ))),
            menu: [
                {
                    id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_4__.MenuId.EditorTitle,
                    when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_5__.ContextKeyExpr.and(vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxIsMergeEditor,  (vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxMergeEditorLayout.isEqualTo('mixed'))))),
                    group: '2_merge',
                    order: 11,
                },
            ],
        });
    }
    run(accessor) {
        const { activeEditorPane } = accessor.get(vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_12__.IEditorService);
        if (activeEditorPane instanceof _view_mergeEditor_js__WEBPACK_IMPORTED_MODULE_10__.MergeEditor) {
            activeEditorPane.toggleShowBaseCenter();
        }
    }
}
const mergeEditorCategory = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize2)(9860, "Merge Editor"));
class OpenResultResource extends MergeEditorAction {
    constructor() {
        super({
            id: 'merge.openResult',
            icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_0__.Codicon.goToFile,
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize2)(9861, "Open File")),
            category: mergeEditorCategory,
            menu: [{
                    id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_4__.MenuId.EditorTitle,
                    when: vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxIsMergeEditor,
                    group: 'navigation',
                    order: 1,
                }],
            precondition: vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxIsMergeEditor,
        });
    }
    runWithViewModel(viewModel, accessor) {
        const editorService = accessor.get(vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_12__.IEditorService);
        editorService.openEditor({ resource: viewModel.model.resultTextModel.uri });
    }
}
class GoToNextUnhandledConflict extends MergeEditorAction {
    constructor() {
        super({
            id: 'merge.goToNextUnhandledConflict',
            category: mergeEditorCategory,
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize2)(9862, "Go to Next Unhandled Conflict")),
            icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_0__.Codicon.arrowDown,
            menu: [
                {
                    id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_4__.MenuId.EditorTitle,
                    when: vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxIsMergeEditor,
                    group: 'navigation',
                    order: 3
                },
            ],
            f1: true,
            precondition: vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxIsMergeEditor,
        });
    }
    runWithViewModel(viewModel) {
        viewModel.model.telemetry.reportNavigationToNextConflict();
        viewModel.goToNextModifiedBaseRange(r => !viewModel.model.isHandled(r).get());
    }
}
class GoToPreviousUnhandledConflict extends MergeEditorAction {
    constructor() {
        super({
            id: 'merge.goToPreviousUnhandledConflict',
            category: mergeEditorCategory,
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize2)(9863, "Go to Previous Unhandled Conflict")),
            icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_0__.Codicon.arrowUp,
            menu: [
                {
                    id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_4__.MenuId.EditorTitle,
                    when: vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxIsMergeEditor,
                    group: 'navigation',
                    order: 2
                },
            ],
            f1: true,
            precondition: vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxIsMergeEditor,
        });
    }
    runWithViewModel(viewModel) {
        viewModel.model.telemetry.reportNavigationToPreviousConflict();
        viewModel.goToPreviousModifiedBaseRange(r => !viewModel.model.isHandled(r).get());
    }
}
class ToggleActiveConflictInput1 extends MergeEditorAction {
    constructor() {
        super({
            id: 'merge.toggleActiveConflictInput1',
            category: mergeEditorCategory,
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize2)(9864, "Toggle Current Conflict from Left")),
            f1: true,
            precondition: vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxIsMergeEditor,
        });
    }
    runWithViewModel(viewModel) {
        viewModel.toggleActiveConflict(1);
    }
}
class ToggleActiveConflictInput2 extends MergeEditorAction {
    constructor() {
        super({
            id: 'merge.toggleActiveConflictInput2',
            category: mergeEditorCategory,
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize2)(9865, "Toggle Current Conflict from Right")),
            f1: true,
            precondition: vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxIsMergeEditor,
        });
    }
    runWithViewModel(viewModel) {
        viewModel.toggleActiveConflict(2);
    }
}
class CompareInput1WithBaseCommand extends MergeEditorAction {
    constructor() {
        super({
            id: 'mergeEditor.compareInput1WithBase',
            category: mergeEditorCategory,
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize2)(9866, "Compare Input 1 With Base")),
            shortTitle: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(9867, 'Compare With Base')),
            f1: true,
            precondition: vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxIsMergeEditor,
            menu: { id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_4__.MenuId.MergeInput1Toolbar, group: 'primary' },
            icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_0__.Codicon.compareChanges,
        });
    }
    runWithViewModel(viewModel, accessor) {
        const editorService = accessor.get(vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_12__.IEditorService);
        mergeEditorCompare(viewModel, editorService, 1);
    }
}
class CompareInput2WithBaseCommand extends MergeEditorAction {
    constructor() {
        super({
            id: 'mergeEditor.compareInput2WithBase',
            category: mergeEditorCategory,
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize2)(9868, "Compare Input 2 With Base")),
            shortTitle: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(9867, 'Compare With Base')),
            f1: true,
            precondition: vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxIsMergeEditor,
            menu: { id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_4__.MenuId.MergeInput2Toolbar, group: 'primary' },
            icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_0__.Codicon.compareChanges,
        });
    }
    runWithViewModel(viewModel, accessor) {
        const editorService = accessor.get(vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_12__.IEditorService);
        mergeEditorCompare(viewModel, editorService, 2);
    }
}
async function mergeEditorCompare(viewModel, editorService, inputNumber) {
    editorService.openEditor(editorService.activeEditor, { pinned: true });
    const model = viewModel.model;
    const base = model.base;
    const input = inputNumber === 1 ? viewModel.inputCodeEditorView1.editor : viewModel.inputCodeEditorView2.editor;
    const lineNumber = input.getPosition().lineNumber;
    await editorService.openEditor({
        original: { resource: base.uri },
        modified: { resource: input.getModel().uri },
        options: {
            selection: {
                startLineNumber: lineNumber,
                startColumn: 1,
            },
            revealIfOpened: true,
            revealIfVisible: true,
        }
    });
}
class OpenBaseFile extends MergeEditorAction {
    constructor() {
        super({
            id: 'merge.openBaseEditor',
            category: mergeEditorCategory,
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize2)(9869, "Open Base File")),
            f1: true,
            precondition: vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxIsMergeEditor,
        });
    }
    runWithViewModel(viewModel, accessor) {
        const openerService = accessor.get(vscode_vscode_vs_platform_opener_common_opener_service__WEBPACK_IMPORTED_MODULE_7__.IOpenerService);
        openerService.open(viewModel.model.base.uri);
    }
}
class AcceptAllInput1 extends MergeEditorAction {
    constructor() {
        super({
            id: 'merge.acceptAllInput1',
            category: mergeEditorCategory,
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize2)(9870, "Accept All Changes from Left")),
            f1: true,
            precondition: vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxIsMergeEditor,
            menu: { id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_4__.MenuId.MergeInput1Toolbar, group: 'primary' },
            icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_0__.Codicon.checkAll,
        });
    }
    runWithViewModel(viewModel) {
        viewModel.acceptAll(1);
    }
}
class AcceptAllInput2 extends MergeEditorAction {
    constructor() {
        super({
            id: 'merge.acceptAllInput2',
            category: mergeEditorCategory,
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize2)(9871, "Accept All Changes from Right")),
            f1: true,
            precondition: vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxIsMergeEditor,
            menu: { id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_4__.MenuId.MergeInput2Toolbar, group: 'primary' },
            icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_0__.Codicon.checkAll,
        });
    }
    runWithViewModel(viewModel) {
        viewModel.acceptAll(2);
    }
}
class ResetToBaseAndAutoMergeCommand extends MergeEditorAction {
    constructor() {
        super({
            id: 'mergeEditor.resetResultToBaseAndAutoMerge',
            category: mergeEditorCategory,
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize2)(9872, "Reset Result")),
            shortTitle: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(9873, 'Reset')),
            f1: true,
            precondition: vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxIsMergeEditor,
            menu: { id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_4__.MenuId.MergeInputResultToolbar, group: 'primary' },
            icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_0__.Codicon.discard,
        });
    }
    runWithViewModel(viewModel, accessor) {
        viewModel.model.reset();
    }
}
class ResetCloseWithConflictsChoice extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_4__.Action2 {
    constructor() {
        super({
            id: 'mergeEditor.resetCloseWithConflictsChoice',
            category: mergeEditorCategory,
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize2)(9874, "Reset Choice for \'Close with Conflicts\'")),
            f1: true,
        });
    }
    run(accessor) {
        accessor.get(vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_8__.IStorageService).remove(vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.StorageCloseWithConflicts, 0 );
    }
}
class AcceptMerge extends MergeEditorAction2 {
    constructor() {
        super({
            id: 'mergeEditor.acceptMerge',
            category: mergeEditorCategory,
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize2)(9875, "Complete Merge")),
            f1: false,
            precondition: vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_11__.ctxIsMergeEditor
        });
    }
    async runWithMergeEditor({ inputModel, editorIdentifier, viewModel }, accessor) {
        const dialogService = accessor.get(vscode_vscode_vs_platform_dialogs_common_dialogs_service__WEBPACK_IMPORTED_MODULE_6__.IDialogService);
        const editorService = accessor.get(vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_12__.IEditorService);
        if (viewModel.model.unhandledConflictsCount.get() > 0) {
            const { confirmed } = await dialogService.confirm({
                message: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(
                    9876,
                    "Do you want to complete the merge of {0}?",
                    (0,vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_1__.basename)(inputModel.resultUri)
                )),
                detail: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(9877, "The file contains unhandled conflicts.")),
                primaryButton: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_3__.localize)(9878, "&&Complete with Conflicts"))
            });
            if (!confirmed) {
                return {
                    successful: false
                };
            }
        }
        await inputModel.accept();
        await editorService.closeEditor(editorIdentifier);
        return {
            successful: true
        };
    }
}




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/commands/devCommands.js":
/*!********************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/commands/devCommands.js ***!
  \********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MergeEditorCopyContentsToJSON: () => (/* binding */ MergeEditorCopyContentsToJSON),
/* harmony export */   MergeEditorLoadContentsFromFolder: () => (/* binding */ MergeEditorLoadContentsFromFolder),
/* harmony export */   MergeEditorSaveContentsToFolder: () => (/* binding */ MergeEditorSaveContentsToFolder)
/* harmony export */ });
/* harmony import */ var vscode_vscode_vs_base_common_buffer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/base/common/buffer */ "./node_modules/vscode/vscode/src/vs/base/common/buffer.js");
/* harmony import */ var vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/common/codicons */ "./node_modules/vscode/vscode/src/vs/base/common/codicons.js");
/* harmony import */ var vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/common/uri */ "./node_modules/vscode/vscode/src/vs/base/common/uri.js");
/* harmony import */ var vscode_vscode_vs_editor_common_languages_language__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/languages/language */ "./node_modules/vscode/vscode/src/vs/editor/common/languages/language.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var vscode_vscode_vs_platform_clipboard_common_clipboardService_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/platform/clipboard/common/clipboardService.service */ "./node_modules/vscode/vscode/src/vs/platform/clipboard/common/clipboardService.service.js");
/* harmony import */ var vscode_vscode_vs_platform_dialogs_common_dialogs_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/platform/dialogs/common/dialogs.service */ "./node_modules/vscode/vscode/src/vs/platform/dialogs/common/dialogs.service.js");
/* harmony import */ var vscode_vscode_vs_platform_files_common_files_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/platform/files/common/files.service */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.service.js");
/* harmony import */ var vscode_vscode_vs_platform_notification_common_notification_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/platform/notification/common/notification.service */ "./node_modules/vscode/vscode/src/vs/platform/notification/common/notification.service.js");
/* harmony import */ var vscode_vscode_vs_platform_quickinput_common_quickInput_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/platform/quickinput/common/quickInput.service */ "./node_modules/vscode/vscode/src/vs/platform/quickinput/common/quickInput.service.js");
/* harmony import */ var _view_mergeEditor_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../view/mergeEditor.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/mergeEditor.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/mergeEditor/common/mergeEditor */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/mergeEditor/common/mergeEditor.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");















const MERGE_EDITOR_CATEGORY = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_4__.localize2)(9879, 'Merge Editor (Dev)'));
class MergeEditorCopyContentsToJSON extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_5__.Action2 {
    constructor() {
        super({
            id: 'merge.dev.copyContentsJson',
            category: MERGE_EDITOR_CATEGORY,
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_4__.localize2)(9880, "Copy Merge Editor State as JSON")),
            icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_1__.Codicon.layoutCentered,
            f1: true,
            precondition: vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_12__.ctxIsMergeEditor,
        });
    }
    run(accessor) {
        const { activeEditorPane } = accessor.get(vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_13__.IEditorService);
        const clipboardService = accessor.get(vscode_vscode_vs_platform_clipboard_common_clipboardService_service__WEBPACK_IMPORTED_MODULE_6__.IClipboardService);
        const notificationService = accessor.get(vscode_vscode_vs_platform_notification_common_notification_service__WEBPACK_IMPORTED_MODULE_9__.INotificationService);
        if (!(activeEditorPane instanceof _view_mergeEditor_js__WEBPACK_IMPORTED_MODULE_11__.MergeEditor)) {
            notificationService.info({
                name: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_4__.localize)(9881, 'Merge Editor')),
                message: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_4__.localize)(9882, "No active merge editor"))
            });
            return;
        }
        const model = activeEditorPane.model;
        if (!model) {
            return;
        }
        const contents = {
            languageId: model.resultTextModel.getLanguageId(),
            base: model.base.getValue(),
            input1: model.input1.textModel.getValue(),
            input2: model.input2.textModel.getValue(),
            result: model.resultTextModel.getValue(),
            initialResult: model.getInitialResultValue(),
        };
        const jsonStr = JSON.stringify(contents, undefined, 4);
        clipboardService.writeText(jsonStr);
        notificationService.info({
            name: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_4__.localize)(9881, 'Merge Editor')),
            message: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_4__.localize)(9883, "Successfully copied merge editor state")),
        });
    }
}
class MergeEditorSaveContentsToFolder extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_5__.Action2 {
    constructor() {
        super({
            id: 'merge.dev.saveContentsToFolder',
            category: MERGE_EDITOR_CATEGORY,
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_4__.localize2)(9884, "Save Merge Editor State to Folder")),
            icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_1__.Codicon.layoutCentered,
            f1: true,
            precondition: vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_12__.ctxIsMergeEditor,
        });
    }
    async run(accessor) {
        const { activeEditorPane } = accessor.get(vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_13__.IEditorService);
        const notificationService = accessor.get(vscode_vscode_vs_platform_notification_common_notification_service__WEBPACK_IMPORTED_MODULE_9__.INotificationService);
        const dialogService = accessor.get(vscode_vscode_vs_platform_dialogs_common_dialogs_service__WEBPACK_IMPORTED_MODULE_7__.IFileDialogService);
        const fileService = accessor.get(vscode_vscode_vs_platform_files_common_files_service__WEBPACK_IMPORTED_MODULE_8__.IFileService);
        const languageService = accessor.get(vscode_vscode_vs_editor_common_languages_language__WEBPACK_IMPORTED_MODULE_3__.ILanguageService);
        if (!(activeEditorPane instanceof _view_mergeEditor_js__WEBPACK_IMPORTED_MODULE_11__.MergeEditor)) {
            notificationService.info({
                name: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_4__.localize)(9881, 'Merge Editor')),
                message: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_4__.localize)(9882, "No active merge editor"))
            });
            return;
        }
        const model = activeEditorPane.model;
        if (!model) {
            return;
        }
        const result = await dialogService.showOpenDialog({
            canSelectFiles: false,
            canSelectFolders: true,
            canSelectMany: false,
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_4__.localize)(9885, 'Select folder to save to'))
        });
        if (!result) {
            return;
        }
        const targetDir = result[0];
        const extension = languageService.getExtensions(model.resultTextModel.getLanguageId())[0] || '';
        async function write(fileName, source) {
            await fileService.writeFile(vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_2__.URI.joinPath(targetDir, fileName + extension), vscode_vscode_vs_base_common_buffer__WEBPACK_IMPORTED_MODULE_0__.VSBuffer.fromString(source), {});
        }
        await Promise.all([
            write('base', model.base.getValue()),
            write('input1', model.input1.textModel.getValue()),
            write('input2', model.input2.textModel.getValue()),
            write('result', model.resultTextModel.getValue()),
            write('initialResult', model.getInitialResultValue()),
        ]);
        notificationService.info({
            name: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_4__.localize)(9881, 'Merge Editor')),
            message: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_4__.localize)(9886, "Successfully saved merge editor state to folder")),
        });
    }
}
class MergeEditorLoadContentsFromFolder extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_5__.Action2 {
    constructor() {
        super({
            id: 'merge.dev.loadContentsFromFolder',
            category: MERGE_EDITOR_CATEGORY,
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_4__.localize2)(9887, "Load Merge Editor State from Folder")),
            icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_1__.Codicon.layoutCentered,
            f1: true
        });
    }
    async run(accessor, args) {
        const dialogService = accessor.get(vscode_vscode_vs_platform_dialogs_common_dialogs_service__WEBPACK_IMPORTED_MODULE_7__.IFileDialogService);
        const editorService = accessor.get(vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_13__.IEditorService);
        const fileService = accessor.get(vscode_vscode_vs_platform_files_common_files_service__WEBPACK_IMPORTED_MODULE_8__.IFileService);
        const quickInputService = accessor.get(vscode_vscode_vs_platform_quickinput_common_quickInput_service__WEBPACK_IMPORTED_MODULE_10__.IQuickInputService);
        if (!args) {
            args = {};
        }
        let targetDir;
        if (!args.folderUri) {
            const result = await dialogService.showOpenDialog({
                canSelectFiles: false,
                canSelectFolders: true,
                canSelectMany: false,
                title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_4__.localize)(9885, 'Select folder to save to'))
            });
            if (!result) {
                return;
            }
            targetDir = result[0];
        }
        else {
            targetDir = args.folderUri;
        }
        const targetDirInfo = await fileService.resolve(targetDir);
        function findFile(name) {
            return targetDirInfo.children.find(c => c.name.startsWith(name))?.resource;
        }
        const shouldOpenInitial = await promptOpenInitial(quickInputService, args.resultState);
        const baseUri = findFile('base');
        const input1Uri = findFile('input1');
        const input2Uri = findFile('input2');
        const resultUri = findFile(shouldOpenInitial ? 'initialResult' : 'result');
        const input = {
            base: { resource: baseUri },
            input1: { resource: input1Uri, label: 'Input 1', description: 'Input 1', detail: '(from file)' },
            input2: { resource: input2Uri, label: 'Input 2', description: 'Input 2', detail: '(from file)' },
            result: { resource: resultUri },
        };
        editorService.openEditor(input);
    }
}
async function promptOpenInitial(quickInputService, resultStateOverride) {
    if (resultStateOverride) {
        return resultStateOverride === 'initial';
    }
    const result = await quickInputService.pick([{ label: 'result', result: false }, { label: 'initial result', result: true }], { canPickMany: false });
    return result?.result;
}




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/mergeEditor.contribution.js":
/*!************************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/mergeEditor.contribution.js ***!
  \************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var vscode_vscode_vs_platform_configuration_common_configurationRegistry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/platform/configuration/common/configurationRegistry */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configurationRegistry.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/descriptors */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/descriptors.js");
/* harmony import */ var vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/platform/registry/common/platform */ "./node_modules/vscode/vscode/src/vs/platform/registry/common/platform.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_editor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/editor */ "./node_modules/vscode/vscode/src/vs/workbench/browser/editor.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_contributions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/contributions */ "./node_modules/vscode/vscode/src/vs/workbench/common/contributions.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/editor */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor.js");
/* harmony import */ var _commands_commands_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./commands/commands.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/commands/commands.js");
/* harmony import */ var _commands_devCommands_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./commands/devCommands.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/commands/devCommands.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_mergeEditor_browser_mergeEditorInput__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/mergeEditor/browser/mergeEditorInput */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/mergeEditor/browser/mergeEditorInput.js");
/* harmony import */ var _view_mergeEditor_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./view/mergeEditor.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/mergeEditor.js");
/* harmony import */ var _mergeEditorSerializer_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./mergeEditorSerializer.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/mergeEditorSerializer.js");














( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_4__.Registry.as(vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_7__.EditorExtensions.EditorPane))).registerEditorPane(vscode_vscode_vs_workbench_browser_editor__WEBPACK_IMPORTED_MODULE_5__.EditorPaneDescriptor.create(_view_mergeEditor_js__WEBPACK_IMPORTED_MODULE_11__.MergeEditor, _view_mergeEditor_js__WEBPACK_IMPORTED_MODULE_11__.MergeEditor.ID, ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_0__.localize)(4447, "Merge Editor"))), [
    ( (new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_3__.SyncDescriptor(vscode_vscode_vs_workbench_contrib_mergeEditor_browser_mergeEditorInput__WEBPACK_IMPORTED_MODULE_10__.MergeEditorInput)))
]);
( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_4__.Registry.as(vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_7__.EditorExtensions.EditorFactory))).registerEditorSerializer(vscode_vscode_vs_workbench_contrib_mergeEditor_browser_mergeEditorInput__WEBPACK_IMPORTED_MODULE_10__.MergeEditorInput.ID, _mergeEditorSerializer_js__WEBPACK_IMPORTED_MODULE_12__.MergeEditorSerializer);
( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_4__.Registry.as(vscode_vscode_vs_platform_configuration_common_configurationRegistry__WEBPACK_IMPORTED_MODULE_2__.Extensions.Configuration))).registerConfiguration({
    properties: {
        'mergeEditor.diffAlgorithm': {
            type: 'string',
            enum: ['legacy', 'advanced'],
            default: 'advanced',
            markdownEnumDescriptions: [
                ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_0__.localize)(4448, "Uses the legacy diffing algorithm.")),
                ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_0__.localize)(4449, "Uses the advanced diffing algorithm.")),
            ]
        },
        'mergeEditor.showDeletionMarkers': {
            type: 'boolean',
            default: true,
            description: 'Controls if deletions in base or one of the inputs should be indicated by a vertical bar.',
        },
    }
});
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(_commands_commands_js__WEBPACK_IMPORTED_MODULE_8__.OpenResultResource);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(_commands_commands_js__WEBPACK_IMPORTED_MODULE_8__.SetMixedLayout);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(_commands_commands_js__WEBPACK_IMPORTED_MODULE_8__.SetColumnLayout);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(_commands_commands_js__WEBPACK_IMPORTED_MODULE_8__.OpenMergeEditor);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(_commands_commands_js__WEBPACK_IMPORTED_MODULE_8__.OpenBaseFile);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(_commands_commands_js__WEBPACK_IMPORTED_MODULE_8__.ShowNonConflictingChanges);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(_commands_commands_js__WEBPACK_IMPORTED_MODULE_8__.ShowHideBase);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(_commands_commands_js__WEBPACK_IMPORTED_MODULE_8__.ShowHideTopBase);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(_commands_commands_js__WEBPACK_IMPORTED_MODULE_8__.ShowHideCenterBase);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(_commands_commands_js__WEBPACK_IMPORTED_MODULE_8__.GoToNextUnhandledConflict);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(_commands_commands_js__WEBPACK_IMPORTED_MODULE_8__.GoToPreviousUnhandledConflict);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(_commands_commands_js__WEBPACK_IMPORTED_MODULE_8__.ToggleActiveConflictInput1);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(_commands_commands_js__WEBPACK_IMPORTED_MODULE_8__.ToggleActiveConflictInput2);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(_commands_commands_js__WEBPACK_IMPORTED_MODULE_8__.CompareInput1WithBaseCommand);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(_commands_commands_js__WEBPACK_IMPORTED_MODULE_8__.CompareInput2WithBaseCommand);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(_commands_commands_js__WEBPACK_IMPORTED_MODULE_8__.AcceptAllInput1);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(_commands_commands_js__WEBPACK_IMPORTED_MODULE_8__.AcceptAllInput2);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(_commands_commands_js__WEBPACK_IMPORTED_MODULE_8__.ResetToBaseAndAutoMergeCommand);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(_commands_commands_js__WEBPACK_IMPORTED_MODULE_8__.AcceptMerge);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(_commands_commands_js__WEBPACK_IMPORTED_MODULE_8__.ResetCloseWithConflictsChoice);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(_commands_devCommands_js__WEBPACK_IMPORTED_MODULE_9__.MergeEditorCopyContentsToJSON);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(_commands_devCommands_js__WEBPACK_IMPORTED_MODULE_9__.MergeEditorSaveContentsToFolder);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(_commands_devCommands_js__WEBPACK_IMPORTED_MODULE_9__.MergeEditorLoadContentsFromFolder);
( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_4__.Registry
    .as(vscode_vscode_vs_workbench_common_contributions__WEBPACK_IMPORTED_MODULE_6__.Extensions.Workbench)))
    .registerWorkbenchContribution(_view_mergeEditor_js__WEBPACK_IMPORTED_MODULE_11__.MergeEditorOpenHandlerContribution, 3 );
(0,vscode_vscode_vs_workbench_common_contributions__WEBPACK_IMPORTED_MODULE_6__.registerWorkbenchContribution2)(_view_mergeEditor_js__WEBPACK_IMPORTED_MODULE_11__.MergeEditorResolverContribution.ID, _view_mergeEditor_js__WEBPACK_IMPORTED_MODULE_11__.MergeEditorResolverContribution, 1 );


/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/mergeEditorSerializer.js":
/*!*********************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/mergeEditorSerializer.js ***!
  \*********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MergeEditorSerializer: () => (/* binding */ MergeEditorSerializer)
/* harmony export */ });
/* harmony import */ var vscode_vscode_vs_base_common_errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/base/common/errors */ "./node_modules/vscode/vscode/src/vs/base/common/errors.js");
/* harmony import */ var vscode_vscode_vs_base_common_marshalling__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/common/marshalling */ "./node_modules/vscode/vscode/src/vs/base/common/marshalling.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_mergeEditor_browser_mergeEditorInput__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/mergeEditor/browser/mergeEditorInput */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/mergeEditor/browser/mergeEditorInput.js");




class MergeEditorSerializer {
    canSerialize() {
        return true;
    }
    serialize(editor) {
        return JSON.stringify(this.toJSON(editor));
    }
    toJSON(editor) {
        return {
            base: editor.base,
            input1: editor.input1,
            input2: editor.input2,
            result: editor.result,
        };
    }
    deserialize(instantiationService, raw) {
        try {
            const data = (0,vscode_vscode_vs_base_common_marshalling__WEBPACK_IMPORTED_MODULE_1__.parse)(raw);
            return instantiationService.createInstance(vscode_vscode_vs_workbench_contrib_mergeEditor_browser_mergeEditorInput__WEBPACK_IMPORTED_MODULE_2__.MergeEditorInput, data.base, ( new vscode_vscode_vs_workbench_contrib_mergeEditor_browser_mergeEditorInput__WEBPACK_IMPORTED_MODULE_2__.MergeEditorInputData(
                data.input1.uri,
                data.input1.title,
                data.input1.detail,
                data.input1.description
            )), ( new vscode_vscode_vs_workbench_contrib_mergeEditor_browser_mergeEditorInput__WEBPACK_IMPORTED_MODULE_2__.MergeEditorInputData(
                data.input2.uri,
                data.input2.title,
                data.input2.detail,
                data.input2.description
            )), data.result);
        }
        catch (err) {
            (0,vscode_vscode_vs_base_common_errors__WEBPACK_IMPORTED_MODULE_0__.onUnexpectedError)(err);
            return undefined;
        }
    }
}




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/colors.js":
/*!***********************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/colors.js ***!
  \***********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   handledConflictMinimapOverViewRulerColor: () => (/* binding */ handledConflictMinimapOverViewRulerColor),
/* harmony export */   unhandledConflictMinimapOverViewRulerColor: () => (/* binding */ unhandledConflictMinimapOverViewRulerColor)
/* harmony export */ });
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colorUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colorUtils */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colorUtils.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_baseColors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/baseColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/baseColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_chartsColors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/chartsColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/chartsColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_editorColors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/editorColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/editorColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_inputColors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/inputColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/inputColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_listColors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/listColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/listColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_menuColors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/menuColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/menuColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_minimapColors__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/minimapColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/minimapColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_miscColors__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/miscColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/miscColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_quickpickColors__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/quickpickColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/quickpickColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_searchColors__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/searchColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/searchColors.js");













(0,vscode_vscode_vs_platform_theme_common_colorUtils__WEBPACK_IMPORTED_MODULE_1__.registerColor)('mergeEditor.change.background', '#9bb95533', ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_0__.localize)(11372, 'The background color for changes.')));
(0,vscode_vscode_vs_platform_theme_common_colorUtils__WEBPACK_IMPORTED_MODULE_1__.registerColor)('mergeEditor.change.word.background', { dark: '#9ccc2c33', light: '#9ccc2c66', hcDark: '#9ccc2c33', hcLight: '#9ccc2c66', }, ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_0__.localize)(11373, 'The background color for word changes.')));
(0,vscode_vscode_vs_platform_theme_common_colorUtils__WEBPACK_IMPORTED_MODULE_1__.registerColor)('mergeEditor.changeBase.background', { dark: '#4B1818FF', light: '#FFCCCCFF', hcDark: '#4B1818FF', hcLight: '#FFCCCCFF', }, ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_0__.localize)(11374, 'The background color for changes in base.')));
(0,vscode_vscode_vs_platform_theme_common_colorUtils__WEBPACK_IMPORTED_MODULE_1__.registerColor)('mergeEditor.changeBase.word.background', { dark: '#6F1313FF', light: '#FFA3A3FF', hcDark: '#6F1313FF', hcLight: '#FFA3A3FF', }, ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_0__.localize)(11375, 'The background color for word changes in base.')));
(0,vscode_vscode_vs_platform_theme_common_colorUtils__WEBPACK_IMPORTED_MODULE_1__.registerColor)('mergeEditor.conflict.unhandledUnfocused.border', { dark: '#ffa6007a', light: '#ffa600FF', hcDark: '#ffa6007a', hcLight: '#ffa6007a', }, ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_0__.localize)(11376, 'The border color of unhandled unfocused conflicts.')));
(0,vscode_vscode_vs_platform_theme_common_colorUtils__WEBPACK_IMPORTED_MODULE_1__.registerColor)('mergeEditor.conflict.unhandledFocused.border', '#ffa600', ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_0__.localize)(11377, 'The border color of unhandled focused conflicts.')));
(0,vscode_vscode_vs_platform_theme_common_colorUtils__WEBPACK_IMPORTED_MODULE_1__.registerColor)('mergeEditor.conflict.handledUnfocused.border', '#86868649', ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_0__.localize)(11378, 'The border color of handled unfocused conflicts.')));
(0,vscode_vscode_vs_platform_theme_common_colorUtils__WEBPACK_IMPORTED_MODULE_1__.registerColor)('mergeEditor.conflict.handledFocused.border', '#c1c1c1cc', ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_0__.localize)(11379, 'The border color of handled focused conflicts.')));
const handledConflictMinimapOverViewRulerColor = (0,vscode_vscode_vs_platform_theme_common_colorUtils__WEBPACK_IMPORTED_MODULE_1__.registerColor)('mergeEditor.conflict.handled.minimapOverViewRuler', '#adaca8ee', ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_0__.localize)(11380, 'The foreground color for changes in input 1.')));
const unhandledConflictMinimapOverViewRulerColor = (0,vscode_vscode_vs_platform_theme_common_colorUtils__WEBPACK_IMPORTED_MODULE_1__.registerColor)('mergeEditor.conflict.unhandled.minimapOverViewRuler', '#fcba03FF', ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_0__.localize)(11381, 'The foreground color for changes in input 1.')));
(0,vscode_vscode_vs_platform_theme_common_colorUtils__WEBPACK_IMPORTED_MODULE_1__.registerColor)('mergeEditor.conflictingLines.background', '#ffea0047', ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_0__.localize)(11382, 'The background of the "Conflicting Lines" text.')));
const contentTransparency = 0.4;
(0,vscode_vscode_vs_platform_theme_common_colorUtils__WEBPACK_IMPORTED_MODULE_1__.registerColor)('mergeEditor.conflict.input1.background', ( ((0,vscode_vscode_vs_platform_theme_common_colorUtils__WEBPACK_IMPORTED_MODULE_1__.transparent)(vscode_vscode_vs_platform_theme_common_colors_editorColors__WEBPACK_IMPORTED_MODULE_4__.mergeCurrentHeaderBackground, contentTransparency))), ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_0__.localize)(11383, 'The background color of decorations in input 1.')));
(0,vscode_vscode_vs_platform_theme_common_colorUtils__WEBPACK_IMPORTED_MODULE_1__.registerColor)('mergeEditor.conflict.input2.background', ( ((0,vscode_vscode_vs_platform_theme_common_colorUtils__WEBPACK_IMPORTED_MODULE_1__.transparent)(vscode_vscode_vs_platform_theme_common_colors_editorColors__WEBPACK_IMPORTED_MODULE_4__.mergeIncomingHeaderBackground, contentTransparency))), ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_0__.localize)(11384, 'The background color of decorations in input 2.')));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/editorGutter.js":
/*!*****************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/editorGutter.js ***!
  \*****************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EditorGutter: () => (/* binding */ EditorGutter)
/* harmony export */ });
/* harmony import */ var vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/dom */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_base_common_observableInternal_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/common/observableInternal/base */ "./node_modules/vscode/vscode/src/vs/base/common/observableInternal/base.js");
/* harmony import */ var vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/common/arrays */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_base_common_observableInternal_autorun__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/base/common/observableInternal/autorun */ "./node_modules/vscode/vscode/src/vs/base/common/observableInternal/autorun.js");
/* harmony import */ var vscode_vscode_vs_base_common_observableInternal_derived__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/base/common/observableInternal/derived */ "./node_modules/vscode/vscode/src/vs/base/common/observableInternal/derived.js");
/* harmony import */ var vscode_vscode_vs_base_common_cancellation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/base/common/cancellation */ "./node_modules/vscode/vscode/src/vs/base/common/cancellation.js");
/* harmony import */ var vscode_vscode_vs_base_common_observableInternal_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/base/common/observableInternal/utils */ "./node_modules/vscode/vscode/src/vs/base/common/observableInternal/utils.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_mergeEditor_browser_model_lineRange__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/mergeEditor/browser/model/lineRange */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/mergeEditor/browser/model/lineRange.js");











class EditorGutter extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_1__.Disposable {
    constructor(_editor, _domNode, itemProvider) {
        super();
        this._editor = _editor;
        this._domNode = _domNode;
        this.itemProvider = itemProvider;
        this.scrollTop = (0,vscode_vscode_vs_base_common_observableInternal_utils__WEBPACK_IMPORTED_MODULE_8__.observableFromEvent)(this, this._editor.onDidScrollChange, (e) =>  this._editor.getScrollTop());
        this.isScrollTopZero = ( this.scrollTop.map((scrollTop) =>  scrollTop === 0));
        this.modelAttached = (0,vscode_vscode_vs_base_common_observableInternal_utils__WEBPACK_IMPORTED_MODULE_8__.observableFromEvent)(this, this._editor.onDidChangeModel, (e) =>  this._editor.hasModel());
        this.editorOnDidChangeViewZones = (0,vscode_vscode_vs_base_common_observableInternal_utils__WEBPACK_IMPORTED_MODULE_8__.observableSignalFromEvent)('onDidChangeViewZones', this._editor.onDidChangeViewZones);
        this.editorOnDidContentSizeChange = (0,vscode_vscode_vs_base_common_observableInternal_utils__WEBPACK_IMPORTED_MODULE_8__.observableSignalFromEvent)('onDidContentSizeChange', this._editor.onDidContentSizeChange);
        this.domNodeSizeChanged = (0,vscode_vscode_vs_base_common_observableInternal_utils__WEBPACK_IMPORTED_MODULE_8__.observableSignal)('domNodeSizeChanged');
        this.views = ( new Map());
        this._domNode.className = 'gutter monaco-editor';
        const scrollDecoration = this._domNode.appendChild((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_0__.h)('div.scroll-decoration', { role: 'presentation', ariaHidden: 'true', style: { width: '100%' } })
            .root);
        const o = ( new ResizeObserver(() => {
            (0,vscode_vscode_vs_base_common_observableInternal_base__WEBPACK_IMPORTED_MODULE_2__.transaction)(tx => {
                this.domNodeSizeChanged.trigger(tx);
            });
        }));
        o.observe(this._domNode);
        this._register((0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_1__.toDisposable)(() => o.disconnect()));
        this._register((0,vscode_vscode_vs_base_common_observableInternal_autorun__WEBPACK_IMPORTED_MODULE_5__.autorun)(reader => {
            scrollDecoration.className = this.isScrollTopZero.read(reader) ? '' : 'scroll-decoration';
        }));
        this._register((0,vscode_vscode_vs_base_common_observableInternal_autorun__WEBPACK_IMPORTED_MODULE_5__.autorun)(reader =>  this.render(reader)));
    }
    dispose() {
        super.dispose();
        (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_0__.reset)(this._domNode);
    }
    render(reader) {
        if (!this.modelAttached.read(reader)) {
            return;
        }
        this.domNodeSizeChanged.read(reader);
        this.editorOnDidChangeViewZones.read(reader);
        this.editorOnDidContentSizeChange.read(reader);
        const scrollTop = this.scrollTop.read(reader);
        const visibleRanges = this._editor.getVisibleRanges();
        const unusedIds = ( new Set(( this.views.keys())));
        if (visibleRanges.length > 0) {
            const visibleRange = visibleRanges[0];
            const visibleRange2 = ( new vscode_vscode_vs_workbench_contrib_mergeEditor_browser_model_lineRange__WEBPACK_IMPORTED_MODULE_9__.LineRange(
                visibleRange.startLineNumber,
                visibleRange.endLineNumber - visibleRange.startLineNumber
            )).deltaEnd(1);
            const gutterItems = this.itemProvider.getIntersectingGutterItems(visibleRange2, reader);
            for (const gutterItem of gutterItems) {
                if (!gutterItem.range.touches(visibleRange2)) {
                    continue;
                }
                unusedIds.delete(gutterItem.id);
                let view = this.views.get(gutterItem.id);
                if (!view) {
                    const viewDomNode = document.createElement('div');
                    this._domNode.appendChild(viewDomNode);
                    const itemView = this.itemProvider.createView(gutterItem, viewDomNode);
                    view = ( new ManagedGutterItemView(itemView, viewDomNode));
                    this.views.set(gutterItem.id, view);
                }
                else {
                    view.gutterItemView.update(gutterItem);
                }
                const top = gutterItem.range.startLineNumber <= this._editor.getModel().getLineCount()
                    ? this._editor.getTopForLineNumber(gutterItem.range.startLineNumber, true) - scrollTop
                    : this._editor.getBottomForLineNumber(gutterItem.range.startLineNumber - 1, false) - scrollTop;
                const bottom = this._editor.getBottomForLineNumber(gutterItem.range.endLineNumberExclusive - 1, true) - scrollTop;
                const height = bottom - top;
                view.domNode.style.top = `${top}px`;
                view.domNode.style.height = `${height}px`;
                view.gutterItemView.layout(top, height, 0, this._domNode.clientHeight);
            }
        }
        for (const id of unusedIds) {
            const view = this.views.get(id);
            view.gutterItemView.dispose();
            view.domNode.remove();
            this.views.delete(id);
        }
    }
}
class ManagedGutterItemView {
    constructor(gutterItemView, domNode) {
        this.gutterItemView = gutterItemView;
        this.domNode = domNode;
    }
}




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/editors/baseCodeEditorView.js":
/*!*******************************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/editors/baseCodeEditorView.js ***!
  \*******************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BaseCodeEditorView: () => (/* binding */ BaseCodeEditorView)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/dom */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_iconLabel_iconLabels__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/iconLabel/iconLabels */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/iconLabel/iconLabels.js");
/* harmony import */ var vscode_vscode_vs_base_common_errors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/common/errors */ "./node_modules/vscode/vscode/src/vs/base/common/errors.js");
/* harmony import */ var vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/base/common/arrays */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_base_common_observableInternal_autorun__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/base/common/observableInternal/autorun */ "./node_modules/vscode/vscode/src/vs/base/common/observableInternal/autorun.js");
/* harmony import */ var vscode_vscode_vs_base_common_observableInternal_derived__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/base/common/observableInternal/derived */ "./node_modules/vscode/vscode/src/vs/base/common/observableInternal/derived.js");
/* harmony import */ var vscode_vscode_vs_base_common_cancellation__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/base/common/cancellation */ "./node_modules/vscode/vscode/src/vs/base/common/cancellation.js");
/* harmony import */ var vscode_vscode_vs_base_common_observableInternal_utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/base/common/observableInternal/utils */ "./node_modules/vscode/vscode/src/vs/base/common/observableInternal/utils.js");
/* harmony import */ var vscode_vscode_vs_editor_common_model__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/model */ "./node_modules/vscode/vscode/src/vs/editor/common/model.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/platform/configuration/common/configuration.service */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_mergeEditor_browser_utils__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/mergeEditor/browser/utils */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/mergeEditor/browser/utils.js");
/* harmony import */ var _colors_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../colors.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/colors.js");
/* harmony import */ var _editorGutter_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../editorGutter.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/editorGutter.js");
/* harmony import */ var _codeEditorView_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./codeEditorView.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/editors/codeEditorView.js");





















let BaseCodeEditorView = class BaseCodeEditorView extends _codeEditorView_js__WEBPACK_IMPORTED_MODULE_19__.CodeEditorView {
    constructor(viewModel, instantiationService, configurationService) {
        super(instantiationService, viewModel, configurationService);
        this.decorations = (0,vscode_vscode_vs_base_common_observableInternal_derived__WEBPACK_IMPORTED_MODULE_8__.derived)(this, reader => {
            const viewModel = this.viewModel.read(reader);
            if (!viewModel) {
                return [];
            }
            const model = viewModel.model;
            const textModel = model.base;
            const activeModifiedBaseRange = viewModel.activeModifiedBaseRange.read(reader);
            const showNonConflictingChanges = viewModel.showNonConflictingChanges.read(reader);
            const showDeletionMarkers = this.showDeletionMarkers.read(reader);
            const result = [];
            for (const modifiedBaseRange of model.modifiedBaseRanges.read(reader)) {
                const range = modifiedBaseRange.baseRange;
                if (!range) {
                    continue;
                }
                const isHandled = model.isHandled(modifiedBaseRange).read(reader);
                if (!modifiedBaseRange.isConflicting && isHandled && !showNonConflictingChanges) {
                    continue;
                }
                const blockClassNames = ['merge-editor-block'];
                let blockPadding = [0, 0, 0, 0];
                if (isHandled) {
                    blockClassNames.push('handled');
                }
                if (modifiedBaseRange === activeModifiedBaseRange) {
                    blockClassNames.push('focused');
                    blockPadding = [0, 2, 0, 2];
                }
                blockClassNames.push('base');
                const inputToDiffAgainst = viewModel.baseShowDiffAgainst.read(reader);
                if (inputToDiffAgainst) {
                    for (const diff of modifiedBaseRange.getInputDiffs(inputToDiffAgainst)) {
                        const range = diff.inputRange.toInclusiveRange();
                        if (range) {
                            result.push({
                                range,
                                options: {
                                    className: `merge-editor-diff base`,
                                    description: 'Merge Editor',
                                    isWholeLine: true,
                                }
                            });
                        }
                        for (const diff2 of diff.rangeMappings) {
                            if (showDeletionMarkers || !diff2.inputRange.isEmpty()) {
                                result.push({
                                    range: diff2.inputRange,
                                    options: {
                                        className: diff2.inputRange.isEmpty() ? `merge-editor-diff-empty-word base` : `merge-editor-diff-word base`,
                                        description: 'Merge Editor',
                                        showIfCollapsed: true,
                                    },
                                });
                            }
                        }
                    }
                }
                result.push({
                    range: range.toInclusiveRangeOrEmpty(),
                    options: {
                        showIfCollapsed: true,
                        blockClassName: blockClassNames.join(' '),
                        blockPadding,
                        blockIsAfterEnd: range.startLineNumber > textModel.getLineCount(),
                        description: 'Merge Editor',
                        minimap: {
                            position: 2 ,
                            color: { id: isHandled ? _colors_js__WEBPACK_IMPORTED_MODULE_17__.handledConflictMinimapOverViewRulerColor : _colors_js__WEBPACK_IMPORTED_MODULE_17__.unhandledConflictMinimapOverViewRulerColor },
                        },
                        overviewRuler: modifiedBaseRange.isConflicting ? {
                            position: vscode_vscode_vs_editor_common_model__WEBPACK_IMPORTED_MODULE_11__.OverviewRulerLane.Center,
                            color: { id: isHandled ? _colors_js__WEBPACK_IMPORTED_MODULE_17__.handledConflictMinimapOverViewRulerColor : _colors_js__WEBPACK_IMPORTED_MODULE_17__.unhandledConflictMinimapOverViewRulerColor },
                        } : undefined
                    }
                });
            }
            return result;
        });
        this._register((0,_codeEditorView_js__WEBPACK_IMPORTED_MODULE_19__.createSelectionsAutorun)(this, (baseRange, viewModel) => baseRange));
        this._register(instantiationService.createInstance(_codeEditorView_js__WEBPACK_IMPORTED_MODULE_19__.TitleMenu, vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_13__.MenuId.MergeBaseToolbar, this.htmlElements.title));
        this._register((0,vscode_vscode_vs_base_common_observableInternal_autorun__WEBPACK_IMPORTED_MODULE_7__.autorunWithStore)((reader, store) => {
            if (this.checkboxesVisible.read(reader)) {
                store.add(( (new _editorGutter_js__WEBPACK_IMPORTED_MODULE_18__.EditorGutter(this.editor, this.htmlElements.gutterDiv, {
                    getIntersectingGutterItems: (range, reader) => [],
                    createView: (item, target) => { throw ( (new vscode_vscode_vs_base_common_errors__WEBPACK_IMPORTED_MODULE_3__.BugIndicatingError())); },
                }))));
            }
        }));
        this._register((0,vscode_vscode_vs_base_common_observableInternal_autorun__WEBPACK_IMPORTED_MODULE_7__.autorun)(reader => {
            const vm = this.viewModel.read(reader);
            if (!vm) {
                return;
            }
            this.editor.setModel(vm.model.base);
            (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__.reset)(this.htmlElements.title, ...(0,vscode_vscode_vs_base_browser_ui_iconLabel_iconLabels__WEBPACK_IMPORTED_MODULE_2__.renderLabelWithIcons)(( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_12__.localize)(11368, 'Base'))));
            const baseShowDiffAgainst = vm.baseShowDiffAgainst.read(reader);
            let node = undefined;
            if (baseShowDiffAgainst) {
                const label = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_12__.localize)(
                    11369,
                    'Comparing with {0}',
                    baseShowDiffAgainst === 1 ? vm.model.input1.title : vm.model.input2.title
                ));
                const tooltip = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_12__.localize)(11370, 'Differences are highlighted with a background color.'));
                node = (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__.h)('span', { title: tooltip }, [label]).root;
            }
            (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__.reset)(this.htmlElements.description, ...(node ? [node] : []));
        }));
        this._register((0,vscode_vscode_vs_workbench_contrib_mergeEditor_browser_utils__WEBPACK_IMPORTED_MODULE_16__.applyObservableDecorations)(this.editor, this.decorations));
    }
};
BaseCodeEditorView = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_15__.IInstantiationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_14__.IConfigurationService)))
], BaseCodeEditorView)));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/editors/codeEditorView.js":
/*!***************************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/editors/codeEditorView.js ***!
  \***************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CodeEditorView: () => (/* binding */ CodeEditorView),
/* harmony export */   TitleMenu: () => (/* binding */ TitleMenu),
/* harmony export */   createSelectionsAutorun: () => (/* binding */ createSelectionsAutorun)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/dom */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/base/common/arrays */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var vscode_vscode_vs_base_common_observableInternal_autorun__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/base/common/observableInternal/autorun */ "./node_modules/vscode/vscode/src/vs/base/common/observableInternal/autorun.js");
/* harmony import */ var vscode_vscode_vs_base_common_observableInternal_derived__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/base/common/observableInternal/derived */ "./node_modules/vscode/vscode/src/vs/base/common/observableInternal/derived.js");
/* harmony import */ var vscode_vscode_vs_base_common_cancellation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/base/common/cancellation */ "./node_modules/vscode/vscode/src/vs/base/common/cancellation.js");
/* harmony import */ var vscode_vscode_vs_base_common_observableInternal_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/base/common/observableInternal/utils */ "./node_modules/vscode/vscode/src/vs/base/common/observableInternal/utils.js");
/* harmony import */ var vscode_vscode_vs_editor_browser_editorExtensions__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/editor/browser/editorExtensions */ "./node_modules/vscode/vscode/src/vs/editor/browser/editorExtensions.js");
/* harmony import */ var vscode_vscode_vs_editor_browser_widget_codeEditor_codeEditorWidget__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/editor/browser/widget/codeEditor/codeEditorWidget */ "./node_modules/vscode/vscode/src/vs/editor/browser/widget/codeEditor/codeEditorWidget.js");
/* harmony import */ var vscode_vscode_vs_editor_common_core_selection__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/core/selection */ "./node_modules/vscode/vscode/src/vs/editor/common/core/selection.js");
/* harmony import */ var vscode_vscode_vs_editor_contrib_codelens_browser_codelensController__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/editor/contrib/codelens/browser/codelensController */ "./node_modules/vscode/vscode/src/vs/editor/contrib/codelens/browser/codelensController.js");
/* harmony import */ var vscode_vscode_vs_editor_contrib_folding_browser_folding__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/editor/contrib/folding/browser/folding */ "./node_modules/vscode/vscode/src/vs/editor/contrib/folding/browser/folding.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_browser_toolbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/browser/toolbar */ "./node_modules/vscode/vscode/src/vs/platform/actions/browser/toolbar.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_editor_editor__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/editor/editor */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editor.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_mergeEditor_browser_utils__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/mergeEditor/browser/utils */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/mergeEditor/browser/utils.js");
/* harmony import */ var vscode_vscode_vs_platform_observable_common_platformObservableUtils__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! vscode/vscode/vs/platform/observable/common/platformObservableUtils */ "./node_modules/vscode/vscode/src/vs/platform/observable/common/platformObservableUtils.js");




















class CodeEditorView extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__.Disposable {
    updateOptions(newOptions) {
        this.editor.updateOptions(newOptions);
    }
    constructor(instantiationService, viewModel, configurationService) {
        super();
        this.instantiationService = instantiationService;
        this.viewModel = viewModel;
        this.configurationService = configurationService;
        this.model = ( this.viewModel.map(m =>  m?.model));
        this.htmlElements = (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__.h)('div.code-view', [
            (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__.h)('div.header@header', [
                (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__.h)('span.title@title'),
                (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__.h)('span.description@description'),
                (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__.h)('span.detail@detail'),
                (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__.h)('span.toolbar@toolbar'),
            ]),
            (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__.h)('div.container', [
                (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__.h)('div.gutter@gutterDiv'),
                (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__.h)('div@editor'),
            ]),
        ]);
        this._onDidViewChange = ( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_2__.Emitter());
        this.view = {
            element: this.htmlElements.root,
            minimumWidth: vscode_vscode_vs_workbench_browser_parts_editor_editor__WEBPACK_IMPORTED_MODULE_16__.DEFAULT_EDITOR_MIN_DIMENSIONS.width,
            maximumWidth: vscode_vscode_vs_workbench_browser_parts_editor_editor__WEBPACK_IMPORTED_MODULE_16__.DEFAULT_EDITOR_MAX_DIMENSIONS.width,
            minimumHeight: vscode_vscode_vs_workbench_browser_parts_editor_editor__WEBPACK_IMPORTED_MODULE_16__.DEFAULT_EDITOR_MIN_DIMENSIONS.height,
            maximumHeight: vscode_vscode_vs_workbench_browser_parts_editor_editor__WEBPACK_IMPORTED_MODULE_16__.DEFAULT_EDITOR_MAX_DIMENSIONS.height,
            onDidChange: this._onDidViewChange.event,
            layout: (width, height, top, left) => {
                (0,vscode_vscode_vs_workbench_contrib_mergeEditor_browser_utils__WEBPACK_IMPORTED_MODULE_17__.setStyle)(this.htmlElements.root, { width, height, top, left });
                this.editor.layout({
                    width: width - this.htmlElements.gutterDiv.clientWidth,
                    height: height - this.htmlElements.header.clientHeight,
                });
            }
        };
        this.checkboxesVisible = (0,vscode_vscode_vs_platform_observable_common_platformObservableUtils__WEBPACK_IMPORTED_MODULE_18__.observableConfigValue)('mergeEditor.showCheckboxes', false, this.configurationService);
        this.showDeletionMarkers = (0,vscode_vscode_vs_platform_observable_common_platformObservableUtils__WEBPACK_IMPORTED_MODULE_18__.observableConfigValue)('mergeEditor.showDeletionMarkers', true, this.configurationService);
        this.useSimplifiedDecorations = (0,vscode_vscode_vs_platform_observable_common_platformObservableUtils__WEBPACK_IMPORTED_MODULE_18__.observableConfigValue)('mergeEditor.useSimplifiedDecorations', false, this.configurationService);
        this.editor = this.instantiationService.createInstance(vscode_vscode_vs_editor_browser_widget_codeEditor_codeEditorWidget__WEBPACK_IMPORTED_MODULE_10__.CodeEditorWidget, this.htmlElements.editor, {}, {
            contributions: this.getEditorContributions(),
        });
        this.isFocused = (0,vscode_vscode_vs_base_common_observableInternal_utils__WEBPACK_IMPORTED_MODULE_8__.observableFromEvent)(this, vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_2__.Event.any(this.editor.onDidBlurEditorWidget, this.editor.onDidFocusEditorWidget), () =>  this.editor.hasWidgetFocus());
        this.cursorPosition = (0,vscode_vscode_vs_base_common_observableInternal_utils__WEBPACK_IMPORTED_MODULE_8__.observableFromEvent)(this, this.editor.onDidChangeCursorPosition, () =>  this.editor.getPosition());
        this.selection = (0,vscode_vscode_vs_base_common_observableInternal_utils__WEBPACK_IMPORTED_MODULE_8__.observableFromEvent)(this, this.editor.onDidChangeCursorSelection, () =>  this.editor.getSelections());
        this.cursorLineNumber = ( this.cursorPosition.map(p =>  p?.lineNumber));
    }
    getEditorContributions() {
        return vscode_vscode_vs_editor_browser_editorExtensions__WEBPACK_IMPORTED_MODULE_9__.EditorExtensionsRegistry.getEditorContributions().filter(c => c.id !== vscode_vscode_vs_editor_contrib_folding_browser_folding__WEBPACK_IMPORTED_MODULE_13__.FoldingController.ID && c.id !== vscode_vscode_vs_editor_contrib_codelens_browser_codelensController__WEBPACK_IMPORTED_MODULE_12__.CodeLensContribution.ID);
    }
}
function createSelectionsAutorun(codeEditorView, translateRange) {
    const selections = (0,vscode_vscode_vs_base_common_observableInternal_derived__WEBPACK_IMPORTED_MODULE_6__.derived)(reader => {
        const viewModel = codeEditorView.viewModel.read(reader);
        if (!viewModel) {
            return [];
        }
        const baseRange = viewModel.selectionInBase.read(reader);
        if (!baseRange || baseRange.sourceEditor === codeEditorView) {
            return [];
        }
        return ( baseRange.rangesInBase.map(r => translateRange(r, viewModel)));
    });
    return (0,vscode_vscode_vs_base_common_observableInternal_autorun__WEBPACK_IMPORTED_MODULE_5__.autorun)(reader => {
        const ranges = selections.read(reader);
        if (ranges.length === 0) {
            return;
        }
        codeEditorView.editor.setSelections(( ranges.map(r => ( new vscode_vscode_vs_editor_common_core_selection__WEBPACK_IMPORTED_MODULE_11__.Selection(r.startLineNumber, r.startColumn, r.endLineNumber, r.endColumn)))));
    });
}
let TitleMenu = class TitleMenu extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__.Disposable {
    constructor(menuId, targetHtmlElement, instantiationService) {
        super();
        const toolbar = instantiationService.createInstance(vscode_vscode_vs_platform_actions_browser_toolbar__WEBPACK_IMPORTED_MODULE_14__.MenuWorkbenchToolBar, targetHtmlElement, menuId, {
            menuOptions: { renderShortTitle: true },
            toolbarOptions: { primaryGroup: (g) => g === 'primary' }
        });
        this._store.add(toolbar);
    }
};
TitleMenu = ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_15__.IInstantiationService))
], TitleMenu));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/editors/inputCodeEditorView.js":
/*!********************************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/editors/inputCodeEditorView.js ***!
  \********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   InputCodeEditorView: () => (/* binding */ InputCodeEditorView),
/* harmony export */   MergeConflictGutterItemView: () => (/* binding */ MergeConflictGutterItemView),
/* harmony export */   ModifiedBaseRangeGutterItemModel: () => (/* binding */ ModifiedBaseRangeGutterItemModel)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/dom */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_iconLabel_iconLabels__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/iconLabel/iconLabels */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/iconLabel/iconLabels.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_toggle_toggle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/toggle/toggle */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/toggle/toggle.js");
/* harmony import */ var vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/base/common/actions */ "./node_modules/vscode/vscode/src/vs/base/common/actions.js");
/* harmony import */ var vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/base/common/codicons */ "./node_modules/vscode/vscode/src/vs/base/common/codicons.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_base_common_numbers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/base/common/numbers */ "./node_modules/vscode/vscode/src/vs/base/common/numbers.js");
/* harmony import */ var vscode_vscode_vs_base_common_observableInternal_base__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/base/common/observableInternal/base */ "./node_modules/vscode/vscode/src/vs/base/common/observableInternal/base.js");
/* harmony import */ var vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/base/common/arrays */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_base_common_observableInternal_autorun__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/base/common/observableInternal/autorun */ "./node_modules/vscode/vscode/src/vs/base/common/observableInternal/autorun.js");
/* harmony import */ var vscode_vscode_vs_base_common_observableInternal_derived__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/base/common/observableInternal/derived */ "./node_modules/vscode/vscode/src/vs/base/common/observableInternal/derived.js");
/* harmony import */ var vscode_vscode_vs_base_common_cancellation__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/base/common/cancellation */ "./node_modules/vscode/vscode/src/vs/base/common/cancellation.js");
/* harmony import */ var vscode_vscode_vs_base_common_observableInternal_utils__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/base/common/observableInternal/utils */ "./node_modules/vscode/vscode/src/vs/base/common/observableInternal/utils.js");
/* harmony import */ var vscode_vscode_vs_base_common_strings__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/base/common/strings */ "./node_modules/vscode/vscode/src/vs/base/common/strings.js");
/* harmony import */ var vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/base/common/types */ "./node_modules/vscode/vscode/src/vs/base/common/types.js");
/* harmony import */ var vscode_vscode_vs_editor_common_model__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/model */ "./node_modules/vscode/vscode/src/vs/editor/common/model.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! vscode/vscode/vs/platform/configuration/common/configuration.service */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var vscode_vscode_vs_platform_contextview_browser_contextView_service__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextview/browser/contextView.service */ "./node_modules/vscode/vscode/src/vs/platform/contextview/browser/contextView.service.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_browser_defaultStyles__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/browser/defaultStyles */ "./node_modules/vscode/vscode/src/vs/platform/theme/browser/defaultStyles.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_mergeEditor_browser_utils__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/mergeEditor/browser/utils */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/mergeEditor/browser/utils.js");
/* harmony import */ var _colors_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../colors.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/colors.js");
/* harmony import */ var _editorGutter_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../editorGutter.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/editorGutter.js");
/* harmony import */ var _codeEditorView_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./codeEditorView.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/editors/codeEditorView.js");





























let InputCodeEditorView = class InputCodeEditorView extends _codeEditorView_js__WEBPACK_IMPORTED_MODULE_27__.CodeEditorView {
    constructor(inputNumber, viewModel, instantiationService, contextMenuService, configurationService) {
        super(instantiationService, viewModel, configurationService);
        this.inputNumber = inputNumber;
        this.otherInputNumber = this.inputNumber === 1 ? 2 : 1;
        this.modifiedBaseRangeGutterItemInfos = (0,vscode_vscode_vs_base_common_observableInternal_derived__WEBPACK_IMPORTED_MODULE_12__.derivedOpts)({ debugName: `input${this.inputNumber}.modifiedBaseRangeGutterItemInfos` }, reader => {
            const viewModel = this.viewModel.read(reader);
            if (!viewModel) {
                return [];
            }
            const model = viewModel.model;
            const inputNumber = this.inputNumber;
            const showNonConflictingChanges = viewModel.showNonConflictingChanges.read(reader);
            return (
                 (model.modifiedBaseRanges.read(reader)
                    .filter((r) => r.getInputDiffs(this.inputNumber).length > 0 && (showNonConflictingChanges || r.isConflicting || !model.isHandled(r).read(reader)))
                    .map(
                    (baseRange, idx) => ( (new ModifiedBaseRangeGutterItemModel( (idx.toString()), baseRange, inputNumber, viewModel)))
                ))
            );
        });
        this.decorations = (0,vscode_vscode_vs_base_common_observableInternal_derived__WEBPACK_IMPORTED_MODULE_12__.derivedOpts)({ debugName: `input${this.inputNumber}.decorations` }, reader => {
            const viewModel = this.viewModel.read(reader);
            if (!viewModel) {
                return [];
            }
            const model = viewModel.model;
            const textModel = (this.inputNumber === 1 ? model.input1 : model.input2).textModel;
            const activeModifiedBaseRange = viewModel.activeModifiedBaseRange.read(reader);
            const result = ( (new Array()));
            const showNonConflictingChanges = viewModel.showNonConflictingChanges.read(reader);
            const showDeletionMarkers = this.showDeletionMarkers.read(reader);
            const diffWithThis = viewModel.baseCodeEditorView.read(reader) !== undefined && viewModel.baseShowDiffAgainst.read(reader) === this.inputNumber;
            const useSimplifiedDecorations = !diffWithThis && this.useSimplifiedDecorations.read(reader);
            for (const modifiedBaseRange of model.modifiedBaseRanges.read(reader)) {
                const range = modifiedBaseRange.getInputRange(this.inputNumber);
                if (!range) {
                    continue;
                }
                const blockClassNames = ['merge-editor-block'];
                let blockPadding = [0, 0, 0, 0];
                const isHandled = model.isInputHandled(modifiedBaseRange, this.inputNumber).read(reader);
                if (isHandled) {
                    blockClassNames.push('handled');
                }
                if (modifiedBaseRange === activeModifiedBaseRange) {
                    blockClassNames.push('focused');
                    blockPadding = [0, 2, 0, 2];
                }
                if (modifiedBaseRange.isConflicting) {
                    blockClassNames.push('conflicting');
                }
                const inputClassName = this.inputNumber === 1 ? 'input i1' : 'input i2';
                blockClassNames.push(inputClassName);
                if (!modifiedBaseRange.isConflicting && !showNonConflictingChanges && isHandled) {
                    continue;
                }
                if (useSimplifiedDecorations && !isHandled) {
                    blockClassNames.push('use-simplified-decorations');
                }
                result.push({
                    range: range.toInclusiveRangeOrEmpty(),
                    options: {
                        showIfCollapsed: true,
                        blockClassName: blockClassNames.join(' '),
                        blockPadding,
                        blockIsAfterEnd: range.startLineNumber > textModel.getLineCount(),
                        description: 'Merge Editor',
                        minimap: {
                            position: 2 ,
                            color: { id: isHandled ? _colors_js__WEBPACK_IMPORTED_MODULE_25__.handledConflictMinimapOverViewRulerColor : _colors_js__WEBPACK_IMPORTED_MODULE_25__.unhandledConflictMinimapOverViewRulerColor },
                        },
                        overviewRuler: modifiedBaseRange.isConflicting ? {
                            position: vscode_vscode_vs_editor_common_model__WEBPACK_IMPORTED_MODULE_17__.OverviewRulerLane.Center,
                            color: { id: isHandled ? _colors_js__WEBPACK_IMPORTED_MODULE_25__.handledConflictMinimapOverViewRulerColor : _colors_js__WEBPACK_IMPORTED_MODULE_25__.unhandledConflictMinimapOverViewRulerColor },
                        } : undefined
                    }
                });
                if (!useSimplifiedDecorations && (modifiedBaseRange.isConflicting || !model.isHandled(modifiedBaseRange).read(reader))) {
                    const inputDiffs = modifiedBaseRange.getInputDiffs(this.inputNumber);
                    for (const diff of inputDiffs) {
                        const range = diff.outputRange.toInclusiveRange();
                        if (range) {
                            result.push({
                                range,
                                options: {
                                    className: `merge-editor-diff ${inputClassName}`,
                                    description: 'Merge Editor',
                                    isWholeLine: true,
                                }
                            });
                        }
                        if (diff.rangeMappings) {
                            for (const d of diff.rangeMappings) {
                                if (showDeletionMarkers || !d.outputRange.isEmpty()) {
                                    result.push({
                                        range: d.outputRange,
                                        options: {
                                            className: d.outputRange.isEmpty() ? `merge-editor-diff-empty-word ${inputClassName}` : `merge-editor-diff-word ${inputClassName}`,
                                            description: 'Merge Editor',
                                            showIfCollapsed: true,
                                        }
                                    });
                                }
                            }
                        }
                    }
                }
            }
            return result;
        });
        this.htmlElements.root.classList.add(`input`);
        this._register(( (new _editorGutter_js__WEBPACK_IMPORTED_MODULE_26__.EditorGutter(this.editor, this.htmlElements.gutterDiv, {
            getIntersectingGutterItems: (range, reader) => {
                if (this.checkboxesVisible.read(reader)) {
                    return this.modifiedBaseRangeGutterItemInfos.read(reader);
                }
                else {
                    return [];
                }
            },
            createView: (item, target) => ( (new MergeConflictGutterItemView(item, target, contextMenuService))),
        }))));
        this._register((0,_codeEditorView_js__WEBPACK_IMPORTED_MODULE_27__.createSelectionsAutorun)(this, (baseRange, viewModel) => viewModel.model.translateBaseRangeToInput(this.inputNumber, baseRange)));
        this._register(instantiationService.createInstance(_codeEditorView_js__WEBPACK_IMPORTED_MODULE_27__.TitleMenu, inputNumber === 1 ? vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_19__.MenuId.MergeInput1Toolbar : vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_19__.MenuId.MergeInput2Toolbar, this.htmlElements.toolbar));
        this._register((0,vscode_vscode_vs_base_common_observableInternal_autorun__WEBPACK_IMPORTED_MODULE_11__.autorunOpts)({ debugName: `input${this.inputNumber}: update labels & text model` }, reader => {
            const vm = this.viewModel.read(reader);
            if (!vm) {
                return;
            }
            this.editor.setModel(this.inputNumber === 1 ? vm.model.input1.textModel : vm.model.input2.textModel);
            const title = this.inputNumber === 1
                ? vm.model.input1.title || ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_18__.localize)(11385, 'Input 1'))
                : vm.model.input2.title || ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_18__.localize)(11386, 'Input 2'));
            const description = this.inputNumber === 1
                ? vm.model.input1.description
                : vm.model.input2.description;
            const detail = this.inputNumber === 1
                ? vm.model.input1.detail
                : vm.model.input2.detail;
            (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__.reset)(this.htmlElements.title, ...(0,vscode_vscode_vs_base_browser_ui_iconLabel_iconLabels__WEBPACK_IMPORTED_MODULE_2__.renderLabelWithIcons)(title));
            (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__.reset)(this.htmlElements.description, ...(description ? (0,vscode_vscode_vs_base_browser_ui_iconLabel_iconLabels__WEBPACK_IMPORTED_MODULE_2__.renderLabelWithIcons)(description) : []));
            (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__.reset)(this.htmlElements.detail, ...(detail ? (0,vscode_vscode_vs_base_browser_ui_iconLabel_iconLabels__WEBPACK_IMPORTED_MODULE_2__.renderLabelWithIcons)(detail) : []));
        }));
        this._register((0,vscode_vscode_vs_workbench_contrib_mergeEditor_browser_utils__WEBPACK_IMPORTED_MODULE_24__.applyObservableDecorations)(this.editor, this.decorations));
    }
};
InputCodeEditorView = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_22__.IInstantiationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_platform_contextview_browser_contextView_service__WEBPACK_IMPORTED_MODULE_21__.IContextMenuService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_20__.IConfigurationService)))
], InputCodeEditorView)));
class ModifiedBaseRangeGutterItemModel {
    constructor(id, baseRange, inputNumber, viewModel) {
        this.id = id;
        this.baseRange = baseRange;
        this.inputNumber = inputNumber;
        this.viewModel = viewModel;
        this.model = this.viewModel.model;
        this.range = this.baseRange.getInputRange(this.inputNumber);
        this.enabled = this.model.isUpToDate;
        this.toggleState = (0,vscode_vscode_vs_base_common_observableInternal_derived__WEBPACK_IMPORTED_MODULE_12__.derived)(this, reader => {
            const input = this.model
                .getState(this.baseRange)
                .read(reader)
                .getInput(this.inputNumber);
            return input === 2  && !this.baseRange.isOrderRelevant
                ? 1
                : input;
        });
        this.state = (0,vscode_vscode_vs_base_common_observableInternal_derived__WEBPACK_IMPORTED_MODULE_12__.derived)(this, reader => {
            const active = this.viewModel.activeModifiedBaseRange.read(reader);
            if (!this.model.hasBaseRange(this.baseRange)) {
                return { handled: false, focused: false };
            }
            return {
                handled: this.model.isHandled(this.baseRange).read(reader),
                focused: this.baseRange === active,
            };
        });
    }
    setState(value, tx) {
        this.viewModel.setState(this.baseRange, this.model
            .getState(this.baseRange)
            .get()
            .withInputValue(this.inputNumber, value), tx, this.inputNumber);
    }
    toggleBothSides() {
        (0,vscode_vscode_vs_base_common_observableInternal_base__WEBPACK_IMPORTED_MODULE_8__.transaction)(tx => {
            const state = this.model
                .getState(this.baseRange)
                .get();
            this.model.setState(this.baseRange, state
                .toggle(this.inputNumber)
                .toggle(this.inputNumber === 1 ? 2 : 1), true, tx);
        });
    }
    getContextMenuActions() {
        const state = this.model.getState(this.baseRange).get();
        const handled = this.model.isHandled(this.baseRange).get();
        const update = (newState) => {
            (0,vscode_vscode_vs_base_common_observableInternal_base__WEBPACK_IMPORTED_MODULE_8__.transaction)(tx => {
                return this.viewModel.setState(this.baseRange, newState, tx, this.inputNumber);
            });
        };
        function action(id, label, targetState, checked) {
            const action = ( (new vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_4__.Action(id, label, undefined, true, () => {
                update(targetState);
            })));
            action.checked = checked;
            return action;
        }
        const both = state.includesInput1 && state.includesInput2;
        return [
            this.baseRange.input1Diffs.length > 0
                ? action('mergeEditor.acceptInput1', ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_18__.localize)(11387, 'Accept {0}', this.model.input1.title)), state.toggle(1), state.includesInput1)
                : undefined,
            this.baseRange.input2Diffs.length > 0
                ? action('mergeEditor.acceptInput2', ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_18__.localize)(11387, 'Accept {0}', this.model.input2.title)), state.toggle(2), state.includesInput2)
                : undefined,
            this.baseRange.isConflicting
                ? (0,vscode_vscode_vs_workbench_contrib_mergeEditor_browser_utils__WEBPACK_IMPORTED_MODULE_24__.setFields)(action('mergeEditor.acceptBoth', ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_18__.localize)(11388, 'Accept Both')), state.withInputValue(1, !both).withInputValue(2, !both), both), { enabled: this.baseRange.canBeCombined })
                : undefined,
            ( (new vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_4__.Separator())),
            this.baseRange.isConflicting
                ? (0,vscode_vscode_vs_workbench_contrib_mergeEditor_browser_utils__WEBPACK_IMPORTED_MODULE_24__.setFields)(action('mergeEditor.swap', ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_18__.localize)(11389, 'Swap')), state.swap(), false), { enabled: !state.kind && (!both || this.baseRange.isOrderRelevant) })
                : undefined,
            (0,vscode_vscode_vs_workbench_contrib_mergeEditor_browser_utils__WEBPACK_IMPORTED_MODULE_24__.setFields)(( (new vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_4__.Action('mergeEditor.markAsHandled', ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_18__.localize)(11390, 'Mark as Handled')), undefined, true, () => {
                (0,vscode_vscode_vs_base_common_observableInternal_base__WEBPACK_IMPORTED_MODULE_8__.transaction)((tx) => {
                    this.model.setHandled(this.baseRange, !handled, tx);
                });
            }))), { checked: handled }),
        ].filter(vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_16__.isDefined);
    }
}
class MergeConflictGutterItemView extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_6__.Disposable {
    constructor(item, target, contextMenuService) {
        super();
        this.isMultiLine = (0,vscode_vscode_vs_base_common_observableInternal_base__WEBPACK_IMPORTED_MODULE_8__.observableValue)(this, false);
        this.item = (0,vscode_vscode_vs_base_common_observableInternal_base__WEBPACK_IMPORTED_MODULE_8__.observableValue)(this, item);
        const checkBox = ( (new vscode_vscode_vs_base_browser_ui_toggle_toggle__WEBPACK_IMPORTED_MODULE_3__.Toggle({
            isChecked: false,
            title: '',
            icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_5__.Codicon.check,
            ...vscode_vscode_vs_platform_theme_browser_defaultStyles__WEBPACK_IMPORTED_MODULE_23__.defaultToggleStyles
        })));
        checkBox.domNode.classList.add('accept-conflict-group');
        this._register((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(checkBox.domNode, vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__.EventType.MOUSE_DOWN, (e) => {
            const item = this.item.get();
            if (!item) {
                return;
            }
            if (e.button ===  2) {
                e.stopPropagation();
                e.preventDefault();
                contextMenuService.showContextMenu({
                    getAnchor: () => checkBox.domNode,
                    getActions: () => item.getContextMenuActions(),
                });
            }
            else if (e.button ===  1) {
                e.stopPropagation();
                e.preventDefault();
                item.toggleBothSides();
            }
        }));
        this._register((0,vscode_vscode_vs_base_common_observableInternal_autorun__WEBPACK_IMPORTED_MODULE_11__.autorun)(reader => {
            const item = this.item.read(reader);
            const value = item.toggleState.read(reader);
            const iconMap = {
                [0 ]: { icon: undefined, checked: false, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_18__.localize)(11391, "Accept")) },
                [3 ]: { icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_5__.Codicon.circleFilled, checked: false, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_18__.localize)(11392, "Accept (result is dirty)")) },
                [1 ]: { icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_5__.Codicon.check, checked: true, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_18__.localize)(11393, "Undo accept")) },
                [2 ]: { icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_5__.Codicon.checkAll, checked: true, title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_18__.localize)(11394, "Undo accept (currently second)")) },
            };
            const state = iconMap[value];
            checkBox.setIcon(state.icon);
            checkBox.checked = state.checked;
            checkBox.setTitle(state.title);
            if (!item.enabled.read(reader)) {
                checkBox.disable();
            }
            else {
                checkBox.enable();
            }
        }));
        this._register((0,vscode_vscode_vs_base_common_observableInternal_autorun__WEBPACK_IMPORTED_MODULE_11__.autorun)(reader => {
            const state = this.item.read(reader).state.read(reader);
            const classNames = [
                'merge-accept-gutter-marker',
                state.handled && 'handled',
                state.focused && 'focused',
                this.isMultiLine.read(reader) ? 'multi-line' : 'single-line',
            ];
            target.className = classNames.filter(c => typeof c === 'string').join(' ');
        }));
        this._register(checkBox.onChange(() => {
            (0,vscode_vscode_vs_base_common_observableInternal_base__WEBPACK_IMPORTED_MODULE_8__.transaction)(tx => {
                this.item.get().setState(checkBox.checked, tx);
            });
        }));
        target.appendChild((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__.h)('div.background', [vscode_vscode_vs_base_common_strings__WEBPACK_IMPORTED_MODULE_15__.noBreakWhitespace]).root);
        target.appendChild(this.checkboxDiv = (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__.h)('div.checkbox', [(0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__.h)('div.checkbox-background', [checkBox.domNode])]).root);
    }
    layout(top, height, viewTop, viewHeight) {
        const checkboxHeight = this.checkboxDiv.clientHeight;
        const middleHeight = height / 2 - checkboxHeight / 2;
        const margin = checkboxHeight;
        let effectiveCheckboxTop = top + middleHeight;
        const preferredViewPortRange = [
            margin,
            viewTop + viewHeight - margin - checkboxHeight
        ];
        const preferredParentRange = [
            top + margin,
            top + height - checkboxHeight - margin
        ];
        if (preferredParentRange[0] < preferredParentRange[1]) {
            effectiveCheckboxTop = (0,vscode_vscode_vs_base_common_numbers__WEBPACK_IMPORTED_MODULE_7__.clamp)(effectiveCheckboxTop, preferredViewPortRange[0], preferredViewPortRange[1]);
            effectiveCheckboxTop = (0,vscode_vscode_vs_base_common_numbers__WEBPACK_IMPORTED_MODULE_7__.clamp)(effectiveCheckboxTop, preferredParentRange[0], preferredParentRange[1]);
        }
        this.checkboxDiv.style.top = `${effectiveCheckboxTop - top}px`;
        (0,vscode_vscode_vs_base_common_observableInternal_base__WEBPACK_IMPORTED_MODULE_8__.transaction)((tx) => {
            this.isMultiLine.set(height > 30, tx);
        });
    }
    update(baseRange) {
        (0,vscode_vscode_vs_base_common_observableInternal_base__WEBPACK_IMPORTED_MODULE_8__.transaction)(tx => {
            this.item.set(baseRange, tx);
        });
    }
}




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/editors/resultCodeEditorView.js":
/*!*********************************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/editors/resultCodeEditorView.js ***!
  \*********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ResultCodeEditorView: () => (/* binding */ ResultCodeEditorView)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/dom */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_actionbar_actionbar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/actionbar/actionbar */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/actionbar/actionbar.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_iconLabel_iconLabels__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/iconLabel/iconLabels */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/iconLabel/iconLabels.js");
/* harmony import */ var vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/base/common/arrays */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var vscode_vscode_vs_base_common_errors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/base/common/errors */ "./node_modules/vscode/vscode/src/vs/base/common/errors.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_base_common_observableInternal_autorun__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/base/common/observableInternal/autorun */ "./node_modules/vscode/vscode/src/vs/base/common/observableInternal/autorun.js");
/* harmony import */ var vscode_vscode_vs_base_common_observableInternal_derived__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/base/common/observableInternal/derived */ "./node_modules/vscode/vscode/src/vs/base/common/observableInternal/derived.js");
/* harmony import */ var vscode_vscode_vs_base_common_cancellation__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/base/common/cancellation */ "./node_modules/vscode/vscode/src/vs/base/common/cancellation.js");
/* harmony import */ var vscode_vscode_vs_base_common_observableInternal_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/base/common/observableInternal/utils */ "./node_modules/vscode/vscode/src/vs/base/common/observableInternal/utils.js");
/* harmony import */ var vscode_vscode_vs_editor_common_model__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/model */ "./node_modules/vscode/vscode/src/vs/editor/common/model.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/platform/configuration/common/configuration.service */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey.service */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_platform_label_common_label_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! vscode/vscode/vs/platform/label/common/label.service */ "./node_modules/vscode/vscode/src/vs/platform/label/common/label.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_mergeEditor_browser_model_lineRange__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/mergeEditor/browser/model/lineRange */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/mergeEditor/browser/model/lineRange.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_mergeEditor_browser_utils__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/mergeEditor/browser/utils */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/mergeEditor/browser/utils.js");
/* harmony import */ var _colors_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../colors.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/colors.js");
/* harmony import */ var _editorGutter_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../editorGutter.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/editorGutter.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/mergeEditor/common/mergeEditor */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/mergeEditor/common/mergeEditor.js");
/* harmony import */ var _codeEditorView_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./codeEditorView.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/editors/codeEditorView.js");


























let ResultCodeEditorView = class ResultCodeEditorView extends _codeEditorView_js__WEBPACK_IMPORTED_MODULE_24__.CodeEditorView {
    constructor(viewModel, instantiationService, _labelService, configurationService) {
        super(instantiationService, viewModel, configurationService);
        this._labelService = _labelService;
        this.decorations = (0,vscode_vscode_vs_base_common_observableInternal_derived__WEBPACK_IMPORTED_MODULE_9__.derived)(this, reader => {
            const viewModel = this.viewModel.read(reader);
            if (!viewModel) {
                return [];
            }
            const model = viewModel.model;
            const textModel = model.resultTextModel;
            const result = ( (new Array()));
            const baseRangeWithStoreAndTouchingDiffs = (0,vscode_vscode_vs_workbench_contrib_mergeEditor_browser_utils__WEBPACK_IMPORTED_MODULE_20__.join)(model.modifiedBaseRanges.read(reader), model.baseResultDiffs.read(reader), (baseRange, diff) => baseRange.baseRange.touches(diff.inputRange)
                ? vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_4__.CompareResult.neitherLessOrGreaterThan
                : vscode_vscode_vs_workbench_contrib_mergeEditor_browser_model_lineRange__WEBPACK_IMPORTED_MODULE_19__.LineRange.compareByStart(baseRange.baseRange, diff.inputRange));
            const activeModifiedBaseRange = viewModel.activeModifiedBaseRange.read(reader);
            const showNonConflictingChanges = viewModel.showNonConflictingChanges.read(reader);
            for (const m of baseRangeWithStoreAndTouchingDiffs) {
                const modifiedBaseRange = m.left;
                if (modifiedBaseRange) {
                    const blockClassNames = ['merge-editor-block'];
                    let blockPadding = [0, 0, 0, 0];
                    const isHandled = model.isHandled(modifiedBaseRange).read(reader);
                    if (isHandled) {
                        blockClassNames.push('handled');
                    }
                    if (modifiedBaseRange === activeModifiedBaseRange) {
                        blockClassNames.push('focused');
                        blockPadding = [0, 2, 0, 2];
                    }
                    if (modifiedBaseRange.isConflicting) {
                        blockClassNames.push('conflicting');
                    }
                    blockClassNames.push('result');
                    if (!modifiedBaseRange.isConflicting && !showNonConflictingChanges && isHandled) {
                        continue;
                    }
                    const range = model.getLineRangeInResult(modifiedBaseRange.baseRange, reader);
                    result.push({
                        range: range.toInclusiveRangeOrEmpty(),
                        options: {
                            showIfCollapsed: true,
                            blockClassName: blockClassNames.join(' '),
                            blockPadding,
                            blockIsAfterEnd: range.startLineNumber > textModel.getLineCount(),
                            description: 'Result Diff',
                            minimap: {
                                position: 2 ,
                                color: { id: isHandled ? _colors_js__WEBPACK_IMPORTED_MODULE_21__.handledConflictMinimapOverViewRulerColor : _colors_js__WEBPACK_IMPORTED_MODULE_21__.unhandledConflictMinimapOverViewRulerColor },
                            },
                            overviewRuler: modifiedBaseRange.isConflicting ? {
                                position: vscode_vscode_vs_editor_common_model__WEBPACK_IMPORTED_MODULE_12__.OverviewRulerLane.Center,
                                color: { id: isHandled ? _colors_js__WEBPACK_IMPORTED_MODULE_21__.handledConflictMinimapOverViewRulerColor : _colors_js__WEBPACK_IMPORTED_MODULE_21__.unhandledConflictMinimapOverViewRulerColor },
                            } : undefined
                        }
                    });
                }
                if (!modifiedBaseRange || modifiedBaseRange.isConflicting) {
                    for (const diff of m.rights) {
                        const range = diff.outputRange.toInclusiveRange();
                        if (range) {
                            result.push({
                                range,
                                options: {
                                    className: `merge-editor-diff result`,
                                    description: 'Merge Editor',
                                    isWholeLine: true,
                                }
                            });
                        }
                        if (diff.rangeMappings) {
                            for (const d of diff.rangeMappings) {
                                result.push({
                                    range: d.outputRange,
                                    options: {
                                        className: `merge-editor-diff-word result`,
                                        description: 'Merge Editor'
                                    }
                                });
                            }
                        }
                    }
                }
            }
            return result;
        });
        this.editor.invokeWithinContext(accessor => {
            const contextKeyService = accessor.get(vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_16__.IContextKeyService);
            const isMergeResultEditor = vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_23__.ctxIsMergeResultEditor.bindTo(contextKeyService);
            isMergeResultEditor.set(true);
            this._register((0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_6__.toDisposable)(() => isMergeResultEditor.reset()));
        });
        this.htmlElements.gutterDiv.style.width = '5px';
        this.htmlElements.root.classList.add(`result`);
        this._register((0,vscode_vscode_vs_base_common_observableInternal_autorun__WEBPACK_IMPORTED_MODULE_8__.autorunWithStore)((reader, store) => {
            if (this.checkboxesVisible.read(reader)) {
                store.add(( (new _editorGutter_js__WEBPACK_IMPORTED_MODULE_22__.EditorGutter(this.editor, this.htmlElements.gutterDiv, {
                    getIntersectingGutterItems: (range, reader) => [],
                    createView: (item, target) => { throw ( (new vscode_vscode_vs_base_common_errors__WEBPACK_IMPORTED_MODULE_5__.BugIndicatingError())); },
                }))));
            }
        }));
        this._register((0,vscode_vscode_vs_base_common_observableInternal_autorun__WEBPACK_IMPORTED_MODULE_8__.autorun)(reader => {
            const vm = this.viewModel.read(reader);
            if (!vm) {
                return;
            }
            this.editor.setModel(vm.model.resultTextModel);
            (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__.reset)(this.htmlElements.title, ...(0,vscode_vscode_vs_base_browser_ui_iconLabel_iconLabels__WEBPACK_IMPORTED_MODULE_3__.renderLabelWithIcons)(( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_13__.localize)(11395, 'Result'))));
            (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__.reset)(this.htmlElements.description, ...(0,vscode_vscode_vs_base_browser_ui_iconLabel_iconLabels__WEBPACK_IMPORTED_MODULE_3__.renderLabelWithIcons)(this._labelService.getUriLabel(vm.model.resultTextModel.uri, { relative: true })));
        }));
        const remainingConflictsActionBar = this._register(( (new vscode_vscode_vs_base_browser_ui_actionbar_actionbar__WEBPACK_IMPORTED_MODULE_2__.ActionBar(this.htmlElements.detail))));
        this._register((0,vscode_vscode_vs_base_common_observableInternal_autorun__WEBPACK_IMPORTED_MODULE_8__.autorun)(reader => {
            const vm = this.viewModel.read(reader);
            if (!vm) {
                return;
            }
            const model = vm.model;
            if (!model) {
                return;
            }
            const count = model.unhandledConflictsCount.read(reader);
            const text = count === 1
                ? ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_13__.localize)(11396, '{0} Conflict Remaining', count))
                : ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_13__.localize)(11397, '{0} Conflicts Remaining ', count));
            remainingConflictsActionBar.clear();
            remainingConflictsActionBar.push({
                class: undefined,
                enabled: count > 0,
                id: 'nextConflict',
                label: text,
                run() {
                    vm.model.telemetry.reportConflictCounterClicked();
                    vm.goToNextModifiedBaseRange(m => !model.isHandled(m).get());
                },
                tooltip: count > 0
                    ? ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_13__.localize)(11398, 'Go to next conflict'))
                    : ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_13__.localize)(11399, 'All conflicts handled, the merge can be completed now.')),
            });
        }));
        this._register((0,vscode_vscode_vs_workbench_contrib_mergeEditor_browser_utils__WEBPACK_IMPORTED_MODULE_20__.applyObservableDecorations)(this.editor, this.decorations));
        this._register((0,_codeEditorView_js__WEBPACK_IMPORTED_MODULE_24__.createSelectionsAutorun)(this, (baseRange, viewModel) => viewModel.model.translateBaseRangeToResult(baseRange)));
        this._register(instantiationService.createInstance(_codeEditorView_js__WEBPACK_IMPORTED_MODULE_24__.TitleMenu, vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_14__.MenuId.MergeInputResultToolbar, this.htmlElements.toolbar));
    }
};
ResultCodeEditorView = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_17__.IInstantiationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_platform_label_common_label_service__WEBPACK_IMPORTED_MODULE_18__.ILabelService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_15__.IConfigurationService)))
], ResultCodeEditorView)));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/lineAlignment.js":
/*!******************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/lineAlignment.js ***!
  \******************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getAlignments: () => (/* binding */ getAlignments)
/* harmony export */ });
/* harmony import */ var vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/base/common/arrays */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var vscode_vscode_vs_base_common_assert__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/common/assert */ "./node_modules/vscode/vscode/src/vs/base/common/assert.js");
/* harmony import */ var vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/common/types */ "./node_modules/vscode/vscode/src/vs/base/common/types.js");
/* harmony import */ var vscode_vscode_vs_editor_common_core_position__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/core/position */ "./node_modules/vscode/vscode/src/vs/editor/common/core/position.js");
/* harmony import */ var vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/core/range */ "./node_modules/vscode/vscode/src/vs/editor/common/core/range.js");
/* harmony import */ var vscode_vscode_vs_editor_common_core_textLength__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/core/textLength */ "./node_modules/vscode/vscode/src/vs/editor/common/core/textLength.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_mergeEditor_browser_model_mapping__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/mergeEditor/browser/model/mapping */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/mergeEditor/browser/model/mapping.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_mergeEditor_browser_model_rangeUtils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/mergeEditor/browser/model/rangeUtils */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/mergeEditor/browser/model/rangeUtils.js");









function getAlignments(m) {
    const equalRanges1 = toEqualRangeMappings(m.input1Diffs.flatMap(d => d.rangeMappings), m.baseRange.toRange(), m.input1Range.toRange());
    const equalRanges2 = toEqualRangeMappings(m.input2Diffs.flatMap(d => d.rangeMappings), m.baseRange.toRange(), m.input2Range.toRange());
    const commonRanges = splitUpCommonEqualRangeMappings(equalRanges1, equalRanges2);
    let result = [];
    result.push([m.input1Range.startLineNumber - 1, m.baseRange.startLineNumber - 1, m.input2Range.startLineNumber - 1]);
    function isFullSync(lineAlignment) {
        return lineAlignment.every((i) => i !== undefined);
    }
    for (const m of commonRanges) {
        const lineAlignment = [m.output1Pos?.lineNumber, m.inputPos.lineNumber, m.output2Pos?.lineNumber];
        const alignmentIsFullSync = isFullSync(lineAlignment);
        let shouldAdd = true;
        if (alignmentIsFullSync) {
            const isNewFullSyncAlignment = !( result.some(r => isFullSync(r) && ( r.some((v, idx) => v !== undefined && v === lineAlignment[idx]))));
            if (isNewFullSyncAlignment) {
                result = result.filter(r => !( r.some((v, idx) => v !== undefined && v === lineAlignment[idx])));
            }
            shouldAdd = isNewFullSyncAlignment;
        }
        else {
            const isNew = !( result.some(r => ( r.some((v, idx) => v !== undefined && v === lineAlignment[idx]))));
            shouldAdd = isNew;
        }
        if (shouldAdd) {
            result.push(lineAlignment);
        }
        else {
            if (m.length.isGreaterThan(( new vscode_vscode_vs_editor_common_core_textLength__WEBPACK_IMPORTED_MODULE_5__.TextLength(1, 0)))) {
                result.push([
                    m.output1Pos ? m.output1Pos.lineNumber + 1 : undefined,
                    m.inputPos.lineNumber + 1,
                    m.output2Pos ? m.output2Pos.lineNumber + 1 : undefined
                ]);
            }
        }
    }
    const finalLineAlignment = [m.input1Range.endLineNumberExclusive, m.baseRange.endLineNumberExclusive, m.input2Range.endLineNumberExclusive];
    result = result.filter(r => r.every((v, idx) => v !== finalLineAlignment[idx]));
    result.push(finalLineAlignment);
    (0,vscode_vscode_vs_base_common_assert__WEBPACK_IMPORTED_MODULE_1__.assertFn)(() => (0,vscode_vscode_vs_base_common_assert__WEBPACK_IMPORTED_MODULE_1__.checkAdjacentItems)(( result.map(r => r[0])).filter(vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_2__.isDefined), (a, b) => a < b)
        && (0,vscode_vscode_vs_base_common_assert__WEBPACK_IMPORTED_MODULE_1__.checkAdjacentItems)(( result.map(r => r[1])).filter(vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_2__.isDefined), (a, b) => a <= b)
        && (0,vscode_vscode_vs_base_common_assert__WEBPACK_IMPORTED_MODULE_1__.checkAdjacentItems)(( result.map(r => r[2])).filter(vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_2__.isDefined), (a, b) => a < b)
        && result.every(alignment => alignment.filter(vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_2__.isDefined).length >= 2));
    return result;
}
function toEqualRangeMappings(diffs, inputRange, outputRange) {
    const result = [];
    let equalRangeInputStart = inputRange.getStartPosition();
    let equalRangeOutputStart = outputRange.getStartPosition();
    for (const d of diffs) {
        const equalRangeMapping = ( new vscode_vscode_vs_workbench_contrib_mergeEditor_browser_model_mapping__WEBPACK_IMPORTED_MODULE_6__.RangeMapping(
            vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_4__.Range.fromPositions(equalRangeInputStart, d.inputRange.getStartPosition()),
            vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_4__.Range.fromPositions(equalRangeOutputStart, d.outputRange.getStartPosition())
        ));
        (0,vscode_vscode_vs_base_common_assert__WEBPACK_IMPORTED_MODULE_1__.assertFn)(() => (0,vscode_vscode_vs_workbench_contrib_mergeEditor_browser_model_rangeUtils__WEBPACK_IMPORTED_MODULE_7__.lengthOfRange)(equalRangeMapping.inputRange).equals((0,vscode_vscode_vs_workbench_contrib_mergeEditor_browser_model_rangeUtils__WEBPACK_IMPORTED_MODULE_7__.lengthOfRange)(equalRangeMapping.outputRange)));
        if (!equalRangeMapping.inputRange.isEmpty()) {
            result.push(equalRangeMapping);
        }
        equalRangeInputStart = d.inputRange.getEndPosition();
        equalRangeOutputStart = d.outputRange.getEndPosition();
    }
    const equalRangeMapping = ( new vscode_vscode_vs_workbench_contrib_mergeEditor_browser_model_mapping__WEBPACK_IMPORTED_MODULE_6__.RangeMapping(
        vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_4__.Range.fromPositions(equalRangeInputStart, inputRange.getEndPosition()),
        vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_4__.Range.fromPositions(equalRangeOutputStart, outputRange.getEndPosition())
    ));
    (0,vscode_vscode_vs_base_common_assert__WEBPACK_IMPORTED_MODULE_1__.assertFn)(() => (0,vscode_vscode_vs_workbench_contrib_mergeEditor_browser_model_rangeUtils__WEBPACK_IMPORTED_MODULE_7__.lengthOfRange)(equalRangeMapping.inputRange).equals((0,vscode_vscode_vs_workbench_contrib_mergeEditor_browser_model_rangeUtils__WEBPACK_IMPORTED_MODULE_7__.lengthOfRange)(equalRangeMapping.outputRange)));
    if (!equalRangeMapping.inputRange.isEmpty()) {
        result.push(equalRangeMapping);
    }
    return result;
}
function splitUpCommonEqualRangeMappings(equalRangeMappings1, equalRangeMappings2) {
    const result = [];
    const events = [];
    for (const [input, rangeMappings] of [[0, equalRangeMappings1], [1, equalRangeMappings2]]) {
        for (const rangeMapping of rangeMappings) {
            events.push({
                input: input,
                start: true,
                inputPos: rangeMapping.inputRange.getStartPosition(),
                outputPos: rangeMapping.outputRange.getStartPosition()
            });
            events.push({
                input: input,
                start: false,
                inputPos: rangeMapping.inputRange.getEndPosition(),
                outputPos: rangeMapping.outputRange.getEndPosition()
            });
        }
    }
    events.sort((0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_0__.compareBy)((m) => m.inputPos, vscode_vscode_vs_editor_common_core_position__WEBPACK_IMPORTED_MODULE_3__.Position.compare));
    const starts = [undefined, undefined];
    let lastInputPos;
    for (const event of events) {
        if (lastInputPos && ( starts.some(s => !!s))) {
            const length = (0,vscode_vscode_vs_workbench_contrib_mergeEditor_browser_model_rangeUtils__WEBPACK_IMPORTED_MODULE_7__.lengthBetweenPositions)(lastInputPos, event.inputPos);
            if (!length.isZero()) {
                result.push({
                    inputPos: lastInputPos,
                    length,
                    output1Pos: starts[0],
                    output2Pos: starts[1]
                });
                if (starts[0]) {
                    starts[0] = (0,vscode_vscode_vs_workbench_contrib_mergeEditor_browser_model_rangeUtils__WEBPACK_IMPORTED_MODULE_7__.addLength)(starts[0], length);
                }
                if (starts[1]) {
                    starts[1] = (0,vscode_vscode_vs_workbench_contrib_mergeEditor_browser_model_rangeUtils__WEBPACK_IMPORTED_MODULE_7__.addLength)(starts[1], length);
                }
            }
        }
        starts[event.input] = event.start ? event.outputPos : undefined;
        lastInputPos = event.inputPos;
    }
    return result;
}




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/media/mergeEditor.css.js":
/*!**************************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/media/mergeEditor.css.js ***!
  \**************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ css),
/* harmony export */   "default": () => (/* binding */ css)
/* harmony export */ });
/* harmony import */ var vscode_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js */ "./node_modules/vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js");


var css = ".monaco-workbench .merge-editor .code-view>.header{align-content:center;display:flex;height:30px;overflow:hidden;padding:0 10px}.monaco-workbench .merge-editor .code-view>.header>span{align-self:center;overflow:hidden;padding-right:6px;text-overflow:ellipsis;white-space:nowrap}.monaco-workbench .merge-editor .code-view>.header>span.title{flex-shrink:0}.monaco-workbench .merge-editor .code-view>.header>span.description{align-items:center;color:var(--vscode-descriptionForeground);display:flex;flex-shrink:0;font-size:12px}.monaco-workbench .merge-editor .code-view.result>.header>.description{display:inline;flex-shrink:1}.monaco-workbench .merge-editor .code-view.result>.header>.detail,.monaco-workbench .merge-editor .code-view.result>.header>.toolbar{flex-shrink:0}.monaco-workbench .merge-editor .code-view>.header>span.description .codicon{color:var(--vscode-descriptionForeground);font-size:14px}.monaco-workbench .merge-editor .code-view>.header>span.detail{color:var(--vscode-descriptionForeground);font-size:12px;margin-left:auto}.monaco-workbench .merge-editor .code-view>.header>span.detail .codicon{font-size:13px}.monaco-workbench .merge-editor .code-view.input>.header>span.detail:before{content:\"\";opacity:.5;padding-right:3px}.monaco-workbench .merge-editor .code-view.input>.header>span.detail{margin-left:0}.monaco-workbench .merge-editor .code-view.input>.header>span.toolbar{flex-shrink:0;margin-left:auto}.monaco-workbench .merge-editor .code-view>.container{display:flex;flex-direction:row}.monaco-workbench .merge-editor .code-view>.container>.gutter{flex-grow:0;flex-shrink:0;overflow:hidden;position:relative;width:24px}.monaco-workbench .merge-editor .merge-editor-diff{background-color:var(--vscode-mergeEditor-change-background)}.monaco-workbench .merge-editor .merge-editor-diff-word{background-color:var(--vscode-mergeEditor-change-word-background)}.monaco-workbench .merge-editor .merge-editor-block:not(.handled):not(.focused){border:1px solid var(--vscode-mergeEditor-conflict-unhandledUnfocused-border)}.monaco-workbench .merge-editor .merge-editor-block:not(.handled).focused{border:2px solid var(--vscode-mergeEditor-conflict-unhandledFocused-border)}.monaco-workbench .merge-editor .merge-editor-block.handled:not(.focused){border:1px solid var(--vscode-mergeEditor-conflict-handledUnfocused-border)}.monaco-workbench .merge-editor .merge-editor-block.handled.focused{border:1px solid var(--vscode-mergeEditor-conflict-handledFocused-border)}.merge-editor-block.use-simplified-decorations.input.i1,.monaco-workbench .merge-editor .merge-editor-simplified.input.i1{background-color:var(--vscode-mergeEditor-conflict-input1-background)}.merge-editor-block.use-simplified-decorations.input.i2,.monaco-workbench .merge-editor .merge-editor-simplified.input.i2{background-color:var(--vscode-mergeEditor-conflict-input2-background)}.gutter.monaco-editor>div{position:absolute}.merge-accept-gutter-marker{margin-left:4px;width:28px}.merge-accept-gutter-marker .background{height:100%;position:absolute;width:50%}.merge-accept-gutter-marker.multi-line.focused .background{border:2px solid var(--vscode-mergeEditor-conflict-unhandledFocused-border);border-right:0}.merge-accept-gutter-marker.multi-line .background{border:2px solid var(--vscode-mergeEditor-conflict-unhandledUnfocused-border);border-bottom-left-radius:3px;border-right:0;border-top-left-radius:3px}.merge-accept-gutter-marker.multi-line.handled.focused .background{border:2px solid var(--vscode-mergeEditor-conflict-handledFocused-border);border-right:0}.merge-accept-gutter-marker.multi-line.handled .background{border:2px solid var(--vscode-checkbox-border);border-right:0}.focused .accept-conflict-group.monaco-custom-toggle{border:1px solid var(--vscode-mergeEditor-conflict-unhandledFocused-border)}.accept-conflict-group.monaco-custom-toggle{border:1px solid var(--vscode-mergeEditor-conflict-unhandledUnfocused-border)}.handled.focused .accept-conflict-group.monaco-custom-toggle{border:1px solid var(--vscode-mergeEditor-conflict-handledFocused-border)}.handled .accept-conflict-group.monaco-custom-toggle{border:1px solid var(--vscode-checkbox-border)}.merge-accept-gutter-marker.multi-line .background{left:8px;width:10px}.merge-accept-gutter-marker .checkbox{position:absolute;width:100%}.accept-conflict-group.monaco-custom-toggle{background-color:var(--vscode-checkbox-border);background-size:16px!important;border-radius:3px;height:18px;margin-left:0;margin-right:0;opacity:1;padding:0;width:18px}.merge-accept-gutter-marker .checkbox-background{background:var(--vscode-editor-background);display:flex}.conflict-zone-root{align-content:center;align-items:center;background-color:var(--vscode-mergeEditor-change-background);border:1px solid var(--vscode-mergeEditor-conflict-unhandledUnfocused-border);display:flex;height:90%}.conflict-zone-root .dots{margin:0 10px}.conflict-zone-root pre{display:\"inline\";font-family:var(--monaco-monospace-font)}.conflict-zone-root .text{align-items:center;background:var(--vscode-mergeEditor-conflictingLines-background);display:flex;height:100%;margin-left:auto;overflow:hidden;padding:0 8px;white-space:nowrap}.focused.conflict-zone .conflict-zone-root{border:1px solid var(--vscode-mergeEditor-conflict-unhandledFocused-border)}.merge-editor-conflict-actions{color:var(--vscode-editorCodeLens-foreground);display:inline-block;margin:0 3px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.merge-editor-conflict-actions>a,.merge-editor-conflict-actions>span{user-select:none;-webkit-user-select:none;white-space:nowrap}.merge-editor-conflict-actions>a{text-decoration:none}.merge-editor-conflict-actions>a:hover{cursor:pointer}.merge-editor-conflict-actions>a:hover,.merge-editor-conflict-actions>a:hover .codicon{color:var(--vscode-editorLink-activeForeground)!important}.merge-editor-conflict-actions .codicon{color:currentColor!important;color:var(--vscode-editorCodeLens-foreground);vertical-align:middle}.merge-editor-conflict-actions>a:hover .codicon:before{cursor:pointer}.fixed-zone-widget{width:100%}.merge-editor-diff-empty-word.base{border-left:3px solid var(--vscode-mergeEditor-changeBase-word-background);margin-left:3px}.merge-editor-diff-empty-word.input{border-left:3px solid var(--vscode-mergeEditor-change-word-background);margin-left:3px}.merge-editor-diff-word.base{background-color:var(--vscode-mergeEditor-changeBase-word-background)}.merge-editor-diff.base{background-color:var(--vscode-mergeEditor-changeBase-background)}";
(0,vscode_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__["default"])(css,{});




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/mergeEditor.js":
/*!****************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/mergeEditor.js ***!
  \****************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MergeEditor: () => (/* binding */ MergeEditor),
/* harmony export */   MergeEditorOpenHandlerContribution: () => (/* binding */ MergeEditorOpenHandlerContribution),
/* harmony export */   MergeEditorResolverContribution: () => (/* binding */ MergeEditorResolverContribution)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/dom */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var _base_browser_ui_grid_grid_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../base/browser/ui/grid/grid.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/base/browser/ui/grid/grid.js");
/* harmony import */ var vscode_vscode_vs_base_common_color__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/common/color */ "./node_modules/vscode/vscode/src/vs/base/common/color.js");
/* harmony import */ var vscode_vscode_vs_base_common_errors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/base/common/errors */ "./node_modules/vscode/vscode/src/vs/base/common/errors.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_base_common_observableInternal_base__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/base/common/observableInternal/base */ "./node_modules/vscode/vscode/src/vs/base/common/observableInternal/base.js");
/* harmony import */ var vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/base/common/arrays */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var vscode_vscode_vs_base_common_observableInternal_autorun__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/base/common/observableInternal/autorun */ "./node_modules/vscode/vscode/src/vs/base/common/observableInternal/autorun.js");
/* harmony import */ var vscode_vscode_vs_base_common_observableInternal_derived__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/base/common/observableInternal/derived */ "./node_modules/vscode/vscode/src/vs/base/common/observableInternal/derived.js");
/* harmony import */ var vscode_vscode_vs_base_common_cancellation__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/base/common/cancellation */ "./node_modules/vscode/vscode/src/vs/base/common/cancellation.js");
/* harmony import */ var vscode_vscode_vs_base_common_observableInternal_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/base/common/observableInternal/utils */ "./node_modules/vscode/vscode/src/vs/base/common/observableInternal/utils.js");
/* harmony import */ var vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/base/common/resources */ "./node_modules/vscode/vscode/src/vs/base/common/resources.js");
/* harmony import */ var vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/base/common/types */ "./node_modules/vscode/vscode/src/vs/base/common/types.js");
/* harmony import */ var _media_mergeEditor_css_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./media/mergeEditor.css.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/media/mergeEditor.css.js");
/* harmony import */ var vscode_vscode_vs_editor_browser_services_codeEditorService__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/editor/browser/services/codeEditorService */ "./node_modules/vscode/vscode/src/vs/editor/browser/services/codeEditorService.js");
/* harmony import */ var vscode_vscode_vs_editor_common_services_textResourceConfiguration__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/services/textResourceConfiguration */ "./node_modules/vscode/vscode/src/vs/editor/common/services/textResourceConfiguration.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! vscode/vscode/vs/platform/configuration/common/configuration.service */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey.service */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var vscode_vscode_vs_platform_files_common_files_service__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! vscode/vscode/vs/platform/files/common/files.service */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.service.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! vscode/vscode/vs/platform/storage/common/storage.service */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var vscode_vscode_vs_platform_telemetry_common_telemetry_service__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! vscode/vscode/vs/platform/telemetry/common/telemetry.service */ "./node_modules/vscode/vscode/src/vs/platform/telemetry/common/telemetry.service.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_themeService_service__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/themeService.service */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.service.js");
/* harmony import */ var _override_vs_workbench_browser_parts_editor_textEditor_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../../../../../../override/vs/workbench/browser/parts/editor/textEditor.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/override/vs/workbench/browser/parts/editor/textEditor.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/editor */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_editor_editorOptions__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/editor/editorOptions */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/editorOptions.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_codeEditor_browser_toggleWordWrap__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/codeEditor/browser/toggleWordWrap */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/codeEditor/browser/toggleWordWrap.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_mergeEditor_browser_mergeEditorInput__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/mergeEditor/browser/mergeEditorInput */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/mergeEditor/browser/mergeEditorInput.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_mergeEditor_browser_utils__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/mergeEditor/browser/utils */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/mergeEditor/browser/utils.js");
/* harmony import */ var vscode_vscode_vs_platform_observable_common_platformObservableUtils__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! vscode/vscode/vs/platform/observable/common/platformObservableUtils */ "./node_modules/vscode/vscode/src/vs/platform/observable/common/platformObservableUtils.js");
/* harmony import */ var _editors_baseCodeEditorView_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./editors/baseCodeEditorView.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/editors/baseCodeEditorView.js");
/* harmony import */ var _scrollSynchronizer_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./scrollSynchronizer.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/scrollSynchronizer.js");
/* harmony import */ var _viewModel_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./viewModel.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/viewModel.js");
/* harmony import */ var _viewZones_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./viewZones.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/viewZones.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/mergeEditor/common/mergeEditor */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/mergeEditor/common/mergeEditor.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_preferences_common_settingsEditorColorRegistry__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/preferences/common/settingsEditorColorRegistry */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/preferences/common/settingsEditorColorRegistry.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorGroupsService_service__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorGroupsService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorGroupsService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorResolverService */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorResolverService.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorResolverService_service__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorResolverService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorResolverService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");
/* harmony import */ var _colors_js__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./colors.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/colors.js");
/* harmony import */ var _editors_inputCodeEditorView_js__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./editors/inputCodeEditorView.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/editors/inputCodeEditorView.js");
/* harmony import */ var _editors_resultCodeEditorView_js__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./editors/resultCodeEditorView.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/editors/resultCodeEditorView.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_editor_textEditor__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/editor/textEditor */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/textEditor.js");
















































var MergeEditor_1, MergeEditorLayoutStore_1;
let MergeEditor = class MergeEditor extends vscode_vscode_vs_workbench_browser_parts_editor_textEditor__WEBPACK_IMPORTED_MODULE_46__.AbstractTextEditor {
    static { MergeEditor_1 = this; }
    static { this.ID = 'mergeEditor'; }
    get viewModel() {
        return this._viewModel;
    }
    get inputModel() {
        return this._inputModel;
    }
    get model() {
        return this.inputModel.get()?.model;
    }
    get inputsWritable() {
        return !!this._configurationService.getValue('mergeEditor.writableInputs');
    }
    constructor(group, instantiation, contextKeyService, telemetryService, storageService, themeService, textResourceConfigurationService, _configurationService, editorService, editorGroupService, fileService, _codeEditorService, configurationService) {
        super(MergeEditor_1.ID, group, telemetryService, instantiation, storageService, textResourceConfigurationService, themeService, editorService, editorGroupService, fileService);
        this.contextKeyService = contextKeyService;
        this._configurationService = _configurationService;
        this._codeEditorService = _codeEditorService;
        this.configurationService = configurationService;
        this._sessionDisposables = ( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_6__.DisposableStore()));
        this._viewModel = (0,vscode_vscode_vs_base_common_observableInternal_base__WEBPACK_IMPORTED_MODULE_7__.observableValue)(this, undefined);
        this._grid = this._register(( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_6__.MutableDisposable())));
        this.input1View = this._register(this.instantiationService.createInstance(_editors_inputCodeEditorView_js__WEBPACK_IMPORTED_MODULE_44__.InputCodeEditorView, 1, this._viewModel));
        this.baseView = (0,vscode_vscode_vs_base_common_observableInternal_base__WEBPACK_IMPORTED_MODULE_7__.observableValue)(this, undefined);
        this.baseViewOptions = (0,vscode_vscode_vs_base_common_observableInternal_base__WEBPACK_IMPORTED_MODULE_7__.observableValue)(this, undefined);
        this.input2View = this._register(this.instantiationService.createInstance(_editors_inputCodeEditorView_js__WEBPACK_IMPORTED_MODULE_44__.InputCodeEditorView, 2, this._viewModel));
        this.inputResultView = this._register(this.instantiationService.createInstance(_editors_resultCodeEditorView_js__WEBPACK_IMPORTED_MODULE_45__.ResultCodeEditorView, this._viewModel));
        this._layoutMode = this.instantiationService.createInstance(MergeEditorLayoutStore);
        this._layoutModeObs = (0,vscode_vscode_vs_base_common_observableInternal_base__WEBPACK_IMPORTED_MODULE_7__.observableValue)(this, this._layoutMode.value);
        this._ctxIsMergeEditor = vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_37__.ctxIsMergeEditor.bindTo(this.contextKeyService);
        this._ctxUsesColumnLayout = vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_37__.ctxMergeEditorLayout.bindTo(this.contextKeyService);
        this._ctxShowBase = vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_37__.ctxMergeEditorShowBase.bindTo(this.contextKeyService);
        this._ctxShowBaseAtTop = vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_37__.ctxMergeEditorShowBaseAtTop.bindTo(this.contextKeyService);
        this._ctxResultUri = vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_37__.ctxMergeResultUri.bindTo(this.contextKeyService);
        this._ctxBaseUri = vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_37__.ctxMergeBaseUri.bindTo(this.contextKeyService);
        this._ctxShowNonConflictingChanges = vscode_vscode_vs_workbench_contrib_mergeEditor_common_mergeEditor__WEBPACK_IMPORTED_MODULE_37__.ctxMergeEditorShowNonConflictingChanges.bindTo(this.contextKeyService);
        this._inputModel = (0,vscode_vscode_vs_base_common_observableInternal_base__WEBPACK_IMPORTED_MODULE_7__.observableValue)(this, undefined);
        this.viewZoneComputer = ( (new _viewZones_js__WEBPACK_IMPORTED_MODULE_36__.ViewZoneComputer(
            this.input1View.editor,
            this.input2View.editor,
            this.inputResultView.editor
        )));
        this.codeLensesVisible = (0,vscode_vscode_vs_platform_observable_common_platformObservableUtils__WEBPACK_IMPORTED_MODULE_32__.observableConfigValue)('mergeEditor.showCodeLenses', true, this.configurationService);
        this.scrollSynchronizer = this._register(( (new _scrollSynchronizer_js__WEBPACK_IMPORTED_MODULE_34__.ScrollSynchronizer(
            this._viewModel,
            this.input1View,
            this.input2View,
            this.baseView,
            this.inputResultView,
            this._layoutModeObs
        ))));
        this._onDidChangeSizeConstraints = ( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_5__.Emitter()));
        this.onDidChangeSizeConstraints = this._onDidChangeSizeConstraints.event;
        this.baseViewDisposables = this._register(( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_6__.DisposableStore())));
        this.showNonConflictingChangesStore = this.instantiationService.createInstance((vscode_vscode_vs_workbench_contrib_mergeEditor_browser_utils__WEBPACK_IMPORTED_MODULE_31__.PersistentStore), 'mergeEditor/showNonConflictingChanges');
        this.showNonConflictingChanges = (0,vscode_vscode_vs_base_common_observableInternal_base__WEBPACK_IMPORTED_MODULE_7__.observableValue)(this, this.showNonConflictingChangesStore.get() ?? false);
    }
    dispose() {
        this._sessionDisposables.dispose();
        this._ctxIsMergeEditor.reset();
        this._ctxUsesColumnLayout.reset();
        this._ctxShowNonConflictingChanges.reset();
        super.dispose();
    }
    get minimumWidth() {
        return this._layoutMode.value.kind === 'mixed'
            ? this.input1View.view.minimumWidth + this.input2View.view.minimumWidth
            : this.input1View.view.minimumWidth + this.input2View.view.minimumWidth + this.inputResultView.view.minimumWidth;
    }
    getTitle() {
        if (this.input) {
            return this.input.getName();
        }
        return ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_18__.localize)(9888, "Text Merge Editor"));
    }
    createEditorControl(parent, initialOptions) {
        this.rootHtmlElement = parent;
        parent.classList.add('merge-editor');
        this.applyLayout(this._layoutMode.value);
        this.applyOptions(initialOptions);
    }
    updateEditorControlOptions(options) {
        this.applyOptions(options);
    }
    applyOptions(options) {
        const inputOptions = (0,vscode_vscode_vs_workbench_contrib_mergeEditor_browser_utils__WEBPACK_IMPORTED_MODULE_31__.deepMerge)(options, {
            minimap: { enabled: false },
            glyphMargin: false,
            lineNumbersMinChars: 2,
            readOnly: !this.inputsWritable
        });
        this.input1View.updateOptions(inputOptions);
        this.input2View.updateOptions(inputOptions);
        this.baseViewOptions.set({ ...this.input2View.editor.getRawOptions() }, undefined);
        this.inputResultView.updateOptions(options);
    }
    getMainControl() {
        return this.inputResultView.editor;
    }
    layout(dimension) {
        this._grid.value?.layout(dimension.width, dimension.height);
    }
    async setInput(input, options, context, token) {
        if (!(input instanceof vscode_vscode_vs_workbench_contrib_mergeEditor_browser_mergeEditorInput__WEBPACK_IMPORTED_MODULE_30__.MergeEditorInput)) {
            throw ( (new vscode_vscode_vs_base_common_errors__WEBPACK_IMPORTED_MODULE_4__.BugIndicatingError('ONLY MergeEditorInput is supported')));
        }
        await super.setInput(input, options, context, token);
        this._sessionDisposables.clear();
        (0,vscode_vscode_vs_base_common_observableInternal_base__WEBPACK_IMPORTED_MODULE_7__.transaction)(tx => {
            this._viewModel.set(undefined, tx);
            this._inputModel.set(undefined, tx);
        });
        const inputModel = await input.resolve();
        const model = inputModel.model;
        const viewModel = this.instantiationService.createInstance(_viewModel_js__WEBPACK_IMPORTED_MODULE_35__.MergeEditorViewModel, model, this.input1View, this.input2View, this.inputResultView, this.baseView, this.showNonConflictingChanges);
        model.telemetry.reportMergeEditorOpened({
            combinableConflictCount: model.combinableConflictCount,
            conflictCount: model.conflictCount,
            baseTop: this._layoutModeObs.get().showBaseAtTop,
            baseVisible: this._layoutModeObs.get().showBase,
            isColumnView: this._layoutModeObs.get().kind === 'columns',
        });
        (0,vscode_vscode_vs_base_common_observableInternal_base__WEBPACK_IMPORTED_MODULE_7__.transaction)(tx => {
            this._viewModel.set(viewModel, tx);
            this._inputModel.set(inputModel, tx);
        });
        this._sessionDisposables.add(viewModel);
        this._ctxResultUri.set(( (inputModel.resultUri.toString())));
        this._ctxBaseUri.set(( (model.base.uri.toString())));
        this._sessionDisposables.add((0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_6__.toDisposable)(() => {
            this._ctxBaseUri.reset();
            this._ctxResultUri.reset();
        }));
        this._sessionDisposables.add((0,vscode_vscode_vs_base_common_observableInternal_autorun__WEBPACK_IMPORTED_MODULE_9__.autorunWithStore)((reader, store) => {
            const baseView = this.baseView.read(reader);
            this.inputResultView.editor.changeViewZones(resultViewZoneAccessor => {
                const layout = this._layoutModeObs.read(reader);
                const shouldAlignResult = layout.kind === 'columns';
                const shouldAlignBase = layout.kind === 'mixed' && !layout.showBaseAtTop;
                this.input1View.editor.changeViewZones(input1ViewZoneAccessor => {
                    this.input2View.editor.changeViewZones(input2ViewZoneAccessor => {
                        if (baseView) {
                            baseView.editor.changeViewZones(baseViewZoneAccessor => {
                                store.add(this.setViewZones(reader, viewModel, this.input1View.editor, input1ViewZoneAccessor, this.input2View.editor, input2ViewZoneAccessor, baseView.editor, baseViewZoneAccessor, shouldAlignBase, this.inputResultView.editor, resultViewZoneAccessor, shouldAlignResult));
                            });
                        }
                        else {
                            store.add(this.setViewZones(reader, viewModel, this.input1View.editor, input1ViewZoneAccessor, this.input2View.editor, input2ViewZoneAccessor, undefined, undefined, false, this.inputResultView.editor, resultViewZoneAccessor, shouldAlignResult));
                        }
                    });
                });
            });
            this.scrollSynchronizer.updateScrolling();
        }));
        const viewState = this.loadEditorViewState(input, context);
        if (viewState) {
            this._applyViewState(viewState);
        }
        else {
            this._sessionDisposables.add((0,vscode_vscode_vs_workbench_contrib_mergeEditor_browser_utils__WEBPACK_IMPORTED_MODULE_31__.thenIfNotDisposed)(model.onInitialized, () => {
                const firstConflict = model.modifiedBaseRanges.get().find(r => r.isConflicting);
                if (!firstConflict) {
                    return;
                }
                this.input1View.editor.revealLineInCenter(firstConflict.input1Range.startLineNumber);
                (0,vscode_vscode_vs_base_common_observableInternal_base__WEBPACK_IMPORTED_MODULE_7__.transaction)(tx => {
                    viewModel.setActiveModifiedBaseRange(firstConflict, tx);
                });
            }));
        }
        const mirrorWordWrapTransientState = (candidate) => {
            const candidateState = (0,vscode_vscode_vs_workbench_contrib_codeEditor_browser_toggleWordWrap__WEBPACK_IMPORTED_MODULE_29__.readTransientState)(candidate, this._codeEditorService);
            (0,vscode_vscode_vs_workbench_contrib_codeEditor_browser_toggleWordWrap__WEBPACK_IMPORTED_MODULE_29__.writeTransientState)(model.input2.textModel, candidateState, this._codeEditorService);
            (0,vscode_vscode_vs_workbench_contrib_codeEditor_browser_toggleWordWrap__WEBPACK_IMPORTED_MODULE_29__.writeTransientState)(model.input1.textModel, candidateState, this._codeEditorService);
            (0,vscode_vscode_vs_workbench_contrib_codeEditor_browser_toggleWordWrap__WEBPACK_IMPORTED_MODULE_29__.writeTransientState)(model.resultTextModel, candidateState, this._codeEditorService);
            const baseTextModel = this.baseView.get()?.editor.getModel();
            if (baseTextModel) {
                (0,vscode_vscode_vs_workbench_contrib_codeEditor_browser_toggleWordWrap__WEBPACK_IMPORTED_MODULE_29__.writeTransientState)(baseTextModel, candidateState, this._codeEditorService);
            }
        };
        this._sessionDisposables.add(this._codeEditorService.onDidChangeTransientModelProperty(candidate => {
            mirrorWordWrapTransientState(candidate);
        }));
        mirrorWordWrapTransientState(this.inputResultView.editor.getModel());
        const that = this;
        this._sessionDisposables.add(new (class {
            constructor() {
                this._disposable = ( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_6__.DisposableStore()));
                for (const model of this.baseInput1Input2()) {
                    this._disposable.add(model.onDidChangeContent(() => this._checkBaseInput1Input2AllEmpty()));
                }
            }
            dispose() {
                this._disposable.dispose();
            }
            *baseInput1Input2() {
                yield model.base;
                yield model.input1.textModel;
                yield model.input2.textModel;
            }
            _checkBaseInput1Input2AllEmpty() {
                for (const model of this.baseInput1Input2()) {
                    if (model.getValueLength() > 0) {
                        return;
                    }
                }
                that.editorService.replaceEditors([{ editor: input, replacement: { resource: input.result, options: { preserveFocus: true } }, forceReplaceDirty: true }], that.group);
            }
        }));
    }
    setViewZones(reader, viewModel, input1Editor, input1ViewZoneAccessor, input2Editor, input2ViewZoneAccessor, baseEditor, baseViewZoneAccessor, shouldAlignBase, resultEditor, resultViewZoneAccessor, shouldAlignResult) {
        const input1ViewZoneIds = [];
        const input2ViewZoneIds = [];
        const baseViewZoneIds = [];
        const resultViewZoneIds = [];
        const viewZones = this.viewZoneComputer.computeViewZones(reader, viewModel, {
            codeLensesVisible: this.codeLensesVisible.read(reader),
            showNonConflictingChanges: this.showNonConflictingChanges.read(reader),
            shouldAlignBase,
            shouldAlignResult,
        });
        const disposableStore = ( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_6__.DisposableStore()));
        if (baseViewZoneAccessor) {
            for (const v of viewZones.baseViewZones) {
                v.create(baseViewZoneAccessor, baseViewZoneIds, disposableStore);
            }
        }
        for (const v of viewZones.resultViewZones) {
            v.create(resultViewZoneAccessor, resultViewZoneIds, disposableStore);
        }
        for (const v of viewZones.input1ViewZones) {
            v.create(input1ViewZoneAccessor, input1ViewZoneIds, disposableStore);
        }
        for (const v of viewZones.input2ViewZones) {
            v.create(input2ViewZoneAccessor, input2ViewZoneIds, disposableStore);
        }
        disposableStore.add({
            dispose: () => {
                input1Editor.changeViewZones(a => {
                    for (const zone of input1ViewZoneIds) {
                        a.removeZone(zone);
                    }
                });
                input2Editor.changeViewZones(a => {
                    for (const zone of input2ViewZoneIds) {
                        a.removeZone(zone);
                    }
                });
                baseEditor?.changeViewZones(a => {
                    for (const zone of baseViewZoneIds) {
                        a.removeZone(zone);
                    }
                });
                resultEditor.changeViewZones(a => {
                    for (const zone of resultViewZoneIds) {
                        a.removeZone(zone);
                    }
                });
            }
        });
        return disposableStore;
    }
    setOptions(options) {
        super.setOptions(options);
        if (options) {
            (0,vscode_vscode_vs_workbench_common_editor_editorOptions__WEBPACK_IMPORTED_MODULE_28__.applyTextEditorOptions)(options, this.inputResultView.editor, 0 );
        }
    }
    clearInput() {
        super.clearInput();
        this._sessionDisposables.clear();
        for (const { editor } of [this.input1View, this.input2View, this.inputResultView]) {
            editor.setModel(null);
        }
    }
    focus() {
        super.focus();
        (this.getControl() ?? this.inputResultView.editor).focus();
    }
    hasFocus() {
        for (const { editor } of [this.input1View, this.input2View, this.inputResultView]) {
            if (editor.hasTextFocus()) {
                return true;
            }
        }
        return super.hasFocus();
    }
    setEditorVisible(visible) {
        super.setEditorVisible(visible);
        for (const { editor } of [this.input1View, this.input2View, this.inputResultView]) {
            if (visible) {
                editor.onVisible();
            }
            else {
                editor.onHide();
            }
        }
        this._ctxIsMergeEditor.set(visible);
    }
    getControl() {
        return this.inputResultView.editor;
    }
    get scopedContextKeyService() {
        const control = this.getControl();
        return control?.invokeWithinContext(accessor => accessor.get(vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_20__.IContextKeyService));
    }
    toggleBase() {
        this.setLayout({
            ...this._layoutMode.value,
            showBase: !this._layoutMode.value.showBase
        });
    }
    toggleShowBaseTop() {
        const showBaseTop = this._layoutMode.value.showBase && this._layoutMode.value.showBaseAtTop;
        this.setLayout({
            ...this._layoutMode.value,
            showBaseAtTop: true,
            showBase: !showBaseTop,
        });
    }
    toggleShowBaseCenter() {
        const showBaseCenter = this._layoutMode.value.showBase && !this._layoutMode.value.showBaseAtTop;
        this.setLayout({
            ...this._layoutMode.value,
            showBaseAtTop: false,
            showBase: !showBaseCenter,
        });
    }
    setLayoutKind(kind) {
        this.setLayout({
            ...this._layoutMode.value,
            kind
        });
    }
    setLayout(newLayout) {
        const value = this._layoutMode.value;
        if (JSON.stringify(value) === JSON.stringify(newLayout)) {
            return;
        }
        this.model?.telemetry.reportLayoutChange({
            baseTop: newLayout.showBaseAtTop,
            baseVisible: newLayout.showBase,
            isColumnView: newLayout.kind === 'columns',
        });
        this.applyLayout(newLayout);
    }
    applyLayout(layout) {
        (0,vscode_vscode_vs_base_common_observableInternal_base__WEBPACK_IMPORTED_MODULE_7__.transaction)(tx => {
            if (layout.showBase && !this.baseView.get()) {
                this.baseViewDisposables.clear();
                const baseView = this.baseViewDisposables.add(this.instantiationService.createInstance(_editors_baseCodeEditorView_js__WEBPACK_IMPORTED_MODULE_33__.BaseCodeEditorView, this.viewModel));
                this.baseViewDisposables.add((0,vscode_vscode_vs_base_common_observableInternal_autorun__WEBPACK_IMPORTED_MODULE_9__.autorun)(reader => {
                    const options = this.baseViewOptions.read(reader);
                    if (options) {
                        baseView.updateOptions(options);
                    }
                }));
                this.baseView.set(baseView, tx);
            }
            else if (!layout.showBase && this.baseView.get()) {
                this.baseView.set(undefined, tx);
                this.baseViewDisposables.clear();
            }
            if (layout.kind === 'mixed') {
                this.setGrid([
                    layout.showBaseAtTop && layout.showBase ? {
                        size: 38,
                        data: this.baseView.get().view
                    } : undefined,
                    {
                        size: 38,
                        groups: [
                            { data: this.input1View.view },
                            !layout.showBaseAtTop && layout.showBase ? { data: this.baseView.get().view } : undefined,
                            { data: this.input2View.view }
                        ].filter(vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_14__.isDefined)
                    },
                    {
                        size: 62,
                        data: this.inputResultView.view
                    },
                ].filter(vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_14__.isDefined));
            }
            else if (layout.kind === 'columns') {
                this.setGrid([
                    layout.showBase ? {
                        size: 40,
                        data: this.baseView.get().view
                    } : undefined,
                    {
                        size: 60,
                        groups: [{ data: this.input1View.view }, { data: this.inputResultView.view }, { data: this.input2View.view }]
                    },
                ].filter(vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_14__.isDefined));
            }
            this._layoutMode.value = layout;
            this._ctxUsesColumnLayout.set(layout.kind);
            this._ctxShowBase.set(layout.showBase);
            this._ctxShowBaseAtTop.set(layout.showBaseAtTop);
            this._onDidChangeSizeConstraints.fire();
            this._layoutModeObs.set(layout, tx);
        });
    }
    setGrid(descriptor) {
        let width = -1;
        let height = -1;
        if (this._grid.value) {
            width = this._grid.value.width;
            height = this._grid.value.height;
        }
        this._grid.value = _base_browser_ui_grid_grid_js__WEBPACK_IMPORTED_MODULE_2__.SerializableGrid.from({
            orientation: 0 ,
            size: 100,
            groups: descriptor,
        }, {
            styles: { separatorBorder: this.theme.getColor(vscode_vscode_vs_workbench_contrib_preferences_common_settingsEditorColorRegistry__WEBPACK_IMPORTED_MODULE_38__.settingsSashBorder) ?? vscode_vscode_vs_base_common_color__WEBPACK_IMPORTED_MODULE_3__.Color.transparent },
            proportionalLayout: true
        });
        (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__.reset)(this.rootHtmlElement, this._grid.value.element);
        if (width !== -1) {
            this._grid.value.layout(width, height);
        }
    }
    _applyViewState(state) {
        if (!state) {
            return;
        }
        this.inputResultView.editor.restoreViewState(state);
        if (state.input1State) {
            this.input1View.editor.restoreViewState(state.input1State);
        }
        if (state.input2State) {
            this.input2View.editor.restoreViewState(state.input2State);
        }
        if (state.focusIndex >= 0) {
            [this.input1View.editor, this.input2View.editor, this.inputResultView.editor][state.focusIndex].focus();
        }
    }
    computeEditorViewState(resource) {
        if (!(0,vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_13__.isEqual)(this.inputModel.get()?.resultUri, resource)) {
            return undefined;
        }
        const result = this.inputResultView.editor.saveViewState();
        if (!result) {
            return undefined;
        }
        const input1State = this.input1View.editor.saveViewState() ?? undefined;
        const input2State = this.input2View.editor.saveViewState() ?? undefined;
        const focusIndex = [this.input1View.editor, this.input2View.editor, this.inputResultView.editor].findIndex(editor => editor.hasWidgetFocus());
        return { ...result, input1State, input2State, focusIndex };
    }
    tracksEditorViewState(input) {
        return input instanceof vscode_vscode_vs_workbench_contrib_mergeEditor_browser_mergeEditorInput__WEBPACK_IMPORTED_MODULE_30__.MergeEditorInput;
    }
    toggleShowNonConflictingChanges() {
        this.showNonConflictingChanges.set(!this.showNonConflictingChanges.get(), undefined);
        this.showNonConflictingChangesStore.set(this.showNonConflictingChanges.get());
        this._ctxShowNonConflictingChanges.set(this.showNonConflictingChanges.get());
    }
};
MergeEditor = MergeEditor_1 = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_22__.IInstantiationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_20__.IContextKeyService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_platform_telemetry_common_telemetry_service__WEBPACK_IMPORTED_MODULE_24__.ITelemetryService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_23__.IStorageService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, vscode_vscode_vs_platform_theme_common_themeService_service__WEBPACK_IMPORTED_MODULE_25__.IThemeService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, vscode_vscode_vs_editor_common_services_textResourceConfiguration__WEBPACK_IMPORTED_MODULE_17__.ITextResourceConfigurationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_19__.IConfigurationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_42__.IEditorService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, vscode_vscode_vs_workbench_services_editor_common_editorGroupsService_service__WEBPACK_IMPORTED_MODULE_39__.IEditorGroupsService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, vscode_vscode_vs_platform_files_common_files_service__WEBPACK_IMPORTED_MODULE_21__.IFileService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(11, vscode_vscode_vs_editor_browser_services_codeEditorService__WEBPACK_IMPORTED_MODULE_16__.ICodeEditorService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(12, vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_19__.IConfigurationService)))
], MergeEditor)));
let MergeEditorLayoutStore = class MergeEditorLayoutStore {
    static { MergeEditorLayoutStore_1 = this; }
    static { this._key = 'mergeEditor/layout'; }
    constructor(_storageService) {
        this._storageService = _storageService;
        this._value = { kind: 'mixed', showBase: false, showBaseAtTop: true };
        const value = _storageService.get(MergeEditorLayoutStore_1._key, 0 , 'mixed');
        if (value === 'mixed' || value === 'columns') {
            this._value = { kind: value, showBase: false, showBaseAtTop: true };
        }
        else if (value) {
            try {
                this._value = JSON.parse(value);
            }
            catch (e) {
                (0,vscode_vscode_vs_base_common_errors__WEBPACK_IMPORTED_MODULE_4__.onUnexpectedError)(e);
            }
        }
    }
    get value() {
        return this._value;
    }
    set value(value) {
        if (this._value !== value) {
            this._value = value;
            this._storageService.store(MergeEditorLayoutStore_1._key, JSON.stringify(this._value), 0 , 0 );
        }
    }
};
MergeEditorLayoutStore = MergeEditorLayoutStore_1 = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_23__.IStorageService)))
], MergeEditorLayoutStore)));
let MergeEditorOpenHandlerContribution = class MergeEditorOpenHandlerContribution extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_6__.Disposable {
    constructor(_editorService, codeEditorService) {
        super();
        this._editorService = _editorService;
        this._store.add(codeEditorService.registerCodeEditorOpenHandler(this.openCodeEditorFromMergeEditor.bind(this)));
    }
    async openCodeEditorFromMergeEditor(input, _source, sideBySide) {
        const activePane = this._editorService.activeEditorPane;
        if (!sideBySide
            && input.options
            && activePane instanceof MergeEditor
            && activePane.getControl()
            && activePane.input instanceof vscode_vscode_vs_workbench_contrib_mergeEditor_browser_mergeEditorInput__WEBPACK_IMPORTED_MODULE_30__.MergeEditorInput
            && (0,vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_13__.isEqual)(input.resource, activePane.input.result)) {
            const targetEditor = activePane.getControl();
            (0,vscode_vscode_vs_workbench_common_editor_editorOptions__WEBPACK_IMPORTED_MODULE_28__.applyTextEditorOptions)(input.options, targetEditor, 0 );
            return targetEditor;
        }
        return null;
    }
};
MergeEditorOpenHandlerContribution = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_42__.IEditorService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_editor_browser_services_codeEditorService__WEBPACK_IMPORTED_MODULE_16__.ICodeEditorService)))
], MergeEditorOpenHandlerContribution)));
let MergeEditorResolverContribution = class MergeEditorResolverContribution extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_6__.Disposable {
    static { this.ID = 'workbench.contrib.mergeEditorResolver'; }
    constructor(editorResolverService, instantiationService) {
        super();
        const mergeEditorInputFactory = (mergeEditor) => {
            return {
                editor: instantiationService.createInstance(vscode_vscode_vs_workbench_contrib_mergeEditor_browser_mergeEditorInput__WEBPACK_IMPORTED_MODULE_30__.MergeEditorInput, mergeEditor.base.resource, {
                    uri: mergeEditor.input1.resource,
                    title: mergeEditor.input1.label ?? (0,vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_13__.basename)(mergeEditor.input1.resource),
                    description: mergeEditor.input1.description ?? '',
                    detail: mergeEditor.input1.detail
                }, {
                    uri: mergeEditor.input2.resource,
                    title: mergeEditor.input2.label ?? (0,vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_13__.basename)(mergeEditor.input2.resource),
                    description: mergeEditor.input2.description ?? '',
                    detail: mergeEditor.input2.detail
                }, mergeEditor.result.resource)
            };
        };
        this._register(editorResolverService.registerEditor(`*`, {
            id: vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_27__.DEFAULT_EDITOR_ASSOCIATION.id,
            label: vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_27__.DEFAULT_EDITOR_ASSOCIATION.displayName,
            detail: vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_27__.DEFAULT_EDITOR_ASSOCIATION.providerDisplayName,
            priority: vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_40__.RegisteredEditorPriority.builtin
        }, {}, {
            createMergeEditorInput: mergeEditorInputFactory
        }));
    }
};
MergeEditorResolverContribution = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_workbench_services_editor_common_editorResolverService_service__WEBPACK_IMPORTED_MODULE_41__.IEditorResolverService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_22__.IInstantiationService)))
], MergeEditorResolverContribution)));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/scrollSynchronizer.js":
/*!***********************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/scrollSynchronizer.js ***!
  \***********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ScrollSynchronizer: () => (/* binding */ ScrollSynchronizer)
/* harmony export */ });
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/common/arrays */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_base_common_observableInternal_autorun__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/common/observableInternal/autorun */ "./node_modules/vscode/vscode/src/vs/base/common/observableInternal/autorun.js");
/* harmony import */ var vscode_vscode_vs_base_common_observableInternal_derived__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/base/common/observableInternal/derived */ "./node_modules/vscode/vscode/src/vs/base/common/observableInternal/derived.js");
/* harmony import */ var vscode_vscode_vs_base_common_cancellation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/base/common/cancellation */ "./node_modules/vscode/vscode/src/vs/base/common/cancellation.js");
/* harmony import */ var vscode_vscode_vs_base_common_observableInternal_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/base/common/observableInternal/utils */ "./node_modules/vscode/vscode/src/vs/base/common/observableInternal/utils.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_mergeEditor_browser_model_mapping__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/mergeEditor/browser/model/mapping */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/mergeEditor/browser/model/mapping.js");
/* harmony import */ var vscode_vscode_vs_base_common_controlFlow__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/base/common/controlFlow */ "./node_modules/vscode/vscode/src/vs/base/common/controlFlow.js");










class ScrollSynchronizer extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_0__.Disposable {
    get model() { return this.viewModel.get()?.model; }
    get shouldAlignResult() { return this.layout.get().kind === 'columns'; }
    get shouldAlignBase() { return this.layout.get().kind === 'mixed' && !this.layout.get().showBaseAtTop; }
    constructor(viewModel, input1View, input2View, baseView, inputResultView, layout) {
        super();
        this.viewModel = viewModel;
        this.input1View = input1View;
        this.input2View = input2View;
        this.baseView = baseView;
        this.inputResultView = inputResultView;
        this.layout = layout;
        this.reentrancyBarrier = ( new vscode_vscode_vs_base_common_controlFlow__WEBPACK_IMPORTED_MODULE_8__.ReentrancyBarrier());
        const handleInput1OnScroll = this.updateScrolling = () => {
            if (!this.model) {
                return;
            }
            this.input2View.editor.setScrollTop(this.input1View.editor.getScrollTop(), 1 );
            if (this.shouldAlignResult) {
                this.inputResultView.editor.setScrollTop(this.input1View.editor.getScrollTop(), 1 );
            }
            else {
                const mappingInput1Result = this.model.input1ResultMapping.get();
                this.synchronizeScrolling(this.input1View.editor, this.inputResultView.editor, mappingInput1Result);
            }
            const baseView = this.baseView.get();
            if (baseView) {
                if (this.shouldAlignBase) {
                    this.baseView.get()?.editor.setScrollTop(this.input1View.editor.getScrollTop(), 1 );
                }
                else {
                    const mapping = ( new vscode_vscode_vs_workbench_contrib_mergeEditor_browser_model_mapping__WEBPACK_IMPORTED_MODULE_7__.DocumentLineRangeMap(this.model.baseInput1Diffs.get(), -1)).reverse();
                    this.synchronizeScrolling(this.input1View.editor, baseView.editor, mapping);
                }
            }
        };
        this._store.add(this.input1View.editor.onDidScrollChange(this.reentrancyBarrier.makeExclusiveOrSkip((c) => {
            if (c.scrollTopChanged) {
                handleInput1OnScroll();
            }
            if (c.scrollLeftChanged) {
                this.baseView.get()?.editor.setScrollLeft(c.scrollLeft, 1 );
                this.input2View.editor.setScrollLeft(c.scrollLeft, 1 );
                this.inputResultView.editor.setScrollLeft(c.scrollLeft, 1 );
            }
        })));
        this._store.add(this.input2View.editor.onDidScrollChange(this.reentrancyBarrier.makeExclusiveOrSkip((c) => {
            if (!this.model) {
                return;
            }
            if (c.scrollTopChanged) {
                this.input1View.editor.setScrollTop(c.scrollTop, 1 );
                if (this.shouldAlignResult) {
                    this.inputResultView.editor.setScrollTop(this.input2View.editor.getScrollTop(), 1 );
                }
                else {
                    const mappingInput2Result = this.model.input2ResultMapping.get();
                    this.synchronizeScrolling(this.input2View.editor, this.inputResultView.editor, mappingInput2Result);
                }
                const baseView = this.baseView.get();
                if (baseView && this.model) {
                    if (this.shouldAlignBase) {
                        this.baseView.get()?.editor.setScrollTop(c.scrollTop, 1 );
                    }
                    else {
                        const mapping = ( new vscode_vscode_vs_workbench_contrib_mergeEditor_browser_model_mapping__WEBPACK_IMPORTED_MODULE_7__.DocumentLineRangeMap(this.model.baseInput2Diffs.get(), -1)).reverse();
                        this.synchronizeScrolling(this.input2View.editor, baseView.editor, mapping);
                    }
                }
            }
            if (c.scrollLeftChanged) {
                this.baseView.get()?.editor.setScrollLeft(c.scrollLeft, 1 );
                this.input1View.editor.setScrollLeft(c.scrollLeft, 1 );
                this.inputResultView.editor.setScrollLeft(c.scrollLeft, 1 );
            }
        })));
        this._store.add(this.inputResultView.editor.onDidScrollChange(this.reentrancyBarrier.makeExclusiveOrSkip((c) => {
            if (c.scrollTopChanged) {
                if (this.shouldAlignResult) {
                    this.input1View.editor.setScrollTop(c.scrollTop, 1 );
                    this.input2View.editor.setScrollTop(c.scrollTop, 1 );
                }
                else {
                    const mapping1 = this.model?.resultInput1Mapping.get();
                    this.synchronizeScrolling(this.inputResultView.editor, this.input1View.editor, mapping1);
                    const mapping2 = this.model?.resultInput2Mapping.get();
                    this.synchronizeScrolling(this.inputResultView.editor, this.input2View.editor, mapping2);
                }
                const baseMapping = this.model?.resultBaseMapping.get();
                const baseView = this.baseView.get();
                if (baseView && this.model) {
                    this.synchronizeScrolling(this.inputResultView.editor, baseView.editor, baseMapping);
                }
            }
            if (c.scrollLeftChanged) {
                this.baseView.get()?.editor?.setScrollLeft(c.scrollLeft, 1 );
                this.input1View.editor.setScrollLeft(c.scrollLeft, 1 );
                this.input2View.editor.setScrollLeft(c.scrollLeft, 1 );
            }
        })));
        this._store.add((0,vscode_vscode_vs_base_common_observableInternal_autorun__WEBPACK_IMPORTED_MODULE_3__.autorunWithStore)((reader, store) => {
            const baseView = this.baseView.read(reader);
            if (baseView) {
                store.add(baseView.editor.onDidScrollChange(this.reentrancyBarrier.makeExclusiveOrSkip((c) => {
                    if (c.scrollTopChanged) {
                        if (!this.model) {
                            return;
                        }
                        if (this.shouldAlignBase) {
                            this.input1View.editor.setScrollTop(c.scrollTop, 1 );
                            this.input2View.editor.setScrollTop(c.scrollTop, 1 );
                        }
                        else {
                            const baseInput1Mapping = ( new vscode_vscode_vs_workbench_contrib_mergeEditor_browser_model_mapping__WEBPACK_IMPORTED_MODULE_7__.DocumentLineRangeMap(this.model.baseInput1Diffs.get(), -1));
                            this.synchronizeScrolling(baseView.editor, this.input1View.editor, baseInput1Mapping);
                            const baseInput2Mapping = ( new vscode_vscode_vs_workbench_contrib_mergeEditor_browser_model_mapping__WEBPACK_IMPORTED_MODULE_7__.DocumentLineRangeMap(this.model.baseInput2Diffs.get(), -1));
                            this.synchronizeScrolling(baseView.editor, this.input2View.editor, baseInput2Mapping);
                        }
                        const baseMapping = this.model?.baseResultMapping.get();
                        this.synchronizeScrolling(baseView.editor, this.inputResultView.editor, baseMapping);
                    }
                    if (c.scrollLeftChanged) {
                        this.inputResultView.editor.setScrollLeft(c.scrollLeft, 1 );
                        this.input1View.editor.setScrollLeft(c.scrollLeft, 1 );
                        this.input2View.editor.setScrollLeft(c.scrollLeft, 1 );
                    }
                })));
            }
        }));
    }
    synchronizeScrolling(scrollingEditor, targetEditor, mapping) {
        if (!mapping) {
            return;
        }
        const visibleRanges = scrollingEditor.getVisibleRanges();
        if (visibleRanges.length === 0) {
            return;
        }
        const topLineNumber = visibleRanges[0].startLineNumber - 1;
        const result = mapping.project(topLineNumber);
        const sourceRange = result.inputRange;
        const targetRange = result.outputRange;
        const resultStartTopPx = targetEditor.getTopForLineNumber(targetRange.startLineNumber);
        const resultEndPx = targetEditor.getTopForLineNumber(targetRange.endLineNumberExclusive);
        const sourceStartTopPx = scrollingEditor.getTopForLineNumber(sourceRange.startLineNumber);
        const sourceEndPx = scrollingEditor.getTopForLineNumber(sourceRange.endLineNumberExclusive);
        const factor = Math.min((scrollingEditor.getScrollTop() - sourceStartTopPx) / (sourceEndPx - sourceStartTopPx), 1);
        const resultScrollPosition = resultStartTopPx + (resultEndPx - resultStartTopPx) * factor;
        targetEditor.setScrollTop(resultScrollPosition, 1 );
    }
}




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/viewModel.js":
/*!**************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/viewModel.js ***!
  \**************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MergeEditorViewModel: () => (/* binding */ MergeEditorViewModel)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_base_common_arraysFind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/common/arraysFind */ "./node_modules/vscode/vscode/src/vs/base/common/arraysFind.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_base_common_observableInternal_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/common/observableInternal/base */ "./node_modules/vscode/vscode/src/vs/base/common/observableInternal/base.js");
/* harmony import */ var vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/base/common/arrays */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_base_common_observableInternal_autorun__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/base/common/observableInternal/autorun */ "./node_modules/vscode/vscode/src/vs/base/common/observableInternal/autorun.js");
/* harmony import */ var vscode_vscode_vs_base_common_observableInternal_derived__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/base/common/observableInternal/derived */ "./node_modules/vscode/vscode/src/vs/base/common/observableInternal/derived.js");
/* harmony import */ var vscode_vscode_vs_base_common_cancellation__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/base/common/cancellation */ "./node_modules/vscode/vscode/src/vs/base/common/cancellation.js");
/* harmony import */ var vscode_vscode_vs_base_common_observableInternal_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/base/common/observableInternal/utils */ "./node_modules/vscode/vscode/src/vs/base/common/observableInternal/utils.js");
/* harmony import */ var vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/core/range */ "./node_modules/vscode/vscode/src/vs/editor/common/core/range.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/platform/configuration/common/configuration.service */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var vscode_vscode_vs_platform_notification_common_notification_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/platform/notification/common/notification.service */ "./node_modules/vscode/vscode/src/vs/platform/notification/common/notification.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_mergeEditor_browser_model_lineRange__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/mergeEditor/browser/model/lineRange */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/mergeEditor/browser/model/lineRange.js");
/* harmony import */ var vscode_vscode_vs_platform_observable_common_platformObservableUtils__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/platform/observable/common/platformObservableUtils */ "./node_modules/vscode/vscode/src/vs/platform/observable/common/platformObservableUtils.js");

















let MergeEditorViewModel = class MergeEditorViewModel extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_2__.Disposable {
    constructor(model, inputCodeEditorView1, inputCodeEditorView2, resultCodeEditorView, baseCodeEditorView, showNonConflictingChanges, configurationService, notificationService) {
        super();
        this.model = model;
        this.inputCodeEditorView1 = inputCodeEditorView1;
        this.inputCodeEditorView2 = inputCodeEditorView2;
        this.resultCodeEditorView = resultCodeEditorView;
        this.baseCodeEditorView = baseCodeEditorView;
        this.showNonConflictingChanges = showNonConflictingChanges;
        this.configurationService = configurationService;
        this.notificationService = notificationService;
        this.manuallySetActiveModifiedBaseRange = (0,vscode_vscode_vs_base_common_observableInternal_base__WEBPACK_IMPORTED_MODULE_3__.observableValue)(this, { range: undefined, counter: 0 });
        this.attachedHistory = this._register(( (new AttachedHistory(this.model.resultTextModel))));
        this.shouldUseAppendInsteadOfAccept = (0,vscode_vscode_vs_platform_observable_common_platformObservableUtils__WEBPACK_IMPORTED_MODULE_15__.observableConfigValue)('mergeEditor.shouldUseAppendInsteadOfAccept', false, this.configurationService);
        this.counter = 0;
        this.lastFocusedEditor = (0,vscode_vscode_vs_base_common_observableInternal_utils__WEBPACK_IMPORTED_MODULE_9__.derivedObservableWithWritableCache)(this, (reader, lastValue) => {
            const editors = [
                this.inputCodeEditorView1,
                this.inputCodeEditorView2,
                this.resultCodeEditorView,
                this.baseCodeEditorView.read(reader),
            ];
            const view = editors.find((e) => e && e.isFocused.read(reader));
            return view ? { view, counter: this.counter++ } : lastValue || { view: undefined, counter: this.counter++ };
        });
        this.baseShowDiffAgainst = (0,vscode_vscode_vs_base_common_observableInternal_derived__WEBPACK_IMPORTED_MODULE_7__.derived)(this, reader => {
            const lastFocusedEditor = this.lastFocusedEditor.read(reader);
            if (lastFocusedEditor.view === this.inputCodeEditorView1) {
                return 1;
            }
            else if (lastFocusedEditor.view === this.inputCodeEditorView2) {
                return 2;
            }
            return undefined;
        });
        this.selectionInBase = (0,vscode_vscode_vs_base_common_observableInternal_derived__WEBPACK_IMPORTED_MODULE_7__.derived)(this, reader => {
            const sourceEditor = this.lastFocusedEditor.read(reader).view;
            if (!sourceEditor) {
                return undefined;
            }
            const selections = sourceEditor.selection.read(reader) || [];
            const rangesInBase = ( (selections.map((selection) => {
                if (sourceEditor === this.inputCodeEditorView1) {
                    return this.model.translateInputRangeToBase(1, selection);
                }
                else if (sourceEditor === this.inputCodeEditorView2) {
                    return this.model.translateInputRangeToBase(2, selection);
                }
                else if (sourceEditor === this.resultCodeEditorView) {
                    return this.model.translateResultRangeToBase(selection);
                }
                else if (sourceEditor === this.baseCodeEditorView.read(reader)) {
                    return selection;
                }
                else {
                    return selection;
                }
            })));
            return {
                rangesInBase,
                sourceEditor
            };
        });
        this.activeModifiedBaseRange = (0,vscode_vscode_vs_base_common_observableInternal_derived__WEBPACK_IMPORTED_MODULE_7__.derived)(this, (reader) => {
            const focusedEditor = this.lastFocusedEditor.read(reader);
            const manualRange = this.manuallySetActiveModifiedBaseRange.read(reader);
            if (manualRange.counter > focusedEditor.counter) {
                return manualRange.range;
            }
            if (!focusedEditor.view) {
                return;
            }
            const cursorLineNumber = focusedEditor.view.cursorLineNumber.read(reader);
            if (!cursorLineNumber) {
                return undefined;
            }
            const modifiedBaseRanges = this.model.modifiedBaseRanges.read(reader);
            return modifiedBaseRanges.find((r) => {
                const range = this.getRangeOfModifiedBaseRange(focusedEditor.view, r, reader);
                return range.isEmpty
                    ? range.startLineNumber === cursorLineNumber
                    : range.contains(cursorLineNumber);
            });
        });
        this._register(resultCodeEditorView.editor.onDidChangeModelContent(e => {
            if (this.model.isApplyingEditInResult || e.isRedoing || e.isUndoing) {
                return;
            }
            const baseRangeStates = [];
            for (const change of e.changes) {
                const rangeInBase = this.model.translateResultRangeToBase(vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_10__.Range.lift(change.range));
                const baseRanges = this.model.findModifiedBaseRangesInRange(( (new vscode_vscode_vs_workbench_contrib_mergeEditor_browser_model_lineRange__WEBPACK_IMPORTED_MODULE_14__.LineRange(
                    rangeInBase.startLineNumber,
                    rangeInBase.endLineNumber - rangeInBase.startLineNumber
                ))));
                if (baseRanges.length === 1) {
                    const isHandled = this.model.isHandled(baseRanges[0]).get();
                    if (!isHandled) {
                        baseRangeStates.push(baseRanges[0]);
                    }
                }
            }
            if (baseRangeStates.length === 0) {
                return;
            }
            const element = {
                model: this.model,
                redo() {
                    (0,vscode_vscode_vs_base_common_observableInternal_base__WEBPACK_IMPORTED_MODULE_3__.transaction)(tx => {
                        for (const r of baseRangeStates) {
                            this.model.setHandled(r, true, tx);
                        }
                    });
                },
                undo() {
                    (0,vscode_vscode_vs_base_common_observableInternal_base__WEBPACK_IMPORTED_MODULE_3__.transaction)(tx => {
                        for (const r of baseRangeStates) {
                            this.model.setHandled(r, false, tx);
                        }
                    });
                },
            };
            this.attachedHistory.pushAttachedHistoryElement(element);
            element.redo();
        }));
    }
    getRangeOfModifiedBaseRange(editor, modifiedBaseRange, reader) {
        if (editor === this.resultCodeEditorView) {
            return this.model.getLineRangeInResult(modifiedBaseRange.baseRange, reader);
        }
        else if (editor === this.baseCodeEditorView.get()) {
            return modifiedBaseRange.baseRange;
        }
        else {
            const input = editor === this.inputCodeEditorView1 ? 1 : 2;
            return modifiedBaseRange.getInputRange(input);
        }
    }
    setActiveModifiedBaseRange(range, tx) {
        this.manuallySetActiveModifiedBaseRange.set({ range, counter: this.counter++ }, tx);
    }
    setState(baseRange, state, tx, inputNumber) {
        this.manuallySetActiveModifiedBaseRange.set({ range: baseRange, counter: this.counter++ }, tx);
        this.model.setState(baseRange, state, inputNumber, tx);
        this.lastFocusedEditor.clearCache(tx);
    }
    goToConflict(getModifiedBaseRange) {
        let editor = this.lastFocusedEditor.get().view;
        if (!editor) {
            editor = this.resultCodeEditorView;
        }
        const curLineNumber = editor.editor.getPosition()?.lineNumber;
        if (curLineNumber === undefined) {
            return;
        }
        const modifiedBaseRange = getModifiedBaseRange(editor, curLineNumber);
        if (modifiedBaseRange) {
            const range = this.getRangeOfModifiedBaseRange(editor, modifiedBaseRange, undefined);
            editor.editor.focus();
            let startLineNumber = range.startLineNumber;
            let endLineNumberExclusive = range.endLineNumberExclusive;
            if (range.startLineNumber > editor.editor.getModel().getLineCount()) {
                (0,vscode_vscode_vs_base_common_observableInternal_base__WEBPACK_IMPORTED_MODULE_3__.transaction)(tx => {
                    this.setActiveModifiedBaseRange(modifiedBaseRange, tx);
                });
                startLineNumber = endLineNumberExclusive = editor.editor.getModel().getLineCount();
            }
            editor.editor.setPosition({
                lineNumber: startLineNumber,
                column: editor.editor.getModel().getLineFirstNonWhitespaceColumn(startLineNumber),
            });
            editor.editor.revealLinesNearTop(startLineNumber, endLineNumberExclusive, 0 );
        }
    }
    goToNextModifiedBaseRange(predicate) {
        this.goToConflict((e, l) => this.model.modifiedBaseRanges
            .get()
            .find((r) => predicate(r) &&
            this.getRangeOfModifiedBaseRange(e, r, undefined).startLineNumber > l) ||
            this.model.modifiedBaseRanges
                .get()
                .find((r) => predicate(r)));
    }
    goToPreviousModifiedBaseRange(predicate) {
        this.goToConflict((e, l) => (0,vscode_vscode_vs_base_common_arraysFind__WEBPACK_IMPORTED_MODULE_1__.findLast)(this.model.modifiedBaseRanges.get(), (r) => predicate(r) &&
            this.getRangeOfModifiedBaseRange(e, r, undefined).endLineNumberExclusive < l) ||
            (0,vscode_vscode_vs_base_common_arraysFind__WEBPACK_IMPORTED_MODULE_1__.findLast)(this.model.modifiedBaseRanges.get(), (r) => predicate(r)));
    }
    toggleActiveConflict(inputNumber) {
        const activeModifiedBaseRange = this.activeModifiedBaseRange.get();
        if (!activeModifiedBaseRange) {
            this.notificationService.error(( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_11__.localize)(11371, "There is currently no conflict focused that can be toggled.")));
            return;
        }
        (0,vscode_vscode_vs_base_common_observableInternal_base__WEBPACK_IMPORTED_MODULE_3__.transaction)(tx => {
            this.setState(activeModifiedBaseRange, this.model.getState(activeModifiedBaseRange).get().toggle(inputNumber), tx, inputNumber);
        });
    }
    acceptAll(inputNumber) {
        (0,vscode_vscode_vs_base_common_observableInternal_base__WEBPACK_IMPORTED_MODULE_3__.transaction)(tx => {
            for (const range of this.model.modifiedBaseRanges.get()) {
                this.setState(range, this.model.getState(range).get().withInputValue(inputNumber, true), tx, inputNumber);
            }
        });
    }
};
MergeEditorViewModel = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_12__.IConfigurationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, vscode_vscode_vs_platform_notification_common_notification_service__WEBPACK_IMPORTED_MODULE_13__.INotificationService)))
], MergeEditorViewModel)));
class AttachedHistory extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_2__.Disposable {
    constructor(model) {
        super();
        this.model = model;
        this.attachedHistory = [];
        this.previousAltId = this.model.getAlternativeVersionId();
        this._register(model.onDidChangeContent((e) => {
            const currentAltId = model.getAlternativeVersionId();
            if (e.isRedoing) {
                for (const item of this.attachedHistory) {
                    if (this.previousAltId < item.altId && item.altId <= currentAltId) {
                        item.element.redo();
                    }
                }
            }
            else if (e.isUndoing) {
                for (let i = this.attachedHistory.length - 1; i >= 0; i--) {
                    const item = this.attachedHistory[i];
                    if (currentAltId < item.altId && item.altId <= this.previousAltId) {
                        item.element.undo();
                    }
                }
            }
            else {
                while (this.attachedHistory.length > 0
                    && this.attachedHistory[this.attachedHistory.length - 1].altId > this.previousAltId) {
                    this.attachedHistory.pop();
                }
            }
            this.previousAltId = currentAltId;
        }));
    }
    pushAttachedHistoryElement(element) {
        this.attachedHistory.push({ altId: this.model.getAlternativeVersionId(), element });
    }
}




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/viewZones.js":
/*!**************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/viewZones.js ***!
  \**************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MergeEditorViewZone: () => (/* binding */ MergeEditorViewZone),
/* harmony export */   MergeEditorViewZones: () => (/* binding */ MergeEditorViewZones),
/* harmony export */   ViewZoneComputer: () => (/* binding */ ViewZoneComputer)
/* harmony export */ });
/* harmony import */ var vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/dom */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/common/arrays */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_mergeEditor_browser_model_lineRange__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/mergeEditor/browser/model/lineRange */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/mergeEditor/browser/model/lineRange.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_mergeEditor_browser_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/mergeEditor/browser/utils */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/mergeEditor/browser/utils.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_mergeEditor_browser_view_conflictActions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/mergeEditor/browser/view/conflictActions */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/conflictActions.js");
/* harmony import */ var _lineAlignment_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./lineAlignment.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/lineAlignment.js");







class ViewZoneComputer {
    constructor(input1Editor, input2Editor, resultEditor) {
        this.input1Editor = input1Editor;
        this.input2Editor = input2Editor;
        this.resultEditor = resultEditor;
        this.conflictActionsFactoryInput1 = ( new vscode_vscode_vs_workbench_contrib_mergeEditor_browser_view_conflictActions__WEBPACK_IMPORTED_MODULE_4__.ConflictActionsFactory(this.input1Editor));
        this.conflictActionsFactoryInput2 = ( new vscode_vscode_vs_workbench_contrib_mergeEditor_browser_view_conflictActions__WEBPACK_IMPORTED_MODULE_4__.ConflictActionsFactory(this.input2Editor));
        this.conflictActionsFactoryResult = ( new vscode_vscode_vs_workbench_contrib_mergeEditor_browser_view_conflictActions__WEBPACK_IMPORTED_MODULE_4__.ConflictActionsFactory(this.resultEditor));
    }
    computeViewZones(reader, viewModel, options) {
        let input1LinesAdded = 0;
        let input2LinesAdded = 0;
        let baseLinesAdded = 0;
        let resultLinesAdded = 0;
        const input1ViewZones = [];
        const input2ViewZones = [];
        const baseViewZones = [];
        const resultViewZones = [];
        const model = viewModel.model;
        const resultDiffs = model.baseResultDiffs.read(reader);
        const baseRangeWithStoreAndTouchingDiffs = (0,vscode_vscode_vs_workbench_contrib_mergeEditor_browser_utils__WEBPACK_IMPORTED_MODULE_3__.join)(model.modifiedBaseRanges.read(reader), resultDiffs, (baseRange, diff) => baseRange.baseRange.touches(diff.inputRange)
            ? vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_1__.CompareResult.neitherLessOrGreaterThan
            : vscode_vscode_vs_workbench_contrib_mergeEditor_browser_model_lineRange__WEBPACK_IMPORTED_MODULE_2__.LineRange.compareByStart(baseRange.baseRange, diff.inputRange));
        const shouldShowCodeLenses = options.codeLensesVisible;
        const showNonConflictingChanges = options.showNonConflictingChanges;
        let lastModifiedBaseRange = undefined;
        let lastBaseResultDiff = undefined;
        for (const m of baseRangeWithStoreAndTouchingDiffs) {
            if (shouldShowCodeLenses && m.left && (m.left.isConflicting || showNonConflictingChanges || !model.isHandled(m.left).read(reader))) {
                const actions = ( new vscode_vscode_vs_workbench_contrib_mergeEditor_browser_view_conflictActions__WEBPACK_IMPORTED_MODULE_4__.ActionsSource(viewModel, m.left));
                if (options.shouldAlignResult || !actions.inputIsEmpty.read(reader)) {
                    input1ViewZones.push(( new CommandViewZone(
                        this.conflictActionsFactoryInput1,
                        m.left.input1Range.startLineNumber - 1,
                        actions.itemsInput1
                    )));
                    input2ViewZones.push(( new CommandViewZone(
                        this.conflictActionsFactoryInput2,
                        m.left.input2Range.startLineNumber - 1,
                        actions.itemsInput2
                    )));
                    if (options.shouldAlignBase) {
                        baseViewZones.push(( new Placeholder(m.left.baseRange.startLineNumber - 1, 16)));
                    }
                }
                const afterLineNumber = m.left.baseRange.startLineNumber + (lastBaseResultDiff?.resultingDeltaFromOriginalToModified ?? 0) - 1;
                resultViewZones.push(( new CommandViewZone(this.conflictActionsFactoryResult, afterLineNumber, actions.resultItems)));
            }
            const lastResultDiff = m.rights.at(-1);
            if (lastResultDiff) {
                lastBaseResultDiff = lastResultDiff;
            }
            let alignedLines;
            if (m.left) {
                alignedLines = ( (0,_lineAlignment_js__WEBPACK_IMPORTED_MODULE_5__.getAlignments)(m.left).map(a => ({
                    input1Line: a[0],
                    baseLine: a[1],
                    input2Line: a[2],
                    resultLine: undefined,
                })));
                lastModifiedBaseRange = m.left;
                alignedLines[alignedLines.length - 1].resultLine =
                    m.left.baseRange.endLineNumberExclusive
                        + (lastBaseResultDiff ? lastBaseResultDiff.resultingDeltaFromOriginalToModified : 0);
            }
            else {
                alignedLines = [{
                        baseLine: lastResultDiff.inputRange.endLineNumberExclusive,
                        input1Line: lastResultDiff.inputRange.endLineNumberExclusive + (lastModifiedBaseRange ? (lastModifiedBaseRange.input1Range.endLineNumberExclusive - lastModifiedBaseRange.baseRange.endLineNumberExclusive) : 0),
                        input2Line: lastResultDiff.inputRange.endLineNumberExclusive + (lastModifiedBaseRange ? (lastModifiedBaseRange.input2Range.endLineNumberExclusive - lastModifiedBaseRange.baseRange.endLineNumberExclusive) : 0),
                        resultLine: lastResultDiff.outputRange.endLineNumberExclusive,
                    }];
            }
            for (const { input1Line, baseLine, input2Line, resultLine } of alignedLines) {
                if (!options.shouldAlignBase && (input1Line === undefined || input2Line === undefined)) {
                    continue;
                }
                const input1Line_ = input1Line !== undefined ? input1Line + input1LinesAdded : -1;
                const input2Line_ = input2Line !== undefined ? input2Line + input2LinesAdded : -1;
                const baseLine_ = baseLine + baseLinesAdded;
                const resultLine_ = resultLine !== undefined ? resultLine + resultLinesAdded : -1;
                const max = Math.max(options.shouldAlignBase ? baseLine_ : 0, input1Line_, input2Line_, options.shouldAlignResult ? resultLine_ : 0);
                if (input1Line !== undefined) {
                    const diffInput1 = max - input1Line_;
                    if (diffInput1 > 0) {
                        input1ViewZones.push(( new Spacer(input1Line - 1, diffInput1)));
                        input1LinesAdded += diffInput1;
                    }
                }
                if (input2Line !== undefined) {
                    const diffInput2 = max - input2Line_;
                    if (diffInput2 > 0) {
                        input2ViewZones.push(( new Spacer(input2Line - 1, diffInput2)));
                        input2LinesAdded += diffInput2;
                    }
                }
                if (options.shouldAlignBase) {
                    const diffBase = max - baseLine_;
                    if (diffBase > 0) {
                        baseViewZones.push(( new Spacer(baseLine - 1, diffBase)));
                        baseLinesAdded += diffBase;
                    }
                }
                if (options.shouldAlignResult && resultLine !== undefined) {
                    const diffResult = max - resultLine_;
                    if (diffResult > 0) {
                        resultViewZones.push(( new Spacer(resultLine - 1, diffResult)));
                        resultLinesAdded += diffResult;
                    }
                }
            }
        }
        return ( new MergeEditorViewZones(input1ViewZones, input2ViewZones, baseViewZones, resultViewZones));
    }
}
class MergeEditorViewZones {
    constructor(input1ViewZones, input2ViewZones, baseViewZones, resultViewZones) {
        this.input1ViewZones = input1ViewZones;
        this.input2ViewZones = input2ViewZones;
        this.baseViewZones = baseViewZones;
        this.resultViewZones = resultViewZones;
    }
}
class MergeEditorViewZone {
}
class Spacer extends MergeEditorViewZone {
    constructor(afterLineNumber, heightInLines) {
        super();
        this.afterLineNumber = afterLineNumber;
        this.heightInLines = heightInLines;
    }
    create(viewZoneChangeAccessor, viewZoneIdsToCleanUp, disposableStore) {
        viewZoneIdsToCleanUp.push(viewZoneChangeAccessor.addZone({
            afterLineNumber: this.afterLineNumber,
            heightInLines: this.heightInLines,
            domNode: (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_0__.$)('div.diagonal-fill'),
        }));
    }
}
class Placeholder extends MergeEditorViewZone {
    constructor(afterLineNumber, heightPx) {
        super();
        this.afterLineNumber = afterLineNumber;
        this.heightPx = heightPx;
    }
    create(viewZoneChangeAccessor, viewZoneIdsToCleanUp, disposableStore) {
        viewZoneIdsToCleanUp.push(viewZoneChangeAccessor.addZone({
            afterLineNumber: this.afterLineNumber,
            heightInPx: this.heightPx,
            domNode: (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_0__.$)('div.conflict-actions-placeholder'),
        }));
    }
}
class CommandViewZone extends MergeEditorViewZone {
    constructor(conflictActionsFactory, lineNumber, items) {
        super();
        this.conflictActionsFactory = conflictActionsFactory;
        this.lineNumber = lineNumber;
        this.items = items;
    }
    create(viewZoneChangeAccessor, viewZoneIdsToCleanUp, disposableStore) {
        disposableStore.add(this.conflictActionsFactory.createWidget(viewZoneChangeAccessor, this.lineNumber, this.items, viewZoneIdsToCleanUp));
    }
}




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/preferences/browser/keyboardLayoutPicker.js":
/*!********************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/preferences/browser/keyboardLayoutPicker.js ***!
  \********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   KeyboardLayoutPickerContribution: () => (/* binding */ KeyboardLayoutPickerContribution)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_statusbar_browser_statusbar_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/statusbar/browser/statusbar.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/statusbar/browser/statusbar.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_platform_keyboardLayout_common_keyboardLayout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/platform/keyboardLayout/common/keyboardLayout */ "./node_modules/vscode/vscode/src/vs/platform/keyboardLayout/common/keyboardLayout.js");
/* harmony import */ var vscode_vscode_vs_platform_keyboardLayout_common_keyboardLayout_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/platform/keyboardLayout/common/keyboardLayout.service */ "./node_modules/vscode/vscode/src/vs/platform/keyboardLayout/common/keyboardLayout.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_contributions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/contributions */ "./node_modules/vscode/vscode/src/vs/workbench/common/contributions.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_preferences_common_preferences__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/preferences/common/preferences */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/preferences/common/preferences.js");
/* harmony import */ var vscode_vscode_vs_base_common_platform__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/base/common/platform */ "./node_modules/vscode/vscode/src/vs/base/common/platform.js");
/* harmony import */ var vscode_vscode_vs_platform_quickinput_common_quickInput_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/platform/quickinput/common/quickInput.service */ "./node_modules/vscode/vscode/src/vs/platform/quickinput/common/quickInput.service.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/platform/configuration/common/configuration.service */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var vscode_vscode_vs_platform_environment_common_environment_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/platform/environment/common/environment.service */ "./node_modules/vscode/vscode/src/vs/platform/environment/common/environment.service.js");
/* harmony import */ var vscode_vscode_vs_platform_files_common_files_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/platform/files/common/files.service */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_buffer__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/base/common/buffer */ "./node_modules/vscode/vscode/src/vs/base/common/buffer.js");

















let KeyboardLayoutPickerContribution = class KeyboardLayoutPickerContribution extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__.Disposable {
    static { this.ID = 'workbench.contrib.keyboardLayoutPicker'; }
    constructor(keyboardLayoutService, statusbarService) {
        super();
        this.keyboardLayoutService = keyboardLayoutService;
        this.statusbarService = statusbarService;
        this.pickerElement = this._register(( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__.MutableDisposable())));
        const name = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4463, "Keyboard Layout"));
        const layout = this.keyboardLayoutService.getCurrentKeyboardLayout();
        if (layout) {
            const layoutInfo = (0,vscode_vscode_vs_platform_keyboardLayout_common_keyboardLayout__WEBPACK_IMPORTED_MODULE_4__.parseKeyboardLayoutDescription)(layout);
            const text = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4464, "Layout: {0}", layoutInfo.label));
            this.pickerElement.value = this.statusbarService.addEntry({
                name,
                text,
                ariaLabel: text,
                command: vscode_vscode_vs_workbench_contrib_preferences_common_preferences__WEBPACK_IMPORTED_MODULE_7__.KEYBOARD_LAYOUT_OPEN_PICKER
            }, 'status.workbench.keyboardLayout', 1 );
        }
        this._register(this.keyboardLayoutService.onDidChangeKeyboardLayout(() => {
            const layout = this.keyboardLayoutService.getCurrentKeyboardLayout();
            const layoutInfo = (0,vscode_vscode_vs_platform_keyboardLayout_common_keyboardLayout__WEBPACK_IMPORTED_MODULE_4__.parseKeyboardLayoutDescription)(layout);
            if (this.pickerElement.value) {
                const text = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4464, "Layout: {0}", layoutInfo.label));
                this.pickerElement.value.update({
                    name,
                    text,
                    ariaLabel: text,
                    command: vscode_vscode_vs_workbench_contrib_preferences_common_preferences__WEBPACK_IMPORTED_MODULE_7__.KEYBOARD_LAYOUT_OPEN_PICKER
                });
            }
            else {
                const text = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4464, "Layout: {0}", layoutInfo.label));
                this.pickerElement.value = this.statusbarService.addEntry({
                    name,
                    text,
                    ariaLabel: text,
                    command: vscode_vscode_vs_workbench_contrib_preferences_common_preferences__WEBPACK_IMPORTED_MODULE_7__.KEYBOARD_LAYOUT_OPEN_PICKER
                }, 'status.workbench.keyboardLayout', 1 );
            }
        }));
    }
};
KeyboardLayoutPickerContribution = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_platform_keyboardLayout_common_keyboardLayout_service__WEBPACK_IMPORTED_MODULE_5__.IKeyboardLayoutService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_workbench_services_statusbar_browser_statusbar_service__WEBPACK_IMPORTED_MODULE_2__.IStatusbarService)))
], KeyboardLayoutPickerContribution)));
(0,vscode_vscode_vs_workbench_common_contributions__WEBPACK_IMPORTED_MODULE_6__.registerWorkbenchContribution2)(KeyboardLayoutPickerContribution.ID, KeyboardLayoutPickerContribution, 1 );
const DEFAULT_CONTENT = [
    `// ${( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(
        4465,
        'Defines the keyboard layout used in VS Code in the browser environment.'
    ))}`,
    `// ${( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(
        4466,
        'Open VS Code and run "Developer: Inspect Key Mappings (JSON)" from Command Palette.'
    ))}`,
    ``,
    `// Once you have the keyboard layout info, please paste it below.`,
    '\n'
].join('\n');
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_10__.registerAction2)(class extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_10__.Action2 {
    constructor() {
        super({
            id: vscode_vscode_vs_workbench_contrib_preferences_common_preferences__WEBPACK_IMPORTED_MODULE_7__.KEYBOARD_LAYOUT_OPEN_PICKER,
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize2)(4467, "Change Keyboard Layout")),
            f1: true
        });
    }
    async run(accessor) {
        const keyboardLayoutService = accessor.get(vscode_vscode_vs_platform_keyboardLayout_common_keyboardLayout_service__WEBPACK_IMPORTED_MODULE_5__.IKeyboardLayoutService);
        const quickInputService = accessor.get(vscode_vscode_vs_platform_quickinput_common_quickInput_service__WEBPACK_IMPORTED_MODULE_9__.IQuickInputService);
        const configurationService = accessor.get(vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_11__.IConfigurationService);
        const environmentService = accessor.get(vscode_vscode_vs_platform_environment_common_environment_service__WEBPACK_IMPORTED_MODULE_12__.IEnvironmentService);
        const editorService = accessor.get(vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_14__.IEditorService);
        const fileService = accessor.get(vscode_vscode_vs_platform_files_common_files_service__WEBPACK_IMPORTED_MODULE_13__.IFileService);
        const layouts = keyboardLayoutService.getAllKeyboardLayouts();
        const currentLayout = keyboardLayoutService.getCurrentKeyboardLayout();
        const layoutConfig = configurationService.getValue('keyboard.layout');
        const isAutoDetect = layoutConfig === 'autodetect';
        const picks = ( (layouts.map(layout => {
            const picked = !isAutoDetect && (0,vscode_vscode_vs_platform_keyboardLayout_common_keyboardLayout__WEBPACK_IMPORTED_MODULE_4__.areKeyboardLayoutsEqual)(currentLayout, layout);
            const layoutInfo = (0,vscode_vscode_vs_platform_keyboardLayout_common_keyboardLayout__WEBPACK_IMPORTED_MODULE_4__.parseKeyboardLayoutDescription)(layout);
            return {
                layout: layout,
                label: [layoutInfo.label, (layout && layout.isUserKeyboardLayout) ? '(User configured layout)' : ''].join(' '),
                id: layout.text || layout.lang || layout.layout,
                description: layoutInfo.description + (picked ? ' (Current layout)' : ''),
                picked: !isAutoDetect && (0,vscode_vscode_vs_platform_keyboardLayout_common_keyboardLayout__WEBPACK_IMPORTED_MODULE_4__.areKeyboardLayoutsEqual)(currentLayout, layout)
            };
        }))).sort((a, b) => {
            return a.label < b.label ? -1 : (a.label > b.label ? 1 : 0);
        });
        if (picks.length > 0) {
            const platform = vscode_vscode_vs_base_common_platform__WEBPACK_IMPORTED_MODULE_8__.isMacintosh ? 'Mac' : vscode_vscode_vs_base_common_platform__WEBPACK_IMPORTED_MODULE_8__.isWindows ? 'Win' : 'Linux';
            picks.unshift({ type: 'separator', label: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4468, "Keyboard Layouts ({0})", platform)) });
        }
        const configureKeyboardLayout = { label: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4469, "Configure Keyboard Layout")) };
        picks.unshift(configureKeyboardLayout);
        const autoDetectMode = {
            label: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4470, "Auto Detect")),
            description: isAutoDetect ? `Current: ${(0,vscode_vscode_vs_platform_keyboardLayout_common_keyboardLayout__WEBPACK_IMPORTED_MODULE_4__.parseKeyboardLayoutDescription)(currentLayout).label}` : undefined,
            picked: isAutoDetect ? true : undefined
        };
        picks.unshift(autoDetectMode);
        const pick = await quickInputService.pick(picks, { placeHolder: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4471, "Select Keyboard Layout")), matchOnDescription: true });
        if (!pick) {
            return;
        }
        if (pick === autoDetectMode) {
            configurationService.updateValue('keyboard.layout', 'autodetect');
            return;
        }
        if (pick === configureKeyboardLayout) {
            const file = environmentService.keyboardLayoutResource;
            await fileService.stat(file).then(undefined, () => {
                return fileService.createFile(file, vscode_vscode_vs_base_common_buffer__WEBPACK_IMPORTED_MODULE_15__.VSBuffer.fromString(DEFAULT_CONTENT));
            }).then((stat) => {
                if (!stat) {
                    return undefined;
                }
                return editorService.openEditor({
                    resource: stat.resource,
                    languageId: 'jsonc',
                    options: { pinned: true }
                });
            }, (error) => {
                throw ( (new Error(
                    (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4472, "Unable to create '{0}' ({1}).", ( (file.toString())), error)
                )));
            });
            return Promise.resolve();
        }
        configurationService.updateValue('keyboard.layout', (0,vscode_vscode_vs_platform_keyboardLayout_common_keyboardLayout__WEBPACK_IMPORTED_MODULE_4__.getKeyboardLayoutId)(pick.layout));
    }
});




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/sash/browser/sash.contribution.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/sash/browser/sash.contribution.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_platform_configuration_common_configurationRegistry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/platform/configuration/common/configurationRegistry */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configurationRegistry.js");
/* harmony import */ var vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/platform/registry/common/platform */ "./node_modules/vscode/vscode/src/vs/platform/registry/common/platform.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_configuration__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/configuration */ "./node_modules/vscode/vscode/src/vs/workbench/common/configuration.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_contributions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/contributions */ "./node_modules/vscode/vscode/src/vs/workbench/common/contributions.js");
/* harmony import */ var _sash_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./sash.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/sash/browser/sash.js");
/* harmony import */ var vscode_vscode_vs_base_common_platform__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/base/common/platform */ "./node_modules/vscode/vscode/src/vs/base/common/platform.js");








( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_2__.Registry.as(vscode_vscode_vs_workbench_common_contributions__WEBPACK_IMPORTED_MODULE_4__.Extensions.Workbench)))
    .registerWorkbenchContribution(_sash_js__WEBPACK_IMPORTED_MODULE_5__.SashSettingsController, 3 );
( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_2__.Registry.as(vscode_vscode_vs_platform_configuration_common_configurationRegistry__WEBPACK_IMPORTED_MODULE_1__.Extensions.Configuration)))
    .registerConfiguration({
    ...vscode_vscode_vs_workbench_common_configuration__WEBPACK_IMPORTED_MODULE_3__.workbenchConfigurationNodeBase,
    properties: {
        'workbench.sash.size': {
            type: 'number',
            default: vscode_vscode_vs_base_common_platform__WEBPACK_IMPORTED_MODULE_6__.isIOS ? 20 : 4,
            minimum: 1,
            maximum: 20,
            description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_0__.localize)(
                4461,
                "Controls the feedback area size in pixels of the dragging area in between views/editors. Set it to a larger value if you feel it's hard to resize views using the mouse."
            ))
        },
        'workbench.sash.hoverDelay': {
            type: 'number',
            default: 300,
            minimum: 0,
            maximum: 2000,
            description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_0__.localize)(
                4462,
                "Controls the hover feedback delay in milliseconds of the dragging area in between views/editors."
            ))
        },
    }
});


/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/sash/browser/sash.js":
/*!*********************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/sash/browser/sash.js ***!
  \*********************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SashSettingsController: () => (/* binding */ SashSettingsController)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_base_common_numbers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/common/numbers */ "./node_modules/vscode/vscode/src/vs/base/common/numbers.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_sash_sash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/sash/sash */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/sash/sash.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/platform/configuration/common/configuration.service */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var vscode_vscode_vs_platform_layout_browser_layoutService_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/platform/layout/browser/layoutService.service */ "./node_modules/vscode/vscode/src/vs/platform/layout/browser/layoutService.service.js");








let SashSettingsController = class SashSettingsController {
    constructor(configurationService, layoutService) {
        this.configurationService = configurationService;
        this.layoutService = layoutService;
        this.disposables = ( new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__.DisposableStore());
        const onDidChangeSize = vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__.Event.filter(configurationService.onDidChangeConfiguration, e => e.affectsConfiguration('workbench.sash.size'));
        onDidChangeSize(this.onDidChangeSize, this, this.disposables);
        this.onDidChangeSize();
        const onDidChangeHoverDelay = vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__.Event.filter(configurationService.onDidChangeConfiguration, e => e.affectsConfiguration('workbench.sash.hoverDelay'));
        onDidChangeHoverDelay(this.onDidChangeHoverDelay, this, this.disposables);
        this.onDidChangeHoverDelay();
    }
    onDidChangeSize() {
        const configuredSize = this.configurationService.getValue('workbench.sash.size');
        const size = (0,vscode_vscode_vs_base_common_numbers__WEBPACK_IMPORTED_MODULE_1__.clamp)(configuredSize, 4, 20);
        const hoverSize = (0,vscode_vscode_vs_base_common_numbers__WEBPACK_IMPORTED_MODULE_1__.clamp)(configuredSize, 1, 8);
        this.layoutService.mainContainer.style.setProperty('--vscode-sash-size', size + 'px');
        this.layoutService.mainContainer.style.setProperty('--vscode-sash-hover-size', hoverSize + 'px');
        (0,vscode_vscode_vs_base_browser_ui_sash_sash__WEBPACK_IMPORTED_MODULE_2__.setGlobalSashSize)(size);
    }
    onDidChangeHoverDelay() {
        (0,vscode_vscode_vs_base_browser_ui_sash_sash__WEBPACK_IMPORTED_MODULE_2__.setGlobalHoverDelay)(this.configurationService.getValue('workbench.sash.hoverDelay'));
    }
    dispose() {
        this.disposables.dispose();
    }
};
SashSettingsController = ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_5__.IConfigurationService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_platform_layout_browser_layoutService_service__WEBPACK_IMPORTED_MODULE_6__.ILayoutService))
], SashSettingsController));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/typeHierarchy/browser/media/typeHierarchy.css.js":
/*!*************************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/typeHierarchy/browser/media/typeHierarchy.css.js ***!
  \*************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ css),
/* harmony export */   "default": () => (/* binding */ css)
/* harmony export */ });
/* harmony import */ var vscode_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js */ "./node_modules/vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js");


var css = ".monaco-workbench .type-hierarchy .message,.monaco-workbench .type-hierarchy .results{display:none}.monaco-workbench .type-hierarchy[data-state=data] .results{display:inherit;height:100%}.monaco-workbench .type-hierarchy[data-state=message] .message{align-items:center;display:flex;height:100%;justify-content:center}.monaco-workbench .type-hierarchy .editor,.monaco-workbench .type-hierarchy .tree{height:100%}.monaco-editor .type-hierarchy .tree{background-color:var(--vscode-peekViewResult-background);color:var(--vscode-peekViewResult-fileForeground)}.monaco-editor .type-hierarchy .tree .monaco-list:focus .monaco-list-rows>.monaco-list-row.selected:not(.highlighted){background-color:var(--vscode-peekViewResult-selectionBackground);color:var(--vscode-peekViewResult-selectionForeground)!important}.monaco-workbench .type-hierarchy .tree .typehierarchy-element{align-items:center;display:flex;flex:1;flex-flow:row nowrap}.monaco-workbench .type-hierarchy .tree .typehierarchy-element .monaco-icon-label{padding-left:4px}.monaco-editor .type-hierarchy .type-decoration{background-color:var(--vscode-peekViewEditor-matchHighlightBackground);border:2px solid var(--vscode-peekViewEditor-matchHighlightBorder);box-sizing:border-box}.monaco-editor .type-hierarchy .editor .monaco-editor .inputarea.ime-input,.monaco-editor .type-hierarchy .editor .monaco-editor .monaco-editor-background{background-color:var(--vscode-peekViewEditor-background)}.monaco-editor .type-hierarchy .editor .monaco-editor .margin{background-color:var(--vscode-peekViewEditorGutter-background)}";
(0,vscode_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__["default"])(css,{});




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/typeHierarchy/browser/typeHierarchy.contribution.js":
/*!****************************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/typeHierarchy/browser/typeHierarchy.contribution.js ***!
  \****************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_base_common_cancellation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/common/cancellation */ "./node_modules/vscode/vscode/src/vs/base/common/cancellation.js");
/* harmony import */ var vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/common/codicons */ "./node_modules/vscode/vscode/src/vs/base/common/codicons.js");
/* harmony import */ var vscode_vscode_vs_base_common_errors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/common/errors */ "./node_modules/vscode/vscode/src/vs/base/common/errors.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_editor_browser_editorExtensions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/editor/browser/editorExtensions */ "./node_modules/vscode/vscode/src/vs/editor/browser/editorExtensions.js");
/* harmony import */ var vscode_vscode_vs_editor_browser_services_codeEditorService__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/editor/browser/services/codeEditorService */ "./node_modules/vscode/vscode/src/vs/editor/browser/services/codeEditorService.js");
/* harmony import */ var vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/core/range */ "./node_modules/vscode/vscode/src/vs/editor/common/core/range.js");
/* harmony import */ var vscode_vscode_vs_editor_contrib_peekView_browser_peekView__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/editor/contrib/peekView/browser/peekView */ "./node_modules/vscode/vscode/src/vs/editor/contrib/peekView/browser/peekView.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey.service */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/platform/storage/common/storage.service */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var _typeHierarchyPeek_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./typeHierarchyPeek.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/typeHierarchy/browser/typeHierarchyPeek.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_typeHierarchy_common_typeHierarchy__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/typeHierarchy/common/typeHierarchy */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/typeHierarchy/common/typeHierarchy.js");



















var TypeHierarchyController_1;
const _ctxHasTypeHierarchyProvider = ( (new vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_12__.RawContextKey('editorHasTypeHierarchyProvider', false, ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_10__.localize)(4247, 'Whether a type hierarchy provider is available')))));
const _ctxTypeHierarchyVisible = ( (new vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_12__.RawContextKey('typeHierarchyVisible', false, ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_10__.localize)(4248, 'Whether type hierarchy peek is currently showing')))));
const _ctxTypeHierarchyDirection = ( (new vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_12__.RawContextKey(
    'typeHierarchyDirection',
    undefined,
    { type: 'string', description: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_10__.localize)(4249, 'whether type hierarchy shows super types or subtypes')) }
)));
function sanitizedDirection(candidate) {
    return candidate === "subtypes"  || candidate === "supertypes"
        ? candidate
        : "subtypes" ;
}
let TypeHierarchyController = class TypeHierarchyController {
    static { TypeHierarchyController_1 = this; }
    static { this.Id = 'typeHierarchy'; }
    static get(editor) {
        return editor.getContribution(TypeHierarchyController_1.Id);
    }
    static { this._storageDirectionKey = 'typeHierarchy/defaultDirection'; }
    constructor(_editor, _contextKeyService, _storageService, _editorService, _instantiationService) {
        this._editor = _editor;
        this._contextKeyService = _contextKeyService;
        this._storageService = _storageService;
        this._editorService = _editorService;
        this._instantiationService = _instantiationService;
        this._disposables = ( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_5__.DisposableStore()));
        this._sessionDisposables = ( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_5__.DisposableStore()));
        this._ctxHasProvider = _ctxHasTypeHierarchyProvider.bindTo(this._contextKeyService);
        this._ctxIsVisible = _ctxTypeHierarchyVisible.bindTo(this._contextKeyService);
        this._ctxDirection = _ctxTypeHierarchyDirection.bindTo(this._contextKeyService);
        this._disposables.add(vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Event.any(_editor.onDidChangeModel, _editor.onDidChangeModelLanguage, vscode_vscode_vs_workbench_contrib_typeHierarchy_common_typeHierarchy__WEBPACK_IMPORTED_MODULE_17__.TypeHierarchyProviderRegistry.onDidChange)(() => {
            this._ctxHasProvider.set(_editor.hasModel() && ( (vscode_vscode_vs_workbench_contrib_typeHierarchy_common_typeHierarchy__WEBPACK_IMPORTED_MODULE_17__.TypeHierarchyProviderRegistry.has(_editor.getModel()))));
        }));
        this._disposables.add(this._sessionDisposables);
    }
    dispose() {
        this._disposables.dispose();
    }
    async startTypeHierarchyFromEditor() {
        this._sessionDisposables.clear();
        if (!this._editor.hasModel()) {
            return;
        }
        const document = this._editor.getModel();
        const position = this._editor.getPosition();
        if (!( (vscode_vscode_vs_workbench_contrib_typeHierarchy_common_typeHierarchy__WEBPACK_IMPORTED_MODULE_17__.TypeHierarchyProviderRegistry.has(document)))) {
            return;
        }
        const cts = ( (new vscode_vscode_vs_base_common_cancellation__WEBPACK_IMPORTED_MODULE_1__.CancellationTokenSource()));
        const model = vscode_vscode_vs_workbench_contrib_typeHierarchy_common_typeHierarchy__WEBPACK_IMPORTED_MODULE_17__.TypeHierarchyModel.create(document, position, cts.token);
        const direction = sanitizedDirection(this._storageService.get(TypeHierarchyController_1._storageDirectionKey, 0 , "subtypes" ));
        this._showTypeHierarchyWidget(position, direction, model, cts);
    }
    _showTypeHierarchyWidget(position, direction, model, cts) {
        this._ctxIsVisible.set(true);
        this._ctxDirection.set(direction);
        vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_4__.Event.any(this._editor.onDidChangeModel, this._editor.onDidChangeModelLanguage)(this.endTypeHierarchy, this, this._sessionDisposables);
        this._widget = this._instantiationService.createInstance(_typeHierarchyPeek_js__WEBPACK_IMPORTED_MODULE_16__.TypeHierarchyTreePeekWidget, this._editor, position, direction);
        this._widget.showLoading();
        this._sessionDisposables.add(this._widget.onDidClose(() => {
            this.endTypeHierarchy();
            this._storageService.store(TypeHierarchyController_1._storageDirectionKey, this._widget.direction, 0 , 0 );
        }));
        this._sessionDisposables.add({ dispose() { cts.dispose(true); } });
        this._sessionDisposables.add(this._widget);
        model.then(model => {
            if (cts.token.isCancellationRequested) {
                return;
            }
            if (model) {
                this._sessionDisposables.add(model);
                this._widget.showModel(model);
            }
            else {
                this._widget.showMessage(( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_10__.localize)(4250, "No results")));
            }
        }).catch(err => {
            if ((0,vscode_vscode_vs_base_common_errors__WEBPACK_IMPORTED_MODULE_3__.isCancellationError)(err)) {
                this.endTypeHierarchy();
                return;
            }
            this._widget.showMessage(( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_10__.localize)(4251, "Failed to show type hierarchy")));
        });
    }
    async startTypeHierarchyFromTypeHierarchy() {
        if (!this._widget) {
            return;
        }
        const model = this._widget.getModel();
        const typeItem = this._widget.getFocused();
        if (!typeItem || !model) {
            return;
        }
        const newEditor = await this._editorService.openCodeEditor({ resource: typeItem.item.uri }, this._editor);
        if (!newEditor) {
            return;
        }
        const newModel = model.fork(typeItem.item);
        this._sessionDisposables.clear();
        TypeHierarchyController_1.get(newEditor)?._showTypeHierarchyWidget(vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_8__.Range.lift(newModel.root.selectionRange).getStartPosition(), this._widget.direction, Promise.resolve(newModel), ( (new vscode_vscode_vs_base_common_cancellation__WEBPACK_IMPORTED_MODULE_1__.CancellationTokenSource())));
    }
    showSupertypes() {
        this._widget?.updateDirection("supertypes" );
        this._ctxDirection.set("supertypes" );
    }
    showSubtypes() {
        this._widget?.updateDirection("subtypes" );
        this._ctxDirection.set("subtypes" );
    }
    endTypeHierarchy() {
        this._sessionDisposables.clear();
        this._ctxIsVisible.set(false);
        this._editor.focus();
    }
};
TypeHierarchyController = TypeHierarchyController_1 = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_13__.IContextKeyService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_15__.IStorageService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_editor_browser_services_codeEditorService__WEBPACK_IMPORTED_MODULE_7__.ICodeEditorService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_14__.IInstantiationService)))
], TypeHierarchyController)));
(0,vscode_vscode_vs_editor_browser_editorExtensions__WEBPACK_IMPORTED_MODULE_6__.registerEditorContribution)(TypeHierarchyController.Id, TypeHierarchyController, 0 );
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_11__.registerAction2)(class PeekTypeHierarchyAction extends vscode_vscode_vs_editor_browser_editorExtensions__WEBPACK_IMPORTED_MODULE_6__.EditorAction2 {
    constructor() {
        super({
            id: 'editor.showTypeHierarchy',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_10__.localize2)(4252, 'Peek Type Hierarchy')),
            menu: {
                id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_11__.MenuId.EditorContextPeek,
                group: 'navigation',
                order: 1000,
                when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_12__.ContextKeyExpr.and(_ctxHasTypeHierarchyProvider, vscode_vscode_vs_editor_contrib_peekView_browser_peekView__WEBPACK_IMPORTED_MODULE_9__.PeekContext.notInPeekEditor))),
            },
            precondition: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_12__.ContextKeyExpr.and(_ctxHasTypeHierarchyProvider, vscode_vscode_vs_editor_contrib_peekView_browser_peekView__WEBPACK_IMPORTED_MODULE_9__.PeekContext.notInPeekEditor))),
            f1: true
        });
    }
    async runEditorCommand(_accessor, editor) {
        return TypeHierarchyController.get(editor)?.startTypeHierarchyFromEditor();
    }
});
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_11__.registerAction2)(class extends vscode_vscode_vs_editor_browser_editorExtensions__WEBPACK_IMPORTED_MODULE_6__.EditorAction2 {
    constructor() {
        super({
            id: 'editor.showSupertypes',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_10__.localize2)(4253, 'Show Supertypes')),
            icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_2__.Codicon.typeHierarchySuper,
            precondition: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_12__.ContextKeyExpr.and(
                _ctxTypeHierarchyVisible,
                 (_ctxTypeHierarchyDirection.isEqualTo("subtypes" ))
            ))),
            keybinding: {
                weight: 200 ,
                primary: 1024  + 512  + 38 ,
            },
            menu: {
                id: _typeHierarchyPeek_js__WEBPACK_IMPORTED_MODULE_16__.TypeHierarchyTreePeekWidget.TitleMenu,
                when: ( (_ctxTypeHierarchyDirection.isEqualTo("subtypes" ))),
                order: 1,
            }
        });
    }
    runEditorCommand(_accessor, editor) {
        return TypeHierarchyController.get(editor)?.showSupertypes();
    }
});
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_11__.registerAction2)(class extends vscode_vscode_vs_editor_browser_editorExtensions__WEBPACK_IMPORTED_MODULE_6__.EditorAction2 {
    constructor() {
        super({
            id: 'editor.showSubtypes',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_10__.localize2)(4254, 'Show Subtypes')),
            icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_2__.Codicon.typeHierarchySub,
            precondition: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_12__.ContextKeyExpr.and(
                _ctxTypeHierarchyVisible,
                 (_ctxTypeHierarchyDirection.isEqualTo("supertypes" ))
            ))),
            keybinding: {
                weight: 200 ,
                primary: 1024  + 512  + 38 ,
            },
            menu: {
                id: _typeHierarchyPeek_js__WEBPACK_IMPORTED_MODULE_16__.TypeHierarchyTreePeekWidget.TitleMenu,
                when: ( (_ctxTypeHierarchyDirection.isEqualTo("supertypes" ))),
                order: 1,
            }
        });
    }
    runEditorCommand(_accessor, editor) {
        return TypeHierarchyController.get(editor)?.showSubtypes();
    }
});
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_11__.registerAction2)(class extends vscode_vscode_vs_editor_browser_editorExtensions__WEBPACK_IMPORTED_MODULE_6__.EditorAction2 {
    constructor() {
        super({
            id: 'editor.refocusTypeHierarchy',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_10__.localize2)(4255, 'Refocus Type Hierarchy')),
            precondition: _ctxTypeHierarchyVisible,
            keybinding: {
                weight: 200 ,
                primary: 1024  + 3
            }
        });
    }
    async runEditorCommand(_accessor, editor) {
        return TypeHierarchyController.get(editor)?.startTypeHierarchyFromTypeHierarchy();
    }
});
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_11__.registerAction2)(class extends vscode_vscode_vs_editor_browser_editorExtensions__WEBPACK_IMPORTED_MODULE_6__.EditorAction2 {
    constructor() {
        super({
            id: 'editor.closeTypeHierarchy',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_10__.localize)(4256, 'Close')),
            icon: vscode_vscode_vs_base_common_codicons__WEBPACK_IMPORTED_MODULE_2__.Codicon.close,
            precondition: _ctxTypeHierarchyVisible,
            keybinding: {
                weight: 200  + 10,
                primary: 9 ,
                when: vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_12__.ContextKeyExpr.not('config.editor.stablePeek')
            },
            menu: {
                id: _typeHierarchyPeek_js__WEBPACK_IMPORTED_MODULE_16__.TypeHierarchyTreePeekWidget.TitleMenu,
                order: 1000
            }
        });
    }
    runEditorCommand(_accessor, editor) {
        return TypeHierarchyController.get(editor)?.endTypeHierarchy();
    }
});


/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/typeHierarchy/browser/typeHierarchyPeek.js":
/*!*******************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/typeHierarchy/browser/typeHierarchyPeek.js ***!
  \*******************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TypeHierarchyTreePeekWidget: () => (/* binding */ TypeHierarchyTreePeekWidget)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _media_typeHierarchy_css_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./media/typeHierarchy.css.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/typeHierarchy/browser/media/typeHierarchy.css.js");
/* harmony import */ var vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/dom */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_splitview_splitview__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/splitview/splitview */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/splitview/splitview.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_tree_tree__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/tree/tree */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/tree/tree.js");
/* harmony import */ var vscode_vscode_vs_base_common_color__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/base/common/color */ "./node_modules/vscode/vscode/src/vs/base/common/color.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_editor_browser_widget_codeEditor_embeddedCodeEditorWidget__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/editor/browser/widget/codeEditor/embeddedCodeEditorWidget */ "./node_modules/vscode/vscode/src/vs/editor/browser/widget/codeEditor/embeddedCodeEditorWidget.js");
/* harmony import */ var vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/core/range */ "./node_modules/vscode/vscode/src/vs/editor/common/core/range.js");
/* harmony import */ var vscode_vscode_vs_editor_common_model__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/model */ "./node_modules/vscode/vscode/src/vs/editor/common/model.js");
/* harmony import */ var vscode_vscode_vs_editor_common_services_resolverService__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/services/resolverService */ "./node_modules/vscode/vscode/src/vs/editor/common/services/resolverService.js");
/* harmony import */ var vscode_vscode_vs_editor_contrib_peekView_browser_peekView__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/editor/contrib/peekView/browser/peekView */ "./node_modules/vscode/vscode/src/vs/editor/contrib/peekView/browser/peekView.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_browser_menuEntryActionViewItem__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/browser/menuEntryActionViewItem */ "./node_modules/vscode/vscode/src/vs/platform/actions/browser/menuEntryActionViewItem.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions.service */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.service.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey.service */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! vscode/vscode/vs/platform/list/browser/listService */ "./node_modules/vscode/vscode/src/vs/platform/list/browser/listService.js");
/* harmony import */ var vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! vscode/vscode/vs/platform/storage/common/storage.service */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_themeService__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/themeService */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_themeService_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/themeService.service */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.service.js");
/* harmony import */ var _typeHierarchyTree_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./typeHierarchyTree.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/typeHierarchy/browser/typeHierarchyTree.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");


























var TypeHierarchyTreePeekWidget_1;
class LayoutInfo {
    static store(info, storageService) {
        storageService.store('typeHierarchyPeekLayout', JSON.stringify(info), 0 , 1 );
    }
    static retrieve(storageService) {
        const value = storageService.get('typeHierarchyPeekLayout', 0 , '{}');
        const defaultInfo = { ratio: 0.7, height: 17 };
        try {
            return { ...defaultInfo, ...JSON.parse(value) };
        }
        catch {
            return defaultInfo;
        }
    }
    constructor(ratio, height) {
        this.ratio = ratio;
        this.height = height;
    }
}
class TypeHierarchyTree extends vscode_vscode_vs_platform_list_browser_listService__WEBPACK_IMPORTED_MODULE_19__.WorkbenchAsyncDataTree {
}
let TypeHierarchyTreePeekWidget = class TypeHierarchyTreePeekWidget extends vscode_vscode_vs_editor_contrib_peekView_browser_peekView__WEBPACK_IMPORTED_MODULE_12__.PeekViewWidget {
    static { TypeHierarchyTreePeekWidget_1 = this; }
    static { this.TitleMenu = ( (new vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId('typehierarchy/title'))); }
    constructor(editor, _where, _direction, themeService, _peekViewService, _editorService, _textModelService, _storageService, _menuService, _contextKeyService, _instantiationService) {
        super(editor, { showFrame: true, showArrow: true, isResizeable: true, isAccessible: true }, _instantiationService);
        this._where = _where;
        this._direction = _direction;
        this._peekViewService = _peekViewService;
        this._editorService = _editorService;
        this._textModelService = _textModelService;
        this._storageService = _storageService;
        this._menuService = _menuService;
        this._contextKeyService = _contextKeyService;
        this._instantiationService = _instantiationService;
        this._treeViewStates = ( (new Map()));
        this._previewDisposable = ( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_7__.DisposableStore()));
        this.create();
        this._peekViewService.addExclusiveWidget(editor, this);
        this._applyTheme(themeService.getColorTheme());
        this._disposables.add(themeService.onDidColorThemeChange(this._applyTheme, this));
        this._disposables.add(this._previewDisposable);
    }
    dispose() {
        LayoutInfo.store(this._layoutInfo, this._storageService);
        this._splitView.dispose();
        this._tree.dispose();
        this._editor.dispose();
        super.dispose();
    }
    get direction() {
        return this._direction;
    }
    _applyTheme(theme) {
        const borderColor = theme.getColor(vscode_vscode_vs_editor_contrib_peekView_browser_peekView__WEBPACK_IMPORTED_MODULE_12__.peekViewBorder) || vscode_vscode_vs_base_common_color__WEBPACK_IMPORTED_MODULE_5__.Color.transparent;
        this.style({
            arrowColor: borderColor,
            frameColor: borderColor,
            headerBackgroundColor: theme.getColor(vscode_vscode_vs_editor_contrib_peekView_browser_peekView__WEBPACK_IMPORTED_MODULE_12__.peekViewTitleBackground) || vscode_vscode_vs_base_common_color__WEBPACK_IMPORTED_MODULE_5__.Color.transparent,
            primaryHeadingColor: theme.getColor(vscode_vscode_vs_editor_contrib_peekView_browser_peekView__WEBPACK_IMPORTED_MODULE_12__.peekViewTitleForeground),
            secondaryHeadingColor: theme.getColor(vscode_vscode_vs_editor_contrib_peekView_browser_peekView__WEBPACK_IMPORTED_MODULE_12__.peekViewTitleInfoForeground)
        });
    }
    _fillHead(container) {
        super._fillHead(container, true);
        const menu = this._menuService.createMenu(TypeHierarchyTreePeekWidget_1.TitleMenu, this._contextKeyService);
        const updateToolbar = () => {
            const actions = [];
            (0,vscode_vscode_vs_platform_actions_browser_menuEntryActionViewItem__WEBPACK_IMPORTED_MODULE_14__.createAndFillInActionBarActions)(menu, undefined, actions);
            this._actionbarWidget.clear();
            this._actionbarWidget.push(actions, { label: false, icon: true });
        };
        this._disposables.add(menu);
        this._disposables.add(menu.onDidChange(updateToolbar));
        updateToolbar();
    }
    _fillBody(parent) {
        this._layoutInfo = LayoutInfo.retrieve(this._storageService);
        this._dim = ( (new vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_2__.Dimension(0, 0)));
        this._parent = parent;
        parent.classList.add('type-hierarchy');
        const message = document.createElement('div');
        message.classList.add('message');
        parent.appendChild(message);
        this._message = message;
        this._message.tabIndex = 0;
        const container = document.createElement('div');
        container.classList.add('results');
        parent.appendChild(container);
        this._splitView = ( (new vscode_vscode_vs_base_browser_ui_splitview_splitview__WEBPACK_IMPORTED_MODULE_3__.SplitView(container, { orientation: 1  })));
        const editorContainer = document.createElement('div');
        editorContainer.classList.add('editor');
        container.appendChild(editorContainer);
        const editorOptions = {
            scrollBeyondLastLine: false,
            scrollbar: {
                verticalScrollbarSize: 14,
                horizontal: 'auto',
                useShadows: true,
                verticalHasArrows: false,
                horizontalHasArrows: false,
                alwaysConsumeMouseWheel: false
            },
            overviewRulerLanes: 2,
            fixedOverflowWidgets: true,
            minimap: {
                enabled: false
            }
        };
        this._editor = this._instantiationService.createInstance(vscode_vscode_vs_editor_browser_widget_codeEditor_embeddedCodeEditorWidget__WEBPACK_IMPORTED_MODULE_8__.EmbeddedCodeEditorWidget, editorContainer, editorOptions, {}, this.editor);
        const treeContainer = document.createElement('div');
        treeContainer.classList.add('tree');
        container.appendChild(treeContainer);
        const options = {
            sorter: new _typeHierarchyTree_js__WEBPACK_IMPORTED_MODULE_23__.Sorter(),
            accessibilityProvider: new _typeHierarchyTree_js__WEBPACK_IMPORTED_MODULE_23__.AccessibilityProvider(() => this._direction),
            identityProvider: new _typeHierarchyTree_js__WEBPACK_IMPORTED_MODULE_23__.IdentityProvider(() => this._direction),
            expandOnlyOnTwistieClick: true,
            overrideStyles: {
                listBackground: vscode_vscode_vs_editor_contrib_peekView_browser_peekView__WEBPACK_IMPORTED_MODULE_12__.peekViewResultsBackground
            }
        };
        this._tree = this._instantiationService.createInstance(TypeHierarchyTree, 'TypeHierarchyPeek', treeContainer, new _typeHierarchyTree_js__WEBPACK_IMPORTED_MODULE_23__.VirtualDelegate(), [this._instantiationService.createInstance(_typeHierarchyTree_js__WEBPACK_IMPORTED_MODULE_23__.TypeRenderer)], this._instantiationService.createInstance(_typeHierarchyTree_js__WEBPACK_IMPORTED_MODULE_23__.DataSource, () => this._direction), options);
        this._splitView.addView({
            onDidChange: vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_6__.Event.None,
            element: editorContainer,
            minimumSize: 200,
            maximumSize: Number.MAX_VALUE,
            layout: (width) => {
                if (this._dim.height) {
                    this._editor.layout({ height: this._dim.height, width });
                }
            }
        }, vscode_vscode_vs_base_browser_ui_splitview_splitview__WEBPACK_IMPORTED_MODULE_3__.Sizing.Distribute);
        this._splitView.addView({
            onDidChange: vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_6__.Event.None,
            element: treeContainer,
            minimumSize: 100,
            maximumSize: Number.MAX_VALUE,
            layout: (width) => {
                if (this._dim.height) {
                    this._tree.layout(this._dim.height, width);
                }
            }
        }, vscode_vscode_vs_base_browser_ui_splitview_splitview__WEBPACK_IMPORTED_MODULE_3__.Sizing.Distribute);
        this._disposables.add(this._splitView.onDidSashChange(() => {
            if (this._dim.width) {
                this._layoutInfo.ratio = this._splitView.getViewSize(0) / this._dim.width;
            }
        }));
        this._disposables.add(this._tree.onDidChangeFocus(this._updatePreview, this));
        this._disposables.add(this._editor.onMouseDown(e => {
            const { event, target } = e;
            if (event.detail !== 2) {
                return;
            }
            const [focus] = this._tree.getFocus();
            if (!focus) {
                return;
            }
            this.dispose();
            this._editorService.openEditor({
                resource: focus.item.uri,
                options: { selection: target.range }
            });
        }));
        this._disposables.add(this._tree.onMouseDblClick(e => {
            if (e.target === vscode_vscode_vs_base_browser_ui_tree_tree__WEBPACK_IMPORTED_MODULE_4__.TreeMouseEventTarget.Twistie) {
                return;
            }
            if (e.element) {
                this.dispose();
                this._editorService.openEditor({
                    resource: e.element.item.uri,
                    options: { selection: e.element.item.selectionRange, pinned: true }
                });
            }
        }));
        this._disposables.add(this._tree.onDidChangeSelection(e => {
            const [element] = e.elements;
            if (element && (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_2__.isKeyboardEvent)(e.browserEvent)) {
                this.dispose();
                this._editorService.openEditor({
                    resource: element.item.uri,
                    options: { selection: element.item.selectionRange, pinned: true }
                });
            }
        }));
    }
    async _updatePreview() {
        const [element] = this._tree.getFocus();
        if (!element) {
            return;
        }
        this._previewDisposable.clear();
        const options = {
            description: 'type-hierarchy-decoration',
            stickiness: 1 ,
            className: 'type-decoration',
            overviewRuler: {
                color: (0,vscode_vscode_vs_platform_theme_common_themeService__WEBPACK_IMPORTED_MODULE_21__.themeColorFromId)(vscode_vscode_vs_editor_contrib_peekView_browser_peekView__WEBPACK_IMPORTED_MODULE_12__.peekViewEditorMatchHighlight),
                position: vscode_vscode_vs_editor_common_model__WEBPACK_IMPORTED_MODULE_10__.OverviewRulerLane.Center
            },
        };
        let previewUri;
        if (this._direction === "supertypes" ) {
            previewUri = element.parent ? element.parent.item.uri : element.model.root.uri;
        }
        else {
            previewUri = element.item.uri;
        }
        const value = await this._textModelService.createModelReference(previewUri);
        this._editor.setModel(value.object.textEditorModel);
        const decorations = [];
        let fullRange;
        const loc = { uri: element.item.uri, range: element.item.selectionRange };
        if (( (loc.uri.toString())) === ( (previewUri.toString()))) {
            decorations.push({ range: loc.range, options });
            fullRange = !fullRange ? loc.range : vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_9__.Range.plusRange(loc.range, fullRange);
        }
        if (fullRange) {
            this._editor.revealRangeInCenter(fullRange, 1 );
            const decorationsCollection = this._editor.createDecorationsCollection(decorations);
            this._previewDisposable.add((0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_7__.toDisposable)(() => decorationsCollection.clear()));
        }
        this._previewDisposable.add(value);
        const title = this._direction === "supertypes"
            ? ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_13__.localize)(9635, "Supertypes of '{0}'", element.model.root.name))
            : ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_13__.localize)(9636, "Subtypes of '{0}'", element.model.root.name));
        this.setTitle(title);
    }
    showLoading() {
        this._parent.dataset['state'] = "loading" ;
        this.setTitle(( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_13__.localize)(9637, "Loading...")));
        this._show();
    }
    showMessage(message) {
        this._parent.dataset['state'] = "message" ;
        this.setTitle('');
        this.setMetaTitle('');
        this._message.innerText = message;
        this._show();
        this._message.focus();
    }
    async showModel(model) {
        this._show();
        const viewState = this._treeViewStates.get(this._direction);
        await this._tree.setInput(model, viewState);
        const root = this._tree.getNode(model).children[0];
        await this._tree.expand(root.element);
        if (root.children.length === 0) {
            this.showMessage(this._direction === "supertypes"
                ? ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_13__.localize)(9638, "No supertypes of '{0}'", model.root.name))
                : ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_13__.localize)(9639, "No subtypes of '{0}'", model.root.name)));
        }
        else {
            this._parent.dataset['state'] = "data" ;
            if (!viewState || this._tree.getFocus().length === 0) {
                this._tree.setFocus([root.children[0].element]);
            }
            this._tree.domFocus();
            this._updatePreview();
        }
    }
    getModel() {
        return this._tree.getInput();
    }
    getFocused() {
        return this._tree.getFocus()[0];
    }
    async updateDirection(newDirection) {
        const model = this._tree.getInput();
        if (model && newDirection !== this._direction) {
            this._treeViewStates.set(this._direction, this._tree.getViewState());
            this._direction = newDirection;
            await this.showModel(model);
        }
    }
    _show() {
        if (!this._isShowing) {
            this.editor.revealLineInCenterIfOutsideViewport(this._where.lineNumber, 0 );
            super.show(vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_9__.Range.fromPositions(this._where), this._layoutInfo.height);
        }
    }
    _onWidth(width) {
        if (this._dim) {
            this._doLayoutBody(this._dim.height, width);
        }
    }
    _doLayoutBody(height, width) {
        if (this._dim.height !== height || this._dim.width !== width) {
            super._doLayoutBody(height, width);
            this._dim = ( (new vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_2__.Dimension(width, height)));
            this._layoutInfo.height = this._viewZone ? this._viewZone.heightInLines : this._layoutInfo.height;
            this._splitView.layout(width);
            this._splitView.resizeView(0, width * this._layoutInfo.ratio);
        }
    }
};
TypeHierarchyTreePeekWidget = TypeHierarchyTreePeekWidget_1 = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_platform_theme_common_themeService_service__WEBPACK_IMPORTED_MODULE_22__.IThemeService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_editor_contrib_peekView_browser_peekView__WEBPACK_IMPORTED_MODULE_12__.IPeekViewService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_24__.IEditorService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, vscode_vscode_vs_editor_common_services_resolverService__WEBPACK_IMPORTED_MODULE_11__.ITextModelService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_20__.IStorageService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, vscode_vscode_vs_platform_actions_common_actions_service__WEBPACK_IMPORTED_MODULE_16__.IMenuService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_17__.IContextKeyService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_18__.IInstantiationService)))
], TypeHierarchyTreePeekWidget)));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/typeHierarchy/browser/typeHierarchyTree.js":
/*!*******************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/typeHierarchy/browser/typeHierarchyTree.js ***!
  \*******************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AccessibilityProvider: () => (/* binding */ AccessibilityProvider),
/* harmony export */   DataSource: () => (/* binding */ DataSource),
/* harmony export */   IdentityProvider: () => (/* binding */ IdentityProvider),
/* harmony export */   Sorter: () => (/* binding */ Sorter),
/* harmony export */   Type: () => (/* binding */ Type),
/* harmony export */   TypeRenderer: () => (/* binding */ TypeRenderer),
/* harmony export */   VirtualDelegate: () => (/* binding */ VirtualDelegate)
/* harmony export */ });
/* harmony import */ var vscode_vscode_vs_workbench_contrib_typeHierarchy_common_typeHierarchy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/typeHierarchy/common/typeHierarchy */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/typeHierarchy/common/typeHierarchy.js");
/* harmony import */ var vscode_vscode_vs_base_common_cancellation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/common/cancellation */ "./node_modules/vscode/vscode/src/vs/base/common/cancellation.js");
/* harmony import */ var vscode_vscode_vs_base_common_filters__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/common/filters */ "./node_modules/vscode/vscode/src/vs/base/common/filters.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_iconLabel_iconLabel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/iconLabel/iconLabel */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/iconLabel/iconLabel.js");
/* harmony import */ var vscode_vscode_vs_editor_common_languages__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/languages */ "./node_modules/vscode/vscode/src/vs/editor/common/languages.js");
/* harmony import */ var vscode_vscode_vs_base_common_strings__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/base/common/strings */ "./node_modules/vscode/vscode/src/vs/base/common/strings.js");
/* harmony import */ var vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/core/range */ "./node_modules/vscode/vscode/src/vs/editor/common/core/range.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_base_common_themables__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/base/common/themables */ "./node_modules/vscode/vscode/src/vs/base/common/themables.js");










class Type {
    constructor(item, model, parent) {
        this.item = item;
        this.model = model;
        this.parent = parent;
    }
    static compare(a, b) {
        let res = (0,vscode_vscode_vs_base_common_strings__WEBPACK_IMPORTED_MODULE_5__.compare)(( (a.item.uri.toString())), ( (b.item.uri.toString())));
        if (res === 0) {
            res = vscode_vscode_vs_editor_common_core_range__WEBPACK_IMPORTED_MODULE_6__.Range.compareRangesUsingStarts(a.item.range, b.item.range);
        }
        return res;
    }
}
class DataSource {
    constructor(getDirection) {
        this.getDirection = getDirection;
    }
    hasChildren() {
        return true;
    }
    async getChildren(element) {
        if (element instanceof vscode_vscode_vs_workbench_contrib_typeHierarchy_common_typeHierarchy__WEBPACK_IMPORTED_MODULE_0__.TypeHierarchyModel) {
            return (
                 (element.roots.map(root => ( (new Type(root, element, undefined)))))
            );
        }
        const { model, item } = element;
        if (this.getDirection() === "supertypes" ) {
            return (
                 ((await model.provideSupertypes(item, vscode_vscode_vs_base_common_cancellation__WEBPACK_IMPORTED_MODULE_1__.CancellationToken.None)).map(item => {
                    return (
                         (new Type(item, model, element))
                    );
                }))
            );
        }
        else {
            return (
                 ((await model.provideSubtypes(item, vscode_vscode_vs_base_common_cancellation__WEBPACK_IMPORTED_MODULE_1__.CancellationToken.None)).map(item => {
                    return (
                         (new Type(item, model, element))
                    );
                }))
            );
        }
    }
}
class Sorter {
    compare(element, otherElement) {
        return Type.compare(element, otherElement);
    }
}
class IdentityProvider {
    constructor(getDirection) {
        this.getDirection = getDirection;
    }
    getId(element) {
        let res = this.getDirection() + JSON.stringify(element.item.uri) + JSON.stringify(element.item.range);
        if (element.parent) {
            res += this.getId(element.parent);
        }
        return res;
    }
}
class TypeRenderingTemplate {
    constructor(icon, label) {
        this.icon = icon;
        this.label = label;
    }
}
class TypeRenderer {
    constructor() {
        this.templateId = TypeRenderer.id;
    }
    static { this.id = 'TypeRenderer'; }
    renderTemplate(container) {
        container.classList.add('typehierarchy-element');
        const icon = document.createElement('div');
        container.appendChild(icon);
        const label = ( (new vscode_vscode_vs_base_browser_ui_iconLabel_iconLabel__WEBPACK_IMPORTED_MODULE_3__.IconLabel(container, { supportHighlights: true })));
        return (
             (new TypeRenderingTemplate(icon, label))
        );
    }
    renderElement(node, _index, template) {
        const { element, filterData } = node;
        const deprecated = element.item.tags?.includes(1 );
        template.icon.classList.add('inline', ...vscode_vscode_vs_base_common_themables__WEBPACK_IMPORTED_MODULE_8__.ThemeIcon.asClassNameArray(vscode_vscode_vs_editor_common_languages__WEBPACK_IMPORTED_MODULE_4__.SymbolKinds.toIcon(element.item.kind)));
        template.label.setLabel(element.item.name, element.item.detail, { labelEscapeNewLines: true, matches: (0,vscode_vscode_vs_base_common_filters__WEBPACK_IMPORTED_MODULE_2__.createMatches)(filterData), strikethrough: deprecated });
    }
    disposeTemplate(template) {
        template.label.dispose();
    }
}
class VirtualDelegate {
    getHeight(_element) {
        return 22;
    }
    getTemplateId(_element) {
        return TypeRenderer.id;
    }
}
class AccessibilityProvider {
    constructor(getDirection) {
        this.getDirection = getDirection;
    }
    getWidgetAriaLabel() {
        return ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(11359, "Type Hierarchy"));
    }
    getAriaLabel(element) {
        if (this.getDirection() === "supertypes" ) {
            return ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(11360, "supertypes of {0}", element.item.name));
        }
        else {
            return ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_7__.localize)(11361, "subtypes of {0}", element.item.name));
        }
    }
}




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/webview/browser/overlayWebview.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/webview/browser/overlayWebview.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OverlayWebview: () => (/* binding */ OverlayWebview)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/dom */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var vscode_vscode_vs_base_browser_fastDomNode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/fastDomNode */ "./node_modules/vscode/vscode/src/vs/base/browser/fastDomNode.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_base_common_uuid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/base/common/uuid */ "./node_modules/vscode/vscode/src/vs/base/common/uuid.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey.service */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_layout_browser_layoutService_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/layout/browser/layoutService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/layout/browser/layoutService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_webview_browser_webview__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/webview/browser/webview */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/webview/browser/webview.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_webview_browser_webview_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/webview/browser/webview.service */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/webview/browser/webview.service.js");











let OverlayWebview = class OverlayWebview extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__.Disposable {
    get window() { return (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__.getWindowById)(this._windowId, true).window; }
    constructor(initInfo, _layoutService, _webviewService, _baseContextKeyService) {
        super();
        this._layoutService = _layoutService;
        this._webviewService = _webviewService;
        this._baseContextKeyService = _baseContextKeyService;
        this._isFirstLoad = true;
        this._firstLoadPendingMessages = ( new Set());
        this._webview = this._register(( new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__.MutableDisposable()));
        this._webviewEvents = this._register(( new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__.DisposableStore()));
        this._html = '';
        this._initialScrollProgress = 0;
        this._state = undefined;
        this._owner = undefined;
        this._windowId = undefined;
        this._scopedContextKeyService = this._register(( new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__.MutableDisposable()));
        this._shouldShowFindWidgetOnRestore = false;
        this._isDisposed = false;
        this._onDidDispose = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__.Emitter()));
        this.onDidDispose = this._onDidDispose.event;
        this._onDidFocus = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__.Emitter()));
        this.onDidFocus = this._onDidFocus.event;
        this._onDidBlur = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__.Emitter()));
        this.onDidBlur = this._onDidBlur.event;
        this._onDidClickLink = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__.Emitter()));
        this.onDidClickLink = this._onDidClickLink.event;
        this._onDidReload = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__.Emitter()));
        this.onDidReload = this._onDidReload.event;
        this._onDidScroll = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__.Emitter()));
        this.onDidScroll = this._onDidScroll.event;
        this._onDidUpdateState = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__.Emitter()));
        this.onDidUpdateState = this._onDidUpdateState.event;
        this._onMessage = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__.Emitter()));
        this.onMessage = this._onMessage.event;
        this._onMissingCsp = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__.Emitter()));
        this.onMissingCsp = this._onMissingCsp.event;
        this._onDidWheel = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__.Emitter()));
        this.onDidWheel = this._onDidWheel.event;
        this._onFatalError = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__.Emitter()));
        this.onFatalError = this._onFatalError.event;
        this.providedViewType = initInfo.providedViewType;
        this.origin = initInfo.origin ?? (0,vscode_vscode_vs_base_common_uuid__WEBPACK_IMPORTED_MODULE_5__.generateUuid)();
        this._title = initInfo.title;
        this._extension = initInfo.extension;
        this._options = initInfo.options;
        this._contentOptions = initInfo.contentOptions;
    }
    get isFocused() {
        return !!this._webview.value?.isFocused;
    }
    dispose() {
        this._isDisposed = true;
        this._container?.domNode.remove();
        this._container = undefined;
        for (const msg of this._firstLoadPendingMessages) {
            msg.resolve(false);
        }
        this._firstLoadPendingMessages.clear();
        this._onDidDispose.fire();
        super.dispose();
    }
    get container() {
        if (this._isDisposed) {
            throw ( new Error(`OverlayWebview has been disposed`));
        }
        if (!this._container) {
            const node = document.createElement('div');
            node.style.position = 'absolute';
            node.style.overflow = 'hidden';
            this._container = ( new vscode_vscode_vs_base_browser_fastDomNode__WEBPACK_IMPORTED_MODULE_2__.FastDomNode(node));
            this._container.setVisibility('hidden');
            this._layoutService.getContainer(this.window).appendChild(node);
        }
        return this._container.domNode;
    }
    claim(owner, targetWindow, scopedContextKeyService) {
        if (this._isDisposed) {
            return;
        }
        const oldOwner = this._owner;
        if (this._windowId !== targetWindow.vscodeWindowId) {
            this.release(oldOwner);
            this._webview.clear();
            this._webviewEvents.clear();
            this._container?.domNode.remove();
            this._container = undefined;
        }
        this._owner = owner;
        this._windowId = targetWindow.vscodeWindowId;
        this._show(targetWindow);
        if (oldOwner !== owner) {
            const contextKeyService = (scopedContextKeyService || this._baseContextKeyService);
            this._scopedContextKeyService.clear();
            this._scopedContextKeyService.value = contextKeyService.createScoped(this.container);
            const wasFindVisible = this._findWidgetVisible?.get();
            this._findWidgetVisible?.reset();
            this._findWidgetVisible = vscode_vscode_vs_workbench_contrib_webview_browser_webview__WEBPACK_IMPORTED_MODULE_8__.KEYBINDING_CONTEXT_WEBVIEW_FIND_WIDGET_VISIBLE.bindTo(contextKeyService);
            this._findWidgetVisible.set(!!wasFindVisible);
            this._findWidgetEnabled?.reset();
            this._findWidgetEnabled = vscode_vscode_vs_workbench_contrib_webview_browser_webview__WEBPACK_IMPORTED_MODULE_8__.KEYBINDING_CONTEXT_WEBVIEW_FIND_WIDGET_ENABLED.bindTo(contextKeyService);
            this._findWidgetEnabled.set(!!this.options.enableFindWidget);
            this._webview.value?.setContextKeyService(this._scopedContextKeyService.value);
        }
    }
    release(owner) {
        if (this._owner !== owner) {
            return;
        }
        this._scopedContextKeyService.clear();
        this._owner = undefined;
        if (this._container) {
            this._container.setVisibility('hidden');
        }
        if (this._options.retainContextWhenHidden) {
            this._shouldShowFindWidgetOnRestore = !!this._findWidgetVisible?.get();
            this.hideFind(false);
        }
        else {
            this._webview.clear();
            this._webviewEvents.clear();
        }
    }
    layoutWebviewOverElement(element, dimension, clippingContainer) {
        if (!this._container || !this._container.domNode.parentElement) {
            return;
        }
        const whenContainerStylesLoaded = this._layoutService.whenContainerStylesLoaded(this.window);
        if (whenContainerStylesLoaded) {
            whenContainerStylesLoaded.then(() => this.doLayoutWebviewOverElement(element, dimension, clippingContainer));
        }
        else {
            this.doLayoutWebviewOverElement(element, dimension, clippingContainer);
        }
    }
    doLayoutWebviewOverElement(element, dimension, clippingContainer) {
        if (!this._container || !this._container.domNode.parentElement) {
            return;
        }
        const frameRect = element.getBoundingClientRect();
        const containerRect = this._container.domNode.parentElement.getBoundingClientRect();
        const parentBorderTop = (containerRect.height - this._container.domNode.parentElement.clientHeight) / 2.0;
        const parentBorderLeft = (containerRect.width - this._container.domNode.parentElement.clientWidth) / 2.0;
        this._container.setTop(frameRect.top - containerRect.top - parentBorderTop);
        this._container.setLeft(frameRect.left - containerRect.left - parentBorderLeft);
        this._container.setWidth(dimension ? dimension.width : frameRect.width);
        this._container.setHeight(dimension ? dimension.height : frameRect.height);
        if (clippingContainer) {
            const { top, left, right, bottom } = computeClippingRect(frameRect, clippingContainer);
            this._container.domNode.style.clipPath = `polygon(${left}px ${top}px, ${right}px ${top}px, ${right}px ${bottom}px, ${left}px ${bottom}px)`;
        }
    }
    _show(targetWindow) {
        if (this._isDisposed) {
            throw ( new Error('OverlayWebview is disposed'));
        }
        if (!this._webview.value) {
            const webview = this._webviewService.createWebviewElement({
                providedViewType: this.providedViewType,
                origin: this.origin,
                title: this._title,
                options: this._options,
                contentOptions: this._contentOptions,
                extension: this.extension,
            });
            this._webview.value = webview;
            webview.state = this._state;
            if (this._scopedContextKeyService.value) {
                this._webview.value.setContextKeyService(this._scopedContextKeyService.value);
            }
            if (this._html) {
                webview.setHtml(this._html);
            }
            if (this._options.tryRestoreScrollPosition) {
                webview.initialScrollProgress = this._initialScrollProgress;
            }
            this._findWidgetEnabled?.set(!!this.options.enableFindWidget);
            webview.mountTo(this.container, targetWindow);
            this._webviewEvents.clear();
            this._webviewEvents.add(webview.onDidFocus(() => { this._onDidFocus.fire(); }));
            this._webviewEvents.add(webview.onDidBlur(() => { this._onDidBlur.fire(); }));
            this._webviewEvents.add(webview.onDidClickLink(x => { this._onDidClickLink.fire(x); }));
            this._webviewEvents.add(webview.onMessage(x => { this._onMessage.fire(x); }));
            this._webviewEvents.add(webview.onMissingCsp(x => { this._onMissingCsp.fire(x); }));
            this._webviewEvents.add(webview.onDidWheel(x => { this._onDidWheel.fire(x); }));
            this._webviewEvents.add(webview.onDidReload(() => { this._onDidReload.fire(); }));
            this._webviewEvents.add(webview.onFatalError(x => { this._onFatalError.fire(x); }));
            this._webviewEvents.add(webview.onDidScroll(x => {
                this._initialScrollProgress = x.scrollYPercentage;
                this._onDidScroll.fire(x);
            }));
            this._webviewEvents.add(webview.onDidUpdateState(state => {
                this._state = state;
                this._onDidUpdateState.fire(state);
            }));
            if (this._isFirstLoad) {
                this._firstLoadPendingMessages.forEach(async (msg) => {
                    msg.resolve(await webview.postMessage(msg.message, msg.transfer));
                });
            }
            this._isFirstLoad = false;
            this._firstLoadPendingMessages.clear();
        }
        if (this.options.retainContextWhenHidden && this._shouldShowFindWidgetOnRestore) {
            this.showFind(false);
            this._shouldShowFindWidgetOnRestore = false;
        }
        this._container?.setVisibility('visible');
    }
    setHtml(html) {
        this._html = html;
        this._withWebview(webview => webview.setHtml(html));
    }
    setTitle(title) {
        this._title = title;
        this._withWebview(webview => webview.setTitle(title));
    }
    get initialScrollProgress() { return this._initialScrollProgress; }
    set initialScrollProgress(value) {
        this._initialScrollProgress = value;
        this._withWebview(webview => webview.initialScrollProgress = value);
    }
    get state() { return this._state; }
    set state(value) {
        this._state = value;
        this._withWebview(webview => webview.state = value);
    }
    get extension() { return this._extension; }
    set extension(value) {
        this._extension = value;
        this._withWebview(webview => webview.extension = value);
    }
    get options() { return this._options; }
    set options(value) { this._options = { customClasses: this._options.customClasses, ...value }; }
    get contentOptions() { return this._contentOptions; }
    set contentOptions(value) {
        this._contentOptions = value;
        this._withWebview(webview => webview.contentOptions = value);
    }
    set localResourcesRoot(resources) {
        this._withWebview(webview => webview.localResourcesRoot = resources);
    }
    async postMessage(message, transfer) {
        if (this._webview.value) {
            return this._webview.value.postMessage(message, transfer);
        }
        if (this._isFirstLoad) {
            let resolve;
            const p = ( new Promise(r => resolve = r));
            this._firstLoadPendingMessages.add({ message, transfer, resolve: resolve });
            return p;
        }
        return false;
    }
    focus() { this._webview.value?.focus(); }
    reload() { this._webview.value?.reload(); }
    selectAll() { this._webview.value?.selectAll(); }
    copy() { this._webview.value?.copy(); }
    paste() { this._webview.value?.paste(); }
    cut() { this._webview.value?.cut(); }
    undo() { this._webview.value?.undo(); }
    redo() { this._webview.value?.redo(); }
    showFind(animated = true) {
        if (this._webview.value) {
            this._webview.value.showFind(animated);
            this._findWidgetVisible?.set(true);
        }
    }
    hideFind(animated = true) {
        this._findWidgetVisible?.reset();
        this._webview.value?.hideFind(animated);
    }
    runFindAction(previous) { this._webview.value?.runFindAction(previous); }
    _withWebview(f) {
        if (this._webview.value) {
            f(this._webview.value);
        }
    }
    windowDidDragStart() {
        this._webview.value?.windowDidDragStart();
    }
    windowDidDragEnd() {
        this._webview.value?.windowDidDragEnd();
    }
    setContextKeyService(contextKeyService) {
        this._webview.value?.setContextKeyService(contextKeyService);
    }
};
OverlayWebview = ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_workbench_services_layout_browser_layoutService_service__WEBPACK_IMPORTED_MODULE_7__.IWorkbenchLayoutService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_workbench_contrib_webview_browser_webview_service__WEBPACK_IMPORTED_MODULE_9__.IWebviewService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_6__.IContextKeyService))
], OverlayWebview));
function computeClippingRect(frameRect, clipper) {
    const rootRect = clipper.getBoundingClientRect();
    const top = Math.max(rootRect.top - frameRect.top, 0);
    const right = Math.max(frameRect.width - (frameRect.right - rootRect.right), 0);
    const bottom = Math.max(frameRect.height - (frameRect.bottom - rootRect.bottom), 0);
    const left = Math.max(rootRect.left - frameRect.left, 0);
    return { top, right, bottom, left };
}




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/webview/browser/resourceLoading.js":
/*!***********************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/webview/browser/resourceLoading.js ***!
  \***********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WebviewResourceResponse: () => (/* binding */ WebviewResourceResponse),
/* harmony export */   loadLocalResource: () => (/* binding */ loadLocalResource)
/* harmony export */ });
/* harmony import */ var vscode_vscode_vs_base_common_extpath__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/base/common/extpath */ "./node_modules/vscode/vscode/src/vs/base/common/extpath.js");
/* harmony import */ var vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/common/network */ "./node_modules/vscode/vscode/src/vs/base/common/network.js");
/* harmony import */ var vscode_vscode_vs_base_common_path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/common/path */ "./node_modules/vscode/vscode/src/vs/base/common/path.js");
/* harmony import */ var vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/common/uri */ "./node_modules/vscode/vscode/src/vs/base/common/uri.js");
/* harmony import */ var vscode_vscode_vs_platform_files_common_files__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/platform/files/common/files */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.js");
/* harmony import */ var _platform_webview_common_mimeTypes_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../platform/webview/common/mimeTypes.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/platform/webview/common/mimeTypes.js");







var WebviewResourceResponse;
( (function(WebviewResourceResponse) {
    let Type;
    ( (function(Type) {
        Type[Type["Success"] = 0] = "Success";
        Type[Type["Failed"] = 1] = "Failed";
        Type[Type["AccessDenied"] = 2] = "AccessDenied";
        Type[Type["NotModified"] = 3] = "NotModified";
    })(Type = WebviewResourceResponse.Type || (WebviewResourceResponse.Type = {})));
    class StreamSuccess {
        constructor(stream, etag, mtime, mimeType) {
            this.stream = stream;
            this.etag = etag;
            this.mtime = mtime;
            this.mimeType = mimeType;
            this.type = Type.Success;
        }
    }
    WebviewResourceResponse.StreamSuccess = StreamSuccess;
    WebviewResourceResponse.Failed = { type: Type.Failed };
    WebviewResourceResponse.AccessDenied = { type: Type.AccessDenied };
    class NotModified {
        constructor(mimeType, mtime) {
            this.mimeType = mimeType;
            this.mtime = mtime;
            this.type = Type.NotModified;
        }
    }
    WebviewResourceResponse.NotModified = NotModified;
})(WebviewResourceResponse || (WebviewResourceResponse = {})));
async function loadLocalResource(requestUri, options, fileService, logService, token) {
    logService.debug(`loadLocalResource - begin. requestUri=${requestUri}`);
    const resourceToLoad = getResourceToLoad(requestUri, options.roots);
    logService.debug(`loadLocalResource - found resource to load. requestUri=${requestUri}, resourceToLoad=${resourceToLoad}`);
    if (!resourceToLoad) {
        return WebviewResourceResponse.AccessDenied;
    }
    const mime = (0,_platform_webview_common_mimeTypes_js__WEBPACK_IMPORTED_MODULE_5__.getWebviewContentMimeType)(requestUri);
    try {
        const result = await fileService.readFileStream(resourceToLoad, { etag: options.ifNoneMatch }, token);
        return new WebviewResourceResponse.StreamSuccess(result.value, result.etag, result.mtime, mime);
    }
    catch (err) {
        if (err instanceof vscode_vscode_vs_platform_files_common_files__WEBPACK_IMPORTED_MODULE_4__.FileOperationError) {
            const result = err.fileOperationResult;
            if (result === 2 ) {
                return new WebviewResourceResponse.NotModified(mime, err.options?.mtime);
            }
        }
        logService.debug(`loadLocalResource - Error using fileReader. requestUri=${requestUri}`);
        console.log(err);
        return WebviewResourceResponse.Failed;
    }
}
function getResourceToLoad(requestUri, roots) {
    for (const root of roots) {
        if (containsResource(root, requestUri)) {
            return normalizeResourcePath(requestUri);
        }
    }
    return undefined;
}
function containsResource(root, resource) {
    if (root.scheme !== resource.scheme) {
        return false;
    }
    let resourceFsPath = (0,vscode_vscode_vs_base_common_path__WEBPACK_IMPORTED_MODULE_2__.normalize)(resource.fsPath);
    let rootPath = (0,vscode_vscode_vs_base_common_path__WEBPACK_IMPORTED_MODULE_2__.normalize)(root.fsPath + (root.fsPath.endsWith(vscode_vscode_vs_base_common_path__WEBPACK_IMPORTED_MODULE_2__.sep) ? '' : vscode_vscode_vs_base_common_path__WEBPACK_IMPORTED_MODULE_2__.sep));
    if ((0,vscode_vscode_vs_base_common_extpath__WEBPACK_IMPORTED_MODULE_0__.isUNC)(root.fsPath) && (0,vscode_vscode_vs_base_common_extpath__WEBPACK_IMPORTED_MODULE_0__.isUNC)(resource.fsPath)) {
        rootPath = rootPath.toLowerCase();
        resourceFsPath = resourceFsPath.toLowerCase();
    }
    return resourceFsPath.startsWith(rootPath);
}
function normalizeResourcePath(resource) {
    if (resource.scheme === vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_1__.Schemas.vscodeRemote) {
        return ( vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_3__.URI.from({
            scheme: vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_1__.Schemas.vscodeRemote,
            authority: resource.authority,
            path: '/vscode-resource',
            query: JSON.stringify({
                requestResourcePath: resource.path
            })
        }));
    }
    return resource;
}




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/webview/browser/themeing.js":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/webview/browser/themeing.js ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WebviewThemeDataProvider: () => (/* binding */ WebviewThemeDataProvider)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_base_browser_fonts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/fonts */ "./node_modules/vscode/vscode/src/vs/base/browser/fonts.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_editor_common_config_editorOptions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/config/editorOptions */ "./node_modules/vscode/vscode/src/vs/editor/common/config/editorOptions.js");
/* harmony import */ var vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/platform/configuration/common/configuration.service */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colorUtils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colorUtils */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colorUtils.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_baseColors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/baseColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/baseColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_chartsColors__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/chartsColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/chartsColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_editorColors__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/editorColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/editorColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_inputColors__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/inputColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/inputColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_listColors__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/listColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/listColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_menuColors__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/menuColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/menuColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_minimapColors__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/minimapColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/minimapColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_miscColors__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/miscColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/miscColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_quickpickColors__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/quickpickColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/quickpickColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_colors_searchColors__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/colors/searchColors */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/searchColors.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_theme__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/theme */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/theme.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_themes_common_workbenchThemeService_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/themes/common/workbenchThemeService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/themes/common/workbenchThemeService.service.js");




















let WebviewThemeDataProvider = class WebviewThemeDataProvider extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__.Disposable {
    constructor(_themeService, _configurationService) {
        super();
        this._themeService = _themeService;
        this._configurationService = _configurationService;
        this._cachedWebViewThemeData = undefined;
        this._onThemeDataChanged = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_2__.Emitter()));
        this.onThemeDataChanged = this._onThemeDataChanged.event;
        this._register(this._themeService.onDidColorThemeChange(() => {
            this._reset();
        }));
        const webviewConfigurationKeys = ['editor.fontFamily', 'editor.fontWeight', 'editor.fontSize', 'accessibility.underlineLinks'];
        this._register(this._configurationService.onDidChangeConfiguration(e => {
            if (( webviewConfigurationKeys.some(key => e.affectsConfiguration(key)))) {
                this._reset();
            }
        }));
    }
    getTheme() {
        return this._themeService.getColorTheme();
    }
    getWebviewThemeData() {
        if (!this._cachedWebViewThemeData) {
            const configuration = this._configurationService.getValue('editor');
            const editorFontFamily = configuration.fontFamily || vscode_vscode_vs_editor_common_config_editorOptions__WEBPACK_IMPORTED_MODULE_4__.EDITOR_FONT_DEFAULTS.fontFamily;
            const editorFontWeight = configuration.fontWeight || vscode_vscode_vs_editor_common_config_editorOptions__WEBPACK_IMPORTED_MODULE_4__.EDITOR_FONT_DEFAULTS.fontWeight;
            const editorFontSize = configuration.fontSize || vscode_vscode_vs_editor_common_config_editorOptions__WEBPACK_IMPORTED_MODULE_4__.EDITOR_FONT_DEFAULTS.fontSize;
            const linkUnderlines = this._configurationService.getValue('accessibility.underlineLinks');
            const theme = this._themeService.getColorTheme();
            const exportedColors = (0,vscode_vscode_vs_platform_theme_common_colorUtils__WEBPACK_IMPORTED_MODULE_6__.getColorRegistry)().getColors().reduce((colors, entry) => {
                const color = theme.getColor(entry.id);
                if (color) {
                    colors['vscode-' + entry.id.replace('.', '-')] = ( color.toString());
                }
                return colors;
            }, {});
            const styles = {
                'vscode-font-family': vscode_vscode_vs_base_browser_fonts__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_FONT_FAMILY,
                'vscode-font-weight': 'normal',
                'vscode-font-size': '13px',
                'vscode-editor-font-family': editorFontFamily,
                'vscode-editor-font-weight': editorFontWeight,
                'vscode-editor-font-size': editorFontSize + 'px',
                'text-link-decoration': linkUnderlines ? 'underline' : 'none',
                ...exportedColors
            };
            const activeTheme = ApiThemeClassName.fromTheme(theme);
            this._cachedWebViewThemeData = { styles, activeTheme, themeLabel: theme.label, themeId: theme.settingsId };
        }
        return this._cachedWebViewThemeData;
    }
    _reset() {
        this._cachedWebViewThemeData = undefined;
        this._onThemeDataChanged.fire();
    }
};
WebviewThemeDataProvider = ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_workbench_services_themes_common_workbenchThemeService_service__WEBPACK_IMPORTED_MODULE_18__.IWorkbenchThemeService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_5__.IConfigurationService))
], WebviewThemeDataProvider));
var ApiThemeClassName;
( (function(ApiThemeClassName) {
    ApiThemeClassName["light"] = "vscode-light";
    ApiThemeClassName["dark"] = "vscode-dark";
    ApiThemeClassName["highContrast"] = "vscode-high-contrast";
    ApiThemeClassName["highContrastLight"] = "vscode-high-contrast-light";
})(ApiThemeClassName || (ApiThemeClassName = {})));
( (function(ApiThemeClassName) {
    function fromTheme(theme) {
        switch (theme.type) {
            case vscode_vscode_vs_platform_theme_common_theme__WEBPACK_IMPORTED_MODULE_17__.ColorScheme.LIGHT: return ApiThemeClassName.light;
            case vscode_vscode_vs_platform_theme_common_theme__WEBPACK_IMPORTED_MODULE_17__.ColorScheme.DARK: return ApiThemeClassName.dark;
            case vscode_vscode_vs_platform_theme_common_theme__WEBPACK_IMPORTED_MODULE_17__.ColorScheme.HIGH_CONTRAST_DARK: return ApiThemeClassName.highContrast;
            case vscode_vscode_vs_platform_theme_common_theme__WEBPACK_IMPORTED_MODULE_17__.ColorScheme.HIGH_CONTRAST_LIGHT: return ApiThemeClassName.highContrastLight;
        }
    }
    ApiThemeClassName.fromTheme = fromTheme;
})(ApiThemeClassName || (ApiThemeClassName = {})));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/webview/browser/webviewElement.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/webview/browser/webviewElement.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WebviewElement: () => (/* binding */ WebviewElement)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_base_browser_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/browser */ "./node_modules/vscode/vscode/src/vs/base/browser/browser.js");
/* harmony import */ var vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/dom */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var vscode_vscode_vs_base_common_async__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/common/async */ "./node_modules/vscode/vscode/src/vs/base/common/async.js");
/* harmony import */ var vscode_vscode_vs_base_common_buffer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/base/common/buffer */ "./node_modules/vscode/vscode/src/vs/base/common/buffer.js");
/* harmony import */ var vscode_vscode_vs_base_common_cancellation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/base/common/cancellation */ "./node_modules/vscode/vscode/src/vs/base/common/cancellation.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/base/common/network */ "./node_modules/vscode/vscode/src/vs/base/common/network.js");
/* harmony import */ var vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/base/common/uri */ "./node_modules/vscode/vscode/src/vs/base/common/uri.js");
/* harmony import */ var vscode_vscode_vs_base_common_uuid__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/base/common/uuid */ "./node_modules/vscode/vscode/src/vs/base/common/uuid.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_platform_accessibility_common_accessibility_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/platform/accessibility/common/accessibility.service */ "./node_modules/vscode/vscode/src/vs/platform/accessibility/common/accessibility.service.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/platform/configuration/common/configuration.service */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var vscode_vscode_vs_platform_contextview_browser_contextView_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextview/browser/contextView.service */ "./node_modules/vscode/vscode/src/vs/platform/contextview/browser/contextView.service.js");
/* harmony import */ var vscode_vscode_vs_platform_files_common_files_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/platform/files/common/files.service */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.service.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_platform_log_common_log_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! vscode/vscode/vs/platform/log/common/log.service */ "./node_modules/vscode/vscode/src/vs/platform/log/common/log.service.js");
/* harmony import */ var vscode_vscode_vs_platform_notification_common_notification_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! vscode/vscode/vs/platform/notification/common/notification.service */ "./node_modules/vscode/vscode/src/vs/platform/notification/common/notification.service.js");
/* harmony import */ var vscode_vscode_vs_platform_remote_common_remoteAuthorityResolver_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! vscode/vscode/vs/platform/remote/common/remoteAuthorityResolver.service */ "./node_modules/vscode/vscode/src/vs/platform/remote/common/remoteAuthorityResolver.service.js");
/* harmony import */ var vscode_vscode_vs_platform_telemetry_common_telemetry_service__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! vscode/vscode/vs/platform/telemetry/common/telemetry.service */ "./node_modules/vscode/vscode/src/vs/platform/telemetry/common/telemetry.service.js");
/* harmony import */ var vscode_vscode_vs_platform_tunnel_common_tunnel_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! vscode/vscode/vs/platform/tunnel/common/tunnel.service */ "./node_modules/vscode/vscode/src/vs/platform/tunnel/common/tunnel.service.js");
/* harmony import */ var _platform_webview_common_webviewPortMapping_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../platform/webview/common/webviewPortMapping.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/platform/webview/common/webviewPortMapping.js");
/* harmony import */ var vscode_vscode_vs_base_browser_iframe__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/iframe */ "./node_modules/vscode/vscode/src/vs/base/browser/iframe.js");
/* harmony import */ var _resourceLoading_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./resourceLoading.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/webview/browser/resourceLoading.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_webview_browser_webview__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/webview/browser/webview */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/webview/browser/webview.js");
/* harmony import */ var _webviewFindWidget_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./webviewFindWidget.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/webview/browser/webviewFindWidget.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_webview_common_webview__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/webview/common/webview */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/webview/common/webview.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_environment_common_environmentService_service__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/environment/common/environmentService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/environment/common/environmentService.service.js");































var WebviewState;
( ((function(WebviewState) {
    ( ((function(Type) {
        Type[Type["Initializing"] = 0] = "Initializing";
        Type[Type["Ready"] = 1] = "Ready";
    })(WebviewState.Type || (WebviewState.Type = {}))));
    class Initializing {
        constructor(pendingMessages) {
            this.pendingMessages = pendingMessages;
            this.type = 0 ;
        }
    }
    WebviewState.Initializing = Initializing;
    WebviewState.Ready = { type: 1  };
})(WebviewState || (WebviewState = {}))));
const webviewIdContext = 'webviewId';
let WebviewElement = class WebviewElement extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_7__.Disposable {
    get window() { return typeof this._windowId === 'number' ? (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_2__.getWindowById)(this._windowId)?.window : undefined; }
    get platform() { return 'browser'; }
    get element() { return this._element; }
    get isFocused() {
        if (!this._focused) {
            return false;
        }
        if (!this.window) {
            return false;
        }
        if (this.window.document.activeElement && this.window.document.activeElement !== this.element) {
            return false;
        }
        return true;
    }
    constructor(initInfo, webviewThemeDataProvider, configurationService, contextMenuService, notificationService, _environmentService, _fileService, _logService, _remoteAuthorityResolverService, _telemetryService, _tunnelService, instantiationService, _accessibilityService) {
        super();
        this.webviewThemeDataProvider = webviewThemeDataProvider;
        this._environmentService = _environmentService;
        this._fileService = _fileService;
        this._logService = _logService;
        this._remoteAuthorityResolverService = _remoteAuthorityResolverService;
        this._telemetryService = _telemetryService;
        this._tunnelService = _tunnelService;
        this._accessibilityService = _accessibilityService;
        this.id = (0,vscode_vscode_vs_base_common_uuid__WEBPACK_IMPORTED_MODULE_10__.generateUuid)();
        this._windowId = undefined;
        this._expectedServiceWorkerVersion = 4;
        this._state = new WebviewState.Initializing([]);
        this._resourceLoadingCts = this._register(( (new vscode_vscode_vs_base_common_cancellation__WEBPACK_IMPORTED_MODULE_5__.CancellationTokenSource())));
        this._focusDelayer = this._register(( (new vscode_vscode_vs_base_common_async__WEBPACK_IMPORTED_MODULE_3__.ThrottledDelayer(50))));
        this._onDidHtmlChange = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_6__.Emitter())));
        this.onDidHtmlChange = this._onDidHtmlChange.event;
        this._messageHandlers = ( (new Map()));
        this.checkImeCompletionState = true;
        this._disposed = false;
        this._onMissingCsp = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_6__.Emitter())));
        this.onMissingCsp = this._onMissingCsp.event;
        this._onDidClickLink = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_6__.Emitter())));
        this.onDidClickLink = this._onDidClickLink.event;
        this._onDidReload = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_6__.Emitter())));
        this.onDidReload = this._onDidReload.event;
        this._onMessage = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_6__.Emitter())));
        this.onMessage = this._onMessage.event;
        this._onDidScroll = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_6__.Emitter())));
        this.onDidScroll = this._onDidScroll.event;
        this._onDidWheel = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_6__.Emitter())));
        this.onDidWheel = this._onDidWheel.event;
        this._onDidUpdateState = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_6__.Emitter())));
        this.onDidUpdateState = this._onDidUpdateState.event;
        this._onDidFocus = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_6__.Emitter())));
        this.onDidFocus = this._onDidFocus.event;
        this._onDidBlur = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_6__.Emitter())));
        this.onDidBlur = this._onDidBlur.event;
        this._onFatalError = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_6__.Emitter())));
        this.onFatalError = this._onFatalError.event;
        this._onDidDispose = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_6__.Emitter())));
        this.onDidDispose = this._onDidDispose.event;
        this._hasAlertedAboutMissingCsp = false;
        this._hasFindResult = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_6__.Emitter())));
        this.hasFindResult = this._hasFindResult.event;
        this._onDidStopFind = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_6__.Emitter())));
        this.onDidStopFind = this._onDidStopFind.event;
        this.providedViewType = initInfo.providedViewType;
        this.origin = initInfo.origin ?? this.id;
        this._options = initInfo.options;
        this.extension = initInfo.extension;
        this._content = {
            html: '',
            title: initInfo.title,
            options: initInfo.contentOptions,
            state: undefined
        };
        this._portMappingManager = this._register(( (new _platform_webview_common_webviewPortMapping_js__WEBPACK_IMPORTED_MODULE_23__.WebviewPortMappingManager(
            () => this.extension?.location,
            () => this._content.options.portMapping || [],
            this._tunnelService
        ))));
        this._element = this._createElement(initInfo.options, initInfo.contentOptions);
        this._register(this.on('no-csp-found', () => {
            this.handleNoCspFound();
        }));
        this._register(this.on('did-click-link', ({ uri }) => {
            this._onDidClickLink.fire(uri);
        }));
        this._register(this.on('onmessage', ({ message, transfer }) => {
            this._onMessage.fire({ message, transfer });
        }));
        this._register(this.on('did-scroll', ({ scrollYPercentage }) => {
            this._onDidScroll.fire({ scrollYPercentage });
        }));
        this._register(this.on('do-reload', () => {
            this.reload();
        }));
        this._register(this.on('do-update-state', (state) => {
            this.state = state;
            this._onDidUpdateState.fire(state);
        }));
        this._register(this.on('did-focus', () => {
            this.handleFocusChange(true);
        }));
        this._register(this.on('did-blur', () => {
            this.handleFocusChange(false);
        }));
        this._register(this.on('did-scroll-wheel', (event) => {
            this._onDidWheel.fire(event);
        }));
        this._register(this.on('did-find', ({ didFind }) => {
            this._hasFindResult.fire(didFind);
        }));
        this._register(this.on('fatal-error', (e) => {
            notificationService.error(( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_11__.localize)(9622, "Error loading webview: {0}", e.message)));
            this._onFatalError.fire({ message: e.message });
        }));
        this._register(this.on('did-keydown', (data) => {
            this.handleKeyEvent('keydown', data);
        }));
        this._register(this.on('did-keyup', (data) => {
            this.handleKeyEvent('keyup', data);
        }));
        this._register(this.on('did-context-menu', (data) => {
            if (!this.element) {
                return;
            }
            if (!this._contextKeyService) {
                return;
            }
            const elementBox = this.element.getBoundingClientRect();
            const contextKeyService = this._contextKeyService.createOverlay([
                ...Object.entries(data.context),
                [webviewIdContext, this.providedViewType],
            ]);
            contextMenuService.showContextMenu({
                menuId: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_13__.MenuId.WebviewContext,
                menuActionOptions: { shouldForwardArgs: true },
                contextKeyService,
                getActionsContext: () => ({ ...data.context, webview: this.providedViewType }),
                getAnchor: () => ({
                    x: elementBox.x + data.clientX,
                    y: elementBox.y + data.clientY
                })
            });
            this._send('set-context-menu-visible', { visible: true });
        }));
        this._register(this.on('load-resource', async (entry) => {
            try {
                const authority = (0,vscode_vscode_vs_workbench_contrib_webview_common_webview__WEBPACK_IMPORTED_MODULE_28__.decodeAuthority)(entry.authority);
                const uri = ( (vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_9__.URI.from({
                    scheme: entry.scheme,
                    authority: authority,
                    path: decodeURIComponent(entry.path),
                    query: entry.query ? decodeURIComponent(entry.query) : entry.query,
                })));
                this.loadResource(entry.id, uri, entry.ifNoneMatch);
            }
            catch (e) {
                this._send('did-load-resource', {
                    id: entry.id,
                    status: 404,
                    path: entry.path,
                });
            }
        }));
        this._register(this.on('load-localhost', (entry) => {
            this.localLocalhost(entry.id, entry.origin);
        }));
        this._register(vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_6__.Event.runAndSubscribe(webviewThemeDataProvider.onThemeDataChanged, () => this.style()));
        this._register(_accessibilityService.onDidChangeReducedMotion(() => this.style()));
        this._register(_accessibilityService.onDidChangeScreenReaderOptimized(() => this.style()));
        this._register(contextMenuService.onDidHideContextMenu(() => this._send('set-context-menu-visible', { visible: false })));
        this._confirmBeforeClose = configurationService.getValue('window.confirmBeforeClose');
        this._register(configurationService.onDidChangeConfiguration(e => {
            if (e.affectsConfiguration('window.confirmBeforeClose')) {
                this._confirmBeforeClose = configurationService.getValue('window.confirmBeforeClose');
                this._send('set-confirm-before-close', this._confirmBeforeClose);
            }
        }));
        this._register(this.on('drag-start', () => {
            this._startBlockingIframeDragEvents();
        }));
        this._register(this.on('drag', (event) => {
            this.handleDragEvent('drag', event);
        }));
        if (initInfo.options.enableFindWidget) {
            this._webviewFindWidget = this._register(instantiationService.createInstance(_webviewFindWidget_js__WEBPACK_IMPORTED_MODULE_27__.WebviewFindWidget, this));
        }
    }
    dispose() {
        this._disposed = true;
        this.element?.remove();
        this._element = undefined;
        this._messagePort = undefined;
        if (this._state.type === 0 ) {
            for (const message of this._state.pendingMessages) {
                message.resolve(false);
            }
            this._state.pendingMessages = [];
        }
        this._onDidDispose.fire();
        this._resourceLoadingCts.dispose(true);
        super.dispose();
    }
    setContextKeyService(contextKeyService) {
        this._contextKeyService = contextKeyService;
    }
    postMessage(message, transfer) {
        return this._send('message', { message, transfer });
    }
    async _send(channel, data, _createElement = []) {
        if (this._state.type === 0 ) {
            const { promise, resolve } = (0,vscode_vscode_vs_base_common_async__WEBPACK_IMPORTED_MODULE_3__.promiseWithResolvers)();
            this._state.pendingMessages.push({ channel, data, transferable: _createElement, resolve });
            return promise;
        }
        else {
            return this.doPostMessage(channel, data, _createElement);
        }
    }
    _createElement(options, _contentOptions) {
        const element = document.createElement('iframe');
        element.name = this.id;
        element.className = `webview ${options.customClasses || ''}`;
        element.sandbox.add('allow-scripts', 'allow-same-origin', 'allow-forms', 'allow-pointer-lock', 'allow-downloads');
        const allowRules = ['cross-origin-isolated', 'autoplay'];
        if (!vscode_vscode_vs_base_browser_browser__WEBPACK_IMPORTED_MODULE_1__.isFirefox) {
            allowRules.push('clipboard-read', 'clipboard-write');
        }
        element.setAttribute('allow', allowRules.join('; '));
        element.style.border = 'none';
        element.style.width = '100%';
        element.style.height = '100%';
        element.focus = () => {
            this._doFocus();
        };
        return element;
    }
    _initElement(encodedWebviewOrigin, extension, options, targetWindow) {
        const params = {
            id: this.id,
            origin: this.origin,
            swVersion: String(this._expectedServiceWorkerVersion),
            extensionId: extension?.id.value ?? '',
            platform: this.platform,
            'vscode-resource-base-authority': vscode_vscode_vs_workbench_contrib_webview_common_webview__WEBPACK_IMPORTED_MODULE_28__.webviewRootResourceAuthority,
            parentOrigin: targetWindow.origin,
        };
        if (this._options.disableServiceWorker) {
            params.disableServiceWorker = 'true';
        }
        if (this._environmentService.remoteAuthority) {
            params.remoteAuthority = this._environmentService.remoteAuthority;
        }
        if (options.purpose) {
            params.purpose = options.purpose;
        }
        params.serviceWorkerUri = ( (( (vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_8__.FileAccess.asBrowserUri('vs/workbench/contrib/webview/browser/pre/service-worker.js'))).toString(true)));
        params.fakeHtmlUri = ( (( (vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_8__.FileAccess.asBrowserUri('vs/workbench/contrib/webview/browser/pre/fake.html'))).toString(true)));
        vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_8__.COI.addSearchParam(params, true, true);
        const queryString = ( (( (new URLSearchParams(params))).toString()));
        const fileName = vscode_vscode_vs_base_browser_browser__WEBPACK_IMPORTED_MODULE_1__.isFirefox ? 'index-no-csp.html' : 'index.html';
        const relativeIframeSrc = ( (vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_8__.FileAccess.asBrowserUri(`vs/workbench/contrib/webview/browser/pre/${fileName}`)));
        this.element.setAttribute('src', `${( (relativeIframeSrc.toString(true)))}?${queryString}`);
    }
    mountTo(element, targetWindow) {
        if (!this.element) {
            return;
        }
        this._windowId = targetWindow.vscodeWindowId;
        this._encodedWebviewOriginPromise = (0,vscode_vscode_vs_base_browser_iframe__WEBPACK_IMPORTED_MODULE_24__.parentOriginHash)(targetWindow.origin, this.origin).then(id => this._encodedWebviewOrigin = id);
        this._encodedWebviewOriginPromise.then(encodedWebviewOrigin => {
            if (!this._disposed) {
                this._initElement(encodedWebviewOrigin, this.extension, this._options, targetWindow);
            }
        });
        this._registerMessageHandler(targetWindow);
        if (this._webviewFindWidget) {
            element.appendChild(this._webviewFindWidget.getDomNode());
        }
        for (const eventName of [vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_2__.EventType.MOUSE_DOWN, vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_2__.EventType.MOUSE_MOVE, vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_2__.EventType.DROP]) {
            this._register((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_2__.addDisposableListener)(element, eventName, () => {
                this._stopBlockingIframeDragEvents();
            }));
        }
        for (const node of [element, targetWindow]) {
            this._register((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_2__.addDisposableListener)(node, vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_2__.EventType.DRAG_END, () => {
                this._stopBlockingIframeDragEvents();
            }));
        }
        element.id = this.id;
        element.appendChild(this.element);
    }
    _registerMessageHandler(targetWindow) {
        const subscription = this._register((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_2__.addDisposableListener)(targetWindow, 'message', (e) => {
            if (!this._encodedWebviewOrigin || e?.data?.target !== this.id) {
                return;
            }
            if (e.data.channel === 'webview-ready') {
                if (this._messagePort) {
                    return;
                }
                this._logService.debug(`Webview(${this.id}): webview ready`);
                this._messagePort = e.ports[0];
                this._messagePort.onmessage = (e) => {
                    const handlers = this._messageHandlers.get(e.data.channel);
                    if (!handlers) {
                        console.log(`No handlers found for '${e.data.channel}'`);
                        return;
                    }
                    handlers?.forEach(handler => handler(e.data.data, e));
                };
                this.element?.classList.add('ready');
                if (this._state.type === 0 ) {
                    this._state.pendingMessages.forEach(({ channel, data, resolve }) => resolve(this.doPostMessage(channel, data)));
                }
                this._state = WebviewState.Ready;
                subscription.dispose();
            }
        }));
    }
    _startBlockingIframeDragEvents() {
        if (this.element) {
            this.element.style.pointerEvents = 'none';
        }
    }
    _stopBlockingIframeDragEvents() {
        if (this.element) {
            this.element.style.pointerEvents = 'auto';
        }
    }
    webviewContentEndpoint(encodedWebviewOrigin) {
        const webviewExternalEndpoint = this._environmentService.webviewExternalEndpoint;
        if (!webviewExternalEndpoint) {
            throw ( (new Error(
                `'webviewExternalEndpoint' has not been configured. Webviews will not work!`
            )));
        }
        const endpoint = webviewExternalEndpoint.replace('{{uuid}}', encodedWebviewOrigin);
        if (endpoint[endpoint.length - 1] === '/') {
            return endpoint.slice(0, endpoint.length - 1);
        }
        return endpoint;
    }
    doPostMessage(channel, data, transferable = []) {
        if (this.element && this._messagePort) {
            this._messagePort.postMessage({ channel, args: data }, transferable);
            return true;
        }
        return false;
    }
    on(channel, handler) {
        let handlers = this._messageHandlers.get(channel);
        if (!handlers) {
            handlers = ( (new Set()));
            this._messageHandlers.set(channel, handlers);
        }
        handlers.add(handler);
        return (0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_7__.toDisposable)(() => {
            this._messageHandlers.get(channel)?.delete(handler);
        });
    }
    handleNoCspFound() {
        if (this._hasAlertedAboutMissingCsp) {
            return;
        }
        this._hasAlertedAboutMissingCsp = true;
        if (this.extension?.id) {
            if (this._environmentService.isExtensionDevelopment) {
                this._onMissingCsp.fire(this.extension.id);
            }
            const payload = {
                extension: this.extension.id.value
            };
            this._telemetryService.publicLog2('webviewMissingCsp', payload);
        }
    }
    reload() {
        this.doUpdateContent(this._content);
        const subscription = this._register(this.on('did-load', () => {
            this._onDidReload.fire();
            subscription.dispose();
        }));
    }
    setHtml(html) {
        this.doUpdateContent({ ...this._content, html });
        this._onDidHtmlChange.fire(html);
    }
    setTitle(title) {
        this._content = { ...this._content, title };
        this._send('set-title', title);
    }
    set contentOptions(options) {
        this._logService.debug(`Webview(${this.id}): will update content options`);
        if ((0,vscode_vscode_vs_workbench_contrib_webview_browser_webview__WEBPACK_IMPORTED_MODULE_26__.areWebviewContentOptionsEqual)(options, this._content.options)) {
            this._logService.debug(`Webview(${this.id}): skipping content options update`);
            return;
        }
        this.doUpdateContent({ ...this._content, options });
    }
    set localResourcesRoot(resources) {
        this._content = {
            ...this._content,
            options: { ...this._content.options, localResourceRoots: resources }
        };
    }
    set state(state) {
        this._content = { ...this._content, state };
    }
    set initialScrollProgress(value) {
        this._send('initial-scroll-position', value);
    }
    doUpdateContent(newContent) {
        this._logService.debug(`Webview(${this.id}): will update content`);
        this._content = newContent;
        const allowScripts = !!this._content.options.allowScripts;
        this._send('content', {
            contents: this._content.html,
            title: this._content.title,
            options: {
                allowMultipleAPIAcquire: !!this._content.options.allowMultipleAPIAcquire,
                allowScripts: allowScripts,
                allowForms: this._content.options.allowForms ?? allowScripts,
            },
            state: this._content.state,
            cspSource: vscode_vscode_vs_workbench_contrib_webview_common_webview__WEBPACK_IMPORTED_MODULE_28__.webviewGenericCspSource,
            confirmBeforeClose: this._confirmBeforeClose,
        });
    }
    style() {
        let { styles, activeTheme, themeLabel, themeId } = this.webviewThemeDataProvider.getWebviewThemeData();
        if (this._options.transformCssVariables) {
            styles = this._options.transformCssVariables(styles);
        }
        const reduceMotion = this._accessibilityService.isMotionReduced();
        const screenReader = this._accessibilityService.isScreenReaderOptimized();
        this._send('styles', { styles, activeTheme, themeId, themeLabel, reduceMotion, screenReader });
    }
    handleFocusChange(isFocused) {
        this._focused = isFocused;
        if (isFocused) {
            this._onDidFocus.fire();
        }
        else {
            this._onDidBlur.fire();
        }
    }
    handleKeyEvent(type, event) {
        const emulatedKeyboardEvent = ( (new KeyboardEvent(type, event)));
        Object.defineProperty(emulatedKeyboardEvent, 'target', {
            get: () => this.element,
        });
        this.window?.dispatchEvent(emulatedKeyboardEvent);
    }
    handleDragEvent(type, event) {
        const emulatedDragEvent = ( (new DragEvent(type, event)));
        Object.defineProperty(emulatedDragEvent, 'target', {
            get: () => this.element,
        });
        this.window?.dispatchEvent(emulatedDragEvent);
    }
    windowDidDragStart() {
        this._startBlockingIframeDragEvents();
    }
    windowDidDragEnd() {
        this._stopBlockingIframeDragEvents();
    }
    selectAll() {
        this.execCommand('selectAll');
    }
    copy() {
        this.execCommand('copy');
    }
    paste() {
        this.execCommand('paste');
    }
    cut() {
        this.execCommand('cut');
    }
    undo() {
        this.execCommand('undo');
    }
    redo() {
        this.execCommand('redo');
    }
    execCommand(command) {
        if (this.element) {
            this._send('execCommand', command);
        }
    }
    async loadResource(id, uri, ifNoneMatch) {
        try {
            const result = await (0,_resourceLoading_js__WEBPACK_IMPORTED_MODULE_25__.loadLocalResource)(uri, {
                ifNoneMatch,
                roots: this._content.options.localResourceRoots || [],
            }, this._fileService, this._logService, this._resourceLoadingCts.token);
            switch (result.type) {
                case _resourceLoading_js__WEBPACK_IMPORTED_MODULE_25__.WebviewResourceResponse.Type.Success: {
                    const buffer = await this.streamToBuffer(result.stream);
                    return this._send('did-load-resource', {
                        id,
                        status: 200,
                        path: uri.path,
                        mime: result.mimeType,
                        data: buffer,
                        etag: result.etag,
                        mtime: result.mtime
                    }, [buffer]);
                }
                case _resourceLoading_js__WEBPACK_IMPORTED_MODULE_25__.WebviewResourceResponse.Type.NotModified: {
                    return this._send('did-load-resource', {
                        id,
                        status: 304,
                        path: uri.path,
                        mime: result.mimeType,
                        mtime: result.mtime
                    });
                }
                case _resourceLoading_js__WEBPACK_IMPORTED_MODULE_25__.WebviewResourceResponse.Type.AccessDenied: {
                    return this._send('did-load-resource', {
                        id,
                        status: 401,
                        path: uri.path,
                    });
                }
            }
        }
        catch {
        }
        return this._send('did-load-resource', {
            id,
            status: 404,
            path: uri.path,
        });
    }
    async streamToBuffer(stream) {
        const vsBuffer = await (0,vscode_vscode_vs_base_common_buffer__WEBPACK_IMPORTED_MODULE_4__.streamToBuffer)(stream);
        return vsBuffer.buffer.buffer;
    }
    async localLocalhost(id, origin) {
        const authority = this._environmentService.remoteAuthority;
        const resolveAuthority = authority ? await this._remoteAuthorityResolverService.resolveAuthority(authority) : undefined;
        const redirect = resolveAuthority ? await this._portMappingManager.getRedirect(resolveAuthority.authority, origin) : undefined;
        return this._send('did-load-localhost', {
            id,
            origin,
            location: redirect
        });
    }
    focus() {
        this._doFocus();
        this.handleFocusChange(true);
    }
    _doFocus() {
        if (!this.element) {
            return;
        }
        try {
            this.element.contentWindow?.focus();
        }
        catch {
        }
        this._focusDelayer.trigger(async () => {
            if (!this.isFocused || !this.element) {
                return;
            }
            if (this.window?.document.activeElement && this.window.document.activeElement !== this.element && this.window.document.activeElement?.tagName !== 'BODY') {
                return;
            }
            this.window?.document.body?.focus();
            this._send('focus', undefined);
        });
    }
    find(value, previous) {
        if (!this.element) {
            return;
        }
        this._send('find', { value, previous });
    }
    updateFind(value) {
        if (!value || !this.element) {
            return;
        }
        this._send('find', { value });
    }
    stopFind(keepSelection) {
        if (!this.element) {
            return;
        }
        this._send('find-stop', { clearSelection: !keepSelection });
        this._onDidStopFind.fire();
    }
    showFind(animated = true) {
        this._webviewFindWidget?.reveal(undefined, animated);
    }
    hideFind(animated = true) {
        this._webviewFindWidget?.hide(animated);
    }
    runFindAction(previous) {
        this._webviewFindWidget?.find(previous);
    }
};
WebviewElement = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_14__.IConfigurationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_platform_contextview_browser_contextView_service__WEBPACK_IMPORTED_MODULE_15__.IContextMenuService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_platform_notification_common_notification_service__WEBPACK_IMPORTED_MODULE_19__.INotificationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, vscode_vscode_vs_workbench_services_environment_common_environmentService_service__WEBPACK_IMPORTED_MODULE_29__.IWorkbenchEnvironmentService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, vscode_vscode_vs_platform_files_common_files_service__WEBPACK_IMPORTED_MODULE_16__.IFileService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, vscode_vscode_vs_platform_log_common_log_service__WEBPACK_IMPORTED_MODULE_18__.ILogService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, vscode_vscode_vs_platform_remote_common_remoteAuthorityResolver_service__WEBPACK_IMPORTED_MODULE_20__.IRemoteAuthorityResolverService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, vscode_vscode_vs_platform_telemetry_common_telemetry_service__WEBPACK_IMPORTED_MODULE_21__.ITelemetryService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, vscode_vscode_vs_platform_tunnel_common_tunnel_service__WEBPACK_IMPORTED_MODULE_22__.ITunnelService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(11, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_17__.IInstantiationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(12, vscode_vscode_vs_platform_accessibility_common_accessibility_service__WEBPACK_IMPORTED_MODULE_12__.IAccessibilityService)))
], WebviewElement)));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/webview/browser/webviewFindWidget.js":
/*!*************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/webview/browser/webviewFindWidget.js ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WebviewFindWidget: () => (/* binding */ WebviewFindWidget)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey.service */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var vscode_vscode_vs_platform_contextview_browser_contextView_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextview/browser/contextView.service */ "./node_modules/vscode/vscode/src/vs/platform/contextview/browser/contextView.service.js");
/* harmony import */ var vscode_vscode_vs_platform_hover_browser_hover_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/platform/hover/browser/hover.service */ "./node_modules/vscode/vscode/src/vs/platform/hover/browser/hover.service.js");
/* harmony import */ var vscode_vscode_vs_platform_keybinding_common_keybinding_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/platform/keybinding/common/keybinding.service */ "./node_modules/vscode/vscode/src/vs/platform/keybinding/common/keybinding.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_codeEditor_browser_find_simpleFindWidget__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/codeEditor/browser/find/simpleFindWidget */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/codeEditor/browser/find/simpleFindWidget.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_webview_browser_webview__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/webview/browser/webview */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/webview/browser/webview.js");








let WebviewFindWidget = class WebviewFindWidget extends vscode_vscode_vs_workbench_contrib_codeEditor_browser_find_simpleFindWidget__WEBPACK_IMPORTED_MODULE_5__.SimpleFindWidget {
    async _getResultCount(dataChanged) {
        return undefined;
    }
    constructor(_delegate, contextViewService, contextKeyService, hoverService, keybindingService) {
        super({
            showCommonFindToggles: false,
            checkImeCompletionState: _delegate.checkImeCompletionState,
            enableSash: true,
        }, contextViewService, contextKeyService, hoverService, keybindingService);
        this._delegate = _delegate;
        this._findWidgetFocused = vscode_vscode_vs_workbench_contrib_webview_browser_webview__WEBPACK_IMPORTED_MODULE_6__.KEYBINDING_CONTEXT_WEBVIEW_FIND_WIDGET_FOCUSED.bindTo(contextKeyService);
        this._register(_delegate.hasFindResult(hasResult => {
            this.updateButtons(hasResult);
            this.focusFindBox();
        }));
        this._register(_delegate.onDidStopFind(() => {
            this.updateButtons(false);
        }));
    }
    find(previous) {
        const val = this.inputValue;
        if (val) {
            this._delegate.find(val, previous);
        }
    }
    hide(animated = true) {
        super.hide(animated);
        this._delegate.stopFind(true);
        this._delegate.focus();
    }
    _onInputChanged() {
        const val = this.inputValue;
        if (val) {
            this._delegate.updateFind(val);
        }
        else {
            this._delegate.stopFind(false);
        }
        return false;
    }
    _onFocusTrackerFocus() {
        this._findWidgetFocused.set(true);
    }
    _onFocusTrackerBlur() {
        this._findWidgetFocused.reset();
    }
    _onFindInputFocusTrackerFocus() { }
    _onFindInputFocusTrackerBlur() { }
    findFirst() { }
};
WebviewFindWidget = ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_platform_contextview_browser_contextView_service__WEBPACK_IMPORTED_MODULE_2__.IContextViewService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_1__.IContextKeyService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_platform_hover_browser_hover_service__WEBPACK_IMPORTED_MODULE_3__.IHoverService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_platform_keybinding_common_keybinding_service__WEBPACK_IMPORTED_MODULE_4__.IKeybindingService))
], WebviewFindWidget));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/webview/browser/webviewService.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/webview/browser/webviewService.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WebviewService: () => (/* binding */ WebviewService)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var _themeing_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./themeing.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/webview/browser/themeing.js");
/* harmony import */ var _webviewElement_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./webviewElement.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/webview/browser/webviewElement.js");
/* harmony import */ var _overlayWebview_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./overlayWebview.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/webview/browser/overlayWebview.js");








let WebviewService = class WebviewService extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_2__.Disposable {
    constructor(_instantiationService) {
        super();
        this._instantiationService = _instantiationService;
        this._webviews = ( new Set());
        this._onDidChangeActiveWebview = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_1__.Emitter()));
        this.onDidChangeActiveWebview = this._onDidChangeActiveWebview.event;
        this._webviewThemeDataProvider = this._instantiationService.createInstance(_themeing_js__WEBPACK_IMPORTED_MODULE_4__.WebviewThemeDataProvider);
    }
    get activeWebview() { return this._activeWebview; }
    _updateActiveWebview(value) {
        if (value !== this._activeWebview) {
            this._activeWebview = value;
            this._onDidChangeActiveWebview.fire(value);
        }
    }
    get webviews() {
        return ( this._webviews.values());
    }
    createWebviewElement(initInfo) {
        const webview = this._instantiationService.createInstance(_webviewElement_js__WEBPACK_IMPORTED_MODULE_5__.WebviewElement, initInfo, this._webviewThemeDataProvider);
        this.registerNewWebview(webview);
        return webview;
    }
    createWebviewOverlay(initInfo) {
        const webview = this._instantiationService.createInstance(_overlayWebview_js__WEBPACK_IMPORTED_MODULE_6__.OverlayWebview, initInfo);
        this.registerNewWebview(webview);
        return webview;
    }
    registerNewWebview(webview) {
        this._webviews.add(webview);
        const store = ( new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_2__.DisposableStore());
        store.add(webview.onDidFocus(() => {
            this._updateActiveWebview(webview);
        }));
        const onBlur = () => {
            if (this._activeWebview === webview) {
                this._updateActiveWebview(undefined);
            }
        };
        store.add(webview.onDidBlur(onBlur));
        store.add(webview.onDidDispose(() => {
            onBlur();
            store.dispose();
            this._webviews.delete(webview);
        }));
    }
};
WebviewService = ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_3__.IInstantiationService))
], WebviewService));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/webviewPanel/browser/webviewCommands.js":
/*!****************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/webviewPanel/browser/webviewCommands.js ***!
  \****************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HideWebViewEditorFindCommand: () => (/* binding */ HideWebViewEditorFindCommand),
/* harmony export */   ReloadWebviewAction: () => (/* binding */ ReloadWebviewAction),
/* harmony export */   ShowWebViewEditorFindWidgetAction: () => (/* binding */ ShowWebViewEditorFindWidgetAction),
/* harmony export */   WebViewEditorFindNextCommand: () => (/* binding */ WebViewEditorFindNextCommand),
/* harmony export */   WebViewEditorFindPreviousCommand: () => (/* binding */ WebViewEditorFindPreviousCommand)
/* harmony export */ });
/* harmony import */ var vscode_vscode_vs_editor_common_editorContextKeys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/editorContextKeys */ "./node_modules/vscode/vscode/src/vs/editor/common/editorContextKeys.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.js");
/* harmony import */ var vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/platform/action/common/actionCommonCategories */ "./node_modules/vscode/vscode/src/vs/platform/action/common/actionCommonCategories.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_webview_browser_webview__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/webview/browser/webview */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/webview/browser/webview.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_webview_browser_webview_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/webview/browser/webview.service */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/webview/browser/webview.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_webviewPanel_browser_webviewEditor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/webviewPanel/browser/webviewEditor */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/webviewPanel/browser/webviewEditor.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_webviewPanel_browser_webviewEditorInput__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/webviewPanel/browser/webviewEditorInput */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/webviewPanel/browser/webviewEditorInput.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");











const webviewActiveContextKeyExpr = ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.and(
     (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.equals('activeEditor', vscode_vscode_vs_workbench_contrib_webviewPanel_browser_webviewEditor__WEBPACK_IMPORTED_MODULE_7__.WebviewEditor.ID)),
     (vscode_vscode_vs_editor_common_editorContextKeys__WEBPACK_IMPORTED_MODULE_0__.EditorContextKeys.focus.toNegated())
)));
class ShowWebViewEditorFindWidgetAction extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_2__.Action2 {
    static { this.ID = 'editor.action.webvieweditor.showFind'; }
    static { this.LABEL = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(9848, "Show find")); }
    constructor() {
        super({
            id: ShowWebViewEditorFindWidgetAction.ID,
            title: ShowWebViewEditorFindWidgetAction.LABEL,
            keybinding: {
                when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.and(
                    webviewActiveContextKeyExpr,
                    vscode_vscode_vs_workbench_contrib_webview_browser_webview__WEBPACK_IMPORTED_MODULE_5__.KEYBINDING_CONTEXT_WEBVIEW_FIND_WIDGET_ENABLED
                ))),
                primary: 2048  | 36 ,
                weight: 100
            }
        });
    }
    run(accessor) {
        getActiveWebviewEditor(accessor)?.showFind();
    }
}
class HideWebViewEditorFindCommand extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_2__.Action2 {
    static { this.ID = 'editor.action.webvieweditor.hideFind'; }
    static { this.LABEL = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(9849, "Stop find")); }
    constructor() {
        super({
            id: HideWebViewEditorFindCommand.ID,
            title: HideWebViewEditorFindCommand.LABEL,
            keybinding: {
                when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.and(
                    webviewActiveContextKeyExpr,
                    vscode_vscode_vs_workbench_contrib_webview_browser_webview__WEBPACK_IMPORTED_MODULE_5__.KEYBINDING_CONTEXT_WEBVIEW_FIND_WIDGET_VISIBLE
                ))),
                primary: 9 ,
                weight: 100
            }
        });
    }
    run(accessor) {
        getActiveWebviewEditor(accessor)?.hideFind();
    }
}
class WebViewEditorFindNextCommand extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_2__.Action2 {
    static { this.ID = 'editor.action.webvieweditor.findNext'; }
    static { this.LABEL = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(9850, 'Find next')); }
    constructor() {
        super({
            id: WebViewEditorFindNextCommand.ID,
            title: WebViewEditorFindNextCommand.LABEL,
            keybinding: {
                when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.and(
                    webviewActiveContextKeyExpr,
                    vscode_vscode_vs_workbench_contrib_webview_browser_webview__WEBPACK_IMPORTED_MODULE_5__.KEYBINDING_CONTEXT_WEBVIEW_FIND_WIDGET_FOCUSED
                ))),
                primary: 3 ,
                weight: 100
            }
        });
    }
    run(accessor) {
        getActiveWebviewEditor(accessor)?.runFindAction(false);
    }
}
class WebViewEditorFindPreviousCommand extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_2__.Action2 {
    static { this.ID = 'editor.action.webvieweditor.findPrevious'; }
    static { this.LABEL = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(9851, 'Find previous')); }
    constructor() {
        super({
            id: WebViewEditorFindPreviousCommand.ID,
            title: WebViewEditorFindPreviousCommand.LABEL,
            keybinding: {
                when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.and(
                    webviewActiveContextKeyExpr,
                    vscode_vscode_vs_workbench_contrib_webview_browser_webview__WEBPACK_IMPORTED_MODULE_5__.KEYBINDING_CONTEXT_WEBVIEW_FIND_WIDGET_FOCUSED
                ))),
                primary: 1024  | 3 ,
                weight: 100
            }
        });
    }
    run(accessor) {
        getActiveWebviewEditor(accessor)?.runFindAction(true);
    }
}
class ReloadWebviewAction extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_2__.Action2 {
    static { this.ID = 'workbench.action.webview.reloadWebviewAction'; }
    static { this.LABEL = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize2)(9852, "Reload Webviews")); }
    constructor() {
        super({
            id: ReloadWebviewAction.ID,
            title: ReloadWebviewAction.LABEL,
            category: vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_4__.Categories.Developer,
            menu: [{
                    id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_2__.MenuId.CommandPalette
                }]
        });
    }
    async run(accessor) {
        const webviewService = accessor.get(vscode_vscode_vs_workbench_contrib_webview_browser_webview_service__WEBPACK_IMPORTED_MODULE_6__.IWebviewService);
        for (const webview of webviewService.webviews) {
            webview.reload();
        }
    }
}
function getActiveWebviewEditor(accessor) {
    const editorService = accessor.get(vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_9__.IEditorService);
    const activeEditor = editorService.activeEditor;
    return activeEditor instanceof vscode_vscode_vs_workbench_contrib_webviewPanel_browser_webviewEditorInput__WEBPACK_IMPORTED_MODULE_8__.WebviewInput ? activeEditor.webview : undefined;
}




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/webviewPanel/browser/webviewEditorInputSerializer.js":
/*!*****************************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/webviewPanel/browser/webviewEditorInputSerializer.js ***!
  \*****************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WebviewEditorInputSerializer: () => (/* binding */ WebviewEditorInputSerializer),
/* harmony export */   restoreWebviewContentOptions: () => (/* binding */ restoreWebviewContentOptions),
/* harmony export */   restoreWebviewOptions: () => (/* binding */ restoreWebviewOptions),
/* harmony export */   reviveWebviewExtensionDescription: () => (/* binding */ reviveWebviewExtensionDescription)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/common/uri */ "./node_modules/vscode/vscode/src/vs/base/common/uri.js");
/* harmony import */ var vscode_vscode_vs_platform_extensions_common_extensions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/platform/extensions/common/extensions */ "./node_modules/vscode/vscode/src/vs/platform/extensions/common/extensions.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_webviewPanel_browser_webviewEditorInput__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/webviewPanel/browser/webviewEditorInput */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/webviewPanel/browser/webviewEditorInput.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_webviewPanel_browser_webviewWorkbenchService_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/webviewPanel/browser/webviewWorkbenchService.service */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/webviewPanel/browser/webviewWorkbenchService.service.js");






let WebviewEditorInputSerializer = class WebviewEditorInputSerializer {
    static { this.ID = vscode_vscode_vs_workbench_contrib_webviewPanel_browser_webviewEditorInput__WEBPACK_IMPORTED_MODULE_3__.WebviewInput.typeId; }
    constructor(_webviewWorkbenchService) {
        this._webviewWorkbenchService = _webviewWorkbenchService;
    }
    canSerialize(input) {
        return this._webviewWorkbenchService.shouldPersist(input);
    }
    serialize(input) {
        if (!this.canSerialize(input)) {
            return undefined;
        }
        const data = this.toJson(input);
        try {
            return JSON.stringify(data);
        }
        catch {
            return undefined;
        }
    }
    deserialize(_instantiationService, serializedEditorInput) {
        const data = this.fromJson(JSON.parse(serializedEditorInput));
        return this._webviewWorkbenchService.openRevivedWebview({
            webviewInitInfo: {
                providedViewType: data.providedId,
                origin: data.origin,
                title: data.title,
                options: data.webviewOptions,
                contentOptions: data.contentOptions,
                extension: data.extension,
            },
            viewType: data.viewType,
            title: data.title,
            iconPath: data.iconPath,
            state: data.state,
            group: data.group
        });
    }
    fromJson(data) {
        return {
            ...data,
            extension: reviveWebviewExtensionDescription(data.extensionId, data.extensionLocation),
            iconPath: reviveIconPath(data.iconPath),
            state: reviveState(data.state),
            webviewOptions: restoreWebviewOptions(data.options),
            contentOptions: restoreWebviewContentOptions(data.options),
        };
    }
    toJson(input) {
        return {
            origin: input.webview.origin,
            viewType: input.viewType,
            providedId: input.providedId,
            title: input.getName(),
            options: { ...input.webview.options, ...input.webview.contentOptions },
            extensionLocation: input.extension?.location,
            extensionId: input.extension?.id.value,
            state: input.webview.state,
            iconPath: input.iconPath ? { light: input.iconPath.light, dark: input.iconPath.dark, } : undefined,
            group: input.group
        };
    }
};
WebviewEditorInputSerializer = ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_workbench_contrib_webviewPanel_browser_webviewWorkbenchService_service__WEBPACK_IMPORTED_MODULE_4__.IWebviewWorkbenchService))
], WebviewEditorInputSerializer));
function reviveWebviewExtensionDescription(extensionId, extensionLocation) {
    if (!extensionId) {
        return undefined;
    }
    const location = reviveUri(extensionLocation);
    if (!location) {
        return undefined;
    }
    return {
        id: ( new vscode_vscode_vs_platform_extensions_common_extensions__WEBPACK_IMPORTED_MODULE_2__.ExtensionIdentifier(extensionId)),
        location,
    };
}
function reviveIconPath(data) {
    if (!data) {
        return undefined;
    }
    const light = reviveUri(data.light);
    const dark = reviveUri(data.dark);
    return light && dark ? { light, dark } : undefined;
}
function reviveUri(data) {
    if (!data) {
        return undefined;
    }
    try {
        if (typeof data === 'string') {
            return ( vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_1__.URI.parse(data));
        }
        return ( vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_1__.URI.from(data));
    }
    catch {
        return undefined;
    }
}
function reviveState(state) {
    return typeof state === 'string' ? state : undefined;
}
function restoreWebviewOptions(options) {
    return options;
}
function restoreWebviewContentOptions(options) {
    return {
        ...options,
        localResourceRoots: options.localResourceRoots?.map(uri => reviveUri(uri)),
    };
}




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/webviewPanel/browser/webviewPanel.contribution.js":
/*!**************************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/webviewPanel/browser/webviewPanel.contribution.js ***!
  \**************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/descriptors */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/descriptors.js");
/* harmony import */ var vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/platform/registry/common/platform */ "./node_modules/vscode/vscode/src/vs/platform/registry/common/platform.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_editor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/editor */ "./node_modules/vscode/vscode/src/vs/workbench/browser/editor.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_contributions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/contributions */ "./node_modules/vscode/vscode/src/vs/workbench/common/contributions.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/editor */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorGroupsService_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorGroupsService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorGroupsService.service.js");
/* harmony import */ var _webviewCommands_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./webviewCommands.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/webviewPanel/browser/webviewCommands.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_webviewPanel_browser_webviewEditor__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/webviewPanel/browser/webviewEditor */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/webviewPanel/browser/webviewEditor.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_webviewPanel_browser_webviewEditorInput__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/webviewPanel/browser/webviewEditorInput */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/webviewPanel/browser/webviewEditorInput.js");
/* harmony import */ var _webviewEditorInputSerializer_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./webviewEditorInputSerializer.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/webviewPanel/browser/webviewEditorInputSerializer.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_webviewPanel_browser_webviewWorkbenchService__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/webviewPanel/browser/webviewWorkbenchService */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/webviewPanel/browser/webviewWorkbenchService.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");


















(( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_5__.Registry.as(vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_8__.EditorExtensions.EditorPane)))).registerEditorPane(vscode_vscode_vs_workbench_browser_editor__WEBPACK_IMPORTED_MODULE_6__.EditorPaneDescriptor.create(vscode_vscode_vs_workbench_contrib_webviewPanel_browser_webviewEditor__WEBPACK_IMPORTED_MODULE_11__.WebviewEditor, vscode_vscode_vs_workbench_contrib_webviewPanel_browser_webviewEditor__WEBPACK_IMPORTED_MODULE_11__.WebviewEditor.ID, ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__.localize)(4438, "webview editor"))), [( (new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_4__.SyncDescriptor(vscode_vscode_vs_workbench_contrib_webviewPanel_browser_webviewEditorInput__WEBPACK_IMPORTED_MODULE_12__.WebviewInput)))]);
let WebviewPanelContribution = class WebviewPanelContribution extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_1__.Disposable {
    static { this.ID = 'workbench.contrib.webviewPanel'; }
    constructor(editorService, editorGroupService) {
        super();
        this.editorGroupService = editorGroupService;
        this._register(editorService.onWillOpenEditor(e => {
            const group = editorGroupService.getGroup(e.groupId);
            if (group) {
                this.onEditorOpening(e.editor, group);
            }
        }));
    }
    onEditorOpening(editor, group) {
        if (!(editor instanceof vscode_vscode_vs_workbench_contrib_webviewPanel_browser_webviewEditorInput__WEBPACK_IMPORTED_MODULE_12__.WebviewInput) || editor.typeId !== vscode_vscode_vs_workbench_contrib_webviewPanel_browser_webviewEditorInput__WEBPACK_IMPORTED_MODULE_12__.WebviewInput.typeId) {
            return;
        }
        if (group.contains(editor)) {
            return;
        }
        let previousGroup;
        const groups = this.editorGroupService.groups;
        for (const group of groups) {
            if (group.contains(editor)) {
                previousGroup = group;
                break;
            }
        }
        if (!previousGroup) {
            return;
        }
        previousGroup.closeEditor(editor);
    }
};
WebviewPanelContribution = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_16__.IEditorService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_workbench_services_editor_common_editorGroupsService_service__WEBPACK_IMPORTED_MODULE_9__.IEditorGroupsService)))
], WebviewPanelContribution)));
(0,vscode_vscode_vs_workbench_common_contributions__WEBPACK_IMPORTED_MODULE_7__.registerWorkbenchContribution2)(WebviewPanelContribution.ID, WebviewPanelContribution, 1 );
( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_5__.Registry.as(vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_8__.EditorExtensions.EditorFactory))).registerEditorSerializer(_webviewEditorInputSerializer_js__WEBPACK_IMPORTED_MODULE_13__.WebviewEditorInputSerializer.ID, _webviewEditorInputSerializer_js__WEBPACK_IMPORTED_MODULE_13__.WebviewEditorInputSerializer);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_3__.registerAction2)(_webviewCommands_js__WEBPACK_IMPORTED_MODULE_10__.ShowWebViewEditorFindWidgetAction);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_3__.registerAction2)(_webviewCommands_js__WEBPACK_IMPORTED_MODULE_10__.HideWebViewEditorFindCommand);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_3__.registerAction2)(_webviewCommands_js__WEBPACK_IMPORTED_MODULE_10__.WebViewEditorFindNextCommand);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_3__.registerAction2)(_webviewCommands_js__WEBPACK_IMPORTED_MODULE_10__.WebViewEditorFindPreviousCommand);
(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_3__.registerAction2)(_webviewCommands_js__WEBPACK_IMPORTED_MODULE_10__.ReloadWebviewAction);


/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/webviewView/browser/webviewViewPane.js":
/*!***************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/webviewView/browser/webviewViewPane.js ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WebviewViewPane: () => (/* binding */ WebviewViewPane)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/dom */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var vscode_vscode_vs_base_common_cancellation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/common/cancellation */ "./node_modules/vscode/vscode/src/vs/base/common/cancellation.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/platform/configuration/common/configuration.service */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey.service */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var vscode_vscode_vs_platform_contextview_browser_contextView_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextview/browser/contextView.service */ "./node_modules/vscode/vscode/src/vs/platform/contextview/browser/contextView.service.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_platform_keybinding_common_keybinding_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/platform/keybinding/common/keybinding.service */ "./node_modules/vscode/vscode/src/vs/platform/keybinding/common/keybinding.service.js");
/* harmony import */ var vscode_vscode_vs_platform_opener_common_opener_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/platform/opener/common/opener.service */ "./node_modules/vscode/vscode/src/vs/platform/opener/common/opener.service.js");
/* harmony import */ var vscode_vscode_vs_platform_progress_common_progress_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/platform/progress/common/progress.service */ "./node_modules/vscode/vscode/src/vs/platform/progress/common/progress.service.js");
/* harmony import */ var vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/platform/storage/common/storage.service */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var vscode_vscode_vs_platform_telemetry_common_telemetry_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/platform/telemetry/common/telemetry.service */ "./node_modules/vscode/vscode/src/vs/platform/telemetry/common/telemetry.service.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_common_themeService_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/common/themeService.service */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_views_viewPane__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/views/viewPane */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/views/viewPane.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_memento__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/memento */ "./node_modules/vscode/vscode/src/vs/workbench/common/memento.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_views_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/views.service */ "./node_modules/vscode/vscode/src/vs/workbench/common/views.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_views_common_viewsService_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/views/common/viewsService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/views/common/viewsService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_webview_browser_webview__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/webview/browser/webview */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/webview/browser/webview.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_webview_browser_webview_service__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/webview/browser/webview.service */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/webview/browser/webview.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_webview_browser_webviewWindowDragMonitor__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/webview/browser/webviewWindowDragMonitor */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/webview/browser/webviewWindowDragMonitor.js");
/* harmony import */ var vscode_vscode_vs_workbench_contrib_webviewView_browser_webviewViewService_service__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! vscode/vscode/vs/workbench/contrib/webviewView/browser/webviewViewService.service */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/webviewView/browser/webviewViewService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_activity_common_activity__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/activity/common/activity */ "./node_modules/vscode/vscode/src/vs/workbench/services/activity/common/activity.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_activity_common_activity_service__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/activity/common/activity.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/activity/common/activity.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_extensions_common_extensions_service__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/extensions/common/extensions.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/extensions/common/extensions.service.js");
/* harmony import */ var vscode_vscode_vs_platform_hover_browser_hover_service__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! vscode/vscode/vs/platform/hover/browser/hover.service */ "./node_modules/vscode/vscode/src/vs/platform/hover/browser/hover.service.js");





























var WebviewViewPane_1;
const storageKeys = {
    webviewState: 'webviewState',
};
let WebviewViewPane = class WebviewViewPane extends vscode_vscode_vs_workbench_browser_parts_views_viewPane__WEBPACK_IMPORTED_MODULE_16__.ViewPane {
    static { WebviewViewPane_1 = this; }
    static getOriginStore(storageService) {
        this._originStore ??= ( new vscode_vscode_vs_workbench_contrib_webview_browser_webview__WEBPACK_IMPORTED_MODULE_20__.ExtensionKeyedWebviewOriginStore('webviewViews.origins', storageService));
        return this._originStore;
    }
    constructor(options, configurationService, contextKeyService, contextMenuService, instantiationService, keybindingService, openerService, telemetryService, hoverService, themeService, viewDescriptorService, activityService, extensionService, progressService, storageService, viewService, webviewService, webviewViewService) {
        super({ ...options, titleMenuId: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_5__.MenuId.ViewTitle, showActions: vscode_vscode_vs_workbench_browser_parts_views_viewPane__WEBPACK_IMPORTED_MODULE_16__.ViewPaneShowActions.WhenExpanded }, keybindingService, contextMenuService, configurationService, contextKeyService, viewDescriptorService, instantiationService, openerService, themeService, telemetryService, hoverService);
        this.activityService = activityService;
        this.extensionService = extensionService;
        this.progressService = progressService;
        this.storageService = storageService;
        this.viewService = viewService;
        this.webviewService = webviewService;
        this.webviewViewService = webviewViewService;
        this._webview = this._register(( new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__.MutableDisposable()));
        this._webviewDisposables = this._register(( new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__.DisposableStore()));
        this._activated = false;
        this.activity = this._register(( new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__.MutableDisposable()));
        this._onDidChangeVisibility = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__.Emitter()));
        this.onDidChangeVisibility = this._onDidChangeVisibility.event;
        this._onDispose = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_3__.Emitter()));
        this.onDispose = this._onDispose.event;
        this.extensionId = options.fromExtensionId;
        this.defaultTitle = this.title;
        this.memento = ( new vscode_vscode_vs_workbench_common_memento__WEBPACK_IMPORTED_MODULE_17__.Memento(`webviewView.${this.id}`, storageService));
        this.viewState = this.memento.getMemento(1 , 1 );
        this._register(this.onDidChangeBodyVisibility(() => this.updateTreeVisibility()));
        this._register(this.webviewViewService.onNewResolverRegistered(e => {
            if (e.viewType === this.id) {
                this.updateTreeVisibility();
            }
        }));
        this.updateTreeVisibility();
    }
    dispose() {
        this._onDispose.fire();
        clearTimeout(this._repositionTimeout);
        super.dispose();
    }
    focus() {
        super.focus();
        this._webview.value?.focus();
    }
    renderBody(container) {
        super.renderBody(container);
        this._container = container;
        this._rootContainer = undefined;
        if (!this._resizeObserver) {
            this._resizeObserver = ( new ResizeObserver(() => {
                setTimeout(() => {
                    this.layoutWebview();
                }, 0);
            }));
            this._register((0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__.toDisposable)(() => {
                this._resizeObserver.disconnect();
            }));
            this._resizeObserver.observe(container);
        }
    }
    saveState() {
        if (this._webview.value) {
            this.viewState[storageKeys.webviewState] = this._webview.value.state;
        }
        this.memento.saveMemento();
        super.saveState();
    }
    layoutBody(height, width) {
        super.layoutBody(height, width);
        this.layoutWebview(( new vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__.Dimension(width, height)));
    }
    updateTreeVisibility() {
        if (this.isBodyVisible()) {
            this.activate();
            this._webview.value?.claim(this, (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__.getWindow)(this.element), undefined);
        }
        else {
            this._webview.value?.release(this);
        }
    }
    activate() {
        if (this._activated) {
            return;
        }
        this._activated = true;
        const origin = this.extensionId ? WebviewViewPane_1.getOriginStore(this.storageService).getOrigin(this.id, this.extensionId) : undefined;
        const webview = this.webviewService.createWebviewOverlay({
            origin,
            providedViewType: this.id,
            title: this.title,
            options: { purpose: "webviewView"  },
            contentOptions: {},
            extension: this.extensionId ? { id: this.extensionId } : undefined
        });
        webview.state = this.viewState[storageKeys.webviewState];
        this._webview.value = webview;
        if (this._container) {
            this.layoutWebview();
        }
        this._webviewDisposables.add((0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_4__.toDisposable)(() => {
            this._webview.value?.release(this);
        }));
        this._webviewDisposables.add(webview.onDidUpdateState(() => {
            this.viewState[storageKeys.webviewState] = webview.state;
        }));
        for (const event of [vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__.EventType.DRAG, vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__.EventType.DRAG_END, vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__.EventType.DRAG_ENTER, vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__.EventType.DRAG_LEAVE, vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__.EventType.DRAG_START]) {
            this._webviewDisposables.add((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(this._webview.value.container, event, e => {
                e.preventDefault();
                e.stopImmediatePropagation();
                this.dropTargetElement.dispatchEvent(( new DragEvent(e.type, e)));
            }));
        }
        this._webviewDisposables.add(( new vscode_vscode_vs_workbench_contrib_webview_browser_webviewWindowDragMonitor__WEBPACK_IMPORTED_MODULE_22__.WebviewWindowDragMonitor((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__.getWindow)(this.element), () => this._webview.value)));
        const source = this._webviewDisposables.add(( new vscode_vscode_vs_base_common_cancellation__WEBPACK_IMPORTED_MODULE_2__.CancellationTokenSource()));
        this.withProgress(async () => {
            await this.extensionService.activateByEvent(`onView:${this.id}`);
            const self = this;
            const webviewView = {
                webview,
                onDidChangeVisibility: this.onDidChangeBodyVisibility,
                onDispose: this.onDispose,
                get title() { return self.setTitle; },
                set title(value) { self.updateTitle(value); },
                get description() { return self.titleDescription; },
                set description(value) { self.updateTitleDescription(value); },
                get badge() { return self.badge; },
                set badge(badge) { self.updateBadge(badge); },
                dispose: () => {
                    this._activated = false;
                    this._webview.clear();
                    this._webviewDisposables.clear();
                },
                show: (preserveFocus) => {
                    this.viewService.openView(this.id, !preserveFocus);
                }
            };
            await this.webviewViewService.resolve(this.id, webviewView, source.token);
        });
    }
    updateTitle(value) {
        this.setTitle = value;
        super.updateTitle(typeof value === 'string' ? value : this.defaultTitle);
    }
    updateBadge(badge) {
        if (this.badge?.value === badge?.value &&
            this.badge?.tooltip === badge?.tooltip) {
            return;
        }
        this.badge = badge;
        if (badge) {
            const activity = {
                badge: ( new vscode_vscode_vs_workbench_services_activity_common_activity__WEBPACK_IMPORTED_MODULE_24__.NumberBadge(badge.value, () => badge.tooltip)),
                priority: 150
            };
            this.activity.value = this.activityService.showViewActivity(this.id, activity);
        }
    }
    async withProgress(task) {
        return this.progressService.withProgress({ location: this.id, delay: 500 }, task);
    }
    onDidScrollRoot() {
        this.layoutWebview();
    }
    doLayoutWebview(dimension) {
        const webviewEntry = this._webview.value;
        if (!this._container || !webviewEntry) {
            return;
        }
        if (!this._rootContainer || !this._rootContainer.isConnected) {
            this._rootContainer = this.findRootContainer(this._container);
        }
        webviewEntry.layoutWebviewOverElement(this._container, dimension, this._rootContainer);
    }
    layoutWebview(dimension) {
        this.doLayoutWebview(dimension);
        clearTimeout(this._repositionTimeout);
        this._repositionTimeout = setTimeout(() => this.doLayoutWebview(dimension), 200);
    }
    findRootContainer(container) {
        return (0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_1__.findParentWithClass)(container, 'monaco-scrollable-element') ?? undefined;
    }
};
WebviewViewPane = WebviewViewPane_1 = ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_6__.IConfigurationService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_7__.IContextKeyService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_platform_contextview_browser_contextView_service__WEBPACK_IMPORTED_MODULE_8__.IContextMenuService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_9__.IInstantiationService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, vscode_vscode_vs_platform_keybinding_common_keybinding_service__WEBPACK_IMPORTED_MODULE_10__.IKeybindingService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, vscode_vscode_vs_platform_opener_common_opener_service__WEBPACK_IMPORTED_MODULE_11__.IOpenerService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, vscode_vscode_vs_platform_telemetry_common_telemetry_service__WEBPACK_IMPORTED_MODULE_14__.ITelemetryService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, vscode_vscode_vs_platform_hover_browser_hover_service__WEBPACK_IMPORTED_MODULE_27__.IHoverService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, vscode_vscode_vs_platform_theme_common_themeService_service__WEBPACK_IMPORTED_MODULE_15__.IThemeService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, vscode_vscode_vs_workbench_common_views_service__WEBPACK_IMPORTED_MODULE_18__.IViewDescriptorService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(11, vscode_vscode_vs_workbench_services_activity_common_activity_service__WEBPACK_IMPORTED_MODULE_25__.IActivityService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(12, vscode_vscode_vs_workbench_services_extensions_common_extensions_service__WEBPACK_IMPORTED_MODULE_26__.IExtensionService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(13, vscode_vscode_vs_platform_progress_common_progress_service__WEBPACK_IMPORTED_MODULE_12__.IProgressService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(14, vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_13__.IStorageService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(15, vscode_vscode_vs_workbench_services_views_common_viewsService_service__WEBPACK_IMPORTED_MODULE_19__.IViewsService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(16, vscode_vscode_vs_workbench_contrib_webview_browser_webview_service__WEBPACK_IMPORTED_MODULE_21__.IWebviewService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(17, vscode_vscode_vs_workbench_contrib_webviewView_browser_webviewViewService_service__WEBPACK_IMPORTED_MODULE_23__.IWebviewViewService))
], WebviewViewPane));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/webviewView/browser/webviewViewService.js":
/*!******************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/contrib/webviewView/browser/webviewViewService.js ***!
  \******************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WebviewViewService: () => (/* binding */ WebviewViewService)
/* harmony export */ });
/* harmony import */ var vscode_vscode_vs_base_common_async__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/base/common/async */ "./node_modules/vscode/vscode/src/vs/base/common/async.js");
/* harmony import */ var vscode_vscode_vs_base_common_cancellation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/common/cancellation */ "./node_modules/vscode/vscode/src/vs/base/common/cancellation.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");





class WebviewViewService extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__.Disposable {
    constructor() {
        super(...arguments);
        this._resolvers = ( new Map());
        this._awaitingRevival = ( new Map());
        this._onNewResolverRegistered = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_2__.Emitter()));
        this.onNewResolverRegistered = this._onNewResolverRegistered.event;
    }
    register(viewType, resolver) {
        if (( this._resolvers.has(viewType))) {
            throw ( new Error(`View resolver already registered for ${viewType}`));
        }
        this._resolvers.set(viewType, resolver);
        this._onNewResolverRegistered.fire({ viewType: viewType });
        const pending = this._awaitingRevival.get(viewType);
        if (pending) {
            resolver.resolve(pending.webview, vscode_vscode_vs_base_common_cancellation__WEBPACK_IMPORTED_MODULE_1__.CancellationToken.None).then(() => {
                this._awaitingRevival.delete(viewType);
                pending.resolve();
            });
        }
        return (0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__.toDisposable)(() => {
            this._resolvers.delete(viewType);
        });
    }
    resolve(viewType, webview, cancellation) {
        const resolver = this._resolvers.get(viewType);
        if (!resolver) {
            if (( this._awaitingRevival.has(viewType))) {
                throw ( new Error('View already awaiting revival'));
            }
            const { promise, resolve } = (0,vscode_vscode_vs_base_common_async__WEBPACK_IMPORTED_MODULE_0__.promiseWithResolvers)();
            this._awaitingRevival.set(viewType, { webview, resolve });
            return promise;
        }
        return resolver.resolve(webview, cancellation);
    }
}




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/services/activity/browser/activityService.js":
/*!*************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/services/activity/browser/activityService.js ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ActivityService: () => (/* binding */ ActivityService)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_activity_common_activity_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/activity/common/activity.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/activity/common/activity.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_views_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/views.service */ "./node_modules/vscode/vscode/src/vs/workbench/common/views.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_activity__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/activity */ "./node_modules/vscode/vscode/src/vs/workbench/common/activity.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/base/common/types */ "./node_modules/vscode/vscode/src/vs/base/common/types.js");









let ViewContainerActivityByView = class ViewContainerActivityByView extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_2__.Disposable {
    constructor(viewId, viewDescriptorService, activityService) {
        super();
        this.viewId = viewId;
        this.viewDescriptorService = viewDescriptorService;
        this.activityService = activityService;
        this.activity = undefined;
        this.activityDisposable = vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_2__.Disposable.None;
        this._register(vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_5__.Event.filter(this.viewDescriptorService.onDidChangeContainer, e => ( e.views.some(view => view.id === viewId)))(() => this.update()));
        this._register(vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_5__.Event.filter(this.viewDescriptorService.onDidChangeLocation, e => ( e.views.some(view => view.id === viewId)))(() => this.update()));
    }
    setActivity(activity) {
        this.activity = activity;
        this.update();
    }
    clearActivity() {
        this.activity = undefined;
        this.update();
    }
    update() {
        this.activityDisposable.dispose();
        const container = this.viewDescriptorService.getViewContainerByViewId(this.viewId);
        if (container && this.activity) {
            this.activityDisposable = this.activityService.showViewContainerActivity(container.id, this.activity);
        }
    }
    dispose() {
        this.activityDisposable.dispose();
        super.dispose();
    }
};
ViewContainerActivityByView = ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_workbench_common_views_service__WEBPACK_IMPORTED_MODULE_3__.IViewDescriptorService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_workbench_services_activity_common_activity_service__WEBPACK_IMPORTED_MODULE_1__.IActivityService))
], ViewContainerActivityByView));
let ActivityService = class ActivityService extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_2__.Disposable {
    constructor(viewDescriptorService, instantiationService) {
        super();
        this.viewDescriptorService = viewDescriptorService;
        this.instantiationService = instantiationService;
        this.viewActivities = ( new Map());
        this._onDidChangeActivity = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_5__.Emitter()));
        this.onDidChangeActivity = this._onDidChangeActivity.event;
        this.viewContainerActivities = ( new Map());
        this.globalActivities = ( new Map());
    }
    showViewContainerActivity(viewContainerId, activity) {
        const viewContainer = this.viewDescriptorService.getViewContainerById(viewContainerId);
        if (viewContainer) {
            let activities = this.viewContainerActivities.get(viewContainerId);
            if (!activities) {
                activities = [];
                this.viewContainerActivities.set(viewContainerId, activities);
            }
            for (let i = 0; i <= activities.length; i++) {
                if (i === activities.length || (0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_7__.isUndefined)(activity.priority)) {
                    activities.push(activity);
                    break;
                }
                else if ((0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_7__.isUndefined)(activities[i].priority) || activities[i].priority <= activity.priority) {
                    activities.splice(i, 0, activity);
                    break;
                }
            }
            this._onDidChangeActivity.fire(viewContainer);
            return (0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_2__.toDisposable)(() => {
                activities.splice(activities.indexOf(activity), 1);
                if (activities.length === 0) {
                    this.viewContainerActivities.delete(viewContainerId);
                }
                this._onDidChangeActivity.fire(viewContainer);
            });
        }
        return vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_2__.Disposable.None;
    }
    getViewContainerActivities(viewContainerId) {
        const viewContainer = this.viewDescriptorService.getViewContainerById(viewContainerId);
        if (viewContainer) {
            return this.viewContainerActivities.get(viewContainerId) ?? [];
        }
        return [];
    }
    showViewActivity(viewId, activity) {
        let maybeItem = this.viewActivities.get(viewId);
        if (maybeItem) {
            maybeItem.id++;
        }
        else {
            maybeItem = {
                id: 1,
                activity: this.instantiationService.createInstance(ViewContainerActivityByView, viewId)
            };
            this.viewActivities.set(viewId, maybeItem);
        }
        const id = maybeItem.id;
        maybeItem.activity.setActivity(activity);
        const item = maybeItem;
        return (0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_2__.toDisposable)(() => {
            if (item.id === id) {
                item.activity.dispose();
                this.viewActivities.delete(viewId);
            }
        });
    }
    showAccountsActivity(activity) {
        return this.showActivity(vscode_vscode_vs_workbench_common_activity__WEBPACK_IMPORTED_MODULE_4__.ACCOUNTS_ACTIVITY_ID, activity);
    }
    showGlobalActivity(activity) {
        return this.showActivity(vscode_vscode_vs_workbench_common_activity__WEBPACK_IMPORTED_MODULE_4__.GLOBAL_ACTIVITY_ID, activity);
    }
    getActivity(id) {
        return this.globalActivities.get(id) ?? [];
    }
    showActivity(id, activity) {
        let activities = this.globalActivities.get(id);
        if (!activities) {
            activities = [];
            this.globalActivities.set(id, activities);
        }
        activities.push(activity);
        this._onDidChangeActivity.fire(id);
        return (0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_2__.toDisposable)(() => {
            activities.splice(activities.indexOf(activity), 1);
            if (activities.length === 0) {
                this.globalActivities.delete(id);
            }
            this._onDidChangeActivity.fire(id);
        });
    }
};
ActivityService = ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_workbench_common_views_service__WEBPACK_IMPORTED_MODULE_3__.IViewDescriptorService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_6__.IInstantiationService))
], ActivityService));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/services/editor/browser/editorPaneService.js":
/*!*************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/services/editor/browser/editorPaneService.js ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EditorPaneService: () => (/* binding */ EditorPaneService)
/* harmony export */ });
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_editor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/editor */ "./node_modules/vscode/vscode/src/vs/workbench/browser/editor.js");



class EditorPaneService {
    constructor() {
        this.onWillInstantiateEditorPane = vscode_vscode_vs_workbench_browser_editor__WEBPACK_IMPORTED_MODULE_1__.EditorPaneDescriptor.onWillInstantiateEditorPane;
    }
    didInstantiateEditorPane(typeId) {
        return vscode_vscode_vs_workbench_browser_editor__WEBPACK_IMPORTED_MODULE_1__.EditorPaneDescriptor.didInstantiateEditorPane(typeId);
    }
}




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/services/editor/browser/editorResolverService.js":
/*!*****************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/services/editor/browser/editorResolverService.js ***!
  \*****************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EditorResolverService: () => (/* binding */ EditorResolverService)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_base_common_glob__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/common/glob */ "./node_modules/vscode/vscode/src/vs/base/common/glob.js");
/* harmony import */ var vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/common/arrays */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/base/common/resources */ "./node_modules/vscode/vscode/src/vs/base/common/resources.js");
/* harmony import */ var vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/base/common/uri */ "./node_modules/vscode/vscode/src/vs/base/common/uri.js");
/* harmony import */ var vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/platform/configuration/common/configuration.service */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var vscode_vscode_vs_platform_editor_common_editor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/platform/editor/common/editor */ "./node_modules/vscode/vscode/src/vs/platform/editor/common/editor.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/editor */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorGroupsService_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorGroupsService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorGroupsService.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/base/common/network */ "./node_modules/vscode/vscode/src/vs/base/common/network.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorResolverService */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorResolverService.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_platform_quickinput_common_quickInput_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/platform/quickinput/common/quickInput.service */ "./node_modules/vscode/vscode/src/vs/platform/quickinput/common/quickInput.service.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_platform_notification_common_notification__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/platform/notification/common/notification */ "./node_modules/vscode/vscode/src/vs/platform/notification/common/notification.js");
/* harmony import */ var vscode_vscode_vs_platform_notification_common_notification_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/platform/notification/common/notification.service */ "./node_modules/vscode/vscode/src/vs/platform/notification/common/notification.service.js");
/* harmony import */ var vscode_vscode_vs_platform_telemetry_common_telemetry_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/platform/telemetry/common/telemetry.service */ "./node_modules/vscode/vscode/src/vs/platform/telemetry/common/telemetry.service.js");
/* harmony import */ var vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! vscode/vscode/vs/platform/storage/common/storage.service */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_extensions_common_extensions_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/extensions/common/extensions.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/extensions/common/extensions.service.js");
/* harmony import */ var vscode_vscode_vs_platform_log_common_log_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! vscode/vscode/vs/platform/log/common/log.service */ "./node_modules/vscode/vscode/src/vs/platform/log/common/log.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorGroupFinder__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorGroupFinder */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorGroupFinder.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_editor_sideBySideEditorInput__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/editor/sideBySideEditorInput */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/sideBySideEditorInput.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_base_common_severity__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! vscode/vscode/vs/base/common/severity */ "./node_modules/vscode/vscode/src/vs/base/common/severity.js");


























var EditorResolverService_1;
let EditorResolverService = class EditorResolverService extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__.Disposable {
    static { EditorResolverService_1 = this; }
    static { this.configureDefaultID = 'promptOpenWith.configureDefault'; }
    static { this.cacheStorageID = 'editorOverrideService.cache'; }
    static { this.conflictingDefaultsStorageID = 'editorOverrideService.conflictingDefaults'; }
    constructor(editorGroupService, instantiationService, configurationService, quickInputService, notificationService, telemetryService, storageService, extensionService, logService) {
        super();
        this.editorGroupService = editorGroupService;
        this.instantiationService = instantiationService;
        this.configurationService = configurationService;
        this.quickInputService = quickInputService;
        this.notificationService = notificationService;
        this.telemetryService = telemetryService;
        this.storageService = storageService;
        this.extensionService = extensionService;
        this.logService = logService;
        this._onDidChangeEditorRegistrations = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_23__.PauseableEmitter())));
        this.onDidChangeEditorRegistrations = this._onDidChangeEditorRegistrations.event;
        this._editors = ( (new Map()));
        this._flattenedEditors = ( (new Map()));
        this._shouldReFlattenEditors = true;
        this.cache = ( (new Set(
            JSON.parse(this.storageService.get(EditorResolverService_1.cacheStorageID, 0 , JSON.stringify([])))
        )));
        this.storageService.remove(EditorResolverService_1.cacheStorageID, 0 );
        this._register(this.storageService.onWillSaveState(() => {
            this.cacheEditors();
        }));
        this._register(this.extensionService.onDidRegisterExtensions(() => {
            this.cache = undefined;
        }));
    }
    resolveUntypedInputAndGroup(editor, preferredGroup) {
        const untypedEditor = editor;
        const findGroupResult = this.instantiationService.invokeFunction(vscode_vscode_vs_workbench_services_editor_common_editorGroupFinder__WEBPACK_IMPORTED_MODULE_21__.findGroup, untypedEditor, preferredGroup);
        if (findGroupResult instanceof Promise) {
            return findGroupResult.then(([group, activation]) => [untypedEditor, group, activation]);
        }
        else {
            const [group, activation] = findGroupResult;
            return [untypedEditor, group, activation];
        }
    }
    async resolveEditor(editor, preferredGroup) {
        this._flattenedEditors = this._flattenEditorsMap();
        if ((0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_8__.isResourceSideBySideEditorInput)(editor)) {
            return this.doResolveSideBySideEditor(editor, preferredGroup);
        }
        let resolvedUntypedAndGroup;
        const resolvedUntypedAndGroupResult = this.resolveUntypedInputAndGroup(editor, preferredGroup);
        if (resolvedUntypedAndGroupResult instanceof Promise) {
            resolvedUntypedAndGroup = await resolvedUntypedAndGroupResult;
        }
        else {
            resolvedUntypedAndGroup = resolvedUntypedAndGroupResult;
        }
        if (!resolvedUntypedAndGroup) {
            return 2 ;
        }
        const [untypedEditor, group, activation] = resolvedUntypedAndGroup;
        if (activation) {
            untypedEditor.options = { ...untypedEditor.options, activation };
        }
        let resource = vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_8__.EditorResourceAccessor.getCanonicalUri(untypedEditor, { supportSideBySide: vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_8__.SideBySideEditor.PRIMARY });
        if (this.cache && resource && this.resourceMatchesCache(resource)) {
            await this.extensionService.whenInstalledExtensionsRegistered();
        }
        if (resource === undefined) {
            resource = ( (vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_5__.URI.from({ scheme: vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_10__.Schemas.untitled })));
        }
        else if (resource.scheme === undefined || resource === null) {
            return 2 ;
        }
        if (untypedEditor.options?.override === vscode_vscode_vs_platform_editor_common_editor__WEBPACK_IMPORTED_MODULE_7__.EditorResolution.PICK) {
            const picked = await this.doPickEditor(untypedEditor);
            if (!picked) {
                return 1 ;
            }
            untypedEditor.options = picked;
        }
        let { editor: selectedEditor, conflictingDefault } = this.getEditor(resource, untypedEditor.options?.override);
        if (!selectedEditor && (untypedEditor.options?.override || (0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_8__.isEditorInputWithOptions)(editor))) {
            return 2 ;
        }
        else if (!selectedEditor) {
            const resolvedEditor = this.getEditor(resource, vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_8__.DEFAULT_EDITOR_ASSOCIATION.id);
            selectedEditor = resolvedEditor?.editor;
            conflictingDefault = resolvedEditor?.conflictingDefault;
            if (!selectedEditor) {
                return 2 ;
            }
        }
        if ((0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_8__.isResourceDiffEditorInput)(untypedEditor) && untypedEditor.options?.override === undefined) {
            let resource2 = vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_8__.EditorResourceAccessor.getCanonicalUri(untypedEditor, { supportSideBySide: vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_8__.SideBySideEditor.SECONDARY });
            if (!resource2) {
                resource2 = ( (vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_5__.URI.from({ scheme: vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_10__.Schemas.untitled })));
            }
            const { editor: selectedEditor2 } = this.getEditor(resource2, undefined);
            if (!selectedEditor2 || selectedEditor.editorInfo.id !== selectedEditor2.editorInfo.id) {
                const { editor: selectedDiff, conflictingDefault: conflictingDefaultDiff } = this.getEditor(resource, vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_8__.DEFAULT_EDITOR_ASSOCIATION.id);
                selectedEditor = selectedDiff;
                conflictingDefault = conflictingDefaultDiff;
            }
            if (!selectedEditor) {
                return 2 ;
            }
        }
        untypedEditor.options = { override: selectedEditor.editorInfo.id, ...untypedEditor.options };
        if (selectedEditor.editorFactoryObject.createDiffEditorInput === undefined && (0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_8__.isResourceDiffEditorInput)(untypedEditor)) {
            return 2 ;
        }
        const input = await this.doResolveEditor(untypedEditor, group, selectedEditor);
        if (conflictingDefault && input) {
            await this.doHandleConflictingDefaults(resource, selectedEditor.editorInfo.label, untypedEditor, input.editor, group);
        }
        if (input) {
            this.sendEditorResolutionTelemetry(input.editor);
            if (input.editor.editorId !== selectedEditor.editorInfo.id) {
                this.logService.warn(`Editor ID Mismatch: ${input.editor.editorId} !== ${selectedEditor.editorInfo.id}. This will cause bugs. Please ensure editorInput.editorId matches the registered id`);
            }
            return { ...input, group };
        }
        return 1 ;
    }
    async doResolveSideBySideEditor(editor, preferredGroup) {
        const primaryResolvedEditor = await this.resolveEditor(editor.primary, preferredGroup);
        if (!(0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_8__.isEditorInputWithOptionsAndGroup)(primaryResolvedEditor)) {
            return 2 ;
        }
        const secondaryResolvedEditor = await this.resolveEditor(editor.secondary, primaryResolvedEditor.group ?? preferredGroup);
        if (!(0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_8__.isEditorInputWithOptionsAndGroup)(secondaryResolvedEditor)) {
            return 2 ;
        }
        return {
            group: primaryResolvedEditor.group ?? secondaryResolvedEditor.group,
            editor: this.instantiationService.createInstance(vscode_vscode_vs_workbench_common_editor_sideBySideEditorInput__WEBPACK_IMPORTED_MODULE_22__.SideBySideEditorInput, editor.label, editor.description, secondaryResolvedEditor.editor, primaryResolvedEditor.editor),
            options: editor.options
        };
    }
    bufferChangeEvents(callback) {
        this._onDidChangeEditorRegistrations.pause();
        try {
            callback();
        }
        finally {
            this._onDidChangeEditorRegistrations.resume();
        }
    }
    registerEditor(globPattern, editorInfo, options, editorFactoryObject) {
        let registeredEditor = this._editors.get(globPattern);
        if (registeredEditor === undefined) {
            registeredEditor = ( (new Map()));
            this._editors.set(globPattern, registeredEditor);
        }
        let editorsWithId = registeredEditor.get(editorInfo.id);
        if (editorsWithId === undefined) {
            editorsWithId = [];
        }
        const remove = (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_2__.insert)(editorsWithId, {
            globPattern,
            editorInfo,
            options,
            editorFactoryObject
        });
        registeredEditor.set(editorInfo.id, editorsWithId);
        this._shouldReFlattenEditors = true;
        this._onDidChangeEditorRegistrations.fire();
        return (0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__.toDisposable)(() => {
            remove();
            if (editorsWithId && editorsWithId.length === 0) {
                registeredEditor?.delete(editorInfo.id);
            }
            this._shouldReFlattenEditors = true;
            this._onDidChangeEditorRegistrations.fire();
        });
    }
    getAssociationsForResource(resource) {
        const associations = this.getAllUserAssociations();
        let matchingAssociations = associations.filter(association => association.filenamePattern && (0,vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_11__.globMatchesResource)(association.filenamePattern, resource));
        matchingAssociations = matchingAssociations.sort((a, b) => (b.filenamePattern?.length ?? 0) - (a.filenamePattern?.length ?? 0));
        const allEditors = this._registeredEditors;
        return matchingAssociations.filter(association => allEditors.find(c => c.editorInfo.id === association.viewType));
    }
    getAllUserAssociations() {
        const inspectedEditorAssociations = this.configurationService.inspect(vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_11__.editorsAssociationsSettingId) || {};
        const defaultAssociations = inspectedEditorAssociations.defaultValue ?? {};
        const workspaceAssociations = inspectedEditorAssociations.workspaceValue ?? {};
        const userAssociations = inspectedEditorAssociations.userValue ?? {};
        const rawAssociations = { ...workspaceAssociations };
        for (const [key, value] of Object.entries({ ...defaultAssociations, ...userAssociations })) {
            if (rawAssociations[key] === undefined) {
                rawAssociations[key] = value;
            }
        }
        const associations = [];
        for (const [key, value] of Object.entries(rawAssociations)) {
            const association = {
                filenamePattern: key,
                viewType: value
            };
            associations.push(association);
        }
        return associations;
    }
    _flattenEditorsMap() {
        if (!this._shouldReFlattenEditors) {
            return this._flattenedEditors;
        }
        this._shouldReFlattenEditors = false;
        const editors = ( (new Map()));
        for (const [glob, value] of this._editors) {
            const registeredEditors = [];
            for (const editors of ( (value.values()))) {
                let registeredEditor = undefined;
                for (const editor of editors) {
                    if (!registeredEditor) {
                        registeredEditor = {
                            editorInfo: editor.editorInfo,
                            globPattern: editor.globPattern,
                            options: {},
                            editorFactoryObject: {}
                        };
                    }
                    registeredEditor.options = { ...registeredEditor.options, ...editor.options };
                    registeredEditor.editorFactoryObject = { ...registeredEditor.editorFactoryObject, ...editor.editorFactoryObject };
                }
                if (registeredEditor) {
                    registeredEditors.push(registeredEditor);
                }
            }
            editors.set(glob, registeredEditors);
        }
        return editors;
    }
    get _registeredEditors() {
        return Array.from(( (this._flattenedEditors.values()))).flat();
    }
    updateUserAssociations(globPattern, editorID) {
        const newAssociation = { viewType: editorID, filenamePattern: globPattern };
        const currentAssociations = this.getAllUserAssociations();
        const newSettingObject = Object.create(null);
        for (const association of [...currentAssociations, newAssociation]) {
            if (association.filenamePattern) {
                newSettingObject[association.filenamePattern] = association.viewType;
            }
        }
        this.configurationService.updateValue(vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_11__.editorsAssociationsSettingId, newSettingObject);
    }
    findMatchingEditors(resource) {
        const userSettings = this.getAssociationsForResource(resource);
        const matchingEditors = [];
        for (const [key, editors] of this._flattenedEditors) {
            for (const editor of editors) {
                const foundInSettings = userSettings.find(setting => setting.viewType === editor.editorInfo.id);
                if ((foundInSettings && editor.editorInfo.priority !== vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_11__.RegisteredEditorPriority.exclusive) || (0,vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_11__.globMatchesResource)(key, resource)) {
                    matchingEditors.push(editor);
                }
            }
        }
        return matchingEditors.sort((a, b) => {
            if ((0,vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_11__.priorityToRank)(b.editorInfo.priority) === (0,vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_11__.priorityToRank)(a.editorInfo.priority) && typeof b.globPattern === 'string' && typeof a.globPattern === 'string') {
                return b.globPattern.length - a.globPattern.length;
            }
            return (0,vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_11__.priorityToRank)(b.editorInfo.priority) - (0,vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_11__.priorityToRank)(a.editorInfo.priority);
        });
    }
    getEditors(resource) {
        this._flattenedEditors = this._flattenEditorsMap();
        if (vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_5__.URI.isUri(resource)) {
            const editors = this.findMatchingEditors(resource);
            if (editors.find(e => e.editorInfo.priority === vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_11__.RegisteredEditorPriority.exclusive)) {
                return [];
            }
            return (
                 (editors.map(editor => editor.editorInfo))
            );
        }
        return (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_2__.distinct)(( (this._registeredEditors.map(editor => editor.editorInfo))), editor => editor.id);
    }
    getEditor(resource, editorId) {
        const findMatchingEditor = (editors, viewType) => {
            return editors.find((editor) => {
                if (editor.options && editor.options.canSupportResource !== undefined) {
                    return editor.editorInfo.id === viewType && editor.options.canSupportResource(resource);
                }
                return editor.editorInfo.id === viewType;
            });
        };
        if (editorId && editorId !== vscode_vscode_vs_platform_editor_common_editor__WEBPACK_IMPORTED_MODULE_7__.EditorResolution.EXCLUSIVE_ONLY) {
            const registeredEditors = this._registeredEditors;
            return {
                editor: findMatchingEditor(registeredEditors, editorId),
                conflictingDefault: false
            };
        }
        const editors = this.findMatchingEditors(resource);
        const associationsFromSetting = this.getAssociationsForResource(resource);
        const minPriority = editorId === vscode_vscode_vs_platform_editor_common_editor__WEBPACK_IMPORTED_MODULE_7__.EditorResolution.EXCLUSIVE_ONLY ? vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_11__.RegisteredEditorPriority.exclusive : vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_11__.RegisteredEditorPriority.builtin;
        let possibleEditors = editors.filter(editor => (0,vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_11__.priorityToRank)(editor.editorInfo.priority) >= (0,vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_11__.priorityToRank)(minPriority) && editor.editorInfo.id !== vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_8__.DEFAULT_EDITOR_ASSOCIATION.id);
        if (possibleEditors.length === 0) {
            return {
                editor: associationsFromSetting[0] && minPriority !== vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_11__.RegisteredEditorPriority.exclusive ? findMatchingEditor(editors, associationsFromSetting[0].viewType) : undefined,
                conflictingDefault: false
            };
        }
        const selectedViewType = possibleEditors[0].editorInfo.priority === vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_11__.RegisteredEditorPriority.exclusive ?
            possibleEditors[0].editorInfo.id :
            associationsFromSetting[0]?.viewType || possibleEditors[0].editorInfo.id;
        let conflictingDefault = false;
        possibleEditors = possibleEditors.filter(editor => editor.editorInfo.priority !== vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_11__.RegisteredEditorPriority.exclusive);
        if (associationsFromSetting.length === 0 && possibleEditors.length > 1) {
            conflictingDefault = true;
        }
        return {
            editor: findMatchingEditor(editors, selectedViewType),
            conflictingDefault
        };
    }
    async doResolveEditor(editor, group, selectedEditor) {
        let options = editor.options;
        const resource = vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_8__.EditorResourceAccessor.getCanonicalUri(editor, { supportSideBySide: vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_8__.SideBySideEditor.PRIMARY });
        if (options && typeof options.activation === 'undefined') {
            options = { ...options, activation: options.preserveFocus ? vscode_vscode_vs_platform_editor_common_editor__WEBPACK_IMPORTED_MODULE_7__.EditorActivation.RESTORE : undefined };
        }
        if ((0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_8__.isResourceMergeEditorInput)(editor)) {
            if (!selectedEditor.editorFactoryObject.createMergeEditorInput) {
                return;
            }
            const inputWithOptions = await selectedEditor.editorFactoryObject.createMergeEditorInput(editor, group);
            return { editor: inputWithOptions.editor, options: inputWithOptions.options ?? options };
        }
        if ((0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_8__.isResourceDiffEditorInput)(editor)) {
            if (!selectedEditor.editorFactoryObject.createDiffEditorInput) {
                return;
            }
            const inputWithOptions = await selectedEditor.editorFactoryObject.createDiffEditorInput(editor, group);
            return { editor: inputWithOptions.editor, options: inputWithOptions.options ?? options };
        }
        if ((0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_8__.isResourceMultiDiffEditorInput)(editor)) {
            if (!selectedEditor.editorFactoryObject.createMultiDiffEditorInput) {
                return;
            }
            const inputWithOptions = await selectedEditor.editorFactoryObject.createMultiDiffEditorInput(editor, group);
            return { editor: inputWithOptions.editor, options: inputWithOptions.options ?? options };
        }
        if ((0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_8__.isResourceSideBySideEditorInput)(editor)) {
            throw ( (new Error(`Untyped side by side editor input not supported here.`)));
        }
        if ((0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_8__.isUntitledResourceEditorInput)(editor)) {
            if (!selectedEditor.editorFactoryObject.createUntitledEditorInput) {
                return;
            }
            const inputWithOptions = await selectedEditor.editorFactoryObject.createUntitledEditorInput(editor, group);
            return { editor: inputWithOptions.editor, options: inputWithOptions.options ?? options };
        }
        if (resource === undefined) {
            throw ( (new Error(`Undefined resource on non untitled editor input.`)));
        }
        const singleEditorPerResource = typeof selectedEditor.options?.singlePerResource === 'function' ? selectedEditor.options.singlePerResource() : selectedEditor.options?.singlePerResource;
        if (singleEditorPerResource) {
            const existingEditors = this.findExistingEditorsForResource(resource, selectedEditor.editorInfo.id);
            if (existingEditors.length) {
                const editor = await this.moveExistingEditorForResource(existingEditors, group);
                if (editor) {
                    return { editor, options };
                }
                else {
                    return;
                }
            }
        }
        if (!selectedEditor.editorFactoryObject.createEditorInput) {
            return;
        }
        const inputWithOptions = await selectedEditor.editorFactoryObject.createEditorInput(editor, group);
        options = inputWithOptions.options ?? options;
        const input = inputWithOptions.editor;
        return { editor: input, options };
    }
    async moveExistingEditorForResource(existingEditorsForResource, targetGroup) {
        const editorToUse = existingEditorsForResource[0];
        for (const { editor, group } of existingEditorsForResource) {
            if (editor !== editorToUse.editor) {
                const closed = await group.closeEditor(editor);
                if (!closed) {
                    return;
                }
            }
        }
        if (targetGroup.id !== editorToUse.group.id) {
            const moved = editorToUse.group.moveEditor(editorToUse.editor, targetGroup);
            if (!moved) {
                return;
            }
        }
        return editorToUse.editor;
    }
    findExistingEditorsForResource(resource, editorId) {
        const out = [];
        const orderedGroups = (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_2__.distinct)([
            ...this.editorGroupService.groups,
        ]);
        for (const group of orderedGroups) {
            for (const editor of group.editors) {
                if ((0,vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_4__.isEqual)(editor.resource, resource) && editor.editorId === editorId) {
                    out.push({ editor, group });
                }
            }
        }
        return out;
    }
    async doHandleConflictingDefaults(resource, editorName, untypedInput, currentEditor, group) {
        const editors = this.findMatchingEditors(resource);
        const storedChoices = JSON.parse(this.storageService.get(EditorResolverService_1.conflictingDefaultsStorageID, 0 , '{}'));
        const globForResource = `*${(0,vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_4__.extname)(resource)}`;
        const writeCurrentEditorsToStorage = () => {
            storedChoices[globForResource] = [];
            editors.forEach(editor => storedChoices[globForResource].push(editor.editorInfo.id));
            this.storageService.store(EditorResolverService_1.conflictingDefaultsStorageID, JSON.stringify(storedChoices), 0 , 1 );
        };
        if (storedChoices[globForResource] && storedChoices[globForResource].find(editorID => editorID === currentEditor.editorId)) {
            return;
        }
        const handle = this.notificationService.prompt(vscode_vscode_vs_base_common_severity__WEBPACK_IMPORTED_MODULE_24__["default"].Warning, ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_14__.localize)(4160, 'There are multiple default editors available for the resource.')), [{
                label: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_14__.localize)(4161, 'Configure Default')),
                run: async () => {
                    const picked = await this.doPickEditor(untypedInput, true);
                    if (!picked) {
                        return;
                    }
                    untypedInput.options = picked;
                    const replacementEditor = await this.resolveEditor(untypedInput, group);
                    if (replacementEditor === 1  || replacementEditor === 2 ) {
                        return;
                    }
                    group.replaceEditors([
                        {
                            editor: currentEditor,
                            replacement: replacementEditor.editor,
                            options: replacementEditor.options ?? picked,
                        }
                    ]);
                }
            },
            {
                label: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_14__.localize)(4162, 'Keep {0}', editorName)),
                run: writeCurrentEditorsToStorage
            }
        ]);
        const onCloseListener = handle.onDidClose(() => {
            writeCurrentEditorsToStorage();
            onCloseListener.dispose();
        });
    }
    mapEditorsToQuickPickEntry(resource, showDefaultPicker) {
        const currentEditor = this.editorGroupService.activeGroup.findEditors(resource).at(0);
        let registeredEditors = resource.scheme === vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_10__.Schemas.untitled ? this._registeredEditors.filter(e => e.editorInfo.priority !== vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_11__.RegisteredEditorPriority.exclusive) : this.findMatchingEditors(resource);
        registeredEditors = (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_2__.distinct)(registeredEditors, c => c.editorInfo.id);
        const defaultSetting = this.getAssociationsForResource(resource)[0]?.viewType;
        registeredEditors = registeredEditors.sort((a, b) => {
            if (a.editorInfo.id === vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_8__.DEFAULT_EDITOR_ASSOCIATION.id) {
                return -1;
            }
            else if (b.editorInfo.id === vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_8__.DEFAULT_EDITOR_ASSOCIATION.id) {
                return 1;
            }
            else {
                return (0,vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_11__.priorityToRank)(b.editorInfo.priority) - (0,vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_11__.priorityToRank)(a.editorInfo.priority);
            }
        });
        const quickPickEntries = [];
        const currentlyActiveLabel = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_14__.localize)(4163, "Active"));
        const currentDefaultLabel = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_14__.localize)(4164, "Default"));
        const currentDefaultAndActiveLabel = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_14__.localize)(4165, "Active and Default"));
        let defaultViewType = defaultSetting;
        if (!defaultViewType && registeredEditors.length > 2 && registeredEditors[1]?.editorInfo.priority !== vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_11__.RegisteredEditorPriority.option) {
            defaultViewType = registeredEditors[1]?.editorInfo.id;
        }
        if (!defaultViewType) {
            defaultViewType = vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_8__.DEFAULT_EDITOR_ASSOCIATION.id;
        }
        registeredEditors.forEach(editor => {
            const currentViewType = currentEditor?.editorId ?? vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_8__.DEFAULT_EDITOR_ASSOCIATION.id;
            const isActive = currentEditor ? editor.editorInfo.id === currentViewType : false;
            const isDefault = editor.editorInfo.id === defaultViewType;
            const quickPickEntry = {
                id: editor.editorInfo.id,
                label: editor.editorInfo.label,
                description: isActive && isDefault ? currentDefaultAndActiveLabel : isActive ? currentlyActiveLabel : isDefault ? currentDefaultLabel : undefined,
                detail: editor.editorInfo.detail ?? editor.editorInfo.priority,
            };
            quickPickEntries.push(quickPickEntry);
        });
        if (!showDefaultPicker && (0,vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_4__.extname)(resource) !== '') {
            const separator = { type: 'separator' };
            quickPickEntries.push(separator);
            const configureDefaultEntry = {
                id: EditorResolverService_1.configureDefaultID,
                label: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_14__.localize)(4166, "Configure default editor for '{0}'...", `*${(0,vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_4__.extname)(resource)}`)),
            };
            quickPickEntries.push(configureDefaultEntry);
        }
        return quickPickEntries;
    }
    async doPickEditor(editor, showDefaultPicker) {
        let resource = vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_8__.EditorResourceAccessor.getOriginalUri(editor, { supportSideBySide: vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_8__.SideBySideEditor.PRIMARY });
        if (resource === undefined) {
            resource = ( (vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_5__.URI.from({ scheme: vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_10__.Schemas.untitled })));
        }
        const editorPicks = this.mapEditorsToQuickPickEntry(resource, showDefaultPicker);
        const disposables = ( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__.DisposableStore()));
        const editorPicker = disposables.add(this.quickInputService.createQuickPick({ useSeparators: true }));
        const placeHolderMessage = showDefaultPicker ?
            ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_14__.localize)(4167, "Select new default editor for '{0}'", `*${(0,vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_4__.extname)(resource)}`)) :
            ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_14__.localize)(4168, "Select editor for '{0}'", (0,vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_4__.basename)(resource)));
        editorPicker.placeholder = placeHolderMessage;
        editorPicker.canAcceptInBackground = true;
        editorPicker.items = editorPicks;
        const firstItem = editorPicker.items.find(item => item.type === 'item');
        if (firstItem) {
            editorPicker.selectedItems = [firstItem];
        }
        const picked = await ( (new Promise(resolve => {
            disposables.add(editorPicker.onDidAccept(e => {
                let result = undefined;
                if (editorPicker.selectedItems.length === 1) {
                    result = {
                        item: editorPicker.selectedItems[0],
                        keyMods: editorPicker.keyMods,
                        openInBackground: e.inBackground
                    };
                }
                if (resource && showDefaultPicker && result?.item.id) {
                    this.updateUserAssociations(`*${(0,vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_4__.extname)(resource)}`, result.item.id);
                }
                resolve(result);
            }));
            disposables.add(editorPicker.onDidHide(() => {
                disposables.dispose();
                resolve(undefined);
            }));
            disposables.add(editorPicker.onDidTriggerItemButton(e => {
                resolve({ item: e.item, openInBackground: false });
                if (resource && e.item && e.item.id) {
                    this.updateUserAssociations(`*${(0,vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_4__.extname)(resource)}`, e.item.id);
                }
            }));
            editorPicker.show();
        })));
        editorPicker.dispose();
        if (picked) {
            if (picked.item.id === EditorResolverService_1.configureDefaultID) {
                return this.doPickEditor(editor, true);
            }
            const targetOptions = {
                ...editor.options,
                override: picked.item.id,
                preserveFocus: picked.openInBackground || editor.options?.preserveFocus,
            };
            return targetOptions;
        }
        return undefined;
    }
    sendEditorResolutionTelemetry(chosenInput) {
        if (chosenInput.editorId) {
            this.telemetryService.publicLog2('override.viewType', { viewType: chosenInput.editorId });
        }
    }
    cacheEditors() {
        const cacheStorage = ( (new Set()));
        for (const [globPattern, contribPoint] of this._flattenedEditors) {
            const nonOptional = !!contribPoint.find(c => c.editorInfo.priority !== vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_11__.RegisteredEditorPriority.option && c.editorInfo.id !== vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_8__.DEFAULT_EDITOR_ASSOCIATION.id);
            if (!nonOptional) {
                continue;
            }
            if ((0,vscode_vscode_vs_base_common_glob__WEBPACK_IMPORTED_MODULE_1__.isRelativePattern)(globPattern)) {
                cacheStorage.add(`${globPattern.pattern}`);
            }
            else {
                cacheStorage.add(globPattern);
            }
        }
        const userAssociations = this.getAllUserAssociations();
        for (const association of userAssociations) {
            if (association.filenamePattern) {
                cacheStorage.add(association.filenamePattern);
            }
        }
        this.storageService.store(EditorResolverService_1.cacheStorageID, JSON.stringify(Array.from(cacheStorage)), 0 , 1 );
    }
    resourceMatchesCache(resource) {
        if (!this.cache) {
            return false;
        }
        for (const cacheEntry of this.cache) {
            if ((0,vscode_vscode_vs_workbench_services_editor_common_editorResolverService__WEBPACK_IMPORTED_MODULE_11__.globMatchesResource)(cacheEntry, resource)) {
                return true;
            }
        }
        return false;
    }
};
EditorResolverService = EditorResolverService_1 = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_workbench_services_editor_common_editorGroupsService_service__WEBPACK_IMPORTED_MODULE_9__.IEditorGroupsService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_12__.IInstantiationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_6__.IConfigurationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_platform_quickinput_common_quickInput_service__WEBPACK_IMPORTED_MODULE_13__.IQuickInputService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_platform_notification_common_notification_service__WEBPACK_IMPORTED_MODULE_16__.INotificationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, vscode_vscode_vs_platform_telemetry_common_telemetry_service__WEBPACK_IMPORTED_MODULE_17__.ITelemetryService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_18__.IStorageService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, vscode_vscode_vs_workbench_services_extensions_common_extensions_service__WEBPACK_IMPORTED_MODULE_19__.IExtensionService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, vscode_vscode_vs_platform_log_common_log_service__WEBPACK_IMPORTED_MODULE_20__.ILogService)))
], EditorResolverService)));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/services/history/browser/historyService.js":
/*!***********************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/services/history/browser/historyService.js ***!
  \***********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EditorNavigationStack: () => (/* binding */ EditorNavigationStack),
/* harmony export */   HistoryService: () => (/* binding */ HistoryService)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/common/uri */ "./node_modules/vscode/vscode/src/vs/base/common/uri.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/editor */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_history_common_history_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/history/common/history.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/history/common/history.service.js");
/* harmony import */ var vscode_vscode_vs_platform_files_common_files__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/platform/files/common/files */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.js");
/* harmony import */ var vscode_vscode_vs_platform_files_common_files_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/platform/files/common/files.service */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.service.js");
/* harmony import */ var vscode_vscode_vs_platform_workspace_common_workspace_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/platform/workspace/common/workspace.service */ "./node_modules/vscode/vscode/src/vs/platform/workspace/common/workspace.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/platform/storage/common/storage.service */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/platform/configuration/common/configuration.service */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_editor_common_editorGroupsService_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/editor/common/editorGroupsService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorGroupsService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_search_common_search__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/search/common/search */ "./node_modules/vscode/vscode/src/vs/workbench/services/search/common/search.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_layout_browser_layoutService_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/layout/browser/layoutService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/layout/browser/layoutService.service.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey.service */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! vscode/vscode/vs/base/common/arrays */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_extensions__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/extensions */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/extensions.js");
/* harmony import */ var vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/dom */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var vscode_vscode_vs_platform_workspaces_common_workspaces_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! vscode/vscode/vs/platform/workspaces/common/workspaces.service */ "./node_modules/vscode/vscode/src/vs/platform/workspaces/common/workspaces.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! vscode/vscode/vs/base/common/network */ "./node_modules/vscode/vscode/src/vs/base/common/network.js");
/* harmony import */ var vscode_vscode_vs_base_common_errors__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! vscode/vscode/vs/base/common/errors */ "./node_modules/vscode/vscode/src/vs/base/common/errors.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_resources__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/resources */ "./node_modules/vscode/vscode/src/vs/workbench/common/resources.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_path_common_pathService_service__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/path/common/pathService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/path/common/pathService.service.js");
/* harmony import */ var vscode_vscode_vs_platform_uriIdentity_common_uriIdentity_service__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! vscode/vscode/vs/platform/uriIdentity/common/uriIdentity.service */ "./node_modules/vscode/vscode/src/vs/platform/uriIdentity/common/uriIdentity.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_lifecycle_common_lifecycle_service__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/lifecycle/common/lifecycle.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/lifecycle/common/lifecycle.service.js");
/* harmony import */ var vscode_vscode_vs_platform_log_common_log__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! vscode/vscode/vs/platform/log/common/log */ "./node_modules/vscode/vscode/src/vs/platform/log/common/log.js");
/* harmony import */ var vscode_vscode_vs_platform_log_common_log_service__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! vscode/vscode/vs/platform/log/common/log.service */ "./node_modules/vscode/vscode/src/vs/platform/log/common/log.service.js");
/* harmony import */ var vscode_vscode_vs_base_browser_window__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/window */ "./node_modules/vscode/vscode/src/vs/base/browser/window.js");

































var HistoryService_1, EditorNavigationStack_1;
let HistoryService = class HistoryService extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_9__.Disposable {
    static { HistoryService_1 = this; }
    static { this.MOUSE_NAVIGATION_SETTING = 'workbench.editor.mouseBackForwardToNavigate'; }
    static { this.NAVIGATION_SCOPE_SETTING = 'workbench.editor.navigationScope'; }
    constructor(editorService, editorGroupService, contextService, storageService, configurationService, fileService, workspacesService, instantiationService, layoutService, contextKeyService, logService) {
        super();
        this.editorService = editorService;
        this.editorGroupService = editorGroupService;
        this.contextService = contextService;
        this.storageService = storageService;
        this.configurationService = configurationService;
        this.fileService = fileService;
        this.workspacesService = workspacesService;
        this.instantiationService = instantiationService;
        this.layoutService = layoutService;
        this.contextKeyService = contextKeyService;
        this.logService = logService;
        this.activeEditorListeners = this._register(( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_9__.DisposableStore())));
        this.lastActiveEditor = undefined;
        this.editorHelper = this.instantiationService.createInstance(EditorHelper);
        this.canNavigateBackContextKey = (( (new vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_17__.RawContextKey('canNavigateBack', false, ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4210, "Whether it is possible to navigate back in editor history")))))).bindTo(this.contextKeyService);
        this.canNavigateForwardContextKey = (( (new vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_17__.RawContextKey('canNavigateForward', false, ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4211, "Whether it is possible to navigate forward in editor history")))))).bindTo(this.contextKeyService);
        this.canNavigateBackInNavigationsContextKey = (( (new vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_17__.RawContextKey('canNavigateBackInNavigationLocations', false, ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(
            4212,
            "Whether it is possible to navigate back in editor navigation locations history"
        )))))).bindTo(this.contextKeyService);
        this.canNavigateForwardInNavigationsContextKey = (( (new vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_17__.RawContextKey('canNavigateForwardInNavigationLocations', false, ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(
            4213,
            "Whether it is possible to navigate forward in editor navigation locations history"
        )))))).bindTo(this.contextKeyService);
        this.canNavigateToLastNavigationLocationContextKey = (( (new vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_17__.RawContextKey('canNavigateToLastNavigationLocation', false, ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(
            4214,
            "Whether it is possible to navigate to the last editor navigation location"
        )))))).bindTo(this.contextKeyService);
        this.canNavigateBackInEditsContextKey = (( (new vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_17__.RawContextKey('canNavigateBackInEditLocations', false, ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(
            4215,
            "Whether it is possible to navigate back in editor edit locations history"
        )))))).bindTo(this.contextKeyService);
        this.canNavigateForwardInEditsContextKey = (( (new vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_17__.RawContextKey('canNavigateForwardInEditLocations', false, ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(
            4216,
            "Whether it is possible to navigate forward in editor edit locations history"
        )))))).bindTo(this.contextKeyService);
        this.canNavigateToLastEditLocationContextKey = (( (new vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_17__.RawContextKey('canNavigateToLastEditLocation', false, ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(
            4217,
            "Whether it is possible to navigate to the last editor edit location"
        )))))).bindTo(this.contextKeyService);
        this.canReopenClosedEditorContextKey = (( (new vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_17__.RawContextKey('canReopenClosedEditor', false, ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_1__.localize)(4218, "Whether it is possible to reopen the last closed editor")))))).bindTo(this.contextKeyService);
        this._onDidChangeEditorNavigationStack = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_11__.Emitter())));
        this.onDidChangeEditorNavigationStack = this._onDidChangeEditorNavigationStack.event;
        this.defaultScopedEditorNavigationStack = undefined;
        this.editorGroupScopedNavigationStacks = ( (new Map()));
        this.editorScopedNavigationStacks = ( (new Map()));
        this.editorNavigationScope = 0 ;
        this.recentlyUsedEditorsStack = undefined;
        this.recentlyUsedEditorsStackIndex = 0;
        this.recentlyUsedEditorsInGroupStack = undefined;
        this.recentlyUsedEditorsInGroupStackIndex = 0;
        this.navigatingInRecentlyUsedEditorsStack = false;
        this.navigatingInRecentlyUsedEditorsInGroupStack = false;
        this.recentlyClosedEditors = [];
        this.ignoreEditorCloseEvent = false;
        this.history = undefined;
        this.editorHistoryListeners = ( (new Map()));
        this.resourceExcludeMatcher = this._register(( (new vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_21__.WindowIdleValue(vscode_vscode_vs_base_browser_window__WEBPACK_IMPORTED_MODULE_31__.mainWindow, () => {
            const matcher = this._register(this.instantiationService.createInstance(vscode_vscode_vs_workbench_common_resources__WEBPACK_IMPORTED_MODULE_25__.ResourceGlobMatcher, root => (0,vscode_vscode_vs_workbench_services_search_common_search__WEBPACK_IMPORTED_MODULE_14__.getExcludes)(root ? this.configurationService.getValue({ resource: root }) : this.configurationService.getValue()) || Object.create(null), event => event.affectsConfiguration(vscode_vscode_vs_platform_files_common_files__WEBPACK_IMPORTED_MODULE_6__.FILES_EXCLUDE_CONFIG) || event.affectsConfiguration(vscode_vscode_vs_workbench_services_search_common_search__WEBPACK_IMPORTED_MODULE_14__.SEARCH_EXCLUDE_CONFIG)));
            this._register(matcher.onExpressionChange(() => this.removeExcludedFromHistory()));
            return matcher;
        }))));
        this.registerListeners();
        if (this.editorService.activeEditorPane) {
            this.onDidActiveEditorChange();
        }
    }
    registerListeners() {
        this.registerMouseNavigationListener();
        this._register(this.editorService.onDidActiveEditorChange(() => this.onDidActiveEditorChange()));
        this._register(this.editorService.onDidOpenEditorFail(event => this.remove(event.editor)));
        this._register(this.editorService.onDidCloseEditor(event => this.onDidCloseEditor(event)));
        this._register(this.editorService.onDidMostRecentlyActiveEditorsChange(() => this.handleEditorEventInRecentEditorsStack()));
        this._register(this.editorGroupService.onDidRemoveGroup(e => this.onDidRemoveGroup(e)));
        this._register(this.fileService.onDidFilesChange(event => this.onDidFilesChange(event)));
        this._register(this.fileService.onDidRunOperation(event => this.onDidFilesChange(event)));
        this._register(this.storageService.onWillSaveState(() => this.saveState()));
        this.registerEditorNavigationScopeChangeListener();
        this._register(this.onDidChangeEditorNavigationStack(() => this.updateContextKeys()));
        this._register(this.editorGroupService.onDidChangeActiveGroup(() => this.updateContextKeys()));
    }
    onDidCloseEditor(e) {
        this.handleEditorCloseEventInHistory(e);
        this.handleEditorCloseEventInReopen(e);
    }
    registerMouseNavigationListener() {
        const mouseBackForwardSupportListener = this._register(( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_9__.DisposableStore())));
        const handleMouseBackForwardSupport = () => {
            mouseBackForwardSupportListener.clear();
            if (this.configurationService.getValue(HistoryService_1.MOUSE_NAVIGATION_SETTING)) {
                this._register(vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_11__.Event.runAndSubscribe(this.layoutService.onDidAddContainer, ({ container, disposables }) => {
                    const eventDisposables = disposables.add(( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_9__.DisposableStore())));
                    eventDisposables.add((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_21__.addDisposableListener)(container, vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_21__.EventType.MOUSE_DOWN, e => this.onMouseDownOrUp(e, true)));
                    eventDisposables.add((0,vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_21__.addDisposableListener)(container, vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_21__.EventType.MOUSE_UP, e => this.onMouseDownOrUp(e, false)));
                    mouseBackForwardSupportListener.add(eventDisposables);
                }, { container: this.layoutService.mainContainer, disposables: this._store }));
            }
        };
        this._register(this.configurationService.onDidChangeConfiguration(event => {
            if (event.affectsConfiguration(HistoryService_1.MOUSE_NAVIGATION_SETTING)) {
                handleMouseBackForwardSupport();
            }
        }));
        handleMouseBackForwardSupport();
    }
    onMouseDownOrUp(event, isMouseDown) {
        switch (event.button) {
            case 3:
                vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_21__.EventHelper.stop(event);
                if (isMouseDown) {
                    this.goBack();
                }
                break;
            case 4:
                vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_21__.EventHelper.stop(event);
                if (isMouseDown) {
                    this.goForward();
                }
                break;
        }
    }
    onDidRemoveGroup(group) {
        this.handleEditorGroupRemoveInNavigationStacks(group);
    }
    onDidActiveEditorChange() {
        const activeEditorGroup = this.editorGroupService.activeGroup;
        const activeEditorPane = activeEditorGroup.activeEditorPane;
        if (this.lastActiveEditor && this.editorHelper.matchesEditorIdentifier(this.lastActiveEditor, activeEditorPane)) {
            return;
        }
        this.lastActiveEditor = activeEditorPane?.input ? { editor: activeEditorPane.input, groupId: activeEditorPane.group.id } : undefined;
        this.activeEditorListeners.clear();
        if (!activeEditorPane?.group.isTransient(activeEditorPane.input)) {
            this.handleActiveEditorChange(activeEditorGroup, activeEditorPane);
        }
        else {
            this.logService.trace(`[History]: ignoring transient editor change until becoming non-transient (editor: ${activeEditorPane.input?.resource?.toString()}})`);
            const transientListener = activeEditorGroup.onDidModelChange(e => {
                if (e.kind === 12  && e.editor === activeEditorPane.input && !activeEditorPane.group.isTransient(activeEditorPane.input)) {
                    transientListener.dispose();
                    this.handleActiveEditorChange(activeEditorGroup, activeEditorPane);
                }
            });
            this.activeEditorListeners.add(transientListener);
        }
        if ((0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.isEditorPaneWithSelection)(activeEditorPane)) {
            this.activeEditorListeners.add(activeEditorPane.onDidChangeSelection(e => {
                if (!activeEditorPane.group.isTransient(activeEditorPane.input)) {
                    this.handleActiveEditorSelectionChangeEvent(activeEditorGroup, activeEditorPane, e);
                }
                else {
                    this.logService.trace(`[History]: ignoring transient editor selection change (editor: ${activeEditorPane.input?.resource?.toString()}})`);
                }
            }));
        }
        this.updateContextKeys();
    }
    onDidFilesChange(event) {
        if (event instanceof vscode_vscode_vs_platform_files_common_files__WEBPACK_IMPORTED_MODULE_6__.FileChangesEvent) {
            if (event.gotDeleted()) {
                this.remove(event);
            }
        }
        else {
            if (event.isOperation(1 )) {
                this.remove(event);
            }
            else if (event.isOperation(2 ) && event.target.isFile) {
                this.move(event);
            }
        }
    }
    handleActiveEditorChange(group, editorPane) {
        this.handleActiveEditorChangeInHistory(editorPane);
        this.handleActiveEditorChangeInNavigationStacks(group, editorPane);
    }
    handleActiveEditorSelectionChangeEvent(group, editorPane, event) {
        this.handleActiveEditorSelectionChangeInNavigationStacks(group, editorPane, event);
    }
    move(event) {
        this.moveInHistory(event);
        this.moveInEditorNavigationStacks(event);
    }
    remove(arg1) {
        this.removeFromHistory(arg1);
        this.removeFromEditorNavigationStacks(arg1);
        this.removeFromRecentlyClosedEditors(arg1);
        this.removeFromRecentlyOpened(arg1);
    }
    removeFromRecentlyOpened(arg1) {
        let resource = undefined;
        if ((0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.isEditorInput)(arg1)) {
            resource = vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.EditorResourceAccessor.getOriginalUri(arg1);
        }
        else if (arg1 instanceof vscode_vscode_vs_platform_files_common_files__WEBPACK_IMPORTED_MODULE_6__.FileChangesEvent) ;
        else {
            resource = arg1.resource;
        }
        if (resource) {
            this.workspacesService.removeRecentlyOpened([resource]);
        }
    }
    clear() {
        this.clearRecentlyOpened();
        this.clearEditorNavigationStacks();
        this.recentlyClosedEditors = [];
        this.updateContextKeys();
    }
    updateContextKeys() {
        this.contextKeyService.bufferChangeEvents(() => {
            const activeStack = this.getStack();
            this.canNavigateBackContextKey.set(activeStack.canGoBack(0 ));
            this.canNavigateForwardContextKey.set(activeStack.canGoForward(0 ));
            this.canNavigateBackInNavigationsContextKey.set(activeStack.canGoBack(2 ));
            this.canNavigateForwardInNavigationsContextKey.set(activeStack.canGoForward(2 ));
            this.canNavigateToLastNavigationLocationContextKey.set(activeStack.canGoLast(2 ));
            this.canNavigateBackInEditsContextKey.set(activeStack.canGoBack(1 ));
            this.canNavigateForwardInEditsContextKey.set(activeStack.canGoForward(1 ));
            this.canNavigateToLastEditLocationContextKey.set(activeStack.canGoLast(1 ));
            this.canReopenClosedEditorContextKey.set(this.recentlyClosedEditors.length > 0);
        });
    }
    registerEditorNavigationScopeChangeListener() {
        const handleEditorNavigationScopeChange = () => {
            this.disposeEditorNavigationStacks();
            const configuredScope = this.configurationService.getValue(HistoryService_1.NAVIGATION_SCOPE_SETTING);
            if (configuredScope === 'editorGroup') {
                this.editorNavigationScope = 1 ;
            }
            else if (configuredScope === 'editor') {
                this.editorNavigationScope = 2 ;
            }
            else {
                this.editorNavigationScope = 0 ;
            }
        };
        this._register(this.configurationService.onDidChangeConfiguration(event => {
            if (event.affectsConfiguration(HistoryService_1.NAVIGATION_SCOPE_SETTING)) {
                handleEditorNavigationScopeChange();
            }
        }));
        handleEditorNavigationScopeChange();
    }
    getStack(group = this.editorGroupService.activeGroup, editor = group.activeEditor) {
        switch (this.editorNavigationScope) {
            case 2 : {
                if (!editor) {
                    return (
                         (new NoOpEditorNavigationStacks())
                    );
                }
                let stacksForGroup = this.editorScopedNavigationStacks.get(group.id);
                if (!stacksForGroup) {
                    stacksForGroup = ( (new Map()));
                    this.editorScopedNavigationStacks.set(group.id, stacksForGroup);
                }
                let stack = stacksForGroup.get(editor)?.stack;
                if (!stack) {
                    const disposable = ( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_9__.DisposableStore()));
                    stack = disposable.add(this.instantiationService.createInstance(EditorNavigationStacks, 2 ));
                    disposable.add(stack.onDidChange(() => this._onDidChangeEditorNavigationStack.fire()));
                    stacksForGroup.set(editor, { stack, disposable });
                }
                return stack;
            }
            case 1 : {
                let stack = this.editorGroupScopedNavigationStacks.get(group.id)?.stack;
                if (!stack) {
                    const disposable = ( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_9__.DisposableStore()));
                    stack = disposable.add(this.instantiationService.createInstance(EditorNavigationStacks, 1 ));
                    disposable.add(stack.onDidChange(() => this._onDidChangeEditorNavigationStack.fire()));
                    this.editorGroupScopedNavigationStacks.set(group.id, { stack, disposable });
                }
                return stack;
            }
            case 0 : {
                if (!this.defaultScopedEditorNavigationStack) {
                    this.defaultScopedEditorNavigationStack = this._register(this.instantiationService.createInstance(EditorNavigationStacks, 0 ));
                    this._register(this.defaultScopedEditorNavigationStack.onDidChange(() => this._onDidChangeEditorNavigationStack.fire()));
                }
                return this.defaultScopedEditorNavigationStack;
            }
        }
    }
    goForward(filter) {
        return this.getStack().goForward(filter);
    }
    goBack(filter) {
        return this.getStack().goBack(filter);
    }
    goPrevious(filter) {
        return this.getStack().goPrevious(filter);
    }
    goLast(filter) {
        return this.getStack().goLast(filter);
    }
    handleActiveEditorChangeInNavigationStacks(group, editorPane) {
        this.getStack(group, editorPane?.input).handleActiveEditorChange(editorPane);
    }
    handleActiveEditorSelectionChangeInNavigationStacks(group, editorPane, event) {
        this.getStack(group, editorPane.input).handleActiveEditorSelectionChange(editorPane, event);
    }
    handleEditorCloseEventInHistory(e) {
        const editors = this.editorScopedNavigationStacks.get(e.groupId);
        if (editors) {
            const editorStack = editors.get(e.editor);
            if (editorStack) {
                editorStack.disposable.dispose();
                editors.delete(e.editor);
            }
            if (editors.size === 0) {
                this.editorScopedNavigationStacks.delete(e.groupId);
            }
        }
    }
    handleEditorGroupRemoveInNavigationStacks(group) {
        this.defaultScopedEditorNavigationStack?.remove(group.id);
        const editorGroupStack = this.editorGroupScopedNavigationStacks.get(group.id);
        if (editorGroupStack) {
            editorGroupStack.disposable.dispose();
            this.editorGroupScopedNavigationStacks.delete(group.id);
        }
    }
    clearEditorNavigationStacks() {
        this.withEachEditorNavigationStack(stack => stack.clear());
    }
    removeFromEditorNavigationStacks(arg1) {
        this.withEachEditorNavigationStack(stack => stack.remove(arg1));
    }
    moveInEditorNavigationStacks(event) {
        this.withEachEditorNavigationStack(stack => stack.move(event));
    }
    withEachEditorNavigationStack(fn) {
        if (this.defaultScopedEditorNavigationStack) {
            fn(this.defaultScopedEditorNavigationStack);
        }
        for (const [, entry] of this.editorGroupScopedNavigationStacks) {
            fn(entry.stack);
        }
        for (const [, entries] of this.editorScopedNavigationStacks) {
            for (const [, entry] of entries) {
                fn(entry.stack);
            }
        }
    }
    disposeEditorNavigationStacks() {
        this.defaultScopedEditorNavigationStack?.dispose();
        this.defaultScopedEditorNavigationStack = undefined;
        for (const [, stack] of this.editorGroupScopedNavigationStacks) {
            stack.disposable.dispose();
        }
        this.editorGroupScopedNavigationStacks.clear();
        for (const [, stacks] of this.editorScopedNavigationStacks) {
            for (const [, stack] of stacks) {
                stack.disposable.dispose();
            }
        }
        this.editorScopedNavigationStacks.clear();
    }
    openNextRecentlyUsedEditor(groupId) {
        const [stack, index] = this.ensureRecentlyUsedStack(index => index - 1, groupId);
        return this.doNavigateInRecentlyUsedEditorsStack(stack[index], groupId);
    }
    openPreviouslyUsedEditor(groupId) {
        const [stack, index] = this.ensureRecentlyUsedStack(index => index + 1, groupId);
        return this.doNavigateInRecentlyUsedEditorsStack(stack[index], groupId);
    }
    async doNavigateInRecentlyUsedEditorsStack(editorIdentifier, groupId) {
        if (editorIdentifier) {
            const acrossGroups = typeof groupId !== 'number' || !this.editorGroupService.getGroup(groupId);
            if (acrossGroups) {
                this.navigatingInRecentlyUsedEditorsStack = true;
            }
            else {
                this.navigatingInRecentlyUsedEditorsInGroupStack = true;
            }
            const group = this.editorGroupService.getGroup(editorIdentifier.groupId) ?? this.editorGroupService.activeGroup;
            try {
                await group.openEditor(editorIdentifier.editor);
            }
            finally {
                if (acrossGroups) {
                    this.navigatingInRecentlyUsedEditorsStack = false;
                }
                else {
                    this.navigatingInRecentlyUsedEditorsInGroupStack = false;
                }
            }
        }
    }
    ensureRecentlyUsedStack(indexModifier, groupId) {
        let editors;
        let index;
        const group = typeof groupId === 'number' ? this.editorGroupService.getGroup(groupId) : undefined;
        if (!group) {
            editors = this.recentlyUsedEditorsStack || this.editorService.getEditors(0 );
            index = this.recentlyUsedEditorsStackIndex;
        }
        else {
            editors = this.recentlyUsedEditorsInGroupStack || ( (group.getEditors(0 ).map(editor => ({ groupId: group.id, editor }))));
            index = this.recentlyUsedEditorsInGroupStackIndex;
        }
        let newIndex = indexModifier(index);
        if (newIndex < 0) {
            newIndex = 0;
        }
        else if (newIndex > editors.length - 1) {
            newIndex = editors.length - 1;
        }
        if (!group) {
            this.recentlyUsedEditorsStack = editors;
            this.recentlyUsedEditorsStackIndex = newIndex;
        }
        else {
            this.recentlyUsedEditorsInGroupStack = editors;
            this.recentlyUsedEditorsInGroupStackIndex = newIndex;
        }
        return [editors, newIndex];
    }
    handleEditorEventInRecentEditorsStack() {
        if (!this.navigatingInRecentlyUsedEditorsStack) {
            this.recentlyUsedEditorsStack = undefined;
            this.recentlyUsedEditorsStackIndex = 0;
        }
        if (!this.navigatingInRecentlyUsedEditorsInGroupStack) {
            this.recentlyUsedEditorsInGroupStack = undefined;
            this.recentlyUsedEditorsInGroupStackIndex = 0;
        }
    }
    static { this.MAX_RECENTLY_CLOSED_EDITORS = 20; }
    handleEditorCloseEventInReopen(event) {
        if (this.ignoreEditorCloseEvent) {
            return;
        }
        const { editor, context } = event;
        if (context === vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.EditorCloseContext.REPLACE || context === vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.EditorCloseContext.MOVE) {
            return;
        }
        const untypedEditor = editor.toUntyped();
        if (!untypedEditor) {
            return;
        }
        const associatedResources = [];
        const editorResource = vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.EditorResourceAccessor.getOriginalUri(editor, { supportSideBySide: vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.SideBySideEditor.BOTH });
        if (vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_2__.URI.isUri(editorResource)) {
            associatedResources.push(editorResource);
        }
        else if (editorResource) {
            associatedResources.push(...(0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_19__.coalesce)([editorResource.primary, editorResource.secondary]));
        }
        this.removeFromRecentlyClosedEditors(editor);
        this.recentlyClosedEditors.push({
            editorId: editor.editorId,
            editor: untypedEditor,
            resource: vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.EditorResourceAccessor.getOriginalUri(editor),
            associatedResources,
            index: event.index,
            sticky: event.sticky
        });
        if (this.recentlyClosedEditors.length > HistoryService_1.MAX_RECENTLY_CLOSED_EDITORS) {
            this.recentlyClosedEditors.shift();
        }
        this.canReopenClosedEditorContextKey.set(true);
    }
    async reopenLastClosedEditor() {
        const lastClosedEditor = this.recentlyClosedEditors.pop();
        let reopenClosedEditorPromise = undefined;
        if (lastClosedEditor) {
            reopenClosedEditorPromise = this.doReopenLastClosedEditor(lastClosedEditor);
        }
        this.canReopenClosedEditorContextKey.set(this.recentlyClosedEditors.length > 0);
        return reopenClosedEditorPromise;
    }
    async doReopenLastClosedEditor(lastClosedEditor) {
        const options = { pinned: true, sticky: lastClosedEditor.sticky, index: lastClosedEditor.index, ignoreError: true };
        if ((lastClosedEditor.sticky && !this.editorGroupService.activeGroup.isSticky(lastClosedEditor.index)) ||
            (!lastClosedEditor.sticky && this.editorGroupService.activeGroup.isSticky(lastClosedEditor.index))) {
            options.index = undefined;
        }
        let editorPane = undefined;
        if (!this.editorGroupService.activeGroup.contains(lastClosedEditor.editor)) {
            this.ignoreEditorCloseEvent = true;
            try {
                editorPane = await this.editorService.openEditor({
                    ...lastClosedEditor.editor,
                    options: {
                        ...lastClosedEditor.editor.options,
                        ...options
                    }
                });
            }
            finally {
                this.ignoreEditorCloseEvent = false;
            }
        }
        if (!editorPane) {
            (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_19__.remove)(this.recentlyClosedEditors, lastClosedEditor);
            this.reopenLastClosedEditor();
        }
    }
    removeFromRecentlyClosedEditors(arg1) {
        this.recentlyClosedEditors = this.recentlyClosedEditors.filter(recentlyClosedEditor => {
            if ((0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.isEditorInput)(arg1) && recentlyClosedEditor.editorId !== arg1.editorId) {
                return true;
            }
            if (recentlyClosedEditor.resource && this.editorHelper.matchesFile(recentlyClosedEditor.resource, arg1)) {
                return false;
            }
            if (( (recentlyClosedEditor.associatedResources.some(
                associatedResource => this.editorHelper.matchesFile(associatedResource, arg1)
            )))) {
                return false;
            }
            return true;
        });
        this.canReopenClosedEditorContextKey.set(this.recentlyClosedEditors.length > 0);
    }
    static { this.MAX_HISTORY_ITEMS = 200; }
    static { this.HISTORY_STORAGE_KEY = 'history.entries'; }
    handleActiveEditorChangeInHistory(editorPane) {
        const editor = editorPane?.input;
        if (!editor || editor.isDisposed() || !this.includeInHistory(editor)) {
            return;
        }
        this.removeFromHistory(editor);
        this.addToHistory(editor);
    }
    addToHistory(editor, insertFirst = true) {
        this.ensureHistoryLoaded(this.history);
        const historyInput = this.editorHelper.preferResourceEditorInput(editor);
        if (!historyInput) {
            return;
        }
        if (insertFirst) {
            this.history.unshift(historyInput);
        }
        else {
            this.history.push(historyInput);
        }
        if (this.history.length > HistoryService_1.MAX_HISTORY_ITEMS) {
            this.editorHelper.clearOnEditorDispose(this.history.pop(), this.editorHistoryListeners);
        }
        if ((0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.isEditorInput)(editor)) {
            this.editorHelper.onEditorDispose(editor, () => this.updateHistoryOnEditorDispose(historyInput), this.editorHistoryListeners);
        }
    }
    updateHistoryOnEditorDispose(editor) {
        if ((0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.isEditorInput)(editor)) {
            if (!(0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.isSideBySideEditorInput)(editor)) {
                this.removeFromHistory(editor);
            }
            else {
                const resourceInputs = [];
                const sideInputs = editor.primary.matches(editor.secondary) ? [editor.primary] : [editor.primary, editor.secondary];
                for (const sideInput of sideInputs) {
                    const candidateResourceInput = this.editorHelper.preferResourceEditorInput(sideInput);
                    if ((0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.isResourceEditorInput)(candidateResourceInput) && this.includeInHistory(candidateResourceInput)) {
                        resourceInputs.push(candidateResourceInput);
                    }
                }
                this.replaceInHistory(editor, ...resourceInputs);
            }
        }
        else {
            if (!this.includeInHistory(editor)) {
                this.removeFromHistory(editor);
            }
        }
    }
    includeInHistory(editor) {
        if ((0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.isEditorInput)(editor)) {
            return true;
        }
        return !this.resourceExcludeMatcher.value.matches(editor.resource);
    }
    removeExcludedFromHistory() {
        this.ensureHistoryLoaded(this.history);
        this.history = this.history.filter(entry => {
            const include = this.includeInHistory(entry);
            if (!include) {
                this.editorHelper.clearOnEditorDispose(entry, this.editorHistoryListeners);
            }
            return include;
        });
    }
    moveInHistory(event) {
        if (event.isOperation(2 )) {
            const removed = this.removeFromHistory(event);
            if (removed) {
                this.addToHistory({ resource: event.target.resource });
            }
        }
    }
    removeFromHistory(arg1) {
        let removed = false;
        this.ensureHistoryLoaded(this.history);
        this.history = this.history.filter(entry => {
            const matches = this.editorHelper.matchesEditor(arg1, entry);
            if (matches) {
                this.editorHelper.clearOnEditorDispose(arg1, this.editorHistoryListeners);
                removed = true;
            }
            return !matches;
        });
        return removed;
    }
    replaceInHistory(editor, ...replacements) {
        this.ensureHistoryLoaded(this.history);
        let replaced = false;
        const newHistory = [];
        for (const entry of this.history) {
            if (this.editorHelper.matchesEditor(editor, entry)) {
                this.editorHelper.clearOnEditorDispose(editor, this.editorHistoryListeners);
                if (!replaced) {
                    newHistory.push(...replacements);
                    replaced = true;
                }
            }
            else if (!( (replacements.some(replacement => this.editorHelper.matchesEditor(replacement, entry))))) {
                newHistory.push(entry);
            }
        }
        if (!replaced) {
            newHistory.push(...replacements);
        }
        this.history = newHistory;
    }
    clearRecentlyOpened() {
        this.history = [];
        for (const [, disposable] of this.editorHistoryListeners) {
            (0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_9__.dispose)(disposable);
        }
        this.editorHistoryListeners.clear();
    }
    getHistory() {
        this.ensureHistoryLoaded(this.history);
        return this.history;
    }
    ensureHistoryLoaded(history) {
        if (!this.history) {
            this.history = [];
            if (this.editorGroupService.isReady) {
                this.loadHistory();
            }
            else {
                (async () => {
                    await this.editorGroupService.whenReady;
                    this.loadHistory();
                })();
            }
        }
    }
    loadHistory() {
        this.history = [];
        const storedEditorHistory = this.loadHistoryFromStorage();
        const openedEditorsLru = [...this.editorService.getEditors(0 )].reverse();
        const handledEditors = ( (new Set()));
        for (const { editor } of openedEditorsLru) {
            if (!this.includeInHistory(editor)) {
                continue;
            }
            this.addToHistory(editor);
            if (editor.resource) {
                handledEditors.add(`${( (editor.resource.toString()))}/${editor.editorId}`);
            }
        }
        for (const editor of storedEditorHistory) {
            if (!( (handledEditors.has(
                `${( (editor.resource.toString()))}/${editor.options?.override}`
            ))) &&
                this.includeInHistory(editor)) {
                this.addToHistory(editor, false );
            }
        }
    }
    loadHistoryFromStorage() {
        const entries = [];
        const entriesRaw = this.storageService.get(HistoryService_1.HISTORY_STORAGE_KEY, 1 );
        if (entriesRaw) {
            try {
                const entriesParsed = JSON.parse(entriesRaw);
                for (const entryParsed of entriesParsed) {
                    if (!entryParsed.editor || !entryParsed.editor.resource) {
                        continue;
                    }
                    try {
                        entries.push({
                            ...entryParsed.editor,
                            resource: typeof entryParsed.editor.resource === 'string' ?
                                (
                                (vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_2__.URI.parse(entryParsed.editor.resource))) :
                                ( (vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_2__.URI.from(entryParsed.editor.resource)))
                        });
                    }
                    catch (error) {
                        (0,vscode_vscode_vs_base_common_errors__WEBPACK_IMPORTED_MODULE_24__.onUnexpectedError)(error);
                    }
                }
            }
            catch (error) {
                (0,vscode_vscode_vs_base_common_errors__WEBPACK_IMPORTED_MODULE_24__.onUnexpectedError)(error);
            }
        }
        return entries;
    }
    saveState() {
        if (!this.history) {
            return;
        }
        const entries = [];
        for (const editor of this.history) {
            if ((0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.isEditorInput)(editor) || !(0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.isResourceEditorInput)(editor)) {
                continue;
            }
            entries.push({
                editor: {
                    ...editor,
                    resource: ( (editor.resource.toString()))
                }
            });
        }
        this.storageService.store(HistoryService_1.HISTORY_STORAGE_KEY, JSON.stringify(entries), 1 , 1 );
    }
    getLastActiveWorkspaceRoot(schemeFilter, authorityFilter) {
        const folders = this.contextService.getWorkspace().folders;
        if (folders.length === 0) {
            return undefined;
        }
        if (folders.length === 1) {
            const resource = folders[0].uri;
            if ((!schemeFilter || resource.scheme === schemeFilter) && (!authorityFilter || resource.authority === authorityFilter)) {
                return resource;
            }
            return undefined;
        }
        for (const input of this.getHistory()) {
            if ((0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.isEditorInput)(input)) {
                continue;
            }
            if (schemeFilter && input.resource.scheme !== schemeFilter) {
                continue;
            }
            if (authorityFilter && input.resource.authority !== authorityFilter) {
                continue;
            }
            const resourceWorkspace = this.contextService.getWorkspaceFolder(input.resource);
            if (resourceWorkspace) {
                return resourceWorkspace.uri;
            }
        }
        for (const folder of folders) {
            const resource = folder.uri;
            if ((!schemeFilter || resource.scheme === schemeFilter) && (!authorityFilter || resource.authority === authorityFilter)) {
                return resource;
            }
        }
        return undefined;
    }
    getLastActiveFile(filterByScheme, filterByAuthority) {
        for (const input of this.getHistory()) {
            let resource;
            if ((0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.isEditorInput)(input)) {
                resource = vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.EditorResourceAccessor.getOriginalUri(input, { filterByScheme });
            }
            else {
                resource = input.resource;
            }
            if (resource && resource.scheme === filterByScheme && (!filterByAuthority || resource.authority === filterByAuthority)) {
                return resource;
            }
        }
        return undefined;
    }
    dispose() {
        super.dispose();
        for (const [, stack] of this.editorGroupScopedNavigationStacks) {
            stack.disposable.dispose();
        }
        for (const [, editors] of this.editorScopedNavigationStacks) {
            for (const [, stack] of editors) {
                stack.disposable.dispose();
            }
        }
        for (const [, listener] of this.editorHistoryListeners) {
            listener.dispose();
        }
    }
};
HistoryService = HistoryService_1 = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_4__.IEditorService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_workbench_services_editor_common_editorGroupsService_service__WEBPACK_IMPORTED_MODULE_13__.IEditorGroupsService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_platform_workspace_common_workspace_service__WEBPACK_IMPORTED_MODULE_8__.IWorkspaceContextService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_10__.IStorageService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_12__.IConfigurationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, vscode_vscode_vs_platform_files_common_files_service__WEBPACK_IMPORTED_MODULE_7__.IFileService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, vscode_vscode_vs_platform_workspaces_common_workspaces_service__WEBPACK_IMPORTED_MODULE_22__.IWorkspacesService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_15__.IInstantiationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, vscode_vscode_vs_workbench_services_layout_browser_layoutService_service__WEBPACK_IMPORTED_MODULE_16__.IWorkbenchLayoutService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_18__.IContextKeyService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, vscode_vscode_vs_platform_log_common_log_service__WEBPACK_IMPORTED_MODULE_30__.ILogService)))
], HistoryService)));
( ((0,vscode_vscode_vs_platform_instantiation_common_extensions__WEBPACK_IMPORTED_MODULE_20__.registerSingleton)(vscode_vscode_vs_workbench_services_history_common_history_service__WEBPACK_IMPORTED_MODULE_5__.IHistoryService, HistoryService, 0 )));
class EditorSelectionState {
    constructor(editorIdentifier, selection, reason) {
        this.editorIdentifier = editorIdentifier;
        this.selection = selection;
        this.reason = reason;
    }
    justifiesNewNavigationEntry(other) {
        if (this.editorIdentifier.groupId !== other.editorIdentifier.groupId) {
            return true;
        }
        if (!this.editorIdentifier.editor.matches(other.editorIdentifier.editor)) {
            return true;
        }
        if (!this.selection || !other.selection) {
            return true;
        }
        const result = this.selection.compare(other.selection);
        if (result === 2  && ((other.reason === 4  || other.reason === 5) )) {
            return true;
        }
        return result === 3 ;
    }
}
let EditorNavigationStacks = class EditorNavigationStacks extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_9__.Disposable {
    constructor(scope, instantiationService) {
        super();
        this.scope = scope;
        this.instantiationService = instantiationService;
        this.selectionsStack = this._register(this.instantiationService.createInstance(EditorNavigationStack, 0 , this.scope));
        this.editsStack = this._register(this.instantiationService.createInstance(EditorNavigationStack, 1 , this.scope));
        this.navigationsStack = this._register(this.instantiationService.createInstance(EditorNavigationStack, 2 , this.scope));
        this.stacks = [
            this.selectionsStack,
            this.editsStack,
            this.navigationsStack
        ];
        this.onDidChange = vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_11__.Event.any(this.selectionsStack.onDidChange, this.editsStack.onDidChange, this.navigationsStack.onDidChange);
    }
    canGoForward(filter) {
        return this.getStack(filter).canGoForward();
    }
    goForward(filter) {
        return this.getStack(filter).goForward();
    }
    canGoBack(filter) {
        return this.getStack(filter).canGoBack();
    }
    goBack(filter) {
        return this.getStack(filter).goBack();
    }
    goPrevious(filter) {
        return this.getStack(filter).goPrevious();
    }
    canGoLast(filter) {
        return this.getStack(filter).canGoLast();
    }
    goLast(filter) {
        return this.getStack(filter).goLast();
    }
    getStack(filter = 0 ) {
        switch (filter) {
            case 0 : return this.selectionsStack;
            case 1 : return this.editsStack;
            case 2 : return this.navigationsStack;
        }
    }
    handleActiveEditorChange(editorPane) {
        this.selectionsStack.notifyNavigation(editorPane);
    }
    handleActiveEditorSelectionChange(editorPane, event) {
        const previous = this.selectionsStack.current;
        this.selectionsStack.notifyNavigation(editorPane, event);
        if (event.reason === 3 ) {
            this.editsStack.notifyNavigation(editorPane, event);
        }
        else if (((event.reason === 4  || event.reason === 5) ) &&
            !this.selectionsStack.isNavigating()) {
            if (event.reason === 5  && !this.navigationsStack.isNavigating()) {
                if (previous) {
                    this.navigationsStack.addOrReplace(previous.groupId, previous.editor, previous.selection);
                }
            }
            this.navigationsStack.notifyNavigation(editorPane, event);
        }
    }
    clear() {
        for (const stack of this.stacks) {
            stack.clear();
        }
    }
    remove(arg1) {
        for (const stack of this.stacks) {
            stack.remove(arg1);
        }
    }
    move(event) {
        for (const stack of this.stacks) {
            stack.move(event);
        }
    }
};
EditorNavigationStacks = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_15__.IInstantiationService)))
], EditorNavigationStacks)));
class NoOpEditorNavigationStacks {
    constructor() {
        this.onDidChange = vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_11__.Event.None;
    }
    canGoForward() { return false; }
    async goForward() { }
    canGoBack() { return false; }
    async goBack() { }
    async goPrevious() { }
    canGoLast() { return false; }
    async goLast() { }
    handleActiveEditorChange() { }
    handleActiveEditorSelectionChange() { }
    clear() { }
    remove() { }
    move() { }
    dispose() { }
}
let EditorNavigationStack = class EditorNavigationStack extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_9__.Disposable {
    static { EditorNavigationStack_1 = this; }
    static { this.MAX_STACK_SIZE = 50; }
    get current() {
        return this.stack[this.index];
    }
    set current(entry) {
        if (entry) {
            this.stack[this.index] = entry;
        }
    }
    constructor(filter, scope, instantiationService, editorService, editorGroupService, logService) {
        super();
        this.filter = filter;
        this.scope = scope;
        this.instantiationService = instantiationService;
        this.editorService = editorService;
        this.editorGroupService = editorGroupService;
        this.logService = logService;
        this._onDidChange = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_11__.Emitter())));
        this.onDidChange = this._onDidChange.event;
        this.mapEditorToDisposable = ( (new Map()));
        this.mapGroupToDisposable = ( (new Map()));
        this.editorHelper = this.instantiationService.createInstance(EditorHelper);
        this.stack = [];
        this.index = -1;
        this.previousIndex = -1;
        this.navigating = false;
        this.currentSelectionState = undefined;
        this.registerListeners();
    }
    registerListeners() {
        this._register(this.onDidChange(() => this.traceStack()));
        this._register(this.logService.onDidChangeLogLevel(() => this.traceStack()));
    }
    traceStack() {
        if (this.logService.getLevel() !== vscode_vscode_vs_platform_log_common_log__WEBPACK_IMPORTED_MODULE_29__.LogLevel.Trace) {
            return;
        }
        const entryLabels = [];
        for (const entry of this.stack) {
            if (typeof entry.selection?.log === 'function') {
                entryLabels.push(`- group: ${entry.groupId}, editor: ${entry.editor.resource?.toString()}, selection: ${entry.selection.log()}`);
            }
            else {
                entryLabels.push(`- group: ${entry.groupId}, editor: ${entry.editor.resource?.toString()}, selection: <none>`);
            }
        }
        if (entryLabels.length === 0) {
            this.trace(`index: ${this.index}, navigating: ${this.isNavigating()}: <empty>`);
        }
        else {
            this.trace(`index: ${this.index}, navigating: ${this.isNavigating()}
${entryLabels.join('\n')}
			`);
        }
    }
    trace(msg, editor = null, event) {
        if (this.logService.getLevel() !== vscode_vscode_vs_platform_log_common_log__WEBPACK_IMPORTED_MODULE_29__.LogLevel.Trace) {
            return;
        }
        let filterLabel;
        switch (this.filter) {
            case 0 :
                filterLabel = 'global';
                break;
            case 1 :
                filterLabel = 'edits';
                break;
            case 2 :
                filterLabel = 'navigation';
                break;
        }
        let scopeLabel;
        switch (this.scope) {
            case 0 :
                scopeLabel = 'default';
                break;
            case 1 :
                scopeLabel = 'editorGroup';
                break;
            case 2 :
                scopeLabel = 'editor';
                break;
        }
        if (editor !== null) {
            this.logService.trace(`[History stack ${filterLabel}-${scopeLabel}]: ${msg} (editor: ${editor?.resource?.toString()}, event: ${this.traceEvent(event)})`);
        }
        else {
            this.logService.trace(`[History stack ${filterLabel}-${scopeLabel}]: ${msg}`);
        }
    }
    traceEvent(event) {
        if (!event) {
            return '<none>';
        }
        switch (event.reason) {
            case 3 : return 'edit';
            case 4 : return 'navigation';
            case 5 : return 'jump';
            case 1 : return 'programmatic';
            case 2 : return 'user';
        }
    }
    registerGroupListeners(groupId) {
        if (!( (this.mapGroupToDisposable.has(groupId)))) {
            const group = this.editorGroupService.getGroup(groupId);
            if (group) {
                this.mapGroupToDisposable.set(groupId, group.onWillMoveEditor(e => this.onWillMoveEditor(e)));
            }
        }
    }
    onWillMoveEditor(e) {
        this.trace('onWillMoveEditor()', e.editor);
        if (this.scope === 1 ) {
            return;
        }
        for (const entry of this.stack) {
            if (entry.groupId !== e.groupId) {
                continue;
            }
            if (!this.editorHelper.matchesEditor(e.editor, entry.editor)) {
                continue;
            }
            entry.groupId = e.target;
        }
    }
    notifyNavigation(editorPane, event) {
        this.trace('notifyNavigation()', editorPane?.input, event);
        const isSelectionAwareEditorPane = (0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.isEditorPaneWithSelection)(editorPane);
        const hasValidEditor = editorPane?.input && !editorPane.input.isDisposed();
        if (this.navigating) {
            this.trace(`notifyNavigation() ignoring (navigating)`, editorPane?.input, event);
            if (isSelectionAwareEditorPane && hasValidEditor) {
                this.trace('notifyNavigation() updating current selection state', editorPane?.input, event);
                this.currentSelectionState = ( (new EditorSelectionState(
                    { groupId: editorPane.group.id, editor: editorPane.input },
                    editorPane.getSelection(),
                    event?.reason
                )));
            }
            else {
                this.trace('notifyNavigation() dropping current selection state', editorPane?.input, event);
                this.currentSelectionState = undefined;
            }
        }
        else {
            this.trace(`notifyNavigation() not ignoring`, editorPane?.input, event);
            if (isSelectionAwareEditorPane && hasValidEditor) {
                this.onSelectionAwareEditorNavigation(editorPane.group.id, editorPane.input, editorPane.getSelection(), event);
            }
            else {
                this.currentSelectionState = undefined;
                if (hasValidEditor) {
                    this.onNonSelectionAwareEditorNavigation(editorPane.group.id, editorPane.input);
                }
            }
        }
    }
    onSelectionAwareEditorNavigation(groupId, editor, selection, event) {
        if (this.current?.groupId === groupId && !selection && this.editorHelper.matchesEditor(this.current.editor, editor)) {
            return;
        }
        this.trace('onSelectionAwareEditorNavigation()', editor, event);
        const stateCandidate = ( (new EditorSelectionState({ groupId, editor }, selection, event?.reason)));
        if (!this.currentSelectionState || this.currentSelectionState.justifiesNewNavigationEntry(stateCandidate)) {
            this.doAdd(groupId, editor, stateCandidate.selection);
        }
        else {
            this.doReplace(groupId, editor, stateCandidate.selection);
        }
        this.currentSelectionState = stateCandidate;
    }
    onNonSelectionAwareEditorNavigation(groupId, editor) {
        if (this.current?.groupId === groupId && this.editorHelper.matchesEditor(this.current.editor, editor)) {
            return;
        }
        this.trace('onNonSelectionAwareEditorNavigation()', editor);
        this.doAdd(groupId, editor);
    }
    doAdd(groupId, editor, selection) {
        if (!this.navigating) {
            this.addOrReplace(groupId, editor, selection);
        }
    }
    doReplace(groupId, editor, selection) {
        if (!this.navigating) {
            this.addOrReplace(groupId, editor, selection, true );
        }
    }
    addOrReplace(groupId, editorCandidate, selection, forceReplace) {
        this.registerGroupListeners(groupId);
        let replace = false;
        if (this.current) {
            if (forceReplace) {
                replace = true;
            }
            else if (this.shouldReplaceStackEntry(this.current, { groupId, editor: editorCandidate, selection })) {
                replace = true;
            }
        }
        const editor = this.editorHelper.preferResourceEditorInput(editorCandidate);
        if (!editor) {
            return;
        }
        if (replace) {
            this.trace('replace()', editor);
        }
        else {
            this.trace('add()', editor);
        }
        const newStackEntry = { groupId, editor, selection };
        const removedEntries = [];
        if (replace) {
            if (this.current) {
                removedEntries.push(this.current);
            }
            this.current = newStackEntry;
        }
        else {
            if (this.stack.length > this.index + 1) {
                for (let i = this.index + 1; i < this.stack.length; i++) {
                    removedEntries.push(this.stack[i]);
                }
                this.stack = this.stack.slice(0, this.index + 1);
            }
            this.stack.splice(this.index + 1, 0, newStackEntry);
            if (this.stack.length > EditorNavigationStack_1.MAX_STACK_SIZE) {
                removedEntries.push(this.stack.shift());
                if (this.previousIndex >= 0) {
                    this.previousIndex--;
                }
            }
            else {
                this.setIndex(this.index + 1, true );
            }
        }
        for (const removedEntry of removedEntries) {
            this.editorHelper.clearOnEditorDispose(removedEntry.editor, this.mapEditorToDisposable);
        }
        if ((0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.isEditorInput)(editor)) {
            this.editorHelper.onEditorDispose(editor, () => this.remove(editor), this.mapEditorToDisposable);
        }
        this._onDidChange.fire();
    }
    shouldReplaceStackEntry(entry, candidate) {
        if (entry.groupId !== candidate.groupId) {
            return false;
        }
        if (!this.editorHelper.matchesEditor(entry.editor, candidate.editor)) {
            return false;
        }
        if (!entry.selection) {
            return true;
        }
        if (!candidate.selection) {
            return false;
        }
        return entry.selection.compare(candidate.selection) === 1 ;
    }
    move(event) {
        if (event.isOperation(2 )) {
            for (const entry of this.stack) {
                if (this.editorHelper.matchesEditor(event, entry.editor)) {
                    entry.editor = { resource: event.target.resource };
                }
            }
        }
    }
    remove(arg1) {
        const previousStackSize = this.stack.length;
        this.stack = this.stack.filter(entry => {
            const matches = typeof arg1 === 'number' ? entry.groupId === arg1 : this.editorHelper.matchesEditor(arg1, entry.editor);
            if (matches) {
                this.editorHelper.clearOnEditorDispose(entry.editor, this.mapEditorToDisposable);
            }
            return !matches;
        });
        if (previousStackSize === this.stack.length) {
            return;
        }
        this.flatten();
        this.index = this.stack.length - 1;
        this.previousIndex = -1;
        if (typeof arg1 === 'number') {
            this.mapGroupToDisposable.get(arg1)?.dispose();
            this.mapGroupToDisposable.delete(arg1);
        }
        this._onDidChange.fire();
    }
    flatten() {
        const flattenedStack = [];
        let previousEntry = undefined;
        for (const entry of this.stack) {
            if (previousEntry && this.shouldReplaceStackEntry(entry, previousEntry)) {
                continue;
            }
            previousEntry = entry;
            flattenedStack.push(entry);
        }
        this.stack = flattenedStack;
    }
    clear() {
        this.index = -1;
        this.previousIndex = -1;
        this.stack.splice(0);
        for (const [, disposable] of this.mapEditorToDisposable) {
            (0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_9__.dispose)(disposable);
        }
        this.mapEditorToDisposable.clear();
        for (const [, disposable] of this.mapGroupToDisposable) {
            (0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_9__.dispose)(disposable);
        }
        this.mapGroupToDisposable.clear();
    }
    dispose() {
        super.dispose();
        this.clear();
    }
    canGoForward() {
        return this.stack.length > this.index + 1;
    }
    async goForward() {
        const navigated = await this.maybeGoCurrent();
        if (navigated) {
            return;
        }
        if (!this.canGoForward()) {
            return;
        }
        this.setIndex(this.index + 1);
        return this.navigate();
    }
    canGoBack() {
        return this.index > 0;
    }
    async goBack() {
        const navigated = await this.maybeGoCurrent();
        if (navigated) {
            return;
        }
        if (!this.canGoBack()) {
            return;
        }
        this.setIndex(this.index - 1);
        return this.navigate();
    }
    async goPrevious() {
        const navigated = await this.maybeGoCurrent();
        if (navigated) {
            return;
        }
        if (this.previousIndex === -1) {
            return this.goBack();
        }
        this.setIndex(this.previousIndex);
        return this.navigate();
    }
    canGoLast() {
        return this.stack.length > 0;
    }
    async goLast() {
        if (!this.canGoLast()) {
            return;
        }
        this.setIndex(this.stack.length - 1);
        return this.navigate();
    }
    async maybeGoCurrent() {
        if (this.filter === 0 ) {
            return false;
        }
        if (this.isCurrentSelectionActive()) {
            return false;
        }
        await this.navigate();
        return true;
    }
    isCurrentSelectionActive() {
        if (!this.current?.selection) {
            return false;
        }
        const pane = this.editorService.activeEditorPane;
        if (!(0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.isEditorPaneWithSelection)(pane)) {
            return false;
        }
        if (pane.group.id !== this.current.groupId) {
            return false;
        }
        if (!pane.input || !this.editorHelper.matchesEditor(pane.input, this.current.editor)) {
            return false;
        }
        const paneSelection = pane.getSelection();
        if (!paneSelection) {
            return false;
        }
        return paneSelection.compare(this.current.selection) === 1 ;
    }
    setIndex(newIndex, skipEvent) {
        this.previousIndex = this.index;
        this.index = newIndex;
        if (!skipEvent) {
            this._onDidChange.fire();
        }
    }
    async navigate() {
        this.navigating = true;
        try {
            if (this.current) {
                await this.doNavigate(this.current);
            }
        }
        finally {
            this.navigating = false;
        }
    }
    doNavigate(location) {
        let options = Object.create(null);
        if (location.selection) {
            options = location.selection.restore(options);
        }
        if ((0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.isEditorInput)(location.editor)) {
            return this.editorService.openEditor(location.editor, options, location.groupId);
        }
        return this.editorService.openEditor({
            ...location.editor,
            options: {
                ...location.editor.options,
                ...options
            }
        }, location.groupId);
    }
    isNavigating() {
        return this.navigating;
    }
};
EditorNavigationStack = EditorNavigationStack_1 = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_15__.IInstantiationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_workbench_services_editor_common_editorService_service__WEBPACK_IMPORTED_MODULE_4__.IEditorService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_workbench_services_editor_common_editorGroupsService_service__WEBPACK_IMPORTED_MODULE_13__.IEditorGroupsService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, vscode_vscode_vs_platform_log_common_log_service__WEBPACK_IMPORTED_MODULE_30__.ILogService)))
], EditorNavigationStack)));
let EditorHelper = class EditorHelper {
    constructor(uriIdentityService, lifecycleService, fileService, pathService) {
        this.uriIdentityService = uriIdentityService;
        this.lifecycleService = lifecycleService;
        this.fileService = fileService;
        this.pathService = pathService;
    }
    preferResourceEditorInput(editor) {
        const resource = vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.EditorResourceAccessor.getOriginalUri(editor);
        const hasValidResourceEditorInputScheme = resource?.scheme === vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_23__.Schemas.file ||
            resource?.scheme === vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_23__.Schemas.vscodeRemote ||
            resource?.scheme === vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_23__.Schemas.vscodeUserData ||
            resource?.scheme === this.pathService.defaultUriScheme;
        if (hasValidResourceEditorInputScheme) {
            if ((0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.isEditorInput)(editor)) {
                const untypedInput = editor.toUntyped();
                if ((0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.isResourceEditorInput)(untypedInput)) {
                    return untypedInput;
                }
            }
            return editor;
        }
        else {
            return (0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.isEditorInput)(editor) ? editor : undefined;
        }
    }
    matchesEditor(arg1, inputB) {
        if (arg1 instanceof vscode_vscode_vs_platform_files_common_files__WEBPACK_IMPORTED_MODULE_6__.FileChangesEvent || arg1 instanceof vscode_vscode_vs_platform_files_common_files__WEBPACK_IMPORTED_MODULE_6__.FileOperationEvent) {
            if ((0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.isEditorInput)(inputB)) {
                return false;
            }
            if (arg1 instanceof vscode_vscode_vs_platform_files_common_files__WEBPACK_IMPORTED_MODULE_6__.FileChangesEvent) {
                return arg1.contains(inputB.resource, 2 );
            }
            return this.matchesFile(inputB.resource, arg1);
        }
        if ((0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.isEditorInput)(arg1)) {
            if ((0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.isEditorInput)(inputB)) {
                return arg1.matches(inputB);
            }
            return this.matchesFile(inputB.resource, arg1);
        }
        if ((0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.isEditorInput)(inputB)) {
            return this.matchesFile(arg1.resource, inputB);
        }
        return arg1 && inputB && this.uriIdentityService.extUri.isEqual(arg1.resource, inputB.resource);
    }
    matchesFile(resource, arg2) {
        if (arg2 instanceof vscode_vscode_vs_platform_files_common_files__WEBPACK_IMPORTED_MODULE_6__.FileChangesEvent) {
            return arg2.contains(resource, 2 );
        }
        if (arg2 instanceof vscode_vscode_vs_platform_files_common_files__WEBPACK_IMPORTED_MODULE_6__.FileOperationEvent) {
            return this.uriIdentityService.extUri.isEqualOrParent(resource, arg2.resource);
        }
        if ((0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.isEditorInput)(arg2)) {
            const inputResource = arg2.resource;
            if (!inputResource) {
                return false;
            }
            if (this.lifecycleService.phase >= 3  && !this.fileService.hasProvider(inputResource)) {
                return false;
            }
            return this.uriIdentityService.extUri.isEqual(inputResource, resource);
        }
        return this.uriIdentityService.extUri.isEqual(arg2?.resource, resource);
    }
    matchesEditorIdentifier(identifier, editorPane) {
        if (!editorPane?.group) {
            return false;
        }
        if (identifier.groupId !== editorPane.group.id) {
            return false;
        }
        return editorPane.input ? identifier.editor.matches(editorPane.input) : false;
    }
    onEditorDispose(editor, listener, mapEditorToDispose) {
        const toDispose = vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_11__.Event.once(editor.onWillDispose)(() => listener());
        let disposables = mapEditorToDispose.get(editor);
        if (!disposables) {
            disposables = ( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_9__.DisposableStore()));
            mapEditorToDispose.set(editor, disposables);
        }
        disposables.add(toDispose);
    }
    clearOnEditorDispose(editor, mapEditorToDispose) {
        if (!(0,vscode_vscode_vs_workbench_common_editor__WEBPACK_IMPORTED_MODULE_3__.isEditorInput)(editor)) {
            return;
        }
        const disposables = mapEditorToDispose.get(editor);
        if (disposables) {
            (0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_9__.dispose)(disposables);
            mapEditorToDispose.delete(editor);
        }
    }
};
EditorHelper = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_platform_uriIdentity_common_uriIdentity_service__WEBPACK_IMPORTED_MODULE_27__.IUriIdentityService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_workbench_services_lifecycle_common_lifecycle_service__WEBPACK_IMPORTED_MODULE_28__.ILifecycleService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_platform_files_common_files_service__WEBPACK_IMPORTED_MODULE_7__.IFileService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_workbench_services_path_common_pathService_service__WEBPACK_IMPORTED_MODULE_26__.IPathService)))
], EditorHelper)));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/services/progress/browser/media/progressService.css.js":
/*!***********************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/services/progress/browser/media/progressService.css.js ***!
  \***********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ css),
/* harmony export */   "default": () => (/* binding */ css)
/* harmony export */ });
/* harmony import */ var vscode_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js */ "./node_modules/vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js");


var css = ".monaco-workbench .progress-badge>.badge-content:before{background-color:currentColor;background-repeat:no-repeat;bottom:0;content:\"\";height:14px;left:0;margin:auto;mask:url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCIgdmlld0JveD0iMiAyIDE0IDE0Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNOSAxNmMtMy44NiAwLTctMy4xNC03LTdzMy4xNC03IDctN2MzLjg1OSAwIDcgMy4xNDEgNyA3cy0zLjE0MSA3LTcgN3pNOSAzLjRDNS45MTIgMy40IDMuNCA1LjkxMyAzLjQgOXMyLjUxMiA1LjYgNS42IDUuNiA1LjYtMi41MTIgNS42LTUuNlMxMi4wODggMy40IDkgMy40em0zLjg2IDcuMUw5LjcgOC42MDRWNC44SDguM3Y0LjU5NmwzLjg0IDIuMzA1LjcyLTEuMjAxeiIvPjwvc3ZnPg==\") no-repeat;-webkit-mask:url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCIgdmlld0JveD0iMiAyIDE0IDE0Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNOSAxNmMtMy44NiAwLTctMy4xNC03LTdzMy4xNC03IDctN2MzLjg1OSAwIDcgMy4xNDEgNyA3cy0zLjE0MSA3LTcgN3pNOSAzLjRDNS45MTIgMy40IDMuNCA1LjkxMyAzLjQgOXMyLjUxMiA1LjYgNS42IDUuNiA1LjYtMi41MTIgNS42LTUuNlMxMi4wODggMy40IDkgMy40em0zLjg2IDcuMUw5LjcgOC42MDRWNC44SDguM3Y0LjU5NmwzLjg0IDIuMzA1LjcyLTEuMjAxeiIvPjwvc3ZnPg==\") no-repeat;position:absolute;right:0;top:0;width:14px}";
(0,vscode_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__["default"])(css,{});




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/services/progress/browser/progressService.js":
/*!*************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/services/progress/browser/progressService.js ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ProgressService: () => (/* binding */ ProgressService)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _media_progressService_css_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./media/progressService.css.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/services/progress/browser/media/progressService.css.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_platform_progress_common_progress__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/platform/progress/common/progress */ "./node_modules/vscode/vscode/src/vs/platform/progress/common/progress.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_statusbar_browser_statusbar_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/statusbar/browser/statusbar.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/statusbar/browser/statusbar.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_async__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/base/common/async */ "./node_modules/vscode/vscode/src/vs/base/common/async.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_activity_common_activity__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/activity/common/activity */ "./node_modules/vscode/vscode/src/vs/workbench/services/activity/common/activity.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_activity_common_activity_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/activity/common/activity.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/activity/common/activity.service.js");
/* harmony import */ var vscode_vscode_vs_platform_notification_common_notification__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/platform/notification/common/notification */ "./node_modules/vscode/vscode/src/vs/platform/notification/common/notification.js");
/* harmony import */ var vscode_vscode_vs_platform_notification_common_notification_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/platform/notification/common/notification.service */ "./node_modules/vscode/vscode/src/vs/platform/notification/common/notification.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/base/common/actions */ "./node_modules/vscode/vscode/src/vs/base/common/actions.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_platform_layout_browser_layoutService_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/platform/layout/browser/layoutService.service */ "./node_modules/vscode/vscode/src/vs/platform/layout/browser/layoutService.service.js");
/* harmony import */ var vscode_vscode_vs_base_browser_ui_dialog_dialog__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/ui/dialog/dialog */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/dialog/dialog.js");
/* harmony import */ var vscode_vscode_vs_platform_keybinding_common_keybinding_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/platform/keybinding/common/keybinding.service */ "./node_modules/vscode/vscode/src/vs/platform/keybinding/common/keybinding.service.js");
/* harmony import */ var vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/base/browser/dom */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var vscode_vscode_vs_base_common_linkedText__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! vscode/vscode/vs/base/common/linkedText */ "./node_modules/vscode/vscode/src/vs/base/common/linkedText.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_views_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/views.service */ "./node_modules/vscode/vscode/src/vs/workbench/common/views.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_views_common_viewsService_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/views/common/viewsService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/views/common/viewsService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_panecomposite_browser_panecomposite_service__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/panecomposite/browser/panecomposite.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/panecomposite/browser/panecomposite.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_iconLabels__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! vscode/vscode/vs/base/common/iconLabels */ "./node_modules/vscode/vscode/src/vs/base/common/iconLabels.js");
/* harmony import */ var vscode_vscode_vs_platform_theme_browser_defaultStyles__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! vscode/vscode/vs/platform/theme/browser/defaultStyles */ "./node_modules/vscode/vscode/src/vs/platform/theme/browser/defaultStyles.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_userActivity_common_userActivityService_service__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/userActivity/common/userActivityService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/userActivity/common/userActivityService.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_severity__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! vscode/vscode/vs/base/common/severity */ "./node_modules/vscode/vscode/src/vs/base/common/severity.js");



























let ProgressService = class ProgressService extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__.Disposable {
    constructor(activityService, paneCompositeService, viewDescriptorService, viewsService, notificationService, statusbarService, layoutService, keybindingService, userActivityService) {
        super();
        this.activityService = activityService;
        this.paneCompositeService = paneCompositeService;
        this.viewDescriptorService = viewDescriptorService;
        this.viewsService = viewsService;
        this.notificationService = notificationService;
        this.statusbarService = statusbarService;
        this.layoutService = layoutService;
        this.keybindingService = keybindingService;
        this.userActivityService = userActivityService;
        this.windowProgressStack = [];
        this.windowProgressStatusEntry = undefined;
    }
    async withProgress(options, originalTask, onDidCancel) {
        const { location } = options;
        const task = async (progress) => {
            const activeLock = this.userActivityService.markActive({ whenHeldFor: 15_000 });
            try {
                return await originalTask(progress);
            }
            finally {
                activeLock.dispose();
            }
        };
        const handleStringLocation = (location) => {
            const viewContainer = this.viewDescriptorService.getViewContainerById(location);
            if (viewContainer) {
                const viewContainerLocation = this.viewDescriptorService.getViewContainerLocation(viewContainer);
                if (viewContainerLocation !== null) {
                    return this.withPaneCompositeProgress(location, viewContainerLocation, task, { ...options, location });
                }
            }
            if (this.viewDescriptorService.getViewDescriptorById(location) !== null) {
                return this.withViewProgress(location, task, { ...options, location });
            }
            throw ( (new Error(`Bad progress location: ${location}`)));
        };
        if (typeof location === 'string') {
            return handleStringLocation(location);
        }
        switch (location) {
            case 15 : {
                let priority = options.priority;
                if (priority !== vscode_vscode_vs_platform_notification_common_notification__WEBPACK_IMPORTED_MODULE_10__.NotificationPriority.URGENT) {
                    if (this.notificationService.getFilter() === vscode_vscode_vs_platform_notification_common_notification__WEBPACK_IMPORTED_MODULE_10__.NotificationsFilter.ERROR) {
                        priority = vscode_vscode_vs_platform_notification_common_notification__WEBPACK_IMPORTED_MODULE_10__.NotificationPriority.SILENT;
                    }
                    else if ((0,vscode_vscode_vs_platform_notification_common_notification__WEBPACK_IMPORTED_MODULE_10__.isNotificationSource)(options.source) && this.notificationService.getFilter(options.source) === vscode_vscode_vs_platform_notification_common_notification__WEBPACK_IMPORTED_MODULE_10__.NotificationsFilter.ERROR) {
                        priority = vscode_vscode_vs_platform_notification_common_notification__WEBPACK_IMPORTED_MODULE_10__.NotificationPriority.SILENT;
                    }
                }
                return this.withNotificationProgress({ ...options, location, priority }, task, onDidCancel);
            }
            case 10 : {
                const type = options.type;
                if (options.command) {
                    return this.withWindowProgress({ ...options, location, type }, task);
                }
                return this.withNotificationProgress({ delay: 150 , ...options, priority: vscode_vscode_vs_platform_notification_common_notification__WEBPACK_IMPORTED_MODULE_10__.NotificationPriority.SILENT, location: 15 , type }, task, onDidCancel);
            }
            case 1 :
                return this.withPaneCompositeProgress('workbench.view.explorer', 0 , task, { ...options, location });
            case 3 :
                return handleStringLocation('workbench.scm');
            case 5 :
                return this.withPaneCompositeProgress('workbench.view.extensions', 0 , task, { ...options, location });
            case 20 :
                return this.withDialogProgress(options, task, onDidCancel);
            default:
                throw ( (new Error(`Bad progress location: ${location}`)));
        }
    }
    withWindowProgress(options, callback) {
        const task = [options, ( (new vscode_vscode_vs_platform_progress_common_progress__WEBPACK_IMPORTED_MODULE_4__.Progress(() => this.updateWindowProgress())))];
        const promise = callback(task[1]);
        let delayHandle = setTimeout(() => {
            delayHandle = undefined;
            this.windowProgressStack.unshift(task);
            this.updateWindowProgress();
            Promise.all([
                (0,vscode_vscode_vs_base_common_async__WEBPACK_IMPORTED_MODULE_7__.timeout)(150),
                promise
            ]).finally(() => {
                const idx = this.windowProgressStack.indexOf(task);
                this.windowProgressStack.splice(idx, 1);
                this.updateWindowProgress();
            });
        }, 150);
        return promise.finally(() => clearTimeout(delayHandle));
    }
    updateWindowProgress(idx = 0) {
        if (idx < this.windowProgressStack.length) {
            const [options, progress] = this.windowProgressStack[idx];
            const progressTitle = options.title;
            const progressMessage = progress.value && progress.value.message;
            const progressCommand = options.command;
            let text;
            let title;
            const source = options.source && typeof options.source !== 'string' ? options.source.label : options.source;
            if (progressTitle && progressMessage) {
                text = ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__.localize)(4219, "{0}: {1}", progressTitle, progressMessage));
                title = source ? ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__.localize)(4220, "[{0}] {1}: {2}", source, progressTitle, progressMessage)) : text;
            }
            else if (progressTitle) {
                text = progressTitle;
                title = source ? ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__.localize)(4221, "[{0}]: {1}", source, progressTitle)) : text;
            }
            else if (progressMessage) {
                text = progressMessage;
                title = source ? ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__.localize)(4221, "[{0}]: {1}", source, progressMessage)) : text;
            }
            else {
                this.updateWindowProgress(idx + 1);
                return;
            }
            const statusEntryProperties = {
                name: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__.localize)(4222, "Progress Message")),
                text,
                showProgress: options.type || true,
                ariaLabel: text,
                tooltip: title,
                command: progressCommand
            };
            if (this.windowProgressStatusEntry) {
                this.windowProgressStatusEntry.update(statusEntryProperties);
            }
            else {
                this.windowProgressStatusEntry = this.statusbarService.addEntry(statusEntryProperties, 'status.progress', 0 );
            }
        }
        else {
            this.windowProgressStatusEntry?.dispose();
            this.windowProgressStatusEntry = undefined;
        }
    }
    withNotificationProgress(options, callback, onDidCancel) {
        const progressStateModel = new (class extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__.Disposable {
            get step() { return this._step; }
            get done() { return this._done; }
            constructor() {
                super();
                this._onDidReport = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_13__.Emitter())));
                this.onDidReport = this._onDidReport.event;
                this._onWillDispose = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_13__.Emitter())));
                this.onWillDispose = this._onWillDispose.event;
                this._step = undefined;
                this._done = false;
                this.promise = callback(this);
                this.promise.finally(() => {
                    this.dispose();
                });
            }
            report(step) {
                this._step = step;
                this._onDidReport.fire(step);
            }
            cancel(choice) {
                onDidCancel?.(choice);
                this.dispose();
            }
            dispose() {
                this._done = true;
                this._onWillDispose.fire();
                super.dispose();
            }
        });
        const createWindowProgress = () => {
            const promise = ( (new vscode_vscode_vs_base_common_async__WEBPACK_IMPORTED_MODULE_7__.DeferredPromise()));
            this.withWindowProgress({
                location: 10 ,
                title: options.title ? ( ((0,vscode_vscode_vs_base_common_linkedText__WEBPACK_IMPORTED_MODULE_18__.parseLinkedText)(options.title).toString())) : undefined,
                command: 'notifications.showList',
                type: options.type
            }, progress => {
                function reportProgress(step) {
                    if (step.message) {
                        progress.report({
                            message: ( ((0,vscode_vscode_vs_base_common_linkedText__WEBPACK_IMPORTED_MODULE_18__.parseLinkedText)(step.message).toString()))
                        });
                    }
                }
                if (progressStateModel.step) {
                    reportProgress(progressStateModel.step);
                }
                const onDidReportListener = progressStateModel.onDidReport(step => reportProgress(step));
                promise.p.finally(() => onDidReportListener.dispose());
                vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_13__.Event.once(progressStateModel.onWillDispose)(() => promise.complete());
                return promise.p;
            });
            return (0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__.toDisposable)(() => promise.complete());
        };
        const createNotification = (message, priority, increment) => {
            const notificationDisposables = ( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__.DisposableStore()));
            const primaryActions = options.primaryActions ? Array.from(options.primaryActions) : [];
            const secondaryActions = options.secondaryActions ? Array.from(options.secondaryActions) : [];
            if (options.buttons) {
                options.buttons.forEach((button, index) => {
                    const buttonAction = new (class extends vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_12__.Action {
                        constructor() {
                            super(`progress.button.${button}`, button, undefined, true);
                        }
                        async run() {
                            progressStateModel.cancel(index);
                        }
                    });
                    notificationDisposables.add(buttonAction);
                    primaryActions.push(buttonAction);
                });
            }
            if (options.cancellable) {
                const cancelAction = new (class extends vscode_vscode_vs_base_common_actions__WEBPACK_IMPORTED_MODULE_12__.Action {
                    constructor() {
                        super('progress.cancel', ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__.localize)(4223, "Cancel")), undefined, true);
                    }
                    async run() {
                        progressStateModel.cancel();
                    }
                });
                notificationDisposables.add(cancelAction);
                primaryActions.push(cancelAction);
            }
            const notification = this.notificationService.notify({
                severity: vscode_vscode_vs_base_common_severity__WEBPACK_IMPORTED_MODULE_25__["default"].Info,
                message: (0,vscode_vscode_vs_base_common_iconLabels__WEBPACK_IMPORTED_MODULE_22__.stripIcons)(message),
                source: options.source,
                actions: { primary: primaryActions, secondary: secondaryActions },
                progress: typeof increment === 'number' && increment >= 0 ? { total: 100, worked: increment } : { infinite: true },
                priority
            });
            let windowProgressDisposable = undefined;
            const onVisibilityChange = (visible) => {
                (0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__.dispose)(windowProgressDisposable);
                if (!visible && !progressStateModel.done) {
                    windowProgressDisposable = createWindowProgress();
                }
            };
            notificationDisposables.add(notification.onDidChangeVisibility(onVisibilityChange));
            if (priority === vscode_vscode_vs_platform_notification_common_notification__WEBPACK_IMPORTED_MODULE_10__.NotificationPriority.SILENT) {
                onVisibilityChange(false);
            }
            vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_13__.Event.once(notification.onDidClose)(() => notificationDisposables.dispose());
            return notification;
        };
        const updateProgress = (notification, increment) => {
            if (typeof increment === 'number' && increment >= 0) {
                notification.progress.total(100);
                notification.progress.worked(increment);
            }
            else {
                notification.progress.infinite();
            }
        };
        let notificationHandle;
        let notificationTimeout;
        let titleAndMessage;
        const updateNotification = (step) => {
            if (step?.message && options.title) {
                titleAndMessage = `${options.title}: ${step.message}`;
            }
            else {
                titleAndMessage = options.title || step?.message;
            }
            if (!notificationHandle && titleAndMessage) {
                if (typeof options.delay === 'number' && options.delay > 0) {
                    if (typeof notificationTimeout !== 'number') {
                        notificationTimeout = setTimeout(() => notificationHandle = createNotification(titleAndMessage, options.priority, step?.increment), options.delay);
                    }
                }
                else {
                    notificationHandle = createNotification(titleAndMessage, options.priority, step?.increment);
                }
            }
            if (notificationHandle) {
                if (titleAndMessage) {
                    notificationHandle.updateMessage(titleAndMessage);
                }
                if (typeof step?.increment === 'number') {
                    updateProgress(notificationHandle, step.increment);
                }
            }
        };
        updateNotification(progressStateModel.step);
        const listener = progressStateModel.onDidReport(step => updateNotification(step));
        vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_13__.Event.once(progressStateModel.onWillDispose)(() => listener.dispose());
        (async () => {
            try {
                if (typeof options.delay === 'number' && options.delay > 0) {
                    await progressStateModel.promise;
                }
                else {
                    await Promise.all([(0,vscode_vscode_vs_base_common_async__WEBPACK_IMPORTED_MODULE_7__.timeout)(800), progressStateModel.promise]);
                }
            }
            finally {
                clearTimeout(notificationTimeout);
                notificationHandle?.close();
            }
        })();
        return progressStateModel.promise;
    }
    withPaneCompositeProgress(paneCompositeId, viewContainerLocation, task, options) {
        const progressIndicator = this.paneCompositeService.getProgressIndicator(paneCompositeId, viewContainerLocation);
        const promise = progressIndicator ? this.withCompositeProgress(progressIndicator, task, options) : task({ report: () => { } });
        if (viewContainerLocation === 0 ) {
            this.showOnActivityBar(paneCompositeId, options, promise);
        }
        return promise;
    }
    withViewProgress(viewId, task, options) {
        const progressIndicator = this.viewsService.getViewProgressIndicator(viewId);
        const promise = progressIndicator ? this.withCompositeProgress(progressIndicator, task, options) : task({ report: () => { } });
        const location = this.viewDescriptorService.getViewLocationById(viewId);
        if (location !== 0 ) {
            return promise;
        }
        const viewletId = this.viewDescriptorService.getViewContainerByViewId(viewId)?.id;
        if (viewletId === undefined) {
            return promise;
        }
        this.showOnActivityBar(viewletId, options, promise);
        return promise;
    }
    showOnActivityBar(viewletId, options, promise) {
        let activityProgress;
        let delayHandle = setTimeout(() => {
            delayHandle = undefined;
            const handle = this.activityService.showViewContainerActivity(viewletId, { badge: ( (new vscode_vscode_vs_workbench_services_activity_common_activity__WEBPACK_IMPORTED_MODULE_8__.ProgressBadge(() => ''))), priority: 100 });
            const startTimeVisible = Date.now();
            const minTimeVisible = 300;
            activityProgress = {
                dispose() {
                    const d = Date.now() - startTimeVisible;
                    if (d < minTimeVisible) {
                        setTimeout(() => handle.dispose(), minTimeVisible - d);
                    }
                    else {
                        handle.dispose();
                    }
                }
            };
        }, options.delay || 300);
        promise.finally(() => {
            clearTimeout(delayHandle);
            (0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__.dispose)(activityProgress);
        });
    }
    withCompositeProgress(progressIndicator, task, options) {
        let discreteProgressRunner = undefined;
        function updateProgress(stepOrTotal) {
            let total = undefined;
            let increment = undefined;
            if (typeof stepOrTotal !== 'undefined') {
                if (typeof stepOrTotal === 'number') {
                    total = stepOrTotal;
                }
                else if (typeof stepOrTotal.increment === 'number') {
                    total = stepOrTotal.total ?? 100;
                    increment = stepOrTotal.increment;
                }
            }
            if (typeof total === 'number') {
                if (!discreteProgressRunner) {
                    discreteProgressRunner = progressIndicator.show(total, options.delay);
                    promise.catch(() => undefined ).finally(() => discreteProgressRunner?.done());
                }
                if (typeof increment === 'number') {
                    discreteProgressRunner.worked(increment);
                }
            }
            else {
                discreteProgressRunner?.done();
                progressIndicator.showWhile(promise, options.delay);
            }
            return discreteProgressRunner;
        }
        const promise = task({
            report: progress => {
                updateProgress(progress);
            }
        });
        updateProgress(options.total);
        return promise;
    }
    withDialogProgress(options, task, onDidCancel) {
        const disposables = ( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__.DisposableStore()));
        const allowableCommands = [
            'workbench.action.quit',
            'workbench.action.reloadWindow',
            'copy',
            'cut',
            'editor.action.clipboardCopyAction',
            'editor.action.clipboardCutAction'
        ];
        let dialog;
        const createDialog = (message) => {
            const buttons = options.buttons || [];
            if (!options.sticky) {
                buttons.push(options.cancellable ? ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__.localize)(4223, "Cancel")) : ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_2__.localize)(4224, "Dismiss")));
            }
            dialog = ( (new vscode_vscode_vs_base_browser_ui_dialog_dialog__WEBPACK_IMPORTED_MODULE_15__.Dialog(this.layoutService.activeContainer, message, buttons, {
                type: 'pending',
                detail: options.detail,
                cancelId: buttons.length - 1,
                disableCloseAction: options.sticky,
                disableDefaultAction: options.sticky,
                keyEventProcessor: (event) => {
                    const resolved = this.keybindingService.softDispatch(event, this.layoutService.activeContainer);
                    if (resolved.kind === 2  && resolved.commandId) {
                        if (!allowableCommands.includes(resolved.commandId)) {
                            vscode_vscode_vs_base_browser_dom__WEBPACK_IMPORTED_MODULE_17__.EventHelper.stop(event, true);
                        }
                    }
                },
                buttonStyles: vscode_vscode_vs_platform_theme_browser_defaultStyles__WEBPACK_IMPORTED_MODULE_23__.defaultButtonStyles,
                checkboxStyles: vscode_vscode_vs_platform_theme_browser_defaultStyles__WEBPACK_IMPORTED_MODULE_23__.defaultCheckboxStyles,
                inputBoxStyles: vscode_vscode_vs_platform_theme_browser_defaultStyles__WEBPACK_IMPORTED_MODULE_23__.defaultInputBoxStyles,
                dialogStyles: vscode_vscode_vs_platform_theme_browser_defaultStyles__WEBPACK_IMPORTED_MODULE_23__.defaultDialogStyles
            })));
            disposables.add(dialog);
            dialog.show().then(dialogResult => {
                onDidCancel?.(dialogResult.button);
                (0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__.dispose)(dialog);
            });
            return dialog;
        };
        let delay = options.delay ?? 0;
        let latestMessage = undefined;
        const scheduler = disposables.add(( (new vscode_vscode_vs_base_common_async__WEBPACK_IMPORTED_MODULE_7__.RunOnceScheduler(() => {
            delay = 0;
            if (latestMessage && !dialog) {
                dialog = createDialog(latestMessage);
            }
            else if (latestMessage) {
                dialog.updateMessage(latestMessage);
            }
        }, 0))));
        const updateDialog = function (message) {
            latestMessage = message;
            if (!scheduler.isScheduled()) {
                scheduler.schedule(delay);
            }
        };
        const promise = task({
            report: progress => {
                updateDialog(progress.message);
            }
        });
        promise.finally(() => {
            (0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_3__.dispose)(disposables);
        });
        if (options.title) {
            updateDialog(options.title);
        }
        return promise;
    }
};
ProgressService = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_workbench_services_activity_common_activity_service__WEBPACK_IMPORTED_MODULE_9__.IActivityService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_workbench_services_panecomposite_browser_panecomposite_service__WEBPACK_IMPORTED_MODULE_21__.IPaneCompositePartService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_workbench_common_views_service__WEBPACK_IMPORTED_MODULE_19__.IViewDescriptorService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_workbench_services_views_common_viewsService_service__WEBPACK_IMPORTED_MODULE_20__.IViewsService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_platform_notification_common_notification_service__WEBPACK_IMPORTED_MODULE_11__.INotificationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, vscode_vscode_vs_workbench_services_statusbar_browser_statusbar_service__WEBPACK_IMPORTED_MODULE_6__.IStatusbarService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, vscode_vscode_vs_platform_layout_browser_layoutService_service__WEBPACK_IMPORTED_MODULE_14__.ILayoutService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, vscode_vscode_vs_platform_keybinding_common_keybinding_service__WEBPACK_IMPORTED_MODULE_16__.IKeybindingService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, vscode_vscode_vs_workbench_services_userActivity_common_userActivityService_service__WEBPACK_IMPORTED_MODULE_24__.IUserActivityService)))
], ProgressService)));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/services/untitled/common/untitledTextEditorHandler.js":
/*!**********************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/services/untitled/common/untitledTextEditorHandler.js ***!
  \**********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   UntitledTextEditorInputSerializer: () => (/* binding */ UntitledTextEditorInputSerializer),
/* harmony export */   UntitledTextEditorWorkingCopyEditorHandler: () => (/* binding */ UntitledTextEditorWorkingCopyEditorHandler)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/common/network */ "./node_modules/vscode/vscode/src/vs/base/common/network.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/base/common/uri */ "./node_modules/vscode/vscode/src/vs/base/common/uri.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_textfile_common_textEditorService_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/textfile/common/textEditorService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/textfile/common/textEditorService.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/base/common/resources */ "./node_modules/vscode/vscode/src/vs/base/common/resources.js");
/* harmony import */ var vscode_vscode_vs_editor_common_languages_modesRegistry__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/editor/common/languages/modesRegistry */ "./node_modules/vscode/vscode/src/vs/editor/common/languages/modesRegistry.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_environment_common_environmentService_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/environment/common/environmentService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/environment/common/environmentService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_filesConfiguration_common_filesConfigurationService_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/filesConfiguration/common/filesConfigurationService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/filesConfiguration/common/filesConfigurationService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_path_common_pathService_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/path/common/pathService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/path/common/pathService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_untitled_common_untitledTextEditorInput__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/untitled/common/untitledTextEditorInput */ "./node_modules/vscode/vscode/src/vs/workbench/services/untitled/common/untitledTextEditorInput.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_workingCopy_common_workingCopy__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/workingCopy/common/workingCopy */ "./node_modules/vscode/vscode/src/vs/workbench/services/workingCopy/common/workingCopy.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_workingCopy_common_workingCopyEditorService_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/workingCopy/common/workingCopyEditorService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/workingCopy/common/workingCopyEditorService.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_untitled_common_untitledTextEditorService_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/untitled/common/untitledTextEditorService.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/untitled/common/untitledTextEditorService.service.js");















let UntitledTextEditorInputSerializer = class UntitledTextEditorInputSerializer {
    constructor(filesConfigurationService, environmentService, pathService) {
        this.filesConfigurationService = filesConfigurationService;
        this.environmentService = environmentService;
        this.pathService = pathService;
    }
    canSerialize(editorInput) {
        return this.filesConfigurationService.isHotExitEnabled && !editorInput.isDisposed();
    }
    serialize(editorInput) {
        if (!this.canSerialize(editorInput)) {
            return undefined;
        }
        const untitledTextEditorInput = editorInput;
        let resource = untitledTextEditorInput.resource;
        if (untitledTextEditorInput.hasAssociatedFilePath) {
            resource = (0,vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_5__.toLocalResource)(resource, this.environmentService.remoteAuthority, this.pathService.defaultUriScheme);
        }
        let languageId;
        const languageIdCandidate = untitledTextEditorInput.getLanguageId();
        if (languageIdCandidate !== vscode_vscode_vs_editor_common_languages_modesRegistry__WEBPACK_IMPORTED_MODULE_6__.PLAINTEXT_LANGUAGE_ID) {
            languageId = languageIdCandidate;
        }
        else if (untitledTextEditorInput.hasLanguageSetExplicitly) {
            languageId = languageIdCandidate;
        }
        const serialized = {
            resourceJSON: resource.toJSON(),
            modeId: languageId,
            encoding: untitledTextEditorInput.getEncoding()
        };
        return JSON.stringify(serialized);
    }
    deserialize(instantiationService, serializedEditorInput) {
        return instantiationService.invokeFunction(accessor => {
            const deserialized = JSON.parse(serializedEditorInput);
            const resource = vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_3__.URI.revive(deserialized.resourceJSON);
            const languageId = deserialized.modeId;
            const encoding = deserialized.encoding;
            return accessor.get(vscode_vscode_vs_workbench_services_textfile_common_textEditorService_service__WEBPACK_IMPORTED_MODULE_4__.ITextEditorService).createTextEditor({ resource, languageId, encoding, forceUntitled: true });
        });
    }
};
UntitledTextEditorInputSerializer = ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_workbench_services_filesConfiguration_common_filesConfigurationService_service__WEBPACK_IMPORTED_MODULE_8__.IFilesConfigurationService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_workbench_services_environment_common_environmentService_service__WEBPACK_IMPORTED_MODULE_7__.IWorkbenchEnvironmentService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_workbench_services_path_common_pathService_service__WEBPACK_IMPORTED_MODULE_9__.IPathService))
], UntitledTextEditorInputSerializer));
let UntitledTextEditorWorkingCopyEditorHandler = class UntitledTextEditorWorkingCopyEditorHandler extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_2__.Disposable {
    static { this.ID = 'workbench.contrib.untitledTextEditorWorkingCopyEditorHandler'; }
    constructor(workingCopyEditorService, environmentService, pathService, textEditorService, untitledTextEditorService) {
        super();
        this.environmentService = environmentService;
        this.pathService = pathService;
        this.textEditorService = textEditorService;
        this.untitledTextEditorService = untitledTextEditorService;
        this._register(workingCopyEditorService.registerHandler(this));
    }
    handles(workingCopy) {
        return workingCopy.resource.scheme === vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_1__.Schemas.untitled && workingCopy.typeId === vscode_vscode_vs_workbench_services_workingCopy_common_workingCopy__WEBPACK_IMPORTED_MODULE_11__.NO_TYPE_ID;
    }
    isOpen(workingCopy, editor) {
        if (!this.handles(workingCopy)) {
            return false;
        }
        return editor instanceof vscode_vscode_vs_workbench_services_untitled_common_untitledTextEditorInput__WEBPACK_IMPORTED_MODULE_10__.UntitledTextEditorInput && (0,vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_5__.isEqual)(workingCopy.resource, editor.resource);
    }
    createEditor(workingCopy) {
        let editorInputResource;
        if (this.untitledTextEditorService.isUntitledWithAssociatedResource(workingCopy.resource)) {
            editorInputResource = (0,vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_5__.toLocalResource)(workingCopy.resource, this.environmentService.remoteAuthority, this.pathService.defaultUriScheme);
        }
        else {
            editorInputResource = workingCopy.resource;
        }
        return this.textEditorService.createTextEditor({ resource: editorInputResource, forceUntitled: true });
    }
};
UntitledTextEditorWorkingCopyEditorHandler = ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_workbench_services_workingCopy_common_workingCopyEditorService_service__WEBPACK_IMPORTED_MODULE_12__.IWorkingCopyEditorService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_workbench_services_environment_common_environmentService_service__WEBPACK_IMPORTED_MODULE_7__.IWorkbenchEnvironmentService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_workbench_services_path_common_pathService_service__WEBPACK_IMPORTED_MODULE_9__.IPathService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_workbench_services_textfile_common_textEditorService_service__WEBPACK_IMPORTED_MODULE_4__.ITextEditorService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_workbench_services_untitled_common_untitledTextEditorService_service__WEBPACK_IMPORTED_MODULE_13__.IUntitledTextEditorService))
], UntitledTextEditorWorkingCopyEditorHandler));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/services/untitled/common/untitledTextEditorService.js":
/*!**********************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/services/untitled/common/untitledTextEditorService.js ***!
  \**********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   UntitledTextEditorService: () => (/* binding */ UntitledTextEditorService)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/base/common/uri */ "./node_modules/vscode/vscode/src/vs/base/common/uri.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_untitled_common_untitledTextEditorModel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/untitled/common/untitledTextEditorModel */ "./node_modules/vscode/vscode/src/vs/workbench/services/untitled/common/untitledTextEditorModel.js");
/* harmony import */ var vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/platform/configuration/common/configuration.service */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_base_common_map__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/base/common/map */ "./node_modules/vscode/vscode/src/vs/base/common/map.js");
/* harmony import */ var vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/base/common/network */ "./node_modules/vscode/vscode/src/vs/base/common/network.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");










var UntitledTextEditorService_1;
let UntitledTextEditorService = class UntitledTextEditorService extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_8__.Disposable {
    static { UntitledTextEditorService_1 = this; }
    static { this.UNTITLED_WITHOUT_ASSOCIATED_RESOURCE_REGEX = /Untitled-\d+/; }
    constructor(instantiationService, configurationService) {
        super();
        this.instantiationService = instantiationService;
        this.configurationService = configurationService;
        this._onDidChangeDirty = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_5__.Emitter()));
        this.onDidChangeDirty = this._onDidChangeDirty.event;
        this._onDidChangeEncoding = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_5__.Emitter()));
        this.onDidChangeEncoding = this._onDidChangeEncoding.event;
        this._onDidCreate = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_5__.Emitter()));
        this.onDidCreate = this._onDidCreate.event;
        this._onWillDispose = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_5__.Emitter()));
        this.onWillDispose = this._onWillDispose.event;
        this._onDidChangeLabel = this._register(( new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_5__.Emitter()));
        this.onDidChangeLabel = this._onDidChangeLabel.event;
        this.mapResourceToModel = ( new vscode_vscode_vs_base_common_map__WEBPACK_IMPORTED_MODULE_6__.ResourceMap());
    }
    get(resource) {
        return this.mapResourceToModel.get(resource);
    }
    getValue(resource) {
        return this.get(resource)?.textEditorModel?.getValue();
    }
    async resolve(options) {
        const model = this.doCreateOrGet(options);
        await model.resolve();
        return model;
    }
    create(options) {
        return this.doCreateOrGet(options);
    }
    doCreateOrGet(options = Object.create(null)) {
        const massagedOptions = this.massageOptions(options);
        if (massagedOptions.untitledResource && ( this.mapResourceToModel.has(massagedOptions.untitledResource))) {
            return this.mapResourceToModel.get(massagedOptions.untitledResource);
        }
        return this.doCreate(massagedOptions);
    }
    massageOptions(options) {
        const massagedOptions = Object.create(null);
        if (options.associatedResource) {
            massagedOptions.untitledResource = ( vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_1__.URI.from({
                scheme: vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_7__.Schemas.untitled,
                authority: options.associatedResource.authority,
                fragment: options.associatedResource.fragment,
                path: options.associatedResource.path,
                query: options.associatedResource.query
            }));
            massagedOptions.associatedResource = options.associatedResource;
        }
        else {
            if (options.untitledResource?.scheme === vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_7__.Schemas.untitled) {
                massagedOptions.untitledResource = options.untitledResource;
            }
        }
        if (options.languageId) {
            massagedOptions.languageId = options.languageId;
        }
        else if (!massagedOptions.associatedResource) {
            const configuration = this.configurationService.getValue();
            if (configuration.files?.defaultLanguage) {
                massagedOptions.languageId = configuration.files.defaultLanguage;
            }
        }
        massagedOptions.encoding = options.encoding;
        massagedOptions.initialValue = options.initialValue;
        return massagedOptions;
    }
    doCreate(options) {
        let untitledResource = options.untitledResource;
        if (!untitledResource) {
            let counter = 1;
            do {
                untitledResource = ( vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_1__.URI.from({ scheme: vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_7__.Schemas.untitled, path: `Untitled-${counter}` }));
                counter++;
            } while (( this.mapResourceToModel.has(untitledResource)));
        }
        const model = this._register(this.instantiationService.createInstance(vscode_vscode_vs_workbench_services_untitled_common_untitledTextEditorModel__WEBPACK_IMPORTED_MODULE_3__.UntitledTextEditorModel, untitledResource, !!options.associatedResource, options.initialValue, options.languageId, options.encoding));
        this.registerModel(model);
        return model;
    }
    registerModel(model) {
        const modelListeners = ( new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_8__.DisposableStore());
        modelListeners.add(model.onDidChangeDirty(() => this._onDidChangeDirty.fire(model)));
        modelListeners.add(model.onDidChangeName(() => this._onDidChangeLabel.fire(model)));
        modelListeners.add(model.onDidChangeEncoding(() => this._onDidChangeEncoding.fire(model)));
        modelListeners.add(model.onWillDispose(() => this._onWillDispose.fire(model)));
        vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_5__.Event.once(model.onWillDispose)(() => {
            this.mapResourceToModel.delete(model.resource);
            modelListeners.dispose();
        });
        this.mapResourceToModel.set(model.resource, model);
        this._onDidCreate.fire(model);
        if (model.isDirty()) {
            this._onDidChangeDirty.fire(model);
        }
    }
    isUntitledWithAssociatedResource(resource) {
        return resource.scheme === vscode_vscode_vs_base_common_network__WEBPACK_IMPORTED_MODULE_7__.Schemas.untitled && resource.path.length > 1 && !UntitledTextEditorService_1.UNTITLED_WITHOUT_ASSOCIATED_RESOURCE_REGEX.test(resource.path);
    }
    canDispose(model) {
        if (model.isDisposed()) {
            return true;
        }
        return this.doCanDispose(model);
    }
    async doCanDispose(model) {
        if (model.isDirty()) {
            await vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_5__.Event.toPromise(model.onDidChangeDirty);
            return this.canDispose(model);
        }
        return true;
    }
};
UntitledTextEditorService = UntitledTextEditorService_1 = ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_2__.IInstantiationService)),
    ( (0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_platform_configuration_common_configuration_service__WEBPACK_IMPORTED_MODULE_4__.IConfigurationService))
], UntitledTextEditorService));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/services/views/browser/viewDescriptorService.js":
/*!****************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/services/views/browser/viewDescriptorService.js ***!
  \****************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ViewDescriptorService: () => (/* binding */ ViewDescriptorService)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/views */ "./node_modules/vscode/vscode/src/vs/workbench/common/views.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey.service */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/platform/storage/common/storage.service */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_extensions_common_extensions_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/extensions/common/extensions.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/extensions/common/extensions.service.js");
/* harmony import */ var vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/platform/registry/common/platform */ "./node_modules/vscode/vscode/src/vs/platform/registry/common/platform.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_workbench_browser_parts_views_viewPaneContainer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/workbench/browser/parts/views/viewPaneContainer */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/views/viewPaneContainer.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/descriptors */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/descriptors.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_platform_telemetry_common_telemetry_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/platform/telemetry/common/telemetry.service */ "./node_modules/vscode/vscode/src/vs/platform/telemetry/common/telemetry.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_uuid__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/base/common/uuid */ "./node_modules/vscode/vscode/src/vs/base/common/uuid.js");
/* harmony import */ var _common_viewContainerModel_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../common/viewContainerModel.js */ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/services/views/common/viewContainerModel.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_platform_log_common_log_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/platform/log/common/log.service */ "./node_modules/vscode/vscode/src/vs/platform/log/common/log.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_lazy__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lazy */ "./node_modules/vscode/vscode/src/vs/base/common/lazy.js");




















var ViewDescriptorService_1;
function getViewContainerStorageId(viewContainerId) { return `${viewContainerId}.state`; }
let ViewDescriptorService = class ViewDescriptorService extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_8__.Disposable {
    static { ViewDescriptorService_1 = this; }
    static { this.VIEWS_CUSTOMIZATIONS = 'views.customizations'; }
    static { this.COMMON_CONTAINER_ID_PREFIX = 'workbench.views.service'; }
    get viewContainers() { return this.viewContainersRegistry.all; }
    constructor(instantiationService, contextKeyService, storageService, extensionService, telemetryService, loggerService) {
        super();
        this.instantiationService = instantiationService;
        this.contextKeyService = contextKeyService;
        this.storageService = storageService;
        this.extensionService = extensionService;
        this.telemetryService = telemetryService;
        this._onDidChangeContainer = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_11__.Emitter())));
        this.onDidChangeContainer = this._onDidChangeContainer.event;
        this._onDidChangeLocation = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_11__.Emitter())));
        this.onDidChangeLocation = this._onDidChangeLocation.event;
        this._onDidChangeContainerLocation = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_11__.Emitter())));
        this.onDidChangeContainerLocation = this._onDidChangeContainerLocation.event;
        this.viewContainerModels = this._register(( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_8__.DisposableMap())));
        this.viewsVisibilityActionDisposables = this._register(( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_8__.DisposableMap())));
        this.canRegisterViewsVisibilityActions = false;
        this._onDidChangeViewContainers = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_11__.Emitter())));
        this.onDidChangeViewContainers = this._onDidChangeViewContainers.event;
        this.logger = ( (new vscode_vscode_vs_base_common_lazy__WEBPACK_IMPORTED_MODULE_18__.Lazy(
            () => loggerService.createLogger(vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_1__.VIEWS_LOG_ID, { name: vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_1__.VIEWS_LOG_NAME, hidden: true })
        )));
        this.activeViewContextKeys = ( (new Map()));
        this.movableViewContextKeys = ( (new Map()));
        this.defaultViewLocationContextKeys = ( (new Map()));
        this.defaultViewContainerLocationContextKeys = ( (new Map()));
        this.viewContainersRegistry = ( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_7__.Registry.as(vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_1__.Extensions.ViewContainersRegistry)));
        this.viewsRegistry = ( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_7__.Registry.as(vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_1__.Extensions.ViewsRegistry)));
        this.migrateToViewsCustomizationsStorage();
        this.viewContainersCustomLocations = ( (new Map(Object.entries(this.viewCustomizations.viewContainerLocations))));
        this.viewDescriptorsCustomLocations = ( (new Map(Object.entries(this.viewCustomizations.viewLocations))));
        this.viewContainerBadgeEnablementStates = ( (new Map(Object.entries(this.viewCustomizations.viewContainerBadgeEnablementStates))));
        this.viewContainers.forEach(viewContainer => this.onDidRegisterViewContainer(viewContainer));
        this._register(this.viewsRegistry.onViewsRegistered(views => this.onDidRegisterViews(views)));
        this._register(this.viewsRegistry.onViewsDeregistered(({ views, viewContainer }) => this.onDidDeregisterViews(views, viewContainer)));
        this._register(this.viewsRegistry.onDidChangeContainer(({ views, from, to }) => this.onDidChangeDefaultContainer(views, from, to)));
        this._register(this.viewContainersRegistry.onDidRegister(({ viewContainer }) => {
            this.onDidRegisterViewContainer(viewContainer);
            this._onDidChangeViewContainers.fire({ added: [{ container: viewContainer, location: this.getViewContainerLocation(viewContainer) }], removed: [] });
        }));
        this._register(this.viewContainersRegistry.onDidDeregister(({ viewContainer, viewContainerLocation }) => {
            this.onDidDeregisterViewContainer(viewContainer);
            this._onDidChangeViewContainers.fire({ removed: [{ container: viewContainer, location: viewContainerLocation }], added: [] });
        }));
        this._register(this.storageService.onDidChangeValue(0 , ViewDescriptorService_1.VIEWS_CUSTOMIZATIONS, this._register(( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_8__.DisposableStore()))))(() => this.onDidStorageChange()));
        this.extensionService.whenInstalledExtensionsRegistered().then(() => this.whenExtensionsRegistered());
    }
    migrateToViewsCustomizationsStorage() {
        if (this.storageService.get(ViewDescriptorService_1.VIEWS_CUSTOMIZATIONS, 0 )) {
            return;
        }
        const viewContainerLocationsValue = this.storageService.get('views.cachedViewContainerLocations', 0 );
        const viewDescriptorLocationsValue = this.storageService.get('views.cachedViewPositions', 0 );
        if (!viewContainerLocationsValue && !viewDescriptorLocationsValue) {
            return;
        }
        const viewContainerLocations = viewContainerLocationsValue ? JSON.parse(viewContainerLocationsValue) : [];
        const viewDescriptorLocations = viewDescriptorLocationsValue ? JSON.parse(viewDescriptorLocationsValue) : [];
        const viewsCustomizations = {
            viewContainerLocations: viewContainerLocations.reduce((result, [id, location]) => { result[id] = location; return result; }, {}),
            viewLocations: viewDescriptorLocations.reduce((result, [id, { containerId }]) => { result[id] = containerId; return result; }, {}),
            viewContainerBadgeEnablementStates: {}
        };
        this.storageService.store(ViewDescriptorService_1.VIEWS_CUSTOMIZATIONS, JSON.stringify(viewsCustomizations), 0 , 0 );
        this.storageService.remove('views.cachedViewContainerLocations', 0 );
        this.storageService.remove('views.cachedViewPositions', 0 );
    }
    registerGroupedViews(groupedViews) {
        for (const [containerId, views] of groupedViews.entries()) {
            const viewContainer = this.viewContainersRegistry.get(containerId);
            if (!viewContainer || !( (this.viewContainerModels.has(viewContainer)))) {
                if (this.isGeneratedContainerId(containerId)) {
                    const viewContainerLocation = this.viewContainersCustomLocations.get(containerId);
                    if (viewContainerLocation !== undefined) {
                        this.registerGeneratedViewContainer(viewContainerLocation, containerId);
                    }
                }
                continue;
            }
            const viewsToAdd = views.filter(view => this.getViewContainerModel(viewContainer).allViewDescriptors.filter(vd => vd.id === view.id).length === 0);
            this.addViews(viewContainer, viewsToAdd);
        }
    }
    deregisterGroupedViews(groupedViews) {
        for (const [viewContainerId, views] of groupedViews.entries()) {
            const viewContainer = this.viewContainersRegistry.get(viewContainerId);
            if (!viewContainer || !( (this.viewContainerModels.has(viewContainer)))) {
                continue;
            }
            this.removeViews(viewContainer, views);
        }
    }
    moveOrphanViewsToDefaultLocation() {
        for (const [viewId, containerId] of this.viewDescriptorsCustomLocations.entries()) {
            if (this.viewContainersRegistry.get(containerId)) {
                continue;
            }
            const viewContainer = this.viewsRegistry.getViewContainer(viewId);
            const viewDescriptor = this.getViewDescriptorById(viewId);
            if (viewContainer && viewDescriptor) {
                this.addViews(viewContainer, [viewDescriptor]);
            }
        }
    }
    whenExtensionsRegistered() {
        this.moveOrphanViewsToDefaultLocation();
        for (const viewContainerId of [...( (this.viewContainersCustomLocations.keys()))]) {
            this.cleanUpGeneratedViewContainer(viewContainerId);
        }
        this.saveViewCustomizations();
        for (const [key, value] of this.viewContainerModels) {
            this.registerViewsVisibilityActions(key, value);
        }
        this.canRegisterViewsVisibilityActions = true;
    }
    onDidRegisterViews(views) {
        this.contextKeyService.bufferChangeEvents(() => {
            views.forEach(({ views, viewContainer }) => {
                const regroupedViews = this.regroupViews(viewContainer.id, views);
                this.registerGroupedViews(regroupedViews);
                views.forEach(viewDescriptor => this.getOrCreateMovableViewContextKey(viewDescriptor).set(!!viewDescriptor.canMoveView));
            });
        });
    }
    isGeneratedContainerId(id) {
        return id.startsWith(ViewDescriptorService_1.COMMON_CONTAINER_ID_PREFIX);
    }
    onDidDeregisterViews(views, viewContainer) {
        const regroupedViews = this.regroupViews(viewContainer.id, views);
        this.deregisterGroupedViews(regroupedViews);
        this.contextKeyService.bufferChangeEvents(() => {
            views.forEach(viewDescriptor => this.getOrCreateMovableViewContextKey(viewDescriptor).set(false));
        });
    }
    regroupViews(containerId, views) {
        const viewsByContainer = ( (new Map()));
        for (const viewDescriptor of views) {
            const correctContainerId = this.viewDescriptorsCustomLocations.get(viewDescriptor.id) ?? containerId;
            let containerViews = viewsByContainer.get(correctContainerId);
            if (!containerViews) {
                viewsByContainer.set(correctContainerId, containerViews = []);
            }
            containerViews.push(viewDescriptor);
        }
        return viewsByContainer;
    }
    getViewDescriptorById(viewId) {
        return this.viewsRegistry.getView(viewId);
    }
    getViewLocationById(viewId) {
        const container = this.getViewContainerByViewId(viewId);
        if (container === null) {
            return null;
        }
        return this.getViewContainerLocation(container);
    }
    getViewContainerByViewId(viewId) {
        const containerId = this.viewDescriptorsCustomLocations.get(viewId);
        return containerId ?
            this.viewContainersRegistry.get(containerId) ?? null :
            this.getDefaultContainerById(viewId);
    }
    getViewContainerLocation(viewContainer) {
        return this.viewContainersCustomLocations.get(viewContainer.id) ?? this.getDefaultViewContainerLocation(viewContainer);
    }
    getDefaultViewContainerLocation(viewContainer) {
        return this.viewContainersRegistry.getViewContainerLocation(viewContainer);
    }
    getDefaultContainerById(viewId) {
        return this.viewsRegistry.getViewContainer(viewId) ?? null;
    }
    getViewContainerModel(container) {
        return this.getOrRegisterViewContainerModel(container);
    }
    getViewContainerById(id) {
        return this.viewContainersRegistry.get(id) || null;
    }
    getViewContainersByLocation(location) {
        return this.viewContainers.filter(v => this.getViewContainerLocation(v) === location);
    }
    getDefaultViewContainer(location) {
        return this.viewContainersRegistry.getDefaultViewContainer(location);
    }
    moveViewContainerToLocation(viewContainer, location, requestedIndex, reason) {
        this.logger.value.info(`moveViewContainerToLocation: viewContainer:${viewContainer.id} location:${location} reason:${reason}`);
        this.moveViewContainerToLocationWithoutSaving(viewContainer, location, requestedIndex);
        this.saveViewCustomizations();
    }
    getViewContainerBadgeEnablementState(id) {
        return this.viewContainerBadgeEnablementStates.get(id) ?? true;
    }
    setViewContainerBadgeEnablementState(id, badgesEnabled) {
        this.viewContainerBadgeEnablementStates.set(id, badgesEnabled);
        this.saveViewCustomizations();
    }
    moveViewToLocation(view, location, reason) {
        this.logger.value.info(`moveViewToLocation: view:${view.id} location:${location} reason:${reason}`);
        const container = this.registerGeneratedViewContainer(location);
        this.moveViewsToContainer([view], container);
    }
    moveViewsToContainer(views, viewContainer, visibilityState, reason) {
        if (!views.length) {
            return;
        }
        this.logger.value.info(`moveViewsToContainer: views:${( (views.map(view => view.id))).join(',')} viewContainer:${viewContainer.id} reason:${reason}`);
        const from = this.getViewContainerByViewId(views[0].id);
        const to = viewContainer;
        if (from && to && from !== to) {
            this.moveViewsWithoutSaving(views, from, to, visibilityState);
            this.cleanUpGeneratedViewContainer(from.id);
            this.saveViewCustomizations();
            this.reportMovedViews(views, from, to);
        }
    }
    reset() {
        for (const viewContainer of this.viewContainers) {
            const viewContainerModel = this.getViewContainerModel(viewContainer);
            for (const viewDescriptor of viewContainerModel.allViewDescriptors) {
                const defaultContainer = this.getDefaultContainerById(viewDescriptor.id);
                const currentContainer = this.getViewContainerByViewId(viewDescriptor.id);
                if (currentContainer && defaultContainer && currentContainer !== defaultContainer) {
                    this.moveViewsWithoutSaving([viewDescriptor], currentContainer, defaultContainer);
                }
            }
            const defaultContainerLocation = this.getDefaultViewContainerLocation(viewContainer);
            const currentContainerLocation = this.getViewContainerLocation(viewContainer);
            if (defaultContainerLocation !== null && currentContainerLocation !== defaultContainerLocation) {
                this.moveViewContainerToLocationWithoutSaving(viewContainer, defaultContainerLocation);
            }
            this.cleanUpGeneratedViewContainer(viewContainer.id);
        }
        this.viewContainersCustomLocations.clear();
        this.viewDescriptorsCustomLocations.clear();
        this.saveViewCustomizations();
    }
    isViewContainerRemovedPermanently(viewContainerId) {
        return this.isGeneratedContainerId(viewContainerId) && !( (this.viewContainersCustomLocations.has(viewContainerId)));
    }
    onDidChangeDefaultContainer(views, from, to) {
        const viewsToMove = views.filter(view => !( (this.viewDescriptorsCustomLocations.has(view.id)))
            || (!this.viewContainers.includes(from) && this.viewDescriptorsCustomLocations.get(view.id) === from.id)
        );
        if (viewsToMove.length) {
            this.moveViewsWithoutSaving(viewsToMove, from, to);
        }
    }
    reportMovedViews(views, from, to) {
        const containerToString = (container) => {
            if (container.id.startsWith(ViewDescriptorService_1.COMMON_CONTAINER_ID_PREFIX)) {
                return 'custom';
            }
            if (!container.extensionId) {
                return container.id;
            }
            return 'extension';
        };
        const oldLocation = this.getViewContainerLocation(from);
        const newLocation = this.getViewContainerLocation(to);
        const viewCount = views.length;
        const fromContainer = containerToString(from);
        const toContainer = containerToString(to);
        const fromLocation = oldLocation === 1  ? 'panel' : 'sidebar';
        const toLocation = newLocation === 1  ? 'panel' : 'sidebar';
        this.telemetryService.publicLog2('viewDescriptorService.moveViews', { viewCount, fromContainer, toContainer, fromLocation, toLocation });
    }
    moveViewsWithoutSaving(views, from, to, visibilityState = vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_1__.ViewVisibilityState.Expand) {
        this.removeViews(from, views);
        this.addViews(to, views, visibilityState);
        const oldLocation = this.getViewContainerLocation(from);
        const newLocation = this.getViewContainerLocation(to);
        if (oldLocation !== newLocation) {
            this._onDidChangeLocation.fire({ views, from: oldLocation, to: newLocation });
        }
        this._onDidChangeContainer.fire({ views, from, to });
    }
    moveViewContainerToLocationWithoutSaving(viewContainer, location, requestedIndex) {
        const from = this.getViewContainerLocation(viewContainer);
        const to = location;
        if (from !== to) {
            const isGeneratedViewContainer = this.isGeneratedContainerId(viewContainer.id);
            const isDefaultViewContainerLocation = to === this.getDefaultViewContainerLocation(viewContainer);
            if (isGeneratedViewContainer || !isDefaultViewContainerLocation) {
                this.viewContainersCustomLocations.set(viewContainer.id, to);
            }
            else {
                this.viewContainersCustomLocations.delete(viewContainer.id);
            }
            this.getOrCreateDefaultViewContainerLocationContextKey(viewContainer).set(isGeneratedViewContainer || isDefaultViewContainerLocation);
            viewContainer.requestedIndex = requestedIndex;
            this._onDidChangeContainerLocation.fire({ viewContainer, from, to });
            const views = this.getViewsByContainer(viewContainer);
            this._onDidChangeLocation.fire({ views, from, to });
        }
    }
    cleanUpGeneratedViewContainer(viewContainerId) {
        if (!this.isGeneratedContainerId(viewContainerId)) {
            return;
        }
        const viewContainer = this.getViewContainerById(viewContainerId);
        if (viewContainer && this.getViewContainerModel(viewContainer)?.allViewDescriptors.length) {
            return;
        }
        if ([...( (this.viewDescriptorsCustomLocations.values()))].includes(viewContainerId)) {
            return;
        }
        if (viewContainer) {
            this.viewContainersRegistry.deregisterViewContainer(viewContainer);
        }
        this.viewContainersCustomLocations.delete(viewContainerId);
        this.viewContainerBadgeEnablementStates.delete(viewContainerId);
        this.storageService.remove((0,_common_viewContainerModel_js__WEBPACK_IMPORTED_MODULE_14__.getViewsStateStorageId)(viewContainer?.storageId || getViewContainerStorageId(viewContainerId)), 0 );
    }
    registerGeneratedViewContainer(location, existingId) {
        const id = existingId || this.generateContainerId(location);
        const container = this.viewContainersRegistry.registerViewContainer({
            id,
            ctorDescriptor: ( (new vscode_vscode_vs_platform_instantiation_common_descriptors__WEBPACK_IMPORTED_MODULE_10__.SyncDescriptor(vscode_vscode_vs_workbench_browser_parts_views_viewPaneContainer__WEBPACK_IMPORTED_MODULE_9__.ViewPaneContainer, [id, { mergeViewWithContainerWhenSingleView: true }]))),
            title: { value: id, original: id },
            icon: location === 0  ? vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_1__.defaultViewIcon : undefined,
            storageId: getViewContainerStorageId(id),
            hideIfEmpty: true
        }, location, { doNotRegisterOpenCommand: true });
        if (this.viewContainersCustomLocations.get(container.id) !== location) {
            this.viewContainersCustomLocations.set(container.id, location);
        }
        this.getOrCreateDefaultViewContainerLocationContextKey(container).set(true);
        return container;
    }
    onDidStorageChange() {
        if (JSON.stringify(this.viewCustomizations) !== this.getStoredViewCustomizationsValue() ) {
            this.onDidViewCustomizationsStorageChange();
        }
    }
    onDidViewCustomizationsStorageChange() {
        this._viewCustomizations = undefined;
        const newViewContainerCustomizations = ( (new Map(Object.entries(this.viewCustomizations.viewContainerLocations))));
        const newViewDescriptorCustomizations = ( (new Map(Object.entries(this.viewCustomizations.viewLocations))));
        const viewContainersToMove = [];
        const viewsToMove = [];
        for (const [containerId, location] of newViewContainerCustomizations.entries()) {
            const container = this.getViewContainerById(containerId);
            if (container) {
                if (location !== this.getViewContainerLocation(container)) {
                    viewContainersToMove.push([container, location]);
                }
            }
            else if (this.isGeneratedContainerId(containerId)) {
                this.registerGeneratedViewContainer(location, containerId);
            }
        }
        for (const viewContainer of this.viewContainers) {
            if (!( (newViewContainerCustomizations.has(viewContainer.id)))) {
                const currentLocation = this.getViewContainerLocation(viewContainer);
                const defaultLocation = this.getDefaultViewContainerLocation(viewContainer);
                if (currentLocation !== defaultLocation) {
                    viewContainersToMove.push([viewContainer, defaultLocation]);
                }
            }
        }
        for (const [viewId, viewContainerId] of newViewDescriptorCustomizations.entries()) {
            const viewDescriptor = this.getViewDescriptorById(viewId);
            if (viewDescriptor) {
                const prevViewContainer = this.getViewContainerByViewId(viewId);
                const newViewContainer = this.viewContainersRegistry.get(viewContainerId);
                if (prevViewContainer && newViewContainer && newViewContainer !== prevViewContainer) {
                    viewsToMove.push({ views: [viewDescriptor], from: prevViewContainer, to: newViewContainer });
                }
            }
        }
        for (const viewContainer of this.viewContainers) {
            const viewContainerModel = this.getViewContainerModel(viewContainer);
            for (const viewDescriptor of viewContainerModel.allViewDescriptors) {
                if (!( (newViewDescriptorCustomizations.has(viewDescriptor.id)))) {
                    const currentContainer = this.getViewContainerByViewId(viewDescriptor.id);
                    const defaultContainer = this.getDefaultContainerById(viewDescriptor.id);
                    if (currentContainer && defaultContainer && currentContainer !== defaultContainer) {
                        viewsToMove.push({ views: [viewDescriptor], from: currentContainer, to: defaultContainer });
                    }
                }
            }
        }
        for (const [container, location] of viewContainersToMove) {
            this.moveViewContainerToLocationWithoutSaving(container, location);
        }
        for (const { views, from, to } of viewsToMove) {
            this.moveViewsWithoutSaving(views, from, to, vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_1__.ViewVisibilityState.Default);
        }
        this.viewContainersCustomLocations = newViewContainerCustomizations;
        this.viewDescriptorsCustomLocations = newViewDescriptorCustomizations;
    }
    generateContainerId(location) {
        return `${ViewDescriptorService_1.COMMON_CONTAINER_ID_PREFIX}.${(0,vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_1__.ViewContainerLocationToString)(location)}.${(0,vscode_vscode_vs_base_common_uuid__WEBPACK_IMPORTED_MODULE_13__.generateUuid)()}`;
    }
    saveViewCustomizations() {
        const viewCustomizations = { viewContainerLocations: {}, viewLocations: {}, viewContainerBadgeEnablementStates: {} };
        for (const [containerId, location] of this.viewContainersCustomLocations) {
            const container = this.getViewContainerById(containerId);
            if (container && !this.isGeneratedContainerId(containerId) && location === this.getDefaultViewContainerLocation(container)) {
                continue;
            }
            viewCustomizations.viewContainerLocations[containerId] = location;
        }
        for (const [viewId, viewContainerId] of this.viewDescriptorsCustomLocations) {
            const viewContainer = this.getViewContainerById(viewContainerId);
            if (viewContainer) {
                const defaultContainer = this.getDefaultContainerById(viewId);
                if (defaultContainer?.id === viewContainer.id) {
                    continue;
                }
            }
            viewCustomizations.viewLocations[viewId] = viewContainerId;
        }
        for (const [viewContainerId, badgeEnablementState] of this.viewContainerBadgeEnablementStates) {
            if (badgeEnablementState === false) {
                viewCustomizations.viewContainerBadgeEnablementStates[viewContainerId] = badgeEnablementState;
            }
        }
        this.viewCustomizations = viewCustomizations;
    }
    get viewCustomizations() {
        if (!this._viewCustomizations) {
            this._viewCustomizations = JSON.parse(this.getStoredViewCustomizationsValue());
            this._viewCustomizations.viewContainerLocations = this._viewCustomizations.viewContainerLocations ?? {};
            this._viewCustomizations.viewLocations = this._viewCustomizations.viewLocations ?? {};
            this._viewCustomizations.viewContainerBadgeEnablementStates = this._viewCustomizations.viewContainerBadgeEnablementStates ?? {};
        }
        return this._viewCustomizations;
    }
    set viewCustomizations(viewCustomizations) {
        const value = JSON.stringify(viewCustomizations);
        if (JSON.stringify(this.viewCustomizations) !== value) {
            this._viewCustomizations = viewCustomizations;
            this.setStoredViewCustomizationsValue(value);
        }
    }
    getStoredViewCustomizationsValue() {
        return this.storageService.get(ViewDescriptorService_1.VIEWS_CUSTOMIZATIONS, 0 , '{}');
    }
    setStoredViewCustomizationsValue(value) {
        this.storageService.store(ViewDescriptorService_1.VIEWS_CUSTOMIZATIONS, value, 0 , 0 );
    }
    getViewsByContainer(viewContainer) {
        const result = this.viewsRegistry.getViews(viewContainer).filter(viewDescriptor => {
            const viewDescriptorViewContainerId = this.viewDescriptorsCustomLocations.get(viewDescriptor.id) ?? viewContainer.id;
            return viewDescriptorViewContainerId === viewContainer.id;
        });
        for (const [viewId, viewContainerId] of this.viewDescriptorsCustomLocations.entries()) {
            if (viewContainerId !== viewContainer.id) {
                continue;
            }
            if (this.viewsRegistry.getViewContainer(viewId) === viewContainer) {
                continue;
            }
            const viewDescriptor = this.getViewDescriptorById(viewId);
            if (viewDescriptor) {
                result.push(viewDescriptor);
            }
        }
        return result;
    }
    onDidRegisterViewContainer(viewContainer) {
        const defaultLocation = this.isGeneratedContainerId(viewContainer.id) ? true : this.getViewContainerLocation(viewContainer) === this.getDefaultViewContainerLocation(viewContainer);
        this.getOrCreateDefaultViewContainerLocationContextKey(viewContainer).set(defaultLocation);
        this.getOrRegisterViewContainerModel(viewContainer);
    }
    getOrRegisterViewContainerModel(viewContainer) {
        let viewContainerModel = this.viewContainerModels.get(viewContainer)?.viewContainerModel;
        if (!viewContainerModel) {
            const disposables = ( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_8__.DisposableStore()));
            viewContainerModel = disposables.add(this.instantiationService.createInstance(_common_viewContainerModel_js__WEBPACK_IMPORTED_MODULE_14__.ViewContainerModel, viewContainer));
            this.onDidChangeActiveViews({ added: viewContainerModel.activeViewDescriptors, removed: [] });
            viewContainerModel.onDidChangeActiveViewDescriptors(changed => this.onDidChangeActiveViews(changed), this, disposables);
            this.onDidChangeVisibleViews({ added: [...viewContainerModel.visibleViewDescriptors], removed: [] });
            viewContainerModel.onDidAddVisibleViewDescriptors(added => this.onDidChangeVisibleViews({ added: ( (added.map(({ viewDescriptor }) => viewDescriptor))), removed: [] }), this, disposables);
            viewContainerModel.onDidRemoveVisibleViewDescriptors(removed => this.onDidChangeVisibleViews({ added: [], removed: ( (removed.map(({ viewDescriptor }) => viewDescriptor))) }), this, disposables);
            disposables.add((0,vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_8__.toDisposable)(() => this.viewsVisibilityActionDisposables.deleteAndDispose(viewContainer)));
            disposables.add(this.registerResetViewContainerAction(viewContainer));
            const value = { viewContainerModel: viewContainerModel, disposables, dispose: () => disposables.dispose() };
            this.viewContainerModels.set(viewContainer, value);
            this.onDidRegisterViews([{ views: this.viewsRegistry.getViews(viewContainer), viewContainer }]);
            const viewsToRegister = this.getViewsByContainer(viewContainer).filter(view => this.getDefaultContainerById(view.id) !== viewContainer);
            if (viewsToRegister.length) {
                this.addViews(viewContainer, viewsToRegister);
                this.contextKeyService.bufferChangeEvents(() => {
                    viewsToRegister.forEach(viewDescriptor => this.getOrCreateMovableViewContextKey(viewDescriptor).set(!!viewDescriptor.canMoveView));
                });
            }
            if (this.canRegisterViewsVisibilityActions) {
                this.registerViewsVisibilityActions(viewContainer, value);
            }
        }
        return viewContainerModel;
    }
    onDidDeregisterViewContainer(viewContainer) {
        this.viewContainerModels.deleteAndDispose(viewContainer);
        this.viewsVisibilityActionDisposables.deleteAndDispose(viewContainer);
    }
    onDidChangeActiveViews({ added, removed }) {
        this.contextKeyService.bufferChangeEvents(() => {
            added.forEach(viewDescriptor => this.getOrCreateActiveViewContextKey(viewDescriptor).set(true));
            removed.forEach(viewDescriptor => this.getOrCreateActiveViewContextKey(viewDescriptor).set(false));
        });
    }
    onDidChangeVisibleViews({ added, removed }) {
        this.contextKeyService.bufferChangeEvents(() => {
            added.forEach(viewDescriptor => this.getOrCreateVisibleViewContextKey(viewDescriptor).set(true));
            removed.forEach(viewDescriptor => this.getOrCreateVisibleViewContextKey(viewDescriptor).set(false));
        });
    }
    registerViewsVisibilityActions(viewContainer, { viewContainerModel, disposables }) {
        this.viewsVisibilityActionDisposables.deleteAndDispose(viewContainer);
        this.viewsVisibilityActionDisposables.set(viewContainer, this.registerViewsVisibilityActionsForContainer(viewContainerModel));
        disposables.add(vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_11__.Event.any(viewContainerModel.onDidChangeActiveViewDescriptors, viewContainerModel.onDidAddVisibleViewDescriptors, viewContainerModel.onDidRemoveVisibleViewDescriptors, viewContainerModel.onDidMoveVisibleViewDescriptors)(e => {
            this.viewsVisibilityActionDisposables.deleteAndDispose(viewContainer);
            this.viewsVisibilityActionDisposables.set(viewContainer, this.registerViewsVisibilityActionsForContainer(viewContainerModel));
        }));
    }
    registerViewsVisibilityActionsForContainer(viewContainerModel) {
        const disposables = ( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_8__.DisposableStore()));
        viewContainerModel.activeViewDescriptors.forEach((viewDescriptor, index) => {
            if (!viewDescriptor.remoteAuthority) {
                disposables.add((0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(class extends vscode_vscode_vs_workbench_browser_parts_views_viewPaneContainer__WEBPACK_IMPORTED_MODULE_9__.ViewPaneContainerAction {
                    constructor() {
                        super({
                            id: `${viewDescriptor.id}.toggleVisibility`,
                            viewPaneContainerId: viewContainerModel.viewContainer.id,
                            precondition: viewDescriptor.canToggleVisibility && (!viewContainerModel.isVisible(viewDescriptor.id) || viewContainerModel.visibleViewDescriptors.length > 1) ? vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.true() : ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.false())),
                            toggled: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.has(`${viewDescriptor.id}.visible`))),
                            title: viewDescriptor.name,
                            menu: [{
                                    id: vscode_vscode_vs_workbench_browser_parts_views_viewPaneContainer__WEBPACK_IMPORTED_MODULE_9__.ViewsSubMenu,
                                    when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.equals('viewContainer', viewContainerModel.viewContainer.id))),
                                    order: index,
                                }, {
                                    id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.ViewContainerTitleContext,
                                    when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.and(
                                         (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.equals('viewContainer', viewContainerModel.viewContainer.id))
                                    ))),
                                    order: index,
                                    group: '1_toggleVisibility'
                                }, {
                                    id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.ViewTitleContext,
                                    when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.and( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.or(
                                        ...( (viewContainerModel.visibleViewDescriptors.map(v => ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.equals('view', v.id))))))
                                    ))))),
                                    order: index,
                                    group: '2_toggleVisibility'
                                }]
                        });
                    }
                    async runInViewPaneContainer(serviceAccessor, viewPaneContainer) {
                        viewPaneContainer.toggleViewVisibility(viewDescriptor.id);
                    }
                }));
                disposables.add((0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(class extends vscode_vscode_vs_workbench_browser_parts_views_viewPaneContainer__WEBPACK_IMPORTED_MODULE_9__.ViewPaneContainerAction {
                    constructor() {
                        super({
                            id: `${viewDescriptor.id}.removeView`,
                            viewPaneContainerId: viewContainerModel.viewContainer.id,
                            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_16__.localize)(4155, "Hide '{0}'", viewDescriptor.name.value)),
                            precondition: viewDescriptor.canToggleVisibility && (!viewContainerModel.isVisible(viewDescriptor.id) || viewContainerModel.visibleViewDescriptors.length > 1) ? vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.true() : ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.false())),
                            menu: [{
                                    id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.ViewTitleContext,
                                    when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.and(
                                         (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.equals('view', viewDescriptor.id)),
                                         (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.has(`${viewDescriptor.id}.visible`))
                                    ))),
                                    group: '1_hide',
                                    order: 1
                                }]
                        });
                    }
                    async runInViewPaneContainer(serviceAccessor, viewPaneContainer) {
                        viewPaneContainer.toggleViewVisibility(viewDescriptor.id);
                    }
                }));
            }
        });
        return disposables;
    }
    registerResetViewContainerAction(viewContainer) {
        const that = this;
        return (0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.registerAction2)(class ResetViewLocationAction extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.Action2 {
            constructor() {
                super({
                    id: `${viewContainer.id}.resetViewContainerLocation`,
                    title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_16__.localize2)(4156, "Reset Location")),
                    menu: [{
                            id: vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_15__.MenuId.ViewContainerTitleContext,
                            when: ( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.or( (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.and(
                                 (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.equals('viewContainer', viewContainer.id)),
                                 (vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.equals(`${viewContainer.id}.defaultViewContainerLocation`, false))
                            )))))
                        }],
                });
            }
            run() {
                that.moveViewContainerToLocation(viewContainer, that.getDefaultViewContainerLocation(viewContainer), undefined, this.desc.id);
            }
        });
    }
    addViews(container, views, visibilityState = vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_1__.ViewVisibilityState.Default) {
        this.contextKeyService.bufferChangeEvents(() => {
            views.forEach(view => {
                const isDefaultContainer = this.getDefaultContainerById(view.id) === container;
                this.getOrCreateDefaultViewLocationContextKey(view).set(isDefaultContainer);
                if (isDefaultContainer) {
                    this.viewDescriptorsCustomLocations.delete(view.id);
                }
                else {
                    this.viewDescriptorsCustomLocations.set(view.id, container.id);
                }
            });
        });
        this.getViewContainerModel(container).add(( (views.map(view => {
            return {
                viewDescriptor: view,
                collapsed: visibilityState === vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_1__.ViewVisibilityState.Default ? undefined : false,
                visible: visibilityState === vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_1__.ViewVisibilityState.Default ? undefined : true
            };
        }))));
    }
    removeViews(container, views) {
        this.contextKeyService.bufferChangeEvents(() => {
            views.forEach(view => {
                if (this.viewDescriptorsCustomLocations.get(view.id) === container.id) {
                    this.viewDescriptorsCustomLocations.delete(view.id);
                }
                this.getOrCreateDefaultViewLocationContextKey(view).set(false);
            });
        });
        this.getViewContainerModel(container).remove(views);
    }
    getOrCreateActiveViewContextKey(viewDescriptor) {
        const activeContextKeyId = `${viewDescriptor.id}.active`;
        let contextKey = this.activeViewContextKeys.get(activeContextKeyId);
        if (!contextKey) {
            contextKey = ( (new vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_3__.RawContextKey(activeContextKeyId, false))).bindTo(this.contextKeyService);
            this.activeViewContextKeys.set(activeContextKeyId, contextKey);
        }
        return contextKey;
    }
    getOrCreateVisibleViewContextKey(viewDescriptor) {
        const activeContextKeyId = `${viewDescriptor.id}.visible`;
        let contextKey = this.activeViewContextKeys.get(activeContextKeyId);
        if (!contextKey) {
            contextKey = ( (new vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_3__.RawContextKey(activeContextKeyId, false))).bindTo(this.contextKeyService);
            this.activeViewContextKeys.set(activeContextKeyId, contextKey);
        }
        return contextKey;
    }
    getOrCreateMovableViewContextKey(viewDescriptor) {
        const movableViewContextKeyId = `${viewDescriptor.id}.canMove`;
        let contextKey = this.movableViewContextKeys.get(movableViewContextKeyId);
        if (!contextKey) {
            contextKey = ( (new vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_3__.RawContextKey(movableViewContextKeyId, false))).bindTo(this.contextKeyService);
            this.movableViewContextKeys.set(movableViewContextKeyId, contextKey);
        }
        return contextKey;
    }
    getOrCreateDefaultViewLocationContextKey(viewDescriptor) {
        const defaultViewLocationContextKeyId = `${viewDescriptor.id}.defaultViewLocation`;
        let contextKey = this.defaultViewLocationContextKeys.get(defaultViewLocationContextKeyId);
        if (!contextKey) {
            contextKey = ( (new vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_3__.RawContextKey(defaultViewLocationContextKeyId, false))).bindTo(this.contextKeyService);
            this.defaultViewLocationContextKeys.set(defaultViewLocationContextKeyId, contextKey);
        }
        return contextKey;
    }
    getOrCreateDefaultViewContainerLocationContextKey(viewContainer) {
        const defaultViewContainerLocationContextKeyId = `${viewContainer.id}.defaultViewContainerLocation`;
        let contextKey = this.defaultViewContainerLocationContextKeys.get(defaultViewContainerLocationContextKeyId);
        if (!contextKey) {
            contextKey = ( (new vscode_vscode_vs_platform_contextkey_common_contextkey__WEBPACK_IMPORTED_MODULE_3__.RawContextKey(defaultViewContainerLocationContextKeyId, false))).bindTo(this.contextKeyService);
            this.defaultViewContainerLocationContextKeys.set(defaultViewContainerLocationContextKeyId, contextKey);
        }
        return contextKey;
    }
};
ViewDescriptorService = ViewDescriptorService_1 = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_2__.IInstantiationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_4__.IContextKeyService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_5__.IStorageService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_workbench_services_extensions_common_extensions_service__WEBPACK_IMPORTED_MODULE_6__.IExtensionService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, vscode_vscode_vs_platform_telemetry_common_telemetry_service__WEBPACK_IMPORTED_MODULE_12__.ITelemetryService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, vscode_vscode_vs_platform_log_common_log_service__WEBPACK_IMPORTED_MODULE_17__.ILoggerService)))
], ViewDescriptorService)));




/***/ }),

/***/ "./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/services/views/common/viewContainerModel.js":
/*!************************************************************************************************************************************************!*\
  !*** ./node_modules/@codingame/monaco-vscode-view-common-service-override/vscode/src/vs/workbench/services/views/common/viewContainerModel.js ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ViewContainerModel: () => (/* binding */ ViewContainerModel),
/* harmony export */   getViewsStateStorageId: () => (/* binding */ getViewsStateStorageId)
/* harmony export */ });
/* harmony import */ var vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vscode/external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vscode/vscode/vs/workbench/common/views */ "./node_modules/vscode/vscode/src/vs/workbench/common/views.js");
/* harmony import */ var vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vscode/vscode/vs/platform/contextkey/common/contextkey.service */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! vscode/vscode/vs/platform/storage/common/storage.service */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vscode/vscode/vs/platform/registry/common/platform */ "./node_modules/vscode/vscode/src/vs/platform/registry/common/platform.js");
/* harmony import */ var vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lifecycle */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vscode/vscode/vs/base/common/event */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vscode/vscode/vs/platform/instantiation/common/instantiation */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! vscode/vscode/vs/base/common/uri */ "./node_modules/vscode/vscode/src/vs/base/common/uri.js");
/* harmony import */ var vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vscode/vscode/vs/base/common/arrays */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vscode/vscode/vs/base/common/types */ "./node_modules/vscode/vscode/src/vs/base/common/types.js");
/* harmony import */ var vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vscode/vscode/vs/base/common/resources */ "./node_modules/vscode/vscode/src/vs/base/common/resources.js");
/* harmony import */ var vscode_vscode_vs_base_common_themables__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! vscode/vscode/vs/base/common/themables */ "./node_modules/vscode/vscode/src/vs/base/common/themables.js");
/* harmony import */ var vscode_vscode_vs_platform_log_common_log_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! vscode/vscode/vs/platform/log/common/log.service */ "./node_modules/vscode/vscode/src/vs/platform/log/common/log.service.js");
/* harmony import */ var vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vscode/vscode/vs/platform/actions/common/actions */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! vscode/vscode/vs/platform/action/common/actionCommonCategories */ "./node_modules/vscode/vscode/src/vs/platform/action/common/actionCommonCategories.js");
/* harmony import */ var vscode_vscode_vs_workbench_services_output_common_output_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vscode/vscode/vs/workbench/services/output/common/output.service */ "./node_modules/vscode/vscode/src/vs/workbench/services/output/common/output.service.js");
/* harmony import */ var vscode_vscode_vs_base_common_map__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! vscode/vscode/vs/base/common/map */ "./node_modules/vscode/vscode/src/vs/base/common/map.js");
/* harmony import */ var vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! vscode/vscode/vs/nls */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var vscode_vscode_vs_base_common_lazy__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! vscode/vscode/vs/base/common/lazy */ "./node_modules/vscode/vscode/src/vs/base/common/lazy.js");





















(0,vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_14__.registerAction2)(class extends vscode_vscode_vs_platform_actions_common_actions__WEBPACK_IMPORTED_MODULE_14__.Action2 {
    constructor() {
        super({
            id: '_workbench.output.showViewsLog',
            title: ( (0,vscode_vscode_vs_nls__WEBPACK_IMPORTED_MODULE_18__.localize2)(9613, "Show Views Log")),
            category: vscode_vscode_vs_platform_action_common_actionCommonCategories__WEBPACK_IMPORTED_MODULE_15__.Categories.Developer,
            f1: true
        });
    }
    async run(servicesAccessor) {
        const loggerService = servicesAccessor.get(vscode_vscode_vs_platform_log_common_log_service__WEBPACK_IMPORTED_MODULE_13__.ILoggerService);
        const outputService = servicesAccessor.get(vscode_vscode_vs_workbench_services_output_common_output_service__WEBPACK_IMPORTED_MODULE_16__.IOutputService);
        loggerService.setVisibility(vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_1__.VIEWS_LOG_ID, true);
        outputService.showChannel(vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_1__.VIEWS_LOG_ID);
    }
});
function getViewsStateStorageId(viewContainerStorageId) { return `${viewContainerStorageId}.hidden`; }
let ViewDescriptorsState = class ViewDescriptorsState extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_5__.Disposable {
    constructor(viewContainerStorageId, viewContainerName, storageService, loggerService) {
        super();
        this.viewContainerName = viewContainerName;
        this.storageService = storageService;
        this._onDidChangeStoredState = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_6__.Emitter())));
        this.onDidChangeStoredState = this._onDidChangeStoredState.event;
        this.logger = ( (new vscode_vscode_vs_base_common_lazy__WEBPACK_IMPORTED_MODULE_19__.Lazy(
            () => loggerService.createLogger(vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_1__.VIEWS_LOG_ID, { name: vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_1__.VIEWS_LOG_NAME, hidden: true })
        )));
        this.globalViewsStateStorageId = getViewsStateStorageId(viewContainerStorageId);
        this.workspaceViewsStateStorageId = viewContainerStorageId;
        this._register(this.storageService.onDidChangeValue(0 , this.globalViewsStateStorageId, this._register(( (new vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_5__.DisposableStore()))))(() => this.onDidStorageChange()));
        this.state = this.initialize();
    }
    set(id, state) {
        this.state.set(id, state);
    }
    get(id) {
        return this.state.get(id);
    }
    updateState(viewDescriptors) {
        this.updateWorkspaceState(viewDescriptors);
        this.updateGlobalState(viewDescriptors);
    }
    updateWorkspaceState(viewDescriptors) {
        const storedViewsStates = this.getStoredWorkspaceState();
        for (const viewDescriptor of viewDescriptors) {
            const viewState = this.get(viewDescriptor.id);
            if (viewState) {
                storedViewsStates[viewDescriptor.id] = {
                    collapsed: !!viewState.collapsed,
                    isHidden: !viewState.visibleWorkspace,
                    size: viewState.size,
                    order: viewDescriptor.workspace && viewState ? viewState.order : undefined
                };
            }
        }
        if (( (Object.keys(storedViewsStates))).length > 0) {
            this.storageService.store(this.workspaceViewsStateStorageId, JSON.stringify(storedViewsStates), 1 , 1 );
        }
        else {
            this.storageService.remove(this.workspaceViewsStateStorageId, 1 );
        }
    }
    updateGlobalState(viewDescriptors) {
        const storedGlobalState = this.getStoredGlobalState();
        for (const viewDescriptor of viewDescriptors) {
            const state = this.get(viewDescriptor.id);
            storedGlobalState.set(viewDescriptor.id, {
                id: viewDescriptor.id,
                isHidden: state && viewDescriptor.canToggleVisibility ? !state.visibleGlobal : false,
                order: !viewDescriptor.workspace && state ? state.order : undefined
            });
        }
        this.setStoredGlobalState(storedGlobalState);
    }
    onDidStorageChange() {
        if (this.globalViewsStatesValue !== this.getStoredGlobalViewsStatesValue() ) {
            this._globalViewsStatesValue = undefined;
            const storedViewsVisibilityStates = this.getStoredGlobalState();
            const storedWorkspaceViewsStates = this.getStoredWorkspaceState();
            const changedStates = [];
            for (const [id, storedState] of storedViewsVisibilityStates) {
                const state = this.get(id);
                if (state) {
                    if (state.visibleGlobal !== !storedState.isHidden) {
                        if (!storedState.isHidden) {
                            this.logger.value.info(`View visibility state changed: ${id} is now visible`, this.viewContainerName);
                        }
                        changedStates.push({ id, visible: !storedState.isHidden });
                    }
                }
                else {
                    const workspaceViewState = storedWorkspaceViewsStates[id];
                    this.set(id, {
                        active: false,
                        visibleGlobal: !storedState.isHidden,
                        visibleWorkspace: (0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_10__.isUndefined)(workspaceViewState?.isHidden) ? undefined : !workspaceViewState?.isHidden,
                        collapsed: workspaceViewState?.collapsed,
                        order: workspaceViewState?.order,
                        size: workspaceViewState?.size,
                    });
                }
            }
            if (changedStates.length) {
                this._onDidChangeStoredState.fire(changedStates);
                for (const changedState of changedStates) {
                    const state = this.get(changedState.id);
                    if (state) {
                        state.visibleGlobal = changedState.visible;
                    }
                }
            }
        }
    }
    initialize() {
        const viewStates = ( (new Map()));
        const workspaceViewsStates = this.getStoredWorkspaceState();
        for (const id of ( (Object.keys(workspaceViewsStates)))) {
            const workspaceViewState = workspaceViewsStates[id];
            viewStates.set(id, {
                active: false,
                visibleGlobal: undefined,
                visibleWorkspace: (0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_10__.isUndefined)(workspaceViewState.isHidden) ? undefined : !workspaceViewState.isHidden,
                collapsed: workspaceViewState.collapsed,
                order: workspaceViewState.order,
                size: workspaceViewState.size,
            });
        }
        const value = this.storageService.get(this.globalViewsStateStorageId, 1 , '[]');
        const { state: workspaceVisibilityStates } = this.parseStoredGlobalState(value);
        if (workspaceVisibilityStates.size > 0) {
            for (const { id, isHidden } of ( (workspaceVisibilityStates.values()))) {
                const viewState = viewStates.get(id);
                if (viewState) {
                    if ((0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_10__.isUndefined)(viewState.visibleWorkspace)) {
                        viewState.visibleWorkspace = !isHidden;
                    }
                }
                else {
                    viewStates.set(id, {
                        active: false,
                        collapsed: undefined,
                        visibleGlobal: undefined,
                        visibleWorkspace: !isHidden,
                    });
                }
            }
            this.storageService.remove(this.globalViewsStateStorageId, 1 );
        }
        const { state, hasDuplicates } = this.parseStoredGlobalState(this.globalViewsStatesValue);
        if (hasDuplicates) {
            this.setStoredGlobalState(state);
        }
        for (const { id, isHidden, order } of ( (state.values()))) {
            const viewState = viewStates.get(id);
            if (viewState) {
                viewState.visibleGlobal = !isHidden;
                if (!(0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_10__.isUndefined)(order)) {
                    viewState.order = order;
                }
            }
            else {
                viewStates.set(id, {
                    active: false,
                    visibleGlobal: !isHidden,
                    order,
                    collapsed: undefined,
                    visibleWorkspace: undefined,
                });
            }
        }
        return viewStates;
    }
    getStoredWorkspaceState() {
        return JSON.parse(this.storageService.get(this.workspaceViewsStateStorageId, 1 , '{}'));
    }
    getStoredGlobalState() {
        return this.parseStoredGlobalState(this.globalViewsStatesValue).state;
    }
    setStoredGlobalState(storedGlobalState) {
        this.globalViewsStatesValue = JSON.stringify([...( (storedGlobalState.values()))]);
    }
    parseStoredGlobalState(value) {
        const storedValue = JSON.parse(value);
        let hasDuplicates = false;
        const state = storedValue.reduce((result, storedState) => {
            if (typeof storedState === 'string' ) {
                hasDuplicates = hasDuplicates || ( (result.has(storedState)));
                result.set(storedState, { id: storedState, isHidden: true });
            }
            else {
                hasDuplicates = hasDuplicates || ( (result.has(storedState.id)));
                result.set(storedState.id, storedState);
            }
            return result;
        }, ( (new Map())));
        return { state, hasDuplicates };
    }
    get globalViewsStatesValue() {
        if (!this._globalViewsStatesValue) {
            this._globalViewsStatesValue = this.getStoredGlobalViewsStatesValue();
        }
        return this._globalViewsStatesValue;
    }
    set globalViewsStatesValue(globalViewsStatesValue) {
        if (this.globalViewsStatesValue !== globalViewsStatesValue) {
            this._globalViewsStatesValue = globalViewsStatesValue;
            this.setStoredGlobalViewsStatesValue(globalViewsStatesValue);
        }
    }
    getStoredGlobalViewsStatesValue() {
        return this.storageService.get(this.globalViewsStateStorageId, 0 , '[]');
    }
    setStoredGlobalViewsStatesValue(value) {
        this.storageService.store(this.globalViewsStateStorageId, value, 0 , 0 );
    }
};
ViewDescriptorsState = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_platform_storage_common_storage_service__WEBPACK_IMPORTED_MODULE_3__.IStorageService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_platform_log_common_log_service__WEBPACK_IMPORTED_MODULE_13__.ILoggerService)))
], ViewDescriptorsState)));
let ViewContainerModel = class ViewContainerModel extends vscode_vscode_vs_base_common_lifecycle__WEBPACK_IMPORTED_MODULE_5__.Disposable {
    get title() { return this._title; }
    get icon() { return this._icon; }
    get keybindingId() { return this._keybindingId; }
    get allViewDescriptors() { return (
         (this.viewDescriptorItems.map(item => item.viewDescriptor))
    ); }
    get activeViewDescriptors() { return (
         (this.viewDescriptorItems.filter(item => item.state.active).map(item => item.viewDescriptor))
    ); }
    get visibleViewDescriptors() { return (
         (this.viewDescriptorItems.filter(item => this.isViewDescriptorVisible(item)).map(item => item.viewDescriptor))
    ); }
    constructor(viewContainer, instantiationService, contextKeyService, loggerService) {
        super();
        this.viewContainer = viewContainer;
        this.contextKeyService = contextKeyService;
        this.contextKeys = ( (new vscode_vscode_vs_base_common_map__WEBPACK_IMPORTED_MODULE_17__.CounterSet()));
        this.viewDescriptorItems = [];
        this._onDidChangeContainerInfo = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_6__.Emitter())));
        this.onDidChangeContainerInfo = this._onDidChangeContainerInfo.event;
        this._onDidChangeAllViewDescriptors = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_6__.Emitter())));
        this.onDidChangeAllViewDescriptors = this._onDidChangeAllViewDescriptors.event;
        this._onDidChangeActiveViewDescriptors = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_6__.Emitter())));
        this.onDidChangeActiveViewDescriptors = this._onDidChangeActiveViewDescriptors.event;
        this._onDidAddVisibleViewDescriptors = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_6__.Emitter())));
        this.onDidAddVisibleViewDescriptors = this._onDidAddVisibleViewDescriptors.event;
        this._onDidRemoveVisibleViewDescriptors = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_6__.Emitter())));
        this.onDidRemoveVisibleViewDescriptors = this._onDidRemoveVisibleViewDescriptors.event;
        this._onDidMoveVisibleViewDescriptors = this._register(( (new vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_6__.Emitter())));
        this.onDidMoveVisibleViewDescriptors = this._onDidMoveVisibleViewDescriptors.event;
        this.logger = ( (new vscode_vscode_vs_base_common_lazy__WEBPACK_IMPORTED_MODULE_19__.Lazy(
            () => loggerService.createLogger(vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_1__.VIEWS_LOG_ID, { name: vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_1__.VIEWS_LOG_NAME, hidden: true })
        )));
        this._register(vscode_vscode_vs_base_common_event__WEBPACK_IMPORTED_MODULE_6__.Event.filter(contextKeyService.onDidChangeContext, e => e.affectsSome(this.contextKeys))(() => this.onDidChangeContext()));
        this.viewDescriptorsState = this._register(instantiationService.createInstance(ViewDescriptorsState, viewContainer.storageId || `${viewContainer.id}.state`, typeof viewContainer.title === 'string' ? viewContainer.title : viewContainer.title.original));
        this._register(this.viewDescriptorsState.onDidChangeStoredState(items => this.updateVisibility(items)));
        this.updateContainerInfo();
    }
    updateContainerInfo() {
        const useDefaultContainerInfo = this.viewContainer.alwaysUseContainerInfo || this.visibleViewDescriptors.length === 0 || ( (this.visibleViewDescriptors.some(
            v => ( (vscode_vscode_vs_platform_registry_common_platform__WEBPACK_IMPORTED_MODULE_4__.Registry.as(vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_1__.Extensions.ViewsRegistry))).getViewContainer(v.id) === this.viewContainer
        )));
        const title = useDefaultContainerInfo ? (typeof this.viewContainer.title === 'string' ? this.viewContainer.title : this.viewContainer.title.value) : this.visibleViewDescriptors[0]?.containerTitle || this.visibleViewDescriptors[0]?.name?.value || '';
        let titleChanged = false;
        if (this._title !== title) {
            this._title = title;
            titleChanged = true;
        }
        const icon = useDefaultContainerInfo ? this.viewContainer.icon : this.visibleViewDescriptors[0]?.containerIcon || vscode_vscode_vs_workbench_common_views__WEBPACK_IMPORTED_MODULE_1__.defaultViewIcon;
        let iconChanged = false;
        if (!this.isEqualIcon(icon)) {
            this._icon = icon;
            iconChanged = true;
        }
        const keybindingId = this.viewContainer.openCommandActionDescriptor?.id ?? this.activeViewDescriptors.find(v => v.openCommandActionDescriptor)?.openCommandActionDescriptor?.id;
        let keybindingIdChanged = false;
        if (this._keybindingId !== keybindingId) {
            this._keybindingId = keybindingId;
            keybindingIdChanged = true;
        }
        if (titleChanged || iconChanged || keybindingIdChanged) {
            this._onDidChangeContainerInfo.fire({ title: titleChanged, icon: iconChanged, keybindingId: keybindingIdChanged });
        }
    }
    isEqualIcon(icon) {
        if (vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_8__.URI.isUri(icon)) {
            return vscode_vscode_vs_base_common_uri__WEBPACK_IMPORTED_MODULE_8__.URI.isUri(this._icon) && (0,vscode_vscode_vs_base_common_resources__WEBPACK_IMPORTED_MODULE_11__.isEqual)(icon, this._icon);
        }
        else if (vscode_vscode_vs_base_common_themables__WEBPACK_IMPORTED_MODULE_12__.ThemeIcon.isThemeIcon(icon)) {
            return vscode_vscode_vs_base_common_themables__WEBPACK_IMPORTED_MODULE_12__.ThemeIcon.isThemeIcon(this._icon) && vscode_vscode_vs_base_common_themables__WEBPACK_IMPORTED_MODULE_12__.ThemeIcon.isEqual(icon, this._icon);
        }
        return icon === this._icon;
    }
    isVisible(id) {
        const viewDescriptorItem = this.viewDescriptorItems.find(v => v.viewDescriptor.id === id);
        if (!viewDescriptorItem) {
            throw ( (new Error(`Unknown view ${id}`)));
        }
        return this.isViewDescriptorVisible(viewDescriptorItem);
    }
    setVisible(id, visible) {
        this.updateVisibility([{ id, visible }]);
    }
    updateVisibility(viewDescriptors) {
        const viewDescriptorItemsToHide = (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_9__.coalesce)(( (viewDescriptors.filter(({ visible }) => !visible)
            .map(({ id }) => this.findAndIgnoreIfNotFound(id)))));
        const removed = [];
        for (const { viewDescriptorItem, visibleIndex } of viewDescriptorItemsToHide) {
            if (this.updateViewDescriptorItemVisibility(viewDescriptorItem, false)) {
                removed.push({ viewDescriptor: viewDescriptorItem.viewDescriptor, index: visibleIndex });
            }
        }
        if (removed.length) {
            this.broadCastRemovedVisibleViewDescriptors(removed);
        }
        const added = [];
        for (const { id, visible } of viewDescriptors) {
            if (!visible) {
                continue;
            }
            const foundViewDescriptor = this.findAndIgnoreIfNotFound(id);
            if (!foundViewDescriptor) {
                continue;
            }
            const { viewDescriptorItem, visibleIndex } = foundViewDescriptor;
            if (this.updateViewDescriptorItemVisibility(viewDescriptorItem, true)) {
                added.push({ index: visibleIndex, viewDescriptor: viewDescriptorItem.viewDescriptor, size: viewDescriptorItem.state.size, collapsed: !!viewDescriptorItem.state.collapsed });
            }
        }
        if (added.length) {
            this.broadCastAddedVisibleViewDescriptors(added);
        }
    }
    updateViewDescriptorItemVisibility(viewDescriptorItem, visible) {
        if (!viewDescriptorItem.viewDescriptor.canToggleVisibility) {
            return false;
        }
        if (this.isViewDescriptorVisibleWhenActive(viewDescriptorItem) === visible) {
            return false;
        }
        if (viewDescriptorItem.viewDescriptor.workspace) {
            viewDescriptorItem.state.visibleWorkspace = visible;
        }
        else {
            viewDescriptorItem.state.visibleGlobal = visible;
            if (visible) {
                this.logger.value.info(`Showing view ${viewDescriptorItem.viewDescriptor.id} in the container ${this.viewContainer.id}`);
            }
        }
        return this.isViewDescriptorVisible(viewDescriptorItem) === visible;
    }
    isCollapsed(id) {
        return !!this.find(id).viewDescriptorItem.state.collapsed;
    }
    setCollapsed(id, collapsed) {
        const { viewDescriptorItem } = this.find(id);
        if (viewDescriptorItem.state.collapsed !== collapsed) {
            viewDescriptorItem.state.collapsed = collapsed;
        }
        this.viewDescriptorsState.updateState(this.allViewDescriptors);
    }
    getSize(id) {
        return this.find(id).viewDescriptorItem.state.size;
    }
    setSizes(newSizes) {
        for (const { id, size } of newSizes) {
            const { viewDescriptorItem } = this.find(id);
            if (viewDescriptorItem.state.size !== size) {
                viewDescriptorItem.state.size = size;
            }
        }
        this.viewDescriptorsState.updateState(this.allViewDescriptors);
    }
    move(from, to) {
        const fromIndex = this.viewDescriptorItems.findIndex(v => v.viewDescriptor.id === from);
        const toIndex = this.viewDescriptorItems.findIndex(v => v.viewDescriptor.id === to);
        const fromViewDescriptor = this.viewDescriptorItems[fromIndex];
        const toViewDescriptor = this.viewDescriptorItems[toIndex];
        (0,vscode_vscode_vs_base_common_arrays__WEBPACK_IMPORTED_MODULE_9__.move)(this.viewDescriptorItems, fromIndex, toIndex);
        for (let index = 0; index < this.viewDescriptorItems.length; index++) {
            this.viewDescriptorItems[index].state.order = index;
        }
        this.broadCastMovedViewDescriptors({ index: fromIndex, viewDescriptor: fromViewDescriptor.viewDescriptor }, { index: toIndex, viewDescriptor: toViewDescriptor.viewDescriptor });
    }
    add(addedViewDescriptorStates) {
        const addedItems = [];
        for (const addedViewDescriptorState of addedViewDescriptorStates) {
            const viewDescriptor = addedViewDescriptorState.viewDescriptor;
            if (viewDescriptor.when) {
                for (const key of ( (viewDescriptor.when.keys()))) {
                    this.contextKeys.add(key);
                }
            }
            let state = this.viewDescriptorsState.get(viewDescriptor.id);
            if (state) {
                if (viewDescriptor.workspace) {
                    state.visibleWorkspace = (0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_10__.isUndefinedOrNull)(addedViewDescriptorState.visible) ? ((0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_10__.isUndefinedOrNull)(state.visibleWorkspace) ? !viewDescriptor.hideByDefault : state.visibleWorkspace) : addedViewDescriptorState.visible;
                }
                else {
                    const isVisible = state.visibleGlobal;
                    state.visibleGlobal = (0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_10__.isUndefinedOrNull)(addedViewDescriptorState.visible) ? ((0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_10__.isUndefinedOrNull)(state.visibleGlobal) ? !viewDescriptor.hideByDefault : state.visibleGlobal) : addedViewDescriptorState.visible;
                    if (state.visibleGlobal && !isVisible) {
                        this.logger.value.info(`Added view ${viewDescriptor.id} in the container ${this.viewContainer.id} and showing it.`, `${isVisible}`, `${viewDescriptor.hideByDefault}`, `${addedViewDescriptorState.visible}`);
                    }
                }
                state.collapsed = (0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_10__.isUndefinedOrNull)(addedViewDescriptorState.collapsed) ? ((0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_10__.isUndefinedOrNull)(state.collapsed) ? !!viewDescriptor.collapsed : state.collapsed) : addedViewDescriptorState.collapsed;
            }
            else {
                state = {
                    active: false,
                    visibleGlobal: (0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_10__.isUndefinedOrNull)(addedViewDescriptorState.visible) ? !viewDescriptor.hideByDefault : addedViewDescriptorState.visible,
                    visibleWorkspace: (0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_10__.isUndefinedOrNull)(addedViewDescriptorState.visible) ? !viewDescriptor.hideByDefault : addedViewDescriptorState.visible,
                    collapsed: (0,vscode_vscode_vs_base_common_types__WEBPACK_IMPORTED_MODULE_10__.isUndefinedOrNull)(addedViewDescriptorState.collapsed) ? !!viewDescriptor.collapsed : addedViewDescriptorState.collapsed,
                };
            }
            this.viewDescriptorsState.set(viewDescriptor.id, state);
            state.active = this.contextKeyService.contextMatchesRules(viewDescriptor.when);
            addedItems.push({ viewDescriptor, state });
        }
        this.viewDescriptorItems.push(...addedItems);
        this.viewDescriptorItems.sort(this.compareViewDescriptors.bind(this));
        this._onDidChangeAllViewDescriptors.fire({ added: ( (addedItems.map(({ viewDescriptor }) => viewDescriptor))), removed: [] });
        const addedActiveItems = [];
        for (const viewDescriptorItem of addedItems) {
            if (viewDescriptorItem.state.active) {
                addedActiveItems.push({ viewDescriptorItem, visible: this.isViewDescriptorVisible(viewDescriptorItem) });
            }
        }
        if (addedActiveItems.length) {
            this._onDidChangeActiveViewDescriptors.fire(({ added: ( (addedActiveItems.map(({ viewDescriptorItem }) => viewDescriptorItem.viewDescriptor))), removed: [] }));
        }
        const addedVisibleDescriptors = [];
        for (const { viewDescriptorItem, visible } of addedActiveItems) {
            if (visible && this.isViewDescriptorVisible(viewDescriptorItem)) {
                const { visibleIndex } = this.find(viewDescriptorItem.viewDescriptor.id);
                addedVisibleDescriptors.push({ index: visibleIndex, viewDescriptor: viewDescriptorItem.viewDescriptor, size: viewDescriptorItem.state.size, collapsed: !!viewDescriptorItem.state.collapsed });
            }
        }
        this.broadCastAddedVisibleViewDescriptors(addedVisibleDescriptors);
    }
    remove(viewDescriptors) {
        const removed = [];
        const removedItems = [];
        const removedActiveDescriptors = [];
        const removedVisibleDescriptors = [];
        for (const viewDescriptor of viewDescriptors) {
            if (viewDescriptor.when) {
                for (const key of ( (viewDescriptor.when.keys()))) {
                    this.contextKeys.delete(key);
                }
            }
            const index = this.viewDescriptorItems.findIndex(i => i.viewDescriptor.id === viewDescriptor.id);
            if (index !== -1) {
                removed.push(viewDescriptor);
                const viewDescriptorItem = this.viewDescriptorItems[index];
                if (viewDescriptorItem.state.active) {
                    removedActiveDescriptors.push(viewDescriptorItem.viewDescriptor);
                }
                if (this.isViewDescriptorVisible(viewDescriptorItem)) {
                    const { visibleIndex } = this.find(viewDescriptorItem.viewDescriptor.id);
                    removedVisibleDescriptors.push({ index: visibleIndex, viewDescriptor: viewDescriptorItem.viewDescriptor });
                }
                removedItems.push(viewDescriptorItem);
            }
        }
        removedItems.forEach(item => this.viewDescriptorItems.splice(this.viewDescriptorItems.indexOf(item), 1));
        this.broadCastRemovedVisibleViewDescriptors(removedVisibleDescriptors);
        if (removedActiveDescriptors.length) {
            this._onDidChangeActiveViewDescriptors.fire(({ added: [], removed: removedActiveDescriptors }));
        }
        if (removed.length) {
            this._onDidChangeAllViewDescriptors.fire({ added: [], removed });
        }
    }
    onDidChangeContext() {
        const addedActiveItems = [];
        const removedActiveItems = [];
        for (const item of this.viewDescriptorItems) {
            const wasActive = item.state.active;
            const isActive = this.contextKeyService.contextMatchesRules(item.viewDescriptor.when);
            if (wasActive !== isActive) {
                if (isActive) {
                    addedActiveItems.push({ item, visibleWhenActive: this.isViewDescriptorVisibleWhenActive(item) });
                }
                else {
                    removedActiveItems.push(item);
                }
            }
        }
        const removedVisibleDescriptors = [];
        for (const item of removedActiveItems) {
            if (this.isViewDescriptorVisible(item)) {
                const { visibleIndex } = this.find(item.viewDescriptor.id);
                removedVisibleDescriptors.push({ index: visibleIndex, viewDescriptor: item.viewDescriptor });
            }
        }
        removedActiveItems.forEach(item => item.state.active = false);
        addedActiveItems.forEach(({ item }) => item.state.active = true);
        this.broadCastRemovedVisibleViewDescriptors(removedVisibleDescriptors);
        if (addedActiveItems.length || removedActiveItems.length) {
            this._onDidChangeActiveViewDescriptors.fire(({ added: ( (addedActiveItems.map(({ item }) => item.viewDescriptor))), removed: ( (removedActiveItems.map(item => item.viewDescriptor))) }));
        }
        const addedVisibleDescriptors = [];
        for (const { item, visibleWhenActive } of addedActiveItems) {
            if (visibleWhenActive && this.isViewDescriptorVisible(item)) {
                const { visibleIndex } = this.find(item.viewDescriptor.id);
                addedVisibleDescriptors.push({ index: visibleIndex, viewDescriptor: item.viewDescriptor, size: item.state.size, collapsed: !!item.state.collapsed });
            }
        }
        this.broadCastAddedVisibleViewDescriptors(addedVisibleDescriptors);
    }
    broadCastAddedVisibleViewDescriptors(added) {
        if (added.length) {
            this._onDidAddVisibleViewDescriptors.fire(added.sort((a, b) => a.index - b.index));
            this.updateState(`Added views:${( (added.map(v => v.viewDescriptor.id))).join(',')} in ${this.viewContainer.id}`);
        }
    }
    broadCastRemovedVisibleViewDescriptors(removed) {
        if (removed.length) {
            this._onDidRemoveVisibleViewDescriptors.fire(removed.sort((a, b) => b.index - a.index));
            this.updateState(`Removed views:${( (removed.map(v => v.viewDescriptor.id))).join(',')} from ${this.viewContainer.id}`);
        }
    }
    broadCastMovedViewDescriptors(from, to) {
        this._onDidMoveVisibleViewDescriptors.fire({ from, to });
        this.updateState(`Moved view ${from.viewDescriptor.id} to ${to.viewDescriptor.id} in ${this.viewContainer.id}`);
    }
    updateState(reason) {
        this.logger.value.info(reason);
        this.viewDescriptorsState.updateState(this.allViewDescriptors);
        this.updateContainerInfo();
    }
    isViewDescriptorVisible(viewDescriptorItem) {
        if (!viewDescriptorItem.state.active) {
            return false;
        }
        return this.isViewDescriptorVisibleWhenActive(viewDescriptorItem);
    }
    isViewDescriptorVisibleWhenActive(viewDescriptorItem) {
        if (viewDescriptorItem.viewDescriptor.workspace) {
            return !!viewDescriptorItem.state.visibleWorkspace;
        }
        return !!viewDescriptorItem.state.visibleGlobal;
    }
    find(id) {
        const result = this.findAndIgnoreIfNotFound(id);
        if (result) {
            return result;
        }
        throw ( (new Error(`view descriptor ${id} not found`)));
    }
    findAndIgnoreIfNotFound(id) {
        for (let i = 0, visibleIndex = 0; i < this.viewDescriptorItems.length; i++) {
            const viewDescriptorItem = this.viewDescriptorItems[i];
            if (viewDescriptorItem.viewDescriptor.id === id) {
                return { index: i, visibleIndex, viewDescriptorItem: viewDescriptorItem };
            }
            if (this.isViewDescriptorVisible(viewDescriptorItem)) {
                visibleIndex++;
            }
        }
        return undefined;
    }
    compareViewDescriptors(a, b) {
        if (a.viewDescriptor.id === b.viewDescriptor.id) {
            return 0;
        }
        return (this.getViewOrder(a) - this.getViewOrder(b)) || this.getGroupOrderResult(a.viewDescriptor, b.viewDescriptor);
    }
    getViewOrder(viewDescriptorItem) {
        const viewOrder = typeof viewDescriptorItem.state.order === 'number' ? viewDescriptorItem.state.order : viewDescriptorItem.viewDescriptor.order;
        return typeof viewOrder === 'number' ? viewOrder : Number.MAX_VALUE;
    }
    getGroupOrderResult(a, b) {
        if (!a.group || !b.group) {
            return 0;
        }
        if (a.group === b.group) {
            return 0;
        }
        return a.group < b.group ? -1 : 1;
    }
};
ViewContainerModel = ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, vscode_vscode_vs_platform_instantiation_common_instantiation__WEBPACK_IMPORTED_MODULE_7__.IInstantiationService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, vscode_vscode_vs_platform_contextkey_common_contextkey_service__WEBPACK_IMPORTED_MODULE_2__.IContextKeyService))),
    ( ((0,vscode_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, vscode_vscode_vs_platform_log_common_log_service__WEBPACK_IMPORTED_MODULE_13__.ILoggerService)))
], ViewContainerModel)));




/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/base/browser/deviceAccess.js":
/*!************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/base/browser/deviceAccess.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   requestHidDevice: () => (/* binding */ requestHidDevice),
/* harmony export */   requestSerialPort: () => (/* binding */ requestSerialPort),
/* harmony export */   requestUsbDevice: () => (/* binding */ requestUsbDevice)
/* harmony export */ });
async function requestUsbDevice(options) {
    const usb = navigator.usb;
    if (!usb) {
        return undefined;
    }
    const device = await usb.requestDevice({ filters: options?.filters ?? [] });
    if (!device) {
        return undefined;
    }
    return {
        deviceClass: device.deviceClass,
        deviceProtocol: device.deviceProtocol,
        deviceSubclass: device.deviceSubclass,
        deviceVersionMajor: device.deviceVersionMajor,
        deviceVersionMinor: device.deviceVersionMinor,
        deviceVersionSubminor: device.deviceVersionSubminor,
        manufacturerName: device.manufacturerName,
        productId: device.productId,
        productName: device.productName,
        serialNumber: device.serialNumber,
        usbVersionMajor: device.usbVersionMajor,
        usbVersionMinor: device.usbVersionMinor,
        usbVersionSubminor: device.usbVersionSubminor,
        vendorId: device.vendorId,
    };
}
async function requestSerialPort(options) {
    const serial = navigator.serial;
    if (!serial) {
        return undefined;
    }
    const port = await serial.requestPort({ filters: options?.filters ?? [] });
    if (!port) {
        return undefined;
    }
    const info = port.getInfo();
    return {
        usbVendorId: info.usbVendorId,
        usbProductId: info.usbProductId
    };
}
async function requestHidDevice(options) {
    const hid = navigator.hid;
    if (!hid) {
        return undefined;
    }
    const devices = await hid.requestDevice({ filters: options?.filters ?? [] });
    if (!devices.length) {
        return undefined;
    }
    const device = devices[0];
    return {
        opened: device.opened,
        vendorId: device.vendorId,
        productId: device.productId,
        productName: device.productName,
        collections: device.collections
    };
}



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/base/browser/ui/breadcrumbs/breadcrumbsWidget.css.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/base/browser/ui/breadcrumbs/breadcrumbsWidget.css.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ css),
/* harmony export */   "default": () => (/* binding */ css)
/* harmony export */ });
/* harmony import */ var _external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/rollup-plugin-styles/dist/runtime/inject-css.js */ "./node_modules/vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js");

var css = ".monaco-breadcrumbs{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:flex-start;outline-style:none;user-select:none;-webkit-user-select:none}.monaco-breadcrumbs .monaco-breadcrumb-item{align-items:center;align-self:center;cursor:pointer;display:flex;flex:0 1 auto;height:100%;outline:none;white-space:nowrap}.monaco-breadcrumbs.disabled .monaco-breadcrumb-item{cursor:default}.monaco-breadcrumbs .monaco-breadcrumb-item .codicon-breadcrumb-separator{color:inherit}.monaco-breadcrumbs .monaco-breadcrumb-item:first-of-type:before{content:\" \"}";
(0,_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__["default"])(css,{});



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/base/browser/ui/breadcrumbs/breadcrumbsWidget.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/base/browser/ui/breadcrumbs/breadcrumbsWidget.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BreadcrumbsItem: () => (/* binding */ BreadcrumbsItem),
/* harmony export */   BreadcrumbsWidget: () => (/* binding */ BreadcrumbsWidget)
/* harmony export */ });
/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../dom.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var _scrollbar_scrollableElement_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../scrollbar/scrollableElement.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/scrollbar/scrollableElement.js");
/* harmony import */ var _common_arrays_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../common/arrays.js */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var _common_themables_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../common/themables.js */ "./node_modules/vscode/vscode/src/vs/base/common/themables.js");
/* harmony import */ var _common_event_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../common/event.js */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var _common_lifecycle_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _breadcrumbsWidget_css_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./breadcrumbsWidget.css.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/breadcrumbs/breadcrumbsWidget.css.js");







class BreadcrumbsItem {
}
class BreadcrumbsWidget {
    constructor(container, horizontalScrollbarSize, separatorIcon, styles) {
        this._disposables = ( new _common_lifecycle_js__WEBPACK_IMPORTED_MODULE_5__.DisposableStore());
        this._onDidSelectItem = ( new _common_event_js__WEBPACK_IMPORTED_MODULE_4__.Emitter());
        this._onDidFocusItem = ( new _common_event_js__WEBPACK_IMPORTED_MODULE_4__.Emitter());
        this._onDidChangeFocus = ( new _common_event_js__WEBPACK_IMPORTED_MODULE_4__.Emitter());
        this.onDidSelectItem = this._onDidSelectItem.event;
        this.onDidFocusItem = this._onDidFocusItem.event;
        this.onDidChangeFocus = this._onDidChangeFocus.event;
        this._items = ( new Array());
        this._nodes = ( new Array());
        this._freeNodes = ( new Array());
        this._enabled = true;
        this._focusedItemIdx = -1;
        this._selectedItemIdx = -1;
        this._domNode = document.createElement('div');
        this._domNode.className = 'monaco-breadcrumbs';
        this._domNode.tabIndex = 0;
        this._domNode.setAttribute('role', 'list');
        this._scrollable = ( new _scrollbar_scrollableElement_js__WEBPACK_IMPORTED_MODULE_1__.DomScrollableElement(this._domNode, {
            vertical: 2 ,
            horizontal: 1 ,
            horizontalScrollbarSize,
            useShadows: false,
            scrollYToX: true
        }));
        this._separatorIcon = separatorIcon;
        this._disposables.add(this._scrollable);
        this._disposables.add((0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.addStandardDisposableListener)(this._domNode, 'click', e => this._onClick(e)));
        container.appendChild(this._scrollable.getDomNode());
        const styleElement = (0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.createStyleSheet)(this._domNode);
        this._style(styleElement, styles);
        const focusTracker = (0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.trackFocus)(this._domNode);
        this._disposables.add(focusTracker);
        this._disposables.add(focusTracker.onDidBlur(_ => this._onDidChangeFocus.fire(false)));
        this._disposables.add(focusTracker.onDidFocus(_ => this._onDidChangeFocus.fire(true)));
    }
    setHorizontalScrollbarSize(size) {
        this._scrollable.updateOptions({
            horizontalScrollbarSize: size
        });
    }
    dispose() {
        this._disposables.dispose();
        this._pendingLayout?.dispose();
        this._pendingDimLayout?.dispose();
        this._onDidSelectItem.dispose();
        this._onDidFocusItem.dispose();
        this._onDidChangeFocus.dispose();
        this._domNode.remove();
        this._nodes.length = 0;
        this._freeNodes.length = 0;
    }
    layout(dim) {
        if (dim && _dom_js__WEBPACK_IMPORTED_MODULE_0__.Dimension.equals(dim, this._dimension)) {
            return;
        }
        if (dim) {
            this._pendingDimLayout?.dispose();
            this._pendingDimLayout = this._updateDimensions(dim);
        }
        else {
            this._pendingLayout?.dispose();
            this._pendingLayout = this._updateScrollbar();
        }
    }
    _updateDimensions(dim) {
        const disposables = ( new _common_lifecycle_js__WEBPACK_IMPORTED_MODULE_5__.DisposableStore());
        disposables.add((0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.modify)((0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.getWindow)(this._domNode), () => {
            this._dimension = dim;
            this._domNode.style.width = `${dim.width}px`;
            this._domNode.style.height = `${dim.height}px`;
            disposables.add(this._updateScrollbar());
        }));
        return disposables;
    }
    _updateScrollbar() {
        return (0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.measure)((0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.getWindow)(this._domNode), () => {
            (0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.measure)((0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.getWindow)(this._domNode), () => {
                this._scrollable.setRevealOnScroll(false);
                this._scrollable.scanDomNode();
                this._scrollable.setRevealOnScroll(true);
            });
        });
    }
    _style(styleElement, style) {
        let content = '';
        if (style.breadcrumbsBackground) {
            content += `.monaco-breadcrumbs { background-color: ${style.breadcrumbsBackground}}`;
        }
        if (style.breadcrumbsForeground) {
            content += `.monaco-breadcrumbs .monaco-breadcrumb-item { color: ${style.breadcrumbsForeground}}\n`;
        }
        if (style.breadcrumbsFocusForeground) {
            content += `.monaco-breadcrumbs .monaco-breadcrumb-item.focused { color: ${style.breadcrumbsFocusForeground}}\n`;
        }
        if (style.breadcrumbsFocusAndSelectionForeground) {
            content += `.monaco-breadcrumbs .monaco-breadcrumb-item.focused.selected { color: ${style.breadcrumbsFocusAndSelectionForeground}}\n`;
        }
        if (style.breadcrumbsHoverForeground) {
            content += `.monaco-breadcrumbs:not(.disabled	) .monaco-breadcrumb-item:hover:not(.focused):not(.selected) { color: ${style.breadcrumbsHoverForeground}}\n`;
        }
        styleElement.innerText = content;
    }
    setEnabled(value) {
        this._enabled = value;
        this._domNode.classList.toggle('disabled', !this._enabled);
    }
    domFocus() {
        const idx = this._focusedItemIdx >= 0 ? this._focusedItemIdx : this._items.length - 1;
        if (idx >= 0 && idx < this._items.length) {
            this._focus(idx, undefined);
        }
        else {
            this._domNode.focus();
        }
    }
    isDOMFocused() {
        return (0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.isAncestorOfActiveElement)(this._domNode);
    }
    getFocused() {
        return this._items[this._focusedItemIdx];
    }
    setFocused(item, payload) {
        this._focus(this._items.indexOf(item), payload);
    }
    focusPrev(payload) {
        if (this._focusedItemIdx > 0) {
            this._focus(this._focusedItemIdx - 1, payload);
        }
    }
    focusNext(payload) {
        if (this._focusedItemIdx + 1 < this._nodes.length) {
            this._focus(this._focusedItemIdx + 1, payload);
        }
    }
    _focus(nth, payload) {
        this._focusedItemIdx = -1;
        for (let i = 0; i < this._nodes.length; i++) {
            const node = this._nodes[i];
            if (i !== nth) {
                node.classList.remove('focused');
            }
            else {
                this._focusedItemIdx = i;
                node.classList.add('focused');
                node.focus();
            }
        }
        this._reveal(this._focusedItemIdx, true);
        this._onDidFocusItem.fire({ type: 'focus', item: this._items[this._focusedItemIdx], node: this._nodes[this._focusedItemIdx], payload });
    }
    reveal(item) {
        const idx = this._items.indexOf(item);
        if (idx >= 0) {
            this._reveal(idx, false);
        }
    }
    revealLast() {
        this._reveal(this._items.length - 1, false);
    }
    _reveal(nth, minimal) {
        if (nth < 0 || nth >= this._nodes.length) {
            return;
        }
        const node = this._nodes[nth];
        if (!node) {
            return;
        }
        const { width } = this._scrollable.getScrollDimensions();
        const { scrollLeft } = this._scrollable.getScrollPosition();
        if (!minimal || node.offsetLeft > scrollLeft + width || node.offsetLeft < scrollLeft) {
            this._scrollable.setRevealOnScroll(false);
            this._scrollable.setScrollPosition({ scrollLeft: node.offsetLeft });
            this._scrollable.setRevealOnScroll(true);
        }
    }
    getSelection() {
        return this._items[this._selectedItemIdx];
    }
    setSelection(item, payload) {
        this._select(this._items.indexOf(item), payload);
    }
    _select(nth, payload) {
        this._selectedItemIdx = -1;
        for (let i = 0; i < this._nodes.length; i++) {
            const node = this._nodes[i];
            if (i !== nth) {
                node.classList.remove('selected');
            }
            else {
                this._selectedItemIdx = i;
                node.classList.add('selected');
            }
        }
        this._onDidSelectItem.fire({ type: 'select', item: this._items[this._selectedItemIdx], node: this._nodes[this._selectedItemIdx], payload });
    }
    getItems() {
        return this._items;
    }
    setItems(items) {
        let prefix;
        let removed = [];
        try {
            prefix = (0,_common_arrays_js__WEBPACK_IMPORTED_MODULE_2__.commonPrefixLength)(this._items, items, (a, b) => a.equals(b));
            removed = this._items.splice(prefix, this._items.length - prefix, ...items.slice(prefix));
            this._render(prefix);
            (0,_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_5__.dispose)(removed);
            this._focus(-1, undefined);
        }
        catch (e) {
            const newError = ( new Error(
                `BreadcrumbsItem#setItems: newItems: ${items.length}, prefix: ${prefix}, removed: ${removed.length}`
            ));
            newError.name = e.name;
            newError.stack = e.stack;
            throw newError;
        }
    }
    _render(start) {
        let didChange = false;
        for (; start < this._items.length && start < this._nodes.length; start++) {
            const item = this._items[start];
            const node = this._nodes[start];
            this._renderItem(item, node);
            didChange = true;
        }
        while (start < this._nodes.length) {
            const free = this._nodes.pop();
            if (free) {
                this._freeNodes.push(free);
                free.remove();
                didChange = true;
            }
        }
        for (; start < this._items.length; start++) {
            const item = this._items[start];
            const node = this._freeNodes.length > 0 ? this._freeNodes.pop() : document.createElement('div');
            if (node) {
                this._renderItem(item, node);
                this._domNode.appendChild(node);
                this._nodes.push(node);
                didChange = true;
            }
        }
        if (didChange) {
            this.layout(undefined);
        }
    }
    _renderItem(item, container) {
        (0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.clearNode)(container);
        container.className = '';
        try {
            item.render(container);
        }
        catch (err) {
            container.innerText = '<<RENDER ERROR>>';
            console.error(err);
        }
        container.tabIndex = -1;
        container.setAttribute('role', 'listitem');
        container.classList.add('monaco-breadcrumb-item');
        const iconContainer = (0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.$)(_common_themables_js__WEBPACK_IMPORTED_MODULE_3__.ThemeIcon.asCSSSelector(this._separatorIcon));
        container.appendChild(iconContainer);
    }
    _onClick(event) {
        if (!this._enabled) {
            return;
        }
        for (let el = event.target; el; el = el.parentElement) {
            const idx = this._nodes.indexOf(el);
            if (idx >= 0) {
                this._focus(idx, event);
                this._select(idx, event);
                break;
            }
        }
    }
}



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/base/browser/ui/dialog/dialog.css.js":
/*!********************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/base/browser/ui/dialog/dialog.css.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ css),
/* harmony export */   "default": () => (/* binding */ css)
/* harmony export */ });
/* harmony import */ var _external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/rollup-plugin-styles/dist/runtime/inject-css.js */ "./node_modules/vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js");

var css = ".monaco-dialog-modal-block{align-items:center;display:flex;height:100%;justify-content:center;left:0;position:fixed;top:0;width:100%;z-index:2600}.monaco-dialog-modal-block.dimmed{background:rgba(0,0,0,.3)}.monaco-dialog-box{border-radius:3px;display:flex;flex-direction:column-reverse;max-width:90vw;min-height:75px;min-width:500px;padding:10px;transform:translateZ(0);width:min-content}.monaco-dialog-box .dialog-toolbar-row{height:22px;padding-bottom:4px}.monaco-dialog-box .dialog-toolbar-row .actions-container{justify-content:flex-end}.monaco-dialog-box .dialog-message-row{align-items:center;display:flex;flex-grow:1;padding:0 10px}.monaco-dialog-box .dialog-message-row>.dialog-icon.codicon{align-self:baseline;flex:0 0 48px;font-size:48px;height:48px}.monaco-dialog-box .dialog-message-row .dialog-message-container{word-wrap:break-word;display:flex;flex-direction:column;overflow:hidden;padding-left:24px;text-overflow:ellipsis;user-select:text;-webkit-user-select:text;white-space:normal}.monaco-dialog-box .dialog-message-row .dialog-message-container .dialog-message{word-wrap:break-word;align-items:center;display:flex;flex:1;font-size:18px;line-height:22px;margin-bottom:8px;min-height:48px;white-space:normal}.monaco-dialog-box .dialog-message-row .dialog-message-container .dialog-message-detail{flex:1;line-height:22px}.monaco-dialog-box .dialog-message-row .dialog-message-container .dialog-message a:focus{outline-style:solid;outline-width:1px}.monaco-dialog-box .dialog-message-row .dialog-message-container .dialog-checkbox-row{display:flex;padding:15px 0 0}.monaco-dialog-box .dialog-message-row .dialog-message-container .dialog-checkbox-row .dialog-checkbox-message{cursor:pointer;user-select:none;-webkit-user-select:none}.monaco-dialog-box .dialog-message-row .dialog-message-container .dialog-message-input{display:flex;padding:15px 0 0}.monaco-dialog-box .dialog-message-row .dialog-message-container .dialog-message-input .monaco-inputbox{flex:1}.monaco-dialog-box code{font-family:var(--monaco-monospace-font)}.monaco-dialog-box>.dialog-buttons-row{align-items:center;display:flex;overflow:hidden;padding-right:1px;padding:20px 10px 10px;white-space:nowrap}.monaco-dialog-box>.dialog-buttons-row>.dialog-buttons{display:flex;justify-content:flex-end;margin-left:67px;overflow:hidden;width:100%}.monaco-dialog-box>.dialog-buttons-row>.dialog-buttons>.monaco-button{margin:4px 5px;outline-offset:2px!important;overflow:hidden;padding:5px 10px;text-overflow:ellipsis;width:fit-content}";
(0,_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__["default"])(css,{});



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/base/browser/ui/dialog/dialog.js":
/*!****************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/base/browser/ui/dialog/dialog.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Dialog: () => (/* binding */ Dialog)
/* harmony export */ });
/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../dom.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var _keyboardEvent_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../keyboardEvent.js */ "./node_modules/vscode/vscode/src/vs/base/browser/keyboardEvent.js");
/* harmony import */ var _actionbar_actionbar_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../actionbar/actionbar.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/actionbar/actionbar.js");
/* harmony import */ var _button_button_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../button/button.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/button/button.js");
/* harmony import */ var _toggle_toggle_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../toggle/toggle.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/toggle/toggle.js");
/* harmony import */ var _inputbox_inputBox_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../inputbox/inputBox.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/inputbox/inputBox.js");
/* harmony import */ var _common_actions_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../common/actions.js */ "./node_modules/vscode/vscode/src/vs/base/common/actions.js");
/* harmony import */ var _common_codicons_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../common/codicons.js */ "./node_modules/vscode/vscode/src/vs/base/common/codicons.js");
/* harmony import */ var _common_themables_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../common/themables.js */ "./node_modules/vscode/vscode/src/vs/base/common/themables.js");
/* harmony import */ var _common_labels_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../common/labels.js */ "./node_modules/vscode/vscode/src/vs/base/common/labels.js");
/* harmony import */ var _common_lifecycle_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _common_platform_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../common/platform.js */ "./node_modules/vscode/vscode/src/vs/base/common/platform.js");
/* harmony import */ var _dialog_css_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./dialog.css.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/dialog/dialog.css.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");














class Dialog extends _common_lifecycle_js__WEBPACK_IMPORTED_MODULE_10__.Disposable {
    constructor(container, message, buttons, options) {
        super();
        this.container = container;
        this.message = message;
        this.options = options;
        this.modalElement = this.container.appendChild((0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.$)(`.monaco-dialog-modal-block.dimmed`));
        this.shadowElement = this.modalElement.appendChild((0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.$)('.dialog-shadow'));
        this.element = this.shadowElement.appendChild((0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.$)('.monaco-dialog-box'));
        this.element.setAttribute('role', 'dialog');
        this.element.tabIndex = -1;
        (0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.hide)(this.element);
        this.buttonStyles = options.buttonStyles;
        if (Array.isArray(buttons) && buttons.length > 0) {
            this.buttons = buttons;
        }
        else if (!this.options.disableDefaultAction) {
            this.buttons = [( (0,_nls_js__WEBPACK_IMPORTED_MODULE_13__.localize)(9624, "OK"))];
        }
        else {
            this.buttons = [];
        }
        const buttonsRowElement = this.element.appendChild((0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.$)('.dialog-buttons-row'));
        this.buttonsContainer = buttonsRowElement.appendChild((0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.$)('.dialog-buttons'));
        const messageRowElement = this.element.appendChild((0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.$)('.dialog-message-row'));
        this.iconElement = messageRowElement.appendChild((0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.$)('#monaco-dialog-icon.dialog-icon'));
        this.iconElement.setAttribute('aria-label', this.getIconAriaLabel());
        this.messageContainer = messageRowElement.appendChild((0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.$)('.dialog-message-container'));
        if (this.options.detail || this.options.renderBody) {
            const messageElement = this.messageContainer.appendChild((0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.$)('.dialog-message'));
            const messageTextElement = messageElement.appendChild((0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.$)('#monaco-dialog-message-text.dialog-message-text'));
            messageTextElement.innerText = this.message;
        }
        this.messageDetailElement = this.messageContainer.appendChild((0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.$)('#monaco-dialog-message-detail.dialog-message-detail'));
        if (this.options.detail || !this.options.renderBody) {
            this.messageDetailElement.innerText = this.options.detail ? this.options.detail : message;
        }
        else {
            this.messageDetailElement.style.display = 'none';
        }
        if (this.options.renderBody) {
            const customBody = this.messageContainer.appendChild((0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.$)('#monaco-dialog-message-body.dialog-message-body'));
            this.options.renderBody(customBody);
            for (const el of this.messageContainer.querySelectorAll('a')) {
                el.tabIndex = 0;
            }
        }
        if (this.options.inputs) {
            this.inputs = ( (this.options.inputs.map(input => {
                const inputRowElement = this.messageContainer.appendChild((0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.$)('.dialog-message-input'));
                const inputBox = this._register(( (new _inputbox_inputBox_js__WEBPACK_IMPORTED_MODULE_5__.InputBox(inputRowElement, undefined, {
                    placeholder: input.placeholder,
                    type: input.type ?? 'text',
                    inputBoxStyles: options.inputBoxStyles
                }))));
                if (input.value) {
                    inputBox.value = input.value;
                }
                return inputBox;
            })));
        }
        else {
            this.inputs = [];
        }
        if (this.options.checkboxLabel) {
            const checkboxRowElement = this.messageContainer.appendChild((0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.$)('.dialog-checkbox-row'));
            const checkbox = this.checkbox = this._register(( (new _toggle_toggle_js__WEBPACK_IMPORTED_MODULE_4__.Checkbox(
                this.options.checkboxLabel,
                !!this.options.checkboxChecked,
                options.checkboxStyles
            ))));
            checkboxRowElement.appendChild(checkbox.domNode);
            const checkboxMessageElement = checkboxRowElement.appendChild((0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.$)('.dialog-checkbox-message'));
            checkboxMessageElement.innerText = this.options.checkboxLabel;
            this._register((0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.addDisposableListener)(checkboxMessageElement, _dom_js__WEBPACK_IMPORTED_MODULE_0__.EventType.CLICK, () => checkbox.checked = !checkbox.checked));
        }
        const toolbarRowElement = this.element.appendChild((0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.$)('.dialog-toolbar-row'));
        this.toolbarContainer = toolbarRowElement.appendChild((0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.$)('.dialog-toolbar'));
        this.applyStyles();
    }
    getIconAriaLabel() {
        let typeLabel = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_13__.localize)(9625, 'Info'));
        switch (this.options.type) {
            case 'error':
                typeLabel = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_13__.localize)(9626, 'Error'));
                break;
            case 'warning':
                typeLabel = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_13__.localize)(9627, 'Warning'));
                break;
            case 'pending':
                typeLabel = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_13__.localize)(9628, 'In Progress'));
                break;
        }
        return typeLabel;
    }
    updateMessage(message) {
        this.messageDetailElement.innerText = message;
    }
    async show() {
        this.focusToReturn = this.container.ownerDocument.activeElement;
        return (
             (new Promise((resolve) => {
                (0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.clearNode)(this.buttonsContainer);
                const buttonBar = this.buttonBar = this._register(( (new _button_button_js__WEBPACK_IMPORTED_MODULE_3__.ButtonBar(this.buttonsContainer))));
                const buttonMap = this.rearrangeButtons(this.buttons, this.options.cancelId);
                buttonMap.forEach((entry, index) => {
                    const primary = buttonMap[index].index === 0;
                    const button = this.options.buttonDetails ? this._register(buttonBar.addButtonWithDescription({ secondary: !primary, ...this.buttonStyles })) : this._register(buttonBar.addButton({ secondary: !primary, ...this.buttonStyles }));
                    button.label = (0,_common_labels_js__WEBPACK_IMPORTED_MODULE_9__.mnemonicButtonLabel)(buttonMap[index].label, true);
                    if (button instanceof _button_button_js__WEBPACK_IMPORTED_MODULE_3__.ButtonWithDescription) {
                        button.description = this.options.buttonDetails[buttonMap[index].index];
                    }
                    this._register(button.onDidClick(e => {
                        if (e) {
                            _dom_js__WEBPACK_IMPORTED_MODULE_0__.EventHelper.stop(e);
                        }
                        resolve({
                            button: buttonMap[index].index,
                            checkboxChecked: this.checkbox ? this.checkbox.checked : undefined,
                            values: this.inputs.length > 0 ? ( (this.inputs.map(input => input.value))) : undefined
                        });
                    }));
                });
                const window = (0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.getWindow)(this.container);
                this._register((0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.addDisposableListener)(window, 'keydown', e => {
                    const evt = ( (new _keyboardEvent_js__WEBPACK_IMPORTED_MODULE_1__.StandardKeyboardEvent(e)));
                    if (evt.equals(512 )) {
                        evt.preventDefault();
                    }
                    if (evt.equals(3 )) {
                        if (( (this.inputs.some(input => input.hasFocus())))) {
                            _dom_js__WEBPACK_IMPORTED_MODULE_0__.EventHelper.stop(e);
                            resolve({
                                button: buttonMap.find(button => button.index !== this.options.cancelId)?.index ?? 0,
                                checkboxChecked: this.checkbox ? this.checkbox.checked : undefined,
                                values: this.inputs.length > 0 ? ( (this.inputs.map(input => input.value))) : undefined
                            });
                        }
                        return;
                    }
                    if (evt.equals(10 )) {
                        return;
                    }
                    let eventHandled = false;
                    if (evt.equals(2 ) || evt.equals(17 ) || evt.equals(1024  | 2 ) || evt.equals(15 )) {
                        const focusableElements = [];
                        let focusedIndex = -1;
                        if (this.messageContainer) {
                            const links = this.messageContainer.querySelectorAll('a');
                            for (const link of links) {
                                focusableElements.push(link);
                                if ((0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.isActiveElement)(link)) {
                                    focusedIndex = focusableElements.length - 1;
                                }
                            }
                        }
                        for (const input of this.inputs) {
                            focusableElements.push(input);
                            if (input.hasFocus()) {
                                focusedIndex = focusableElements.length - 1;
                            }
                        }
                        if (this.checkbox) {
                            focusableElements.push(this.checkbox);
                            if (this.checkbox.hasFocus()) {
                                focusedIndex = focusableElements.length - 1;
                            }
                        }
                        if (this.buttonBar) {
                            for (const button of this.buttonBar.buttons) {
                                focusableElements.push(button);
                                if (button.hasFocus()) {
                                    focusedIndex = focusableElements.length - 1;
                                }
                            }
                        }
                        if (evt.equals(2 ) || evt.equals(17 )) {
                            if (focusedIndex === -1) {
                                focusedIndex = 0;
                            }
                            const newFocusedIndex = (focusedIndex + 1) % focusableElements.length;
                            focusableElements[newFocusedIndex].focus();
                        }
                        else {
                            if (focusedIndex === -1) {
                                focusedIndex = focusableElements.length;
                            }
                            let newFocusedIndex = focusedIndex - 1;
                            if (newFocusedIndex === -1) {
                                newFocusedIndex = focusableElements.length - 1;
                            }
                            focusableElements[newFocusedIndex].focus();
                        }
                        eventHandled = true;
                    }
                    if (eventHandled) {
                        _dom_js__WEBPACK_IMPORTED_MODULE_0__.EventHelper.stop(e, true);
                    }
                    else if (this.options.keyEventProcessor) {
                        this.options.keyEventProcessor(evt);
                    }
                }, true));
                this._register((0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.addDisposableListener)(window, 'keyup', e => {
                    _dom_js__WEBPACK_IMPORTED_MODULE_0__.EventHelper.stop(e, true);
                    const evt = ( (new _keyboardEvent_js__WEBPACK_IMPORTED_MODULE_1__.StandardKeyboardEvent(e)));
                    if (!this.options.disableCloseAction && evt.equals(9 )) {
                        resolve({
                            button: this.options.cancelId || 0,
                            checkboxChecked: this.checkbox ? this.checkbox.checked : undefined
                        });
                    }
                }, true));
                this._register((0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.addDisposableListener)(this.element, 'focusout', e => {
                    if (!!e.relatedTarget && !!this.element) {
                        if (!(0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.isAncestor)(e.relatedTarget, this.element)) {
                            this.focusToReturn = e.relatedTarget;
                            if (e.target) {
                                e.target.focus();
                                _dom_js__WEBPACK_IMPORTED_MODULE_0__.EventHelper.stop(e, true);
                            }
                        }
                    }
                }, false));
                const spinModifierClassName = 'codicon-modifier-spin';
                this.iconElement.classList.remove(..._common_themables_js__WEBPACK_IMPORTED_MODULE_8__.ThemeIcon.asClassNameArray(_common_codicons_js__WEBPACK_IMPORTED_MODULE_7__.Codicon.dialogError), ..._common_themables_js__WEBPACK_IMPORTED_MODULE_8__.ThemeIcon.asClassNameArray(_common_codicons_js__WEBPACK_IMPORTED_MODULE_7__.Codicon.dialogWarning), ..._common_themables_js__WEBPACK_IMPORTED_MODULE_8__.ThemeIcon.asClassNameArray(_common_codicons_js__WEBPACK_IMPORTED_MODULE_7__.Codicon.dialogInfo), ..._common_themables_js__WEBPACK_IMPORTED_MODULE_8__.ThemeIcon.asClassNameArray(_common_codicons_js__WEBPACK_IMPORTED_MODULE_7__.Codicon.loading), spinModifierClassName);
                if (this.options.icon) {
                    this.iconElement.classList.add(..._common_themables_js__WEBPACK_IMPORTED_MODULE_8__.ThemeIcon.asClassNameArray(this.options.icon));
                }
                else {
                    switch (this.options.type) {
                        case 'error':
                            this.iconElement.classList.add(..._common_themables_js__WEBPACK_IMPORTED_MODULE_8__.ThemeIcon.asClassNameArray(_common_codicons_js__WEBPACK_IMPORTED_MODULE_7__.Codicon.dialogError));
                            break;
                        case 'warning':
                            this.iconElement.classList.add(..._common_themables_js__WEBPACK_IMPORTED_MODULE_8__.ThemeIcon.asClassNameArray(_common_codicons_js__WEBPACK_IMPORTED_MODULE_7__.Codicon.dialogWarning));
                            break;
                        case 'pending':
                            this.iconElement.classList.add(..._common_themables_js__WEBPACK_IMPORTED_MODULE_8__.ThemeIcon.asClassNameArray(_common_codicons_js__WEBPACK_IMPORTED_MODULE_7__.Codicon.loading), spinModifierClassName);
                            break;
                        case 'none':
                            this.iconElement.classList.add('no-codicon');
                            break;
                        case 'info':
                        case 'question':
                        default:
                            this.iconElement.classList.add(..._common_themables_js__WEBPACK_IMPORTED_MODULE_8__.ThemeIcon.asClassNameArray(_common_codicons_js__WEBPACK_IMPORTED_MODULE_7__.Codicon.dialogInfo));
                            break;
                    }
                }
                if (!this.options.disableCloseAction) {
                    const actionBar = this._register(( (new _actionbar_actionbar_js__WEBPACK_IMPORTED_MODULE_2__.ActionBar(this.toolbarContainer, {}))));
                    const action = this._register(( (new _common_actions_js__WEBPACK_IMPORTED_MODULE_6__.Action('dialog.close', ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_13__.localize)(9629, "Close Dialog")), _common_themables_js__WEBPACK_IMPORTED_MODULE_8__.ThemeIcon.asClassName(_common_codicons_js__WEBPACK_IMPORTED_MODULE_7__.Codicon.dialogClose), true, async () => {
                        resolve({
                            button: this.options.cancelId || 0,
                            checkboxChecked: this.checkbox ? this.checkbox.checked : undefined
                        });
                    }))));
                    actionBar.push(action, { icon: true, label: false });
                }
                this.applyStyles();
                this.element.setAttribute('aria-modal', 'true');
                this.element.setAttribute('aria-labelledby', 'monaco-dialog-icon monaco-dialog-message-text');
                this.element.setAttribute('aria-describedby', 'monaco-dialog-icon monaco-dialog-message-text monaco-dialog-message-detail monaco-dialog-message-body');
                (0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.show)(this.element);
                if (this.inputs.length > 0) {
                    this.inputs[0].focus();
                    this.inputs[0].select();
                }
                else {
                    buttonMap.forEach((value, index) => {
                        if (value.index === 0) {
                            buttonBar.buttons[index].focus();
                        }
                    });
                }
            }))
        );
    }
    applyStyles() {
        const style = this.options.dialogStyles;
        const fgColor = style.dialogForeground;
        const bgColor = style.dialogBackground;
        const shadowColor = style.dialogShadow ? `0 0px 8px ${style.dialogShadow}` : '';
        const border = style.dialogBorder ? `1px solid ${style.dialogBorder}` : '';
        const linkFgColor = style.textLinkForeground;
        this.shadowElement.style.boxShadow = shadowColor;
        this.element.style.color = fgColor ?? '';
        this.element.style.backgroundColor = bgColor ?? '';
        this.element.style.border = border;
        if (linkFgColor) {
            for (const el of this.messageContainer.getElementsByTagName('a')) {
                el.style.color = linkFgColor;
            }
        }
        let color;
        switch (this.options.type) {
            case 'error':
                color = style.errorIconForeground;
                break;
            case 'warning':
                color = style.warningIconForeground;
                break;
            default:
                color = style.infoIconForeground;
                break;
        }
        if (color) {
            this.iconElement.style.color = color;
        }
    }
    dispose() {
        super.dispose();
        if (this.modalElement) {
            this.modalElement.remove();
            this.modalElement = undefined;
        }
        if (this.focusToReturn && (0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.isAncestor)(this.focusToReturn, this.container.ownerDocument.body)) {
            this.focusToReturn.focus();
            this.focusToReturn = undefined;
        }
    }
    rearrangeButtons(buttons, cancelId) {
        const buttonMap = ( (buttons.map((label, index) => ({ label, index }))));
        if (buttons.length < 2) {
            return buttonMap;
        }
        if (_common_platform_js__WEBPACK_IMPORTED_MODULE_11__.isMacintosh || _common_platform_js__WEBPACK_IMPORTED_MODULE_11__.isLinux) {
            if (typeof cancelId === 'number' && buttonMap[cancelId]) {
                const cancelButton = buttonMap.splice(cancelId, 1)[0];
                buttonMap.splice(1, 0, cancelButton);
            }
            buttonMap.reverse();
        }
        else if (_common_platform_js__WEBPACK_IMPORTED_MODULE_11__.isWindows) {
            if (typeof cancelId === 'number' && buttonMap[cancelId]) {
                const cancelButton = buttonMap.splice(cancelId, 1)[0];
                buttonMap.push(cancelButton);
            }
        }
        return buttonMap;
    }
}



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/base/browser/ui/iconLabel/simpleIconLabel.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/base/browser/ui/iconLabel/simpleIconLabel.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SimpleIconLabel: () => (/* binding */ SimpleIconLabel)
/* harmony export */ });
/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../dom.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var _hover_hoverDelegate2_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../hover/hoverDelegate2.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/hover/hoverDelegate2.js");
/* harmony import */ var _hover_hoverDelegateFactory_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../hover/hoverDelegateFactory.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/hover/hoverDelegateFactory.js");
/* harmony import */ var _iconLabels_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./iconLabels.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/iconLabel/iconLabels.js");




class SimpleIconLabel {
    constructor(_container) {
        this._container = _container;
    }
    set text(text) {
        (0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.reset)(this._container, ...(0,_iconLabels_js__WEBPACK_IMPORTED_MODULE_3__.renderLabelWithIcons)(text ?? ''));
    }
    set title(title) {
        if (!this.hover && title) {
            this.hover = (0,_hover_hoverDelegate2_js__WEBPACK_IMPORTED_MODULE_1__.getBaseLayerHoverDelegate)().setupManagedHover((0,_hover_hoverDelegateFactory_js__WEBPACK_IMPORTED_MODULE_2__.getDefaultHoverDelegate)('mouse'), this._container, title);
        }
        else if (this.hover) {
            this.hover.update(title);
        }
    }
    dispose() {
        this.hover?.dispose();
    }
}



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/base/browser/ui/menu/menubar.css.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/base/browser/ui/menu/menubar.css.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ css),
/* harmony export */   "default": () => (/* binding */ css)
/* harmony export */ });
/* harmony import */ var _external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/rollup-plugin-styles/dist/runtime/inject-css.js */ "./node_modules/vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js");

var css = ".menubar{box-sizing:border-box;display:flex;flex-shrink:1;height:100%;overflow:hidden}.menubar.overflow-menu-only{width:38px}.fullscreen .menubar:not(.compact){margin:0;padding:4px 5px}.menubar>.menubar-menu-button{-webkit-app-region:no-drag;zoom:1;align-items:center;box-sizing:border-box;cursor:default;display:flex;outline:0!important;white-space:nowrap}.monaco-workbench .menubar:not(.compact)>.menubar-menu-button:focus .menubar-menu-title{outline-color:var(--vscode-focusBorder);outline-offset:-1px;outline-style:solid;outline-width:1px}.menubar.compact{flex-shrink:0;overflow:visible}.menubar.compact>.menubar-menu-button{height:100%;padding:0;width:100%}.menubar-menu-title{border-radius:5px;padding:0 8px}.menubar .menubar-menu-items-holder{left:0;opacity:1;position:fixed;z-index:2000}.menubar.compact .menubar-menu-items-holder{position:fixed}.menubar .menubar-menu-items-holder.monaco-menu-container{border:none;outline:0}.menubar .menubar-menu-items-holder.monaco-menu-container :focus{outline:0}.menubar .toolbar-toggle-more{align-items:center;display:flex;height:22px;justify-content:center;padding:0 8px;vertical-align:sub;width:22px}.menubar.compact .toolbar-toggle-more{align-items:center;cursor:pointer;display:flex;justify-content:center;left:0;position:relative;top:0;width:100%}.menubar.compact .toolbar-toggle-more:before,.menubar:not(.compact) .menubar-menu-button:first-child .toolbar-toggle-more:before{content:var(--vscode-icon-menu-content)!important;font-family:var(--vscode-icon-menu-font-family)!important}.menubar.compact>.menubar-menu-button.open .menubar-menu-title,.menubar.compact>.menubar-menu-button:focus .menubar-menu-title,.menubar.compact>.menubar-menu-button:hover .menubar-menu-title{outline-offset:-8px!important;outline-width:1px!important}";
(0,_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__["default"])(css,{});



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/base/browser/ui/menu/menubar.js":
/*!***************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/base/browser/ui/menu/menubar.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MenuBar: () => (/* binding */ MenuBar)
/* harmony export */ });
/* harmony import */ var _browser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../browser.js */ "./node_modules/vscode/vscode/src/vs/base/browser/browser.js");
/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../dom.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var _keyboardEvent_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../keyboardEvent.js */ "./node_modules/vscode/vscode/src/vs/base/browser/keyboardEvent.js");
/* harmony import */ var _mouseEvent_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../mouseEvent.js */ "./node_modules/vscode/vscode/src/vs/base/browser/mouseEvent.js");
/* harmony import */ var _touch_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../touch.js */ "./node_modules/vscode/vscode/src/vs/base/browser/touch.js");
/* harmony import */ var _menu_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./menu.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/menu/menu.js");
/* harmony import */ var _common_actions_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../common/actions.js */ "./node_modules/vscode/vscode/src/vs/base/common/actions.js");
/* harmony import */ var _common_arrays_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../common/arrays.js */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var _common_async_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../common/async.js */ "./node_modules/vscode/vscode/src/vs/base/common/async.js");
/* harmony import */ var _common_codicons_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../common/codicons.js */ "./node_modules/vscode/vscode/src/vs/base/common/codicons.js");
/* harmony import */ var _common_themables_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../common/themables.js */ "./node_modules/vscode/vscode/src/vs/base/common/themables.js");
/* harmony import */ var _common_event_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../common/event.js */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var _common_keyCodes_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../common/keyCodes.js */ "./node_modules/vscode/vscode/src/vs/base/common/keyCodes.js");
/* harmony import */ var _common_lifecycle_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _common_platform_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../common/platform.js */ "./node_modules/vscode/vscode/src/vs/base/common/platform.js");
/* harmony import */ var _common_strings_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../common/strings.js */ "./node_modules/vscode/vscode/src/vs/base/common/strings.js");
/* harmony import */ var _menubar_css_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./menubar.css.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/menu/menubar.css.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _window_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../window.js */ "./node_modules/vscode/vscode/src/vs/base/browser/window.js");



















const $ = _dom_js__WEBPACK_IMPORTED_MODULE_1__.$;
var MenubarState;
( ((function(MenubarState) {
    MenubarState[MenubarState["HIDDEN"] = 0] = "HIDDEN";
    MenubarState[MenubarState["VISIBLE"] = 1] = "VISIBLE";
    MenubarState[MenubarState["FOCUSED"] = 2] = "FOCUSED";
    MenubarState[MenubarState["OPEN"] = 3] = "OPEN";
})(MenubarState || (MenubarState = {}))));
class MenuBar extends _common_lifecycle_js__WEBPACK_IMPORTED_MODULE_13__.Disposable {
    static { this.OVERFLOW_INDEX = -1; }
    constructor(container, options, menuStyle) {
        super();
        this.container = container;
        this.options = options;
        this.menuStyle = menuStyle;
        this._mnemonicsInUse = false;
        this.openedViaKeyboard = false;
        this.awaitingAltRelease = false;
        this.ignoreNextMouseUp = false;
        this.updatePending = false;
        this.numMenusShown = 0;
        this.overflowLayoutScheduled = undefined;
        this.menuDisposables = this._register(( (new _common_lifecycle_js__WEBPACK_IMPORTED_MODULE_13__.DisposableStore())));
        this.container.setAttribute('role', 'menubar');
        if (this.isCompact) {
            this.container.classList.add('compact');
        }
        this.menus = [];
        this.mnemonics = ( (new Map()));
        this._focusState = MenubarState.VISIBLE;
        this._onVisibilityChange = this._register(( (new _common_event_js__WEBPACK_IMPORTED_MODULE_11__.Emitter())));
        this._onFocusStateChange = this._register(( (new _common_event_js__WEBPACK_IMPORTED_MODULE_11__.Emitter())));
        this.createOverflowMenu();
        this.menuUpdater = this._register(( (new _common_async_js__WEBPACK_IMPORTED_MODULE_8__.RunOnceScheduler(() => this.update(), 200))));
        this.actionRunner = this.options.actionRunner ?? this._register(( (new _common_actions_js__WEBPACK_IMPORTED_MODULE_6__.ActionRunner())));
        this._register(this.actionRunner.onWillRun(() => {
            this.setUnfocusedState();
        }));
        this._register(_dom_js__WEBPACK_IMPORTED_MODULE_1__.ModifierKeyEmitter.getInstance().event(this.onModifierKeyToggled, this));
        this._register((0,_dom_js__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(this.container, _dom_js__WEBPACK_IMPORTED_MODULE_1__.EventType.KEY_DOWN, (e) => {
            const event = ( (new _keyboardEvent_js__WEBPACK_IMPORTED_MODULE_2__.StandardKeyboardEvent(e)));
            let eventHandled = true;
            const key = !!e.key ? e.key.toLocaleLowerCase() : '';
            const tabNav = _common_platform_js__WEBPACK_IMPORTED_MODULE_14__.isMacintosh && !this.isCompact;
            if (event.equals(15 ) || (tabNav && event.equals(2  | 1024 ))) {
                this.focusPrevious();
            }
            else if (event.equals(17 ) || (tabNav && event.equals(2 ))) {
                this.focusNext();
            }
            else if (event.equals(9 ) && this.isFocused && !this.isOpen) {
                this.setUnfocusedState();
            }
            else if (!this.isOpen && !event.ctrlKey && this.options.enableMnemonics && this.mnemonicsInUse && ( (this.mnemonics.has(key)))) {
                const menuIndex = this.mnemonics.get(key);
                this.onMenuTriggered(menuIndex, false);
            }
            else {
                eventHandled = false;
            }
            if (!this.isCompact && (event.equals(2  | 1024 ) || event.equals(2 ))) {
                event.preventDefault();
            }
            if (eventHandled) {
                event.preventDefault();
                event.stopPropagation();
            }
        }));
        const window = (0,_dom_js__WEBPACK_IMPORTED_MODULE_1__.getWindow)(this.container);
        this._register((0,_dom_js__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(window, _dom_js__WEBPACK_IMPORTED_MODULE_1__.EventType.MOUSE_DOWN, () => {
            if (this.isFocused) {
                this.setUnfocusedState();
            }
        }));
        this._register((0,_dom_js__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(this.container, _dom_js__WEBPACK_IMPORTED_MODULE_1__.EventType.FOCUS_IN, (e) => {
            const event = e;
            if (event.relatedTarget) {
                if (!this.container.contains(event.relatedTarget)) {
                    this.focusToReturn = event.relatedTarget;
                }
            }
        }));
        this._register((0,_dom_js__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(this.container, _dom_js__WEBPACK_IMPORTED_MODULE_1__.EventType.FOCUS_OUT, (e) => {
            const event = e;
            if (!event.relatedTarget) {
                this.setUnfocusedState();
            }
            else if (event.relatedTarget && !this.container.contains(event.relatedTarget)) {
                this.focusToReturn = undefined;
                this.setUnfocusedState();
            }
        }));
        this._register((0,_dom_js__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(window, _dom_js__WEBPACK_IMPORTED_MODULE_1__.EventType.KEY_DOWN, (e) => {
            if (!this.options.enableMnemonics || !e.altKey || e.ctrlKey || e.defaultPrevented) {
                return;
            }
            const key = e.key.toLocaleLowerCase();
            if (!( (this.mnemonics.has(key)))) {
                return;
            }
            this.mnemonicsInUse = true;
            this.updateMnemonicVisibility(true);
            const menuIndex = this.mnemonics.get(key);
            this.onMenuTriggered(menuIndex, false);
        }));
        this.setUnfocusedState();
    }
    push(arg) {
        const menus = (0,_common_arrays_js__WEBPACK_IMPORTED_MODULE_7__.asArray)(arg);
        menus.forEach((menuBarMenu) => {
            const menuIndex = this.menus.length;
            const cleanMenuLabel = (0,_menu_js__WEBPACK_IMPORTED_MODULE_5__.cleanMnemonic)(menuBarMenu.label);
            const mnemonicMatches = _menu_js__WEBPACK_IMPORTED_MODULE_5__.MENU_MNEMONIC_REGEX.exec(menuBarMenu.label);
            if (mnemonicMatches) {
                const mnemonic = !!mnemonicMatches[1] ? mnemonicMatches[1] : mnemonicMatches[3];
                this.registerMnemonic(this.menus.length, mnemonic);
            }
            if (this.isCompact) {
                this.menus.push(menuBarMenu);
            }
            else {
                const buttonElement = $('div.menubar-menu-button', { 'role': 'menuitem', 'tabindex': -1, 'aria-label': cleanMenuLabel, 'aria-haspopup': true });
                const titleElement = $('div.menubar-menu-title', { 'role': 'none', 'aria-hidden': true });
                buttonElement.appendChild(titleElement);
                this.container.insertBefore(buttonElement, this.overflowMenu.buttonElement);
                this.updateLabels(titleElement, buttonElement, menuBarMenu.label);
                this._register((0,_dom_js__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(buttonElement, _dom_js__WEBPACK_IMPORTED_MODULE_1__.EventType.KEY_UP, (e) => {
                    const event = ( (new _keyboardEvent_js__WEBPACK_IMPORTED_MODULE_2__.StandardKeyboardEvent(e)));
                    let eventHandled = true;
                    if ((event.equals(18 ) || event.equals(3 )) && !this.isOpen) {
                        this.focusedMenu = { index: menuIndex };
                        this.openedViaKeyboard = true;
                        this.focusState = MenubarState.OPEN;
                    }
                    else {
                        eventHandled = false;
                    }
                    if (eventHandled) {
                        event.preventDefault();
                        event.stopPropagation();
                    }
                }));
                this._register(_touch_js__WEBPACK_IMPORTED_MODULE_4__.Gesture.addTarget(buttonElement));
                this._register((0,_dom_js__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(buttonElement, _touch_js__WEBPACK_IMPORTED_MODULE_4__.EventType.Tap, (e) => {
                    if (this.isOpen && this.focusedMenu && this.focusedMenu.holder && (0,_dom_js__WEBPACK_IMPORTED_MODULE_1__.isAncestor)(e.initialTarget, this.focusedMenu.holder)) {
                        return;
                    }
                    this.ignoreNextMouseUp = false;
                    this.onMenuTriggered(menuIndex, true);
                    e.preventDefault();
                    e.stopPropagation();
                }));
                this._register((0,_dom_js__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(buttonElement, _dom_js__WEBPACK_IMPORTED_MODULE_1__.EventType.MOUSE_DOWN, (e) => {
                    const mouseEvent = ( (new _mouseEvent_js__WEBPACK_IMPORTED_MODULE_3__.StandardMouseEvent((0,_dom_js__WEBPACK_IMPORTED_MODULE_1__.getWindow)(buttonElement), e)));
                    if (!mouseEvent.leftButton) {
                        e.preventDefault();
                        return;
                    }
                    if (!this.isOpen) {
                        this.ignoreNextMouseUp = true;
                        this.onMenuTriggered(menuIndex, true);
                    }
                    else {
                        this.ignoreNextMouseUp = false;
                    }
                    e.preventDefault();
                    e.stopPropagation();
                }));
                this._register((0,_dom_js__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(buttonElement, _dom_js__WEBPACK_IMPORTED_MODULE_1__.EventType.MOUSE_UP, (e) => {
                    if (e.defaultPrevented) {
                        return;
                    }
                    if (!this.ignoreNextMouseUp) {
                        if (this.isFocused) {
                            this.onMenuTriggered(menuIndex, true);
                        }
                    }
                    else {
                        this.ignoreNextMouseUp = false;
                    }
                }));
                this._register((0,_dom_js__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(buttonElement, _dom_js__WEBPACK_IMPORTED_MODULE_1__.EventType.MOUSE_ENTER, () => {
                    if (this.isOpen && !this.isCurrentMenu(menuIndex)) {
                        buttonElement.focus();
                        this.cleanupCustomMenu();
                        this.showCustomMenu(menuIndex, false);
                    }
                    else if (this.isFocused && !this.isOpen) {
                        this.focusedMenu = { index: menuIndex };
                        buttonElement.focus();
                    }
                }));
                this.menus.push({
                    label: menuBarMenu.label,
                    actions: menuBarMenu.actions,
                    buttonElement: buttonElement,
                    titleElement: titleElement
                });
            }
        });
    }
    createOverflowMenu() {
        const label = this.isCompact ? ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_17__.localize)(10666, 'Application Menu')) : ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_17__.localize)(10667, 'More'));
        const buttonElement = $('div.menubar-menu-button', { 'role': 'menuitem', 'tabindex': this.isCompact ? 0 : -1, 'aria-label': label, 'aria-haspopup': true });
        const titleElement = $('div.menubar-menu-title.toolbar-toggle-more' + _common_themables_js__WEBPACK_IMPORTED_MODULE_10__.ThemeIcon.asCSSSelector(_common_codicons_js__WEBPACK_IMPORTED_MODULE_9__.Codicon.menuBarMore), { 'role': 'none', 'aria-hidden': true });
        buttonElement.appendChild(titleElement);
        this.container.appendChild(buttonElement);
        buttonElement.style.visibility = 'hidden';
        this._register((0,_dom_js__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(buttonElement, _dom_js__WEBPACK_IMPORTED_MODULE_1__.EventType.KEY_UP, (e) => {
            const event = ( (new _keyboardEvent_js__WEBPACK_IMPORTED_MODULE_2__.StandardKeyboardEvent(e)));
            let eventHandled = true;
            const triggerKeys = [3 ];
            if (!this.isCompact) {
                triggerKeys.push(18 );
            }
            else {
                triggerKeys.push(10 );
                if (this.options.compactMode?.horizontal === _menu_js__WEBPACK_IMPORTED_MODULE_5__.HorizontalDirection.Right) {
                    triggerKeys.push(17 );
                }
                else if (this.options.compactMode?.horizontal === _menu_js__WEBPACK_IMPORTED_MODULE_5__.HorizontalDirection.Left) {
                    triggerKeys.push(15 );
                }
            }
            if ((( (triggerKeys.some(k => event.equals(k)))) && !this.isOpen)) {
                this.focusedMenu = { index: MenuBar.OVERFLOW_INDEX };
                this.openedViaKeyboard = true;
                this.focusState = MenubarState.OPEN;
            }
            else {
                eventHandled = false;
            }
            if (eventHandled) {
                event.preventDefault();
                event.stopPropagation();
            }
        }));
        this._register(_touch_js__WEBPACK_IMPORTED_MODULE_4__.Gesture.addTarget(buttonElement));
        this._register((0,_dom_js__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(buttonElement, _touch_js__WEBPACK_IMPORTED_MODULE_4__.EventType.Tap, (e) => {
            if (this.isOpen && this.focusedMenu && this.focusedMenu.holder && (0,_dom_js__WEBPACK_IMPORTED_MODULE_1__.isAncestor)(e.initialTarget, this.focusedMenu.holder)) {
                return;
            }
            this.ignoreNextMouseUp = false;
            this.onMenuTriggered(MenuBar.OVERFLOW_INDEX, true);
            e.preventDefault();
            e.stopPropagation();
        }));
        this._register((0,_dom_js__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(buttonElement, _dom_js__WEBPACK_IMPORTED_MODULE_1__.EventType.MOUSE_DOWN, (e) => {
            const mouseEvent = ( (new _mouseEvent_js__WEBPACK_IMPORTED_MODULE_3__.StandardMouseEvent((0,_dom_js__WEBPACK_IMPORTED_MODULE_1__.getWindow)(buttonElement), e)));
            if (!mouseEvent.leftButton) {
                e.preventDefault();
                return;
            }
            if (!this.isOpen) {
                this.ignoreNextMouseUp = true;
                this.onMenuTriggered(MenuBar.OVERFLOW_INDEX, true);
            }
            else {
                this.ignoreNextMouseUp = false;
            }
            e.preventDefault();
            e.stopPropagation();
        }));
        this._register((0,_dom_js__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(buttonElement, _dom_js__WEBPACK_IMPORTED_MODULE_1__.EventType.MOUSE_UP, (e) => {
            if (e.defaultPrevented) {
                return;
            }
            if (!this.ignoreNextMouseUp) {
                if (this.isFocused) {
                    this.onMenuTriggered(MenuBar.OVERFLOW_INDEX, true);
                }
            }
            else {
                this.ignoreNextMouseUp = false;
            }
        }));
        this._register((0,_dom_js__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(buttonElement, _dom_js__WEBPACK_IMPORTED_MODULE_1__.EventType.MOUSE_ENTER, () => {
            if (this.isOpen && !this.isCurrentMenu(MenuBar.OVERFLOW_INDEX)) {
                this.overflowMenu.buttonElement.focus();
                this.cleanupCustomMenu();
                this.showCustomMenu(MenuBar.OVERFLOW_INDEX, false);
            }
            else if (this.isFocused && !this.isOpen) {
                this.focusedMenu = { index: MenuBar.OVERFLOW_INDEX };
                buttonElement.focus();
            }
        }));
        this.overflowMenu = {
            buttonElement: buttonElement,
            titleElement: titleElement,
            label: 'More',
            actions: []
        };
    }
    updateMenu(menu) {
        const menuToUpdate = this.menus.filter(menuBarMenu => menuBarMenu.label === menu.label);
        if (menuToUpdate && menuToUpdate.length) {
            menuToUpdate[0].actions = menu.actions;
        }
    }
    dispose() {
        super.dispose();
        this.menus.forEach(menuBarMenu => {
            menuBarMenu.titleElement?.remove();
            menuBarMenu.buttonElement?.remove();
        });
        this.overflowMenu.titleElement.remove();
        this.overflowMenu.buttonElement.remove();
        (0,_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_13__.dispose)(this.overflowLayoutScheduled);
        this.overflowLayoutScheduled = undefined;
    }
    blur() {
        this.setUnfocusedState();
    }
    getWidth() {
        if (!this.isCompact && this.menus) {
            const left = this.menus[0].buttonElement.getBoundingClientRect().left;
            const right = this.hasOverflow ? this.overflowMenu.buttonElement.getBoundingClientRect().right : this.menus[this.menus.length - 1].buttonElement.getBoundingClientRect().right;
            return right - left;
        }
        return 0;
    }
    getHeight() {
        return this.container.clientHeight;
    }
    toggleFocus() {
        if (!this.isFocused && this.options.visibility !== 'hidden') {
            this.mnemonicsInUse = true;
            this.focusedMenu = { index: this.numMenusShown > 0 ? 0 : MenuBar.OVERFLOW_INDEX };
            this.focusState = MenubarState.FOCUSED;
        }
        else if (!this.isOpen) {
            this.setUnfocusedState();
        }
    }
    updateOverflowAction() {
        if (!this.menus || !this.menus.length) {
            return;
        }
        const overflowMenuOnlyClass = 'overflow-menu-only';
        this.container.classList.toggle(overflowMenuOnlyClass, false);
        const sizeAvailable = this.container.offsetWidth;
        let currentSize = 0;
        let full = this.isCompact;
        const prevNumMenusShown = this.numMenusShown;
        this.numMenusShown = 0;
        const showableMenus = this.menus.filter(menu => menu.buttonElement !== undefined && menu.titleElement !== undefined);
        for (const menuBarMenu of showableMenus) {
            if (!full) {
                const size = menuBarMenu.buttonElement.offsetWidth;
                if (currentSize + size > sizeAvailable) {
                    full = true;
                }
                else {
                    currentSize += size;
                    this.numMenusShown++;
                    if (this.numMenusShown > prevNumMenusShown) {
                        menuBarMenu.buttonElement.style.visibility = 'visible';
                    }
                }
            }
            if (full) {
                menuBarMenu.buttonElement.style.visibility = 'hidden';
            }
        }
        if (this.numMenusShown - 1 <= showableMenus.length / 4) {
            for (const menuBarMenu of showableMenus) {
                menuBarMenu.buttonElement.style.visibility = 'hidden';
            }
            full = true;
            this.numMenusShown = 0;
            currentSize = 0;
        }
        if (this.isCompact) {
            this.overflowMenu.actions = [];
            for (let idx = this.numMenusShown; idx < this.menus.length; idx++) {
                this.overflowMenu.actions.push(( (new _common_actions_js__WEBPACK_IMPORTED_MODULE_6__.SubmenuAction(
                    `menubar.submenu.${this.menus[idx].label}`,
                    this.menus[idx].label,
                    this.menus[idx].actions || []
                ))));
            }
            const compactMenuActions = this.options.getCompactMenuActions?.();
            if (compactMenuActions && compactMenuActions.length) {
                this.overflowMenu.actions.push(( (new _common_actions_js__WEBPACK_IMPORTED_MODULE_6__.Separator())));
                this.overflowMenu.actions.push(...compactMenuActions);
            }
            this.overflowMenu.buttonElement.style.visibility = 'visible';
        }
        else if (full) {
            while (currentSize + this.overflowMenu.buttonElement.offsetWidth > sizeAvailable && this.numMenusShown > 0) {
                this.numMenusShown--;
                const size = showableMenus[this.numMenusShown].buttonElement.offsetWidth;
                showableMenus[this.numMenusShown].buttonElement.style.visibility = 'hidden';
                currentSize -= size;
            }
            this.overflowMenu.actions = [];
            for (let idx = this.numMenusShown; idx < showableMenus.length; idx++) {
                this.overflowMenu.actions.push(( (new _common_actions_js__WEBPACK_IMPORTED_MODULE_6__.SubmenuAction(
                    `menubar.submenu.${showableMenus[idx].label}`,
                    showableMenus[idx].label,
                    showableMenus[idx].actions || []
                ))));
            }
            if (this.overflowMenu.buttonElement.nextElementSibling !== showableMenus[this.numMenusShown].buttonElement) {
                this.overflowMenu.buttonElement.remove();
                this.container.insertBefore(this.overflowMenu.buttonElement, showableMenus[this.numMenusShown].buttonElement);
            }
            this.overflowMenu.buttonElement.style.visibility = 'visible';
        }
        else {
            this.overflowMenu.buttonElement.remove();
            this.container.appendChild(this.overflowMenu.buttonElement);
            this.overflowMenu.buttonElement.style.visibility = 'hidden';
        }
        this.container.classList.toggle(overflowMenuOnlyClass, this.numMenusShown === 0);
    }
    updateLabels(titleElement, buttonElement, label) {
        const cleanMenuLabel = (0,_menu_js__WEBPACK_IMPORTED_MODULE_5__.cleanMnemonic)(label);
        if (this.options.enableMnemonics) {
            const cleanLabel = (0,_common_strings_js__WEBPACK_IMPORTED_MODULE_15__.escape)(label);
            _menu_js__WEBPACK_IMPORTED_MODULE_5__.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex = 0;
            let escMatch = _menu_js__WEBPACK_IMPORTED_MODULE_5__.MENU_ESCAPED_MNEMONIC_REGEX.exec(cleanLabel);
            while (escMatch && escMatch[1]) {
                escMatch = _menu_js__WEBPACK_IMPORTED_MODULE_5__.MENU_ESCAPED_MNEMONIC_REGEX.exec(cleanLabel);
            }
            const replaceDoubleEscapes = (str) => str.replace(/&amp;&amp;/g, '&amp;');
            if (escMatch) {
                titleElement.innerText = '';
                titleElement.append((0,_common_strings_js__WEBPACK_IMPORTED_MODULE_15__.ltrim)(replaceDoubleEscapes(cleanLabel.substr(0, escMatch.index)), ' '), $('mnemonic', { 'aria-hidden': 'true' }, escMatch[3]), (0,_common_strings_js__WEBPACK_IMPORTED_MODULE_15__.rtrim)(replaceDoubleEscapes(cleanLabel.substr(escMatch.index + escMatch[0].length)), ' '));
            }
            else {
                titleElement.innerText = replaceDoubleEscapes(cleanLabel).trim();
            }
        }
        else {
            titleElement.innerText = cleanMenuLabel.replace(/&&/g, '&');
        }
        const mnemonicMatches = _menu_js__WEBPACK_IMPORTED_MODULE_5__.MENU_MNEMONIC_REGEX.exec(label);
        if (mnemonicMatches) {
            const mnemonic = !!mnemonicMatches[1] ? mnemonicMatches[1] : mnemonicMatches[3];
            if (this.options.enableMnemonics) {
                buttonElement.setAttribute('aria-keyshortcuts', 'Alt+' + mnemonic.toLocaleLowerCase());
            }
            else {
                buttonElement.removeAttribute('aria-keyshortcuts');
            }
        }
    }
    update(options) {
        if (options) {
            this.options = options;
        }
        if (this.isFocused) {
            this.updatePending = true;
            return;
        }
        this.menus.forEach(menuBarMenu => {
            if (!menuBarMenu.buttonElement || !menuBarMenu.titleElement) {
                return;
            }
            this.updateLabels(menuBarMenu.titleElement, menuBarMenu.buttonElement, menuBarMenu.label);
        });
        if (!this.overflowLayoutScheduled) {
            this.overflowLayoutScheduled = (0,_dom_js__WEBPACK_IMPORTED_MODULE_1__.scheduleAtNextAnimationFrame)((0,_dom_js__WEBPACK_IMPORTED_MODULE_1__.getWindow)(this.container), () => {
                this.updateOverflowAction();
                this.overflowLayoutScheduled = undefined;
            });
        }
        this.setUnfocusedState();
    }
    registerMnemonic(menuIndex, mnemonic) {
        this.mnemonics.set(mnemonic.toLocaleLowerCase(), menuIndex);
    }
    hideMenubar() {
        if (this.container.style.display !== 'none') {
            this.container.style.display = 'none';
            this._onVisibilityChange.fire(false);
        }
    }
    showMenubar() {
        if (this.container.style.display !== 'flex') {
            this.container.style.display = 'flex';
            this._onVisibilityChange.fire(true);
            this.updateOverflowAction();
        }
    }
    get focusState() {
        return this._focusState;
    }
    set focusState(value) {
        if (this._focusState >= MenubarState.FOCUSED && value < MenubarState.FOCUSED) {
            if (this.updatePending) {
                this.menuUpdater.schedule();
                this.updatePending = false;
            }
        }
        if (value === this._focusState) {
            return;
        }
        const isVisible = this.isVisible;
        const isOpen = this.isOpen;
        const isFocused = this.isFocused;
        this._focusState = value;
        switch (value) {
            case MenubarState.HIDDEN:
                if (isVisible) {
                    this.hideMenubar();
                }
                if (isOpen) {
                    this.cleanupCustomMenu();
                }
                if (isFocused) {
                    this.focusedMenu = undefined;
                    if (this.focusToReturn) {
                        this.focusToReturn.focus();
                        this.focusToReturn = undefined;
                    }
                }
                break;
            case MenubarState.VISIBLE:
                if (!isVisible) {
                    this.showMenubar();
                }
                if (isOpen) {
                    this.cleanupCustomMenu();
                }
                if (isFocused) {
                    if (this.focusedMenu) {
                        if (this.focusedMenu.index === MenuBar.OVERFLOW_INDEX) {
                            this.overflowMenu.buttonElement.blur();
                        }
                        else {
                            this.menus[this.focusedMenu.index].buttonElement?.blur();
                        }
                    }
                    this.focusedMenu = undefined;
                    if (this.focusToReturn) {
                        this.focusToReturn.focus();
                        this.focusToReturn = undefined;
                    }
                }
                break;
            case MenubarState.FOCUSED:
                if (!isVisible) {
                    this.showMenubar();
                }
                if (isOpen) {
                    this.cleanupCustomMenu();
                }
                if (this.focusedMenu) {
                    if (this.focusedMenu.index === MenuBar.OVERFLOW_INDEX) {
                        this.overflowMenu.buttonElement.focus();
                    }
                    else {
                        this.menus[this.focusedMenu.index].buttonElement?.focus();
                    }
                }
                break;
            case MenubarState.OPEN:
                if (!isVisible) {
                    this.showMenubar();
                }
                if (this.focusedMenu) {
                    this.cleanupCustomMenu();
                    this.showCustomMenu(this.focusedMenu.index, this.openedViaKeyboard);
                }
                break;
        }
        this._focusState = value;
        this._onFocusStateChange.fire(this.focusState >= MenubarState.FOCUSED);
    }
    get isVisible() {
        return this.focusState >= MenubarState.VISIBLE;
    }
    get isFocused() {
        return this.focusState >= MenubarState.FOCUSED;
    }
    get isOpen() {
        return this.focusState >= MenubarState.OPEN;
    }
    get hasOverflow() {
        return this.isCompact || this.numMenusShown < this.menus.length;
    }
    get isCompact() {
        return this.options.compactMode !== undefined;
    }
    setUnfocusedState() {
        if (this.options.visibility === 'toggle' || this.options.visibility === 'hidden') {
            this.focusState = MenubarState.HIDDEN;
        }
        else if (this.options.visibility === 'classic' && (0,_browser_js__WEBPACK_IMPORTED_MODULE_0__.isFullscreen)(_window_js__WEBPACK_IMPORTED_MODULE_18__.mainWindow)) {
            this.focusState = MenubarState.HIDDEN;
        }
        else {
            this.focusState = MenubarState.VISIBLE;
        }
        this.ignoreNextMouseUp = false;
        this.mnemonicsInUse = false;
        this.updateMnemonicVisibility(false);
    }
    focusPrevious() {
        if (!this.focusedMenu || this.numMenusShown === 0) {
            return;
        }
        let newFocusedIndex = (this.focusedMenu.index - 1 + this.numMenusShown) % this.numMenusShown;
        if (this.focusedMenu.index === MenuBar.OVERFLOW_INDEX) {
            newFocusedIndex = this.numMenusShown - 1;
        }
        else if (this.focusedMenu.index === 0 && this.hasOverflow) {
            newFocusedIndex = MenuBar.OVERFLOW_INDEX;
        }
        if (newFocusedIndex === this.focusedMenu.index) {
            return;
        }
        if (this.isOpen) {
            this.cleanupCustomMenu();
            this.showCustomMenu(newFocusedIndex);
        }
        else if (this.isFocused) {
            this.focusedMenu.index = newFocusedIndex;
            if (newFocusedIndex === MenuBar.OVERFLOW_INDEX) {
                this.overflowMenu.buttonElement.focus();
            }
            else {
                this.menus[newFocusedIndex].buttonElement?.focus();
            }
        }
    }
    focusNext() {
        if (!this.focusedMenu || this.numMenusShown === 0) {
            return;
        }
        let newFocusedIndex = (this.focusedMenu.index + 1) % this.numMenusShown;
        if (this.focusedMenu.index === MenuBar.OVERFLOW_INDEX) {
            newFocusedIndex = 0;
        }
        else if (this.focusedMenu.index === this.numMenusShown - 1) {
            newFocusedIndex = MenuBar.OVERFLOW_INDEX;
        }
        if (newFocusedIndex === this.focusedMenu.index) {
            return;
        }
        if (this.isOpen) {
            this.cleanupCustomMenu();
            this.showCustomMenu(newFocusedIndex);
        }
        else if (this.isFocused) {
            this.focusedMenu.index = newFocusedIndex;
            if (newFocusedIndex === MenuBar.OVERFLOW_INDEX) {
                this.overflowMenu.buttonElement.focus();
            }
            else {
                this.menus[newFocusedIndex].buttonElement?.focus();
            }
        }
    }
    updateMnemonicVisibility(visible) {
        if (this.menus) {
            this.menus.forEach(menuBarMenu => {
                if (menuBarMenu.titleElement && menuBarMenu.titleElement.children.length) {
                    const child = menuBarMenu.titleElement.children.item(0);
                    if (child) {
                        child.style.textDecoration = (this.options.alwaysOnMnemonics || visible) ? 'underline' : '';
                    }
                }
            });
        }
    }
    get mnemonicsInUse() {
        return this._mnemonicsInUse;
    }
    set mnemonicsInUse(value) {
        this._mnemonicsInUse = value;
    }
    get shouldAltKeyFocus() {
        if (_common_platform_js__WEBPACK_IMPORTED_MODULE_14__.isMacintosh) {
            return false;
        }
        if (!this.options.disableAltFocus) {
            return true;
        }
        if (this.options.visibility === 'toggle') {
            return true;
        }
        return false;
    }
    get onVisibilityChange() {
        return this._onVisibilityChange.event;
    }
    get onFocusStateChange() {
        return this._onFocusStateChange.event;
    }
    onMenuTriggered(menuIndex, clicked) {
        if (this.isOpen) {
            if (this.isCurrentMenu(menuIndex)) {
                this.setUnfocusedState();
            }
            else {
                this.cleanupCustomMenu();
                this.showCustomMenu(menuIndex, this.openedViaKeyboard);
            }
        }
        else {
            this.focusedMenu = { index: menuIndex };
            this.openedViaKeyboard = !clicked;
            this.focusState = MenubarState.OPEN;
        }
    }
    onModifierKeyToggled(modifierKeyStatus) {
        const allModifiersReleased = !modifierKeyStatus.altKey && !modifierKeyStatus.ctrlKey && !modifierKeyStatus.shiftKey && !modifierKeyStatus.metaKey;
        if (this.options.visibility === 'hidden') {
            return;
        }
        if (modifierKeyStatus.event && this.shouldAltKeyFocus) {
            if (_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_12__.ScanCodeUtils.toEnum(modifierKeyStatus.event.code) === 159 ) {
                modifierKeyStatus.event.preventDefault();
            }
        }
        if (this.isFocused && modifierKeyStatus.lastKeyPressed === 'alt' && modifierKeyStatus.altKey) {
            this.setUnfocusedState();
            this.mnemonicsInUse = false;
            this.awaitingAltRelease = true;
        }
        if (allModifiersReleased && modifierKeyStatus.lastKeyPressed === 'alt' && modifierKeyStatus.lastKeyReleased === 'alt') {
            if (!this.awaitingAltRelease) {
                if (!this.isFocused && this.shouldAltKeyFocus) {
                    this.mnemonicsInUse = true;
                    this.focusedMenu = { index: this.numMenusShown > 0 ? 0 : MenuBar.OVERFLOW_INDEX };
                    this.focusState = MenubarState.FOCUSED;
                }
                else if (!this.isOpen) {
                    this.setUnfocusedState();
                }
            }
        }
        if (!modifierKeyStatus.altKey && modifierKeyStatus.lastKeyReleased === 'alt') {
            this.awaitingAltRelease = false;
        }
        if (this.options.enableMnemonics && this.menus && !this.isOpen) {
            this.updateMnemonicVisibility((!this.awaitingAltRelease && modifierKeyStatus.altKey) || this.mnemonicsInUse);
        }
    }
    isCurrentMenu(menuIndex) {
        if (!this.focusedMenu) {
            return false;
        }
        return this.focusedMenu.index === menuIndex;
    }
    cleanupCustomMenu() {
        if (this.focusedMenu) {
            if (this.focusedMenu.index === MenuBar.OVERFLOW_INDEX) {
                this.overflowMenu.buttonElement.focus();
            }
            else {
                this.menus[this.focusedMenu.index].buttonElement?.focus();
            }
            if (this.focusedMenu.holder) {
                this.focusedMenu.holder.parentElement?.classList.remove('open');
                this.focusedMenu.holder.remove();
            }
            this.focusedMenu.widget?.dispose();
            this.focusedMenu = { index: this.focusedMenu.index };
        }
        this.menuDisposables.clear();
    }
    showCustomMenu(menuIndex, selectFirst = true) {
        const actualMenuIndex = menuIndex >= this.numMenusShown ? MenuBar.OVERFLOW_INDEX : menuIndex;
        const customMenu = actualMenuIndex === MenuBar.OVERFLOW_INDEX ? this.overflowMenu : this.menus[actualMenuIndex];
        if (!customMenu.actions || !customMenu.buttonElement || !customMenu.titleElement) {
            return;
        }
        const menuHolder = $('div.menubar-menu-items-holder', { 'title': '' });
        customMenu.buttonElement.classList.add('open');
        const titleBoundingRect = customMenu.titleElement.getBoundingClientRect();
        const titleBoundingRectZoom = (0,_dom_js__WEBPACK_IMPORTED_MODULE_1__.getDomNodeZoomLevel)(customMenu.titleElement);
        if (this.options.compactMode?.horizontal === _menu_js__WEBPACK_IMPORTED_MODULE_5__.HorizontalDirection.Right) {
            menuHolder.style.left = `${titleBoundingRect.left + this.container.clientWidth}px`;
        }
        else if (this.options.compactMode?.horizontal === _menu_js__WEBPACK_IMPORTED_MODULE_5__.HorizontalDirection.Left) {
            const windowWidth = (0,_dom_js__WEBPACK_IMPORTED_MODULE_1__.getWindow)(this.container).innerWidth;
            menuHolder.style.right = `${windowWidth - titleBoundingRect.left}px`;
            menuHolder.style.left = 'auto';
        }
        else {
            menuHolder.style.left = `${titleBoundingRect.left * titleBoundingRectZoom}px`;
        }
        if (this.options.compactMode?.vertical === _menu_js__WEBPACK_IMPORTED_MODULE_5__.VerticalDirection.Above) {
            menuHolder.style.top = `${titleBoundingRect.top - this.menus.length * 30 + this.container.clientHeight}px`;
        }
        else if (this.options.compactMode?.vertical === _menu_js__WEBPACK_IMPORTED_MODULE_5__.VerticalDirection.Below) {
            menuHolder.style.top = `${titleBoundingRect.top}px`;
        }
        else {
            menuHolder.style.top = `${titleBoundingRect.bottom * titleBoundingRectZoom}px`;
        }
        customMenu.buttonElement.appendChild(menuHolder);
        const menuOptions = {
            getKeyBinding: this.options.getKeybinding,
            actionRunner: this.actionRunner,
            enableMnemonics: this.options.alwaysOnMnemonics || (this.mnemonicsInUse && this.options.enableMnemonics),
            ariaLabel: customMenu.buttonElement.getAttribute('aria-label') ?? undefined,
            expandDirection: this.isCompact ? this.options.compactMode : { horizontal: _menu_js__WEBPACK_IMPORTED_MODULE_5__.HorizontalDirection.Right, vertical: _menu_js__WEBPACK_IMPORTED_MODULE_5__.VerticalDirection.Below },
            useEventAsContext: true
        };
        const menuWidget = this.menuDisposables.add(( (new _menu_js__WEBPACK_IMPORTED_MODULE_5__.Menu(menuHolder, customMenu.actions, menuOptions, this.menuStyle))));
        this.menuDisposables.add(menuWidget.onDidCancel(() => {
            this.focusState = MenubarState.FOCUSED;
        }));
        if (actualMenuIndex !== menuIndex) {
            menuWidget.trigger(menuIndex - this.numMenusShown);
        }
        else {
            menuWidget.focus(selectFirst);
        }
        this.focusedMenu = {
            index: actualMenuIndex,
            holder: menuHolder,
            widget: menuWidget
        };
    }
}



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/base/browser/ui/tree/treeDefaults.js":
/*!********************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/base/browser/ui/tree/treeDefaults.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CollapseAllAction: () => (/* binding */ CollapseAllAction)
/* harmony export */ });
/* harmony import */ var _common_actions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../common/actions.js */ "./node_modules/vscode/vscode/src/vs/base/common/actions.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");


class CollapseAllAction extends _common_actions_js__WEBPACK_IMPORTED_MODULE_0__.Action {
    constructor(viewer, enabled) {
        super('vs.tree.collapse', ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(11362, "Collapse All")), 'collapse-all', enabled);
        this.viewer = viewer;
    }
    async run() {
        this.viewer.collapseAll();
        this.viewer.setSelection([]);
        this.viewer.setFocus([]);
    }
}



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/platform/backup/common/backup.js":
/*!****************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/platform/backup/common/backup.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isFolderBackupInfo: () => (/* binding */ isFolderBackupInfo),
/* harmony export */   isWorkspaceBackupInfo: () => (/* binding */ isWorkspaceBackupInfo)
/* harmony export */ });
function isFolderBackupInfo(curr) {
    return curr && curr.hasOwnProperty('folderUri');
}
function isWorkspaceBackupInfo(curr) {
    return curr && curr.hasOwnProperty('workspace');
}



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/platform/languagePacks/common/localizedStrings.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/platform/languagePacks/common/localizedStrings.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ localizedStrings)
/* harmony export */ });
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");

const open = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(10984, 'open'));
const close = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(10985, 'close'));
const find = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(10986, 'find'));
var localizedStrings = {
    open: open,
    close: close,
    find: find
};



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/actions/layoutActions.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/actions/layoutActions.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ConfigureEditorAction: () => (/* binding */ ConfigureEditorAction),
/* harmony export */   ConfigureEditorTabsAction: () => (/* binding */ ConfigureEditorTabsAction),
/* harmony export */   EditorActionsDefaultAction: () => (/* binding */ EditorActionsDefaultAction),
/* harmony export */   EditorActionsTitleBarAction: () => (/* binding */ EditorActionsTitleBarAction),
/* harmony export */   HideEditorActionsAction: () => (/* binding */ HideEditorActionsAction),
/* harmony export */   HideEditorTabsAction: () => (/* binding */ HideEditorTabsAction),
/* harmony export */   ShowEditorActionsAction: () => (/* binding */ ShowEditorActionsAction),
/* harmony export */   ShowMultipleEditorTabsAction: () => (/* binding */ ShowMultipleEditorTabsAction),
/* harmony export */   ShowSingleEditorTabAction: () => (/* binding */ ShowSingleEditorTabAction),
/* harmony export */   ToggleActivityBarVisibilityActionId: () => (/* binding */ ToggleActivityBarVisibilityActionId),
/* harmony export */   ToggleSidebarPositionAction: () => (/* binding */ ToggleSidebarPositionAction),
/* harmony export */   ToggleStatusbarVisibilityAction: () => (/* binding */ ToggleStatusbarVisibilityAction),
/* harmony export */   ZenHideEditorTabsAction: () => (/* binding */ ZenHideEditorTabsAction),
/* harmony export */   ZenShowMultipleEditorTabsAction: () => (/* binding */ ZenShowMultipleEditorTabsAction),
/* harmony export */   ZenShowSingleEditorTabAction: () => (/* binding */ ZenShowSingleEditorTabAction)
/* harmony export */ });
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../platform/actions/common/actions.js */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../platform/action/common/actionCommonCategories.js */ "./node_modules/vscode/vscode/src/vs/platform/action/common/actionCommonCategories.js");
/* harmony import */ var _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../platform/configuration/common/configuration.service.js */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var _services_layout_browser_layoutService_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/layout/browser/layoutService.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/layout/browser/layoutService.js");
/* harmony import */ var _services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/layout/browser/layoutService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/layout/browser/layoutService.service.js");
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../platform/instantiation/common/instantiation.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var _base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../base/common/keyCodes.js */ "./node_modules/vscode/vscode/src/vs/base/common/keyCodes.js");
/* harmony import */ var _base_common_platform_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../base/common/platform.js */ "./node_modules/vscode/vscode/src/vs/base/common/platform.js");
/* harmony import */ var _platform_contextkey_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../platform/contextkey/common/contextkeys.js */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkeys.js");
/* harmony import */ var _platform_keybinding_common_keybindingsRegistry_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../platform/keybinding/common/keybindingsRegistry.js */ "./node_modules/vscode/vscode/src/vs/platform/keybinding/common/keybindingsRegistry.js");
/* harmony import */ var _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../platform/contextkey/common/contextkey.js */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.js");
/* harmony import */ var _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../platform/contextkey/common/contextkey.service.js */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var _common_views_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../common/views.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/views.js");
/* harmony import */ var _common_views_service_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../common/views.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/views.service.js");
/* harmony import */ var _services_views_common_viewsService_service_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../services/views/common/viewsService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/views/common/viewsService.service.js");
/* harmony import */ var _platform_quickinput_common_quickInput_service_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../platform/quickinput/common/quickInput.service.js */ "./node_modules/vscode/vscode/src/vs/platform/quickinput/common/quickInput.service.js");
/* harmony import */ var _platform_dialogs_common_dialogs_service_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../platform/dialogs/common/dialogs.service.js */ "./node_modules/vscode/vscode/src/vs/platform/dialogs/common/dialogs.service.js");
/* harmony import */ var _services_panecomposite_browser_panecomposite_service_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../services/panecomposite/browser/panecomposite.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/panecomposite/browser/panecomposite.service.js");
/* harmony import */ var _parts_auxiliarybar_auxiliaryBarActions_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../parts/auxiliarybar/auxiliaryBarActions.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/auxiliarybar/auxiliaryBarActions.js");
/* harmony import */ var _parts_panel_panelActions_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../parts/panel/panelActions.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/panel/panelActions.js");
/* harmony import */ var _platform_commands_common_commands_service_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../platform/commands/common/commands.service.js */ "./node_modules/vscode/vscode/src/vs/platform/commands/common/commands.service.js");
/* harmony import */ var _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../common/contextkeys.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/contextkeys.js");
/* harmony import */ var _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../base/common/codicons.js */ "./node_modules/vscode/vscode/src/vs/base/common/codicons.js");
/* harmony import */ var _base_common_themables_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../base/common/themables.js */ "./node_modules/vscode/vscode/src/vs/base/common/themables.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../platform/theme/common/iconRegistry.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/iconRegistry.js");
/* harmony import */ var _base_browser_window_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../base/browser/window.js */ "./node_modules/vscode/vscode/src/vs/base/browser/window.js");
/* harmony import */ var _platform_keybinding_common_keybinding_service_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../platform/keybinding/common/keybinding.service.js */ "./node_modules/vscode/vscode/src/vs/platform/keybinding/common/keybinding.service.js");
/* harmony import */ var _services_preferences_common_preferences_service_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../services/preferences/common/preferences.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/preferences/common/preferences.service.js");






























const menubarIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_26__.registerIcon)('menuBar', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_23__.Codicon.layoutMenubar, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6757, "Represents the menu bar")));
const activityBarLeftIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_26__.registerIcon)('activity-bar-left', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_23__.Codicon.layoutActivitybarLeft, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6758, "Represents the activity bar in the left position")));
const activityBarRightIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_26__.registerIcon)('activity-bar-right', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_23__.Codicon.layoutActivitybarRight, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6759, "Represents the activity bar in the right position")));
const panelLeftIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_26__.registerIcon)('panel-left', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_23__.Codicon.layoutSidebarLeft, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6760, "Represents a side bar in the left position")));
const panelLeftOffIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_26__.registerIcon)('panel-left-off', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_23__.Codicon.layoutSidebarLeftOff, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6761, "Represents a side bar in the left position toggled off")));
const panelRightIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_26__.registerIcon)('panel-right', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_23__.Codicon.layoutSidebarRight, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6762, "Represents side bar in the right position")));
const panelRightOffIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_26__.registerIcon)('panel-right-off', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_23__.Codicon.layoutSidebarRightOff, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6763, "Represents side bar in the right position toggled off")));
const panelIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_26__.registerIcon)('panel-bottom', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_23__.Codicon.layoutPanel, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6764, "Represents the bottom panel")));
const statusBarIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_26__.registerIcon)('statusBar', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_23__.Codicon.layoutStatusbar, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6765, "Represents the status bar")));
const panelAlignmentLeftIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_26__.registerIcon)('panel-align-left', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_23__.Codicon.layoutPanelLeft, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6766, "Represents the bottom panel alignment set to the left")));
const panelAlignmentRightIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_26__.registerIcon)('panel-align-right', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_23__.Codicon.layoutPanelRight, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6767, "Represents the bottom panel alignment set to the right")));
const panelAlignmentCenterIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_26__.registerIcon)('panel-align-center', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_23__.Codicon.layoutPanelCenter, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6768, "Represents the bottom panel alignment set to the center")));
const panelAlignmentJustifyIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_26__.registerIcon)('panel-align-justify', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_23__.Codicon.layoutPanelJustify, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6769, "Represents the bottom panel alignment set to justified")));
const fullscreenIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_26__.registerIcon)('fullscreen', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_23__.Codicon.screenFull, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6770, "Represents full screen")));
const centerLayoutIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_26__.registerIcon)('centerLayoutIcon', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_23__.Codicon.layoutCentered, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6771, "Represents centered layout mode")));
const zenModeIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_26__.registerIcon)('zenMode', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_23__.Codicon.target, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6772, "Represents zen mode")));
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(class extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.closeSidebar',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6773, 'Close Primary Side Bar')),
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_2__.Categories.View,
            f1: true
        });
    }
    run(accessor) {
        accessor.get(_services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_5__.IWorkbenchLayoutService).setPartHidden(true, "workbench.parts.sidebar" );
    }
});
const ToggleActivityBarVisibilityActionId = 'workbench.action.toggleActivityBarVisibility';
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(class extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.toggleCenteredLayout',
            title: {
                ...( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6774, "Toggle Centered Layout")),
                mnemonicTitle: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6775, "&&Centered Layout")),
            },
            precondition: ( (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.IsAuxiliaryWindowFocusedContext.toNegated())),
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_2__.Categories.View,
            f1: true,
            toggled: _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.IsMainEditorCenteredLayoutContext,
            menu: [{
                    id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuId.MenubarAppearanceMenu,
                    group: '1_toggle_view',
                    order: 3
                }]
        });
    }
    run(accessor) {
        const layoutService = accessor.get(_services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_5__.IWorkbenchLayoutService);
        layoutService.centerMainEditorLayout(!layoutService.isMainEditorLayoutCentered());
    }
});
const sidebarPositionConfigurationKey = 'workbench.sideBar.location';
class MoveSidebarPositionAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.Action2 {
    constructor(id, title, position) {
        super({
            id,
            title,
            f1: false
        });
        this.position = position;
    }
    async run(accessor) {
        const layoutService = accessor.get(_services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_5__.IWorkbenchLayoutService);
        const configurationService = accessor.get(_platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_3__.IConfigurationService);
        const position = layoutService.getSideBarPosition();
        if (position !== this.position) {
            return configurationService.updateValue(sidebarPositionConfigurationKey, (0,_services_layout_browser_layoutService_js__WEBPACK_IMPORTED_MODULE_4__.positionToString)(this.position));
        }
    }
}
class MoveSidebarRightAction extends MoveSidebarPositionAction {
    static { this.ID = 'workbench.action.moveSideBarRight'; }
    constructor() {
        super(MoveSidebarRightAction.ID, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6776, "Move Primary Side Bar Right")), 1 );
    }
}
class MoveSidebarLeftAction extends MoveSidebarPositionAction {
    static { this.ID = 'workbench.action.moveSideBarLeft'; }
    constructor() {
        super(MoveSidebarLeftAction.ID, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6777, "Move Primary Side Bar Left")), 0 );
    }
}
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(MoveSidebarRightAction);
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(MoveSidebarLeftAction);
class ToggleSidebarPositionAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.Action2 {
    static { this.ID = 'workbench.action.toggleSidebarPosition'; }
    static { this.LABEL = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6778, "Toggle Primary Side Bar Position")); }
    static getLabel(layoutService) {
        return layoutService.getSideBarPosition() === 0  ? ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6776, "Move Primary Side Bar Right")) : ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6777, "Move Primary Side Bar Left"));
    }
    constructor() {
        super({
            id: ToggleSidebarPositionAction.ID,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6778, "Toggle Primary Side Bar Position")),
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_2__.Categories.View,
            f1: true
        });
    }
    run(accessor) {
        const layoutService = accessor.get(_services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_5__.IWorkbenchLayoutService);
        const configurationService = accessor.get(_platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_3__.IConfigurationService);
        const position = layoutService.getSideBarPosition();
        const newPositionValue = ((position === 0) ) ? 'right' : 'left';
        return configurationService.updateValue(sidebarPositionConfigurationKey, newPositionValue);
    }
}
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(ToggleSidebarPositionAction);
const configureLayoutIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_26__.registerIcon)('configure-layout-icon', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_23__.Codicon.layout, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6779, 'Icon represents workbench layout configuration.')));
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuId.LayoutControlMenu, {
    submenu: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuId.LayoutControlMenuSubmenu,
    title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6780, "Configure Layout")),
    icon: configureLayoutIcon,
    group: '1_workbench_layout',
    when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals('config.workbench.layoutControl.type', 'menu')))
});
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuRegistry.appendMenuItems([{
        id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuId.ViewContainerTitleContext,
        item: {
            group: '3_workbench_layout_move',
            command: {
                id: ToggleSidebarPositionAction.ID,
                title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6781, "Move Primary Side Bar Right"))
            },
            when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.and(
                 (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.notEquals('config.workbench.sideBar.location', 'right')),
                 (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals(
                    'viewContainerLocation',
                    (0,_common_views_js__WEBPACK_IMPORTED_MODULE_13__.ViewContainerLocationToString)(0 )
                ))
            ))),
            order: 1
        }
    }, {
        id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuId.ViewTitleContext,
        item: {
            group: '3_workbench_layout_move',
            command: {
                id: ToggleSidebarPositionAction.ID,
                title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6782, "Move Primary Side Bar Right"))
            },
            when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.and(
                 (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.notEquals('config.workbench.sideBar.location', 'right')),
                 (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals(
                    'viewLocation',
                    (0,_common_views_js__WEBPACK_IMPORTED_MODULE_13__.ViewContainerLocationToString)(0 )
                ))
            ))),
            order: 1
        }
    }, {
        id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuId.ViewContainerTitleContext,
        item: {
            group: '3_workbench_layout_move',
            command: {
                id: ToggleSidebarPositionAction.ID,
                title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6783, "Move Primary Side Bar Left"))
            },
            when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.and(
                 (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals('config.workbench.sideBar.location', 'right')),
                 (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals(
                    'viewContainerLocation',
                    (0,_common_views_js__WEBPACK_IMPORTED_MODULE_13__.ViewContainerLocationToString)(0 )
                ))
            ))),
            order: 1
        }
    }, {
        id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuId.ViewTitleContext,
        item: {
            group: '3_workbench_layout_move',
            command: {
                id: ToggleSidebarPositionAction.ID,
                title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6783, "Move Primary Side Bar Left"))
            },
            when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.and(
                 (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals('config.workbench.sideBar.location', 'right')),
                 (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals(
                    'viewLocation',
                    (0,_common_views_js__WEBPACK_IMPORTED_MODULE_13__.ViewContainerLocationToString)(0 )
                ))
            ))),
            order: 1
        }
    }, {
        id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuId.ViewTitleContext,
        item: {
            group: '3_workbench_layout_move',
            command: {
                id: ToggleSidebarPositionAction.ID,
                title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6784, "Move Secondary Side Bar Left"))
            },
            when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.and(
                 (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.notEquals('config.workbench.sideBar.location', 'right')),
                 (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals(
                    'viewLocation',
                    (0,_common_views_js__WEBPACK_IMPORTED_MODULE_13__.ViewContainerLocationToString)(2 )
                ))
            ))),
            order: 1
        }
    }, {
        id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuId.ViewTitleContext,
        item: {
            group: '3_workbench_layout_move',
            command: {
                id: ToggleSidebarPositionAction.ID,
                title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6785, "Move Secondary Side Bar Right"))
            },
            when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.and(
                 (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals('config.workbench.sideBar.location', 'right')),
                 (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals(
                    'viewLocation',
                    (0,_common_views_js__WEBPACK_IMPORTED_MODULE_13__.ViewContainerLocationToString)(2 )
                ))
            ))),
            order: 1
        }
    }]);
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuId.MenubarAppearanceMenu, {
    group: '3_workbench_layout_move',
    command: {
        id: ToggleSidebarPositionAction.ID,
        title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6786, "&&Move Primary Side Bar Right"))
    },
    when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.notEquals('config.workbench.sideBar.location', 'right'))),
    order: 2
});
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuId.MenubarAppearanceMenu, {
    group: '3_workbench_layout_move',
    command: {
        id: ToggleSidebarPositionAction.ID,
        title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6787, "&&Move Primary Side Bar Left"))
    },
    when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals('config.workbench.sideBar.location', 'right'))),
    order: 2
});
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(class extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.toggleEditorVisibility',
            title: {
                ...( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6788, "Toggle Editor Area Visibility")),
                mnemonicTitle: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6789, "Show &&Editor Area")),
            },
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_2__.Categories.View,
            f1: true,
            toggled: _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.MainEditorAreaVisibleContext,
            precondition: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.and(
                 (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.IsAuxiliaryWindowFocusedContext.toNegated()),
                 (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.or(
                     (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.PanelAlignmentContext.isEqualTo('center')),
                     (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.PanelPositionContext.notEqualsTo('bottom'))
                ))
            )))
        });
    }
    run(accessor) {
        accessor.get(_services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_5__.IWorkbenchLayoutService).toggleMaximizedPanel();
    }
});
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuId.MenubarViewMenu, {
    group: '2_appearance',
    title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6790, "&&Appearance")),
    submenu: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuId.MenubarAppearanceMenu,
    order: 1
});
class ToggleSidebarVisibilityAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.Action2 {
    static { this.ID = 'workbench.action.toggleSidebarVisibility'; }
    constructor() {
        super({
            id: ToggleSidebarVisibilityAction.ID,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6791, 'Toggle Primary Side Bar Visibility')),
            toggled: {
                condition: _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.SideBarVisibleContext,
                title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6792, "Primary Side Bar")),
                mnemonicTitle: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6793, "&&Primary Side Bar")),
            },
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_2__.Categories.View,
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: 2048  | 32
            },
            menu: [
                {
                    id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuId.LayoutControlMenuSubmenu,
                    group: '0_workbench_layout',
                    order: 0
                },
                {
                    id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuId.MenubarAppearanceMenu,
                    group: '2_workbench_layout',
                    order: 1
                }
            ]
        });
    }
    run(accessor) {
        const layoutService = accessor.get(_services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_5__.IWorkbenchLayoutService);
        layoutService.setPartHidden(layoutService.isVisible("workbench.parts.sidebar" ), "workbench.parts.sidebar" );
    }
}
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(ToggleSidebarVisibilityAction);
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuRegistry.appendMenuItems([
    {
        id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuId.ViewContainerTitleContext,
        item: {
            group: '3_workbench_layout_move',
            command: {
                id: ToggleSidebarVisibilityAction.ID,
                title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6794, "Hide Primary Side Bar")),
            },
            when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.and(_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.SideBarVisibleContext,  (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals(
                'viewContainerLocation',
                (0,_common_views_js__WEBPACK_IMPORTED_MODULE_13__.ViewContainerLocationToString)(0 )
            ))))),
            order: 2
        }
    }, {
        id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuId.ViewTitleContext,
        item: {
            group: '3_workbench_layout_move',
            command: {
                id: ToggleSidebarVisibilityAction.ID,
                title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6794, "Hide Primary Side Bar")),
            },
            when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.and(_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.SideBarVisibleContext,  (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals(
                'viewLocation',
                (0,_common_views_js__WEBPACK_IMPORTED_MODULE_13__.ViewContainerLocationToString)(0 )
            ))))),
            order: 2
        }
    }, {
        id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuId.LayoutControlMenu,
        item: {
            group: '0_workbench_toggles',
            command: {
                id: ToggleSidebarVisibilityAction.ID,
                title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6795, "Toggle Primary Side Bar")),
                icon: panelLeftOffIcon,
                toggled: { condition: _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.SideBarVisibleContext, icon: panelLeftIcon }
            },
            when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.and( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.or(
                 (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals('config.workbench.layoutControl.type', 'toggles')),
                 (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals('config.workbench.layoutControl.type', 'both'))
            )),  (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals('config.workbench.sideBar.location', 'left'))))),
            order: 0
        }
    }, {
        id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuId.LayoutControlMenu,
        item: {
            group: '0_workbench_toggles',
            command: {
                id: ToggleSidebarVisibilityAction.ID,
                title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6795, "Toggle Primary Side Bar")),
                icon: panelRightOffIcon,
                toggled: { condition: _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.SideBarVisibleContext, icon: panelRightIcon }
            },
            when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.and( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.or(
                 (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals('config.workbench.layoutControl.type', 'toggles')),
                 (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals('config.workbench.layoutControl.type', 'both'))
            )),  (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals('config.workbench.sideBar.location', 'right'))))),
            order: 2
        }
    }
]);
class ToggleStatusbarVisibilityAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.Action2 {
    static { this.ID = 'workbench.action.toggleStatusbarVisibility'; }
    static { this.statusbarVisibleKey = 'workbench.statusBar.visible'; }
    constructor() {
        super({
            id: ToggleStatusbarVisibilityAction.ID,
            title: {
                ...( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6796, "Toggle Status Bar Visibility")),
                mnemonicTitle: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6797, "S&&tatus Bar")),
            },
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_2__.Categories.View,
            f1: true,
            toggled: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals('config.workbench.statusBar.visible', true))),
            menu: [{
                    id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuId.MenubarAppearanceMenu,
                    group: '2_workbench_layout',
                    order: 3
                }]
        });
    }
    run(accessor) {
        const layoutService = accessor.get(_services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_5__.IWorkbenchLayoutService);
        const configurationService = accessor.get(_platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_3__.IConfigurationService);
        const visibility = layoutService.isVisible("workbench.parts.statusbar" , _base_browser_window_js__WEBPACK_IMPORTED_MODULE_27__.mainWindow);
        const newVisibilityValue = !visibility;
        return configurationService.updateValue(ToggleStatusbarVisibilityAction.statusbarVisibleKey, newVisibilityValue);
    }
}
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(ToggleStatusbarVisibilityAction);
class AbstractSetShowTabsAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.Action2 {
    constructor(settingName, value, title, id, precondition, description) {
        super({
            id,
            title,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_2__.Categories.View,
            precondition,
            metadata: description ? { description } : undefined,
            f1: true
        });
        this.settingName = settingName;
        this.value = value;
    }
    run(accessor) {
        const configurationService = accessor.get(_platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_3__.IConfigurationService);
        return configurationService.updateValue(this.settingName, this.value);
    }
}
class HideEditorTabsAction extends AbstractSetShowTabsAction {
    static { this.ID = 'workbench.action.hideEditorTabs'; }
    constructor() {
        const precondition = ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.and( (( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals(
            `config.${"workbench.editor.showTabs" }`,
            "none"
        ))).negate()),  (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.InEditorZenModeContext.negate()))));
        const title = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6798, 'Hide Editor Tabs'));
        super("workbench.editor.showTabs" , "none" , title, HideEditorTabsAction.ID, precondition, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6799, "Hide Tab Bar")));
    }
}
class ZenHideEditorTabsAction extends AbstractSetShowTabsAction {
    static { this.ID = 'workbench.action.zenHideEditorTabs'; }
    constructor() {
        const precondition = ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.and( (( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals(
            `config.${"zenMode.showTabs" }`,
            "none"
        ))).negate()), _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.InEditorZenModeContext)));
        const title = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6800, 'Hide Editor Tabs in Zen Mode'));
        super("zenMode.showTabs" , "none" , title, ZenHideEditorTabsAction.ID, precondition, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6801, "Hide Tab Bar in Zen Mode")));
    }
}
class ShowMultipleEditorTabsAction extends AbstractSetShowTabsAction {
    static { this.ID = 'workbench.action.showMultipleEditorTabs'; }
    constructor() {
        const precondition = ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.and( (( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals(
            `config.${"workbench.editor.showTabs" }`,
            "multiple"
        ))).negate()),  (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.InEditorZenModeContext.negate()))));
        const title = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6802, 'Show Multiple Editor Tabs'));
        super("workbench.editor.showTabs" , "multiple" , title, ShowMultipleEditorTabsAction.ID, precondition, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6803, "Show Tab Bar with multiple tabs")));
    }
}
class ZenShowMultipleEditorTabsAction extends AbstractSetShowTabsAction {
    static { this.ID = 'workbench.action.zenShowMultipleEditorTabs'; }
    constructor() {
        const precondition = ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.and( (( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals(
            `config.${"zenMode.showTabs" }`,
            "multiple"
        ))).negate()), _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.InEditorZenModeContext)));
        const title = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6804, 'Show Multiple Editor Tabs in Zen Mode'));
        super("zenMode.showTabs" , "multiple" , title, ZenShowMultipleEditorTabsAction.ID, precondition, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6805, "Show Tab Bar in Zen Mode")));
    }
}
class ShowSingleEditorTabAction extends AbstractSetShowTabsAction {
    static { this.ID = 'workbench.action.showEditorTab'; }
    constructor() {
        const precondition = ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.and( (( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals(
            `config.${"workbench.editor.showTabs" }`,
            "single"
        ))).negate()),  (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.InEditorZenModeContext.negate()))));
        const title = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6806, 'Show Single Editor Tab'));
        super("workbench.editor.showTabs" , "single" , title, ShowSingleEditorTabAction.ID, precondition, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6807, "Show Tab Bar with one Tab")));
    }
}
class ZenShowSingleEditorTabAction extends AbstractSetShowTabsAction {
    static { this.ID = 'workbench.action.zenShowEditorTab'; }
    constructor() {
        const precondition = ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.and( (( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals(
            `config.${"zenMode.showTabs" }`,
            "single"
        ))).negate()), _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.InEditorZenModeContext)));
        const title = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6808, 'Show Single Editor Tab in Zen Mode'));
        super("zenMode.showTabs" , "single" , title, ZenShowSingleEditorTabAction.ID, precondition, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6809, "Show Tab Bar in Zen Mode with one Tab")));
    }
}
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(HideEditorTabsAction);
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(ZenHideEditorTabsAction);
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(ShowMultipleEditorTabsAction);
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(ZenShowMultipleEditorTabsAction);
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(ShowSingleEditorTabAction);
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(ZenShowSingleEditorTabAction);
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuId.MenubarAppearanceMenu, {
    submenu: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuId.EditorTabsBarShowTabsSubmenu,
    title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6810, "Tab Bar")),
    group: '3_workbench_layout_move',
    order: 10,
    when: ( (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.InEditorZenModeContext.negate()))
});
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuId.MenubarAppearanceMenu, {
    submenu: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuId.EditorTabsBarShowTabsZenModeSubmenu,
    title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6810, "Tab Bar")),
    group: '3_workbench_layout_move',
    order: 10,
    when: _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.InEditorZenModeContext
});
class EditorActionsTitleBarAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.Action2 {
    static { this.ID = 'workbench.action.editorActionsTitleBar'; }
    constructor() {
        super({
            id: EditorActionsTitleBarAction.ID,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6811, "Move Editor Actions to Title Bar")),
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_2__.Categories.View,
            precondition: ( (( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals(
                `config.${"workbench.editor.editorActionsLocation" }`,
                "titleBar"
            ))).negate())),
            metadata: { description: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6812, "Move Editor Actions from the tab bar to the title bar")) },
            f1: true
        });
    }
    run(accessor) {
        const configurationService = accessor.get(_platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_3__.IConfigurationService);
        return configurationService.updateValue("workbench.editor.editorActionsLocation" , "titleBar" );
    }
}
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(EditorActionsTitleBarAction);
class EditorActionsDefaultAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.Action2 {
    static { this.ID = 'workbench.action.editorActionsDefault'; }
    constructor() {
        super({
            id: EditorActionsDefaultAction.ID,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6813, "Move Editor Actions to Tab Bar")),
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_2__.Categories.View,
            precondition: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.and( (( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals(
                `config.${"workbench.editor.editorActionsLocation" }`,
                "default"
            ))).negate()),  (( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals(
                `config.${"workbench.editor.showTabs" }`,
                "none"
            ))).negate())))),
            metadata: { description: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6814, "Move Editor Actions from the title bar to the tab bar")) },
            f1: true
        });
    }
    run(accessor) {
        const configurationService = accessor.get(_platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_3__.IConfigurationService);
        return configurationService.updateValue("workbench.editor.editorActionsLocation" , "default" );
    }
}
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(EditorActionsDefaultAction);
class HideEditorActionsAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.Action2 {
    static { this.ID = 'workbench.action.hideEditorActions'; }
    constructor() {
        super({
            id: HideEditorActionsAction.ID,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6815, "Hide Editor Actions")),
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_2__.Categories.View,
            precondition: ( (( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals(
                `config.${"workbench.editor.editorActionsLocation" }`,
                "hidden"
            ))).negate())),
            metadata: { description: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6816, "Hide Editor Actions in the tab and title bar")) },
            f1: true
        });
    }
    run(accessor) {
        const configurationService = accessor.get(_platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_3__.IConfigurationService);
        return configurationService.updateValue("workbench.editor.editorActionsLocation" , "hidden" );
    }
}
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(HideEditorActionsAction);
class ShowEditorActionsAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.Action2 {
    static { this.ID = 'workbench.action.showEditorActions'; }
    constructor() {
        super({
            id: ShowEditorActionsAction.ID,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6817, "Show Editor Actions")),
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_2__.Categories.View,
            precondition: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals(
                `config.${"workbench.editor.editorActionsLocation" }`,
                "hidden"
            ))),
            metadata: { description: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6818, "Make Editor Actions visible.")) },
            f1: true
        });
    }
    run(accessor) {
        const configurationService = accessor.get(_platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_3__.IConfigurationService);
        return configurationService.updateValue("workbench.editor.editorActionsLocation" , "default" );
    }
}
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(ShowEditorActionsAction);
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuId.MenubarAppearanceMenu, {
    submenu: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuId.EditorActionsPositionSubmenu,
    title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6819, "Editor Actions Position")),
    group: '3_workbench_layout_move',
    order: 11
});
class ConfigureEditorTabsAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.Action2 {
    static { this.ID = 'workbench.action.configureEditorTabs'; }
    constructor() {
        super({
            id: ConfigureEditorTabsAction.ID,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6820, "Configure Tabs")),
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_2__.Categories.View,
        });
    }
    run(accessor) {
        const preferencesService = accessor.get(_services_preferences_common_preferences_service_js__WEBPACK_IMPORTED_MODULE_29__.IPreferencesService);
        preferencesService.openSettings({ jsonEditor: false, query: 'workbench.editor tab' });
    }
}
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(ConfigureEditorTabsAction);
class ConfigureEditorAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.Action2 {
    static { this.ID = 'workbench.action.configureEditor'; }
    constructor() {
        super({
            id: ConfigureEditorAction.ID,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6821, "Configure Editors")),
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_2__.Categories.View,
        });
    }
    run(accessor) {
        const preferencesService = accessor.get(_services_preferences_common_preferences_service_js__WEBPACK_IMPORTED_MODULE_29__.IPreferencesService);
        preferencesService.openSettings({ jsonEditor: false, query: 'workbench.editor' });
    }
}
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(ConfigureEditorAction);
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(class extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.toggleSeparatePinnedEditorTabs',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6822, "Separate Pinned Editor Tabs")),
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_2__.Categories.View,
            precondition: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals(
                `config.${"workbench.editor.showTabs" }`,
                "multiple"
            ))),
            metadata: { description: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(
                6823,
                "Toggle whether pinned editor tabs are shown on a separate row above unpinned tabs."
            )) },
            f1: true
        });
    }
    run(accessor) {
        const configurationService = accessor.get(_platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_3__.IConfigurationService);
        const oldettingValue = configurationService.getValue('workbench.editor.pinnedTabsOnSeparateRow');
        const newSettingValue = !oldettingValue;
        return configurationService.updateValue('workbench.editor.pinnedTabsOnSeparateRow', newSettingValue);
    }
});
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(class extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.toggleZenMode',
            title: {
                ...( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6824, "Toggle Zen Mode")),
                mnemonicTitle: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6825, "Zen Mode")),
            },
            precondition: ( (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.IsAuxiliaryWindowFocusedContext.toNegated())),
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_2__.Categories.View,
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: (0,_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_7__.KeyChord)(2048  | 41 , 56 )
            },
            toggled: _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.InEditorZenModeContext,
            menu: [{
                    id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuId.MenubarAppearanceMenu,
                    group: '1_toggle_view',
                    order: 2
                }]
        });
    }
    run(accessor) {
        return accessor.get(_services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_5__.IWorkbenchLayoutService).toggleZenMode();
    }
});
_platform_keybinding_common_keybindingsRegistry_js__WEBPACK_IMPORTED_MODULE_10__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'workbench.action.exitZenMode',
    weight: 100  - 1000,
    handler(accessor) {
        const layoutService = accessor.get(_services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_5__.IWorkbenchLayoutService);
        const contextKeyService = accessor.get(_platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_12__.IContextKeyService);
        if (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.InEditorZenModeContext.getValue(contextKeyService)) {
            layoutService.toggleZenMode();
        }
    },
    when: _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.InEditorZenModeContext,
    primary: (0,_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_7__.KeyChord)(9 , 9 )
});
if (_base_common_platform_js__WEBPACK_IMPORTED_MODULE_8__.isWindows || _base_common_platform_js__WEBPACK_IMPORTED_MODULE_8__.isLinux || _base_common_platform_js__WEBPACK_IMPORTED_MODULE_8__.isWeb) {
    (0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(class ToggleMenubarAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.Action2 {
        constructor() {
            super({
                id: 'workbench.action.toggleMenuBar',
                title: {
                    ...( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6826, "Toggle Menu Bar")),
                    mnemonicTitle: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6827, "Menu &&Bar")),
                },
                category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_2__.Categories.View,
                f1: true,
                toggled: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.and(
                     (_platform_contextkey_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_9__.IsMacNativeContext.toNegated()),
                     (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.notEquals('config.window.menuBarVisibility', 'hidden')),
                     (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.notEquals('config.window.menuBarVisibility', 'toggle')),
                     (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.notEquals('config.window.menuBarVisibility', 'compact'))
                ))),
                menu: [{
                        id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuId.MenubarAppearanceMenu,
                        group: '2_workbench_layout',
                        order: 0
                    }]
            });
        }
        run(accessor) {
            return accessor.get(_services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_5__.IWorkbenchLayoutService).toggleMenuBar();
        }
    });
    for (const menuId of [_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuId.TitleBarContext, _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuId.TitleBarTitleContext]) {
        _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuRegistry.appendMenuItem(menuId, {
            command: {
                id: 'workbench.action.toggleMenuBar',
                title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6828, "Menu Bar")),
                toggled: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.and(
                     (_platform_contextkey_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_9__.IsMacNativeContext.toNegated()),
                     (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.notEquals('config.window.menuBarVisibility', 'hidden')),
                     (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.notEquals('config.window.menuBarVisibility', 'toggle')),
                     (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.notEquals('config.window.menuBarVisibility', 'compact'))
                )))
            },
            when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.and(
                 (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.IsAuxiliaryWindowFocusedContext.toNegated()),
                 (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.notEquals(_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.TitleBarStyleContext.key, "native" )),
                 (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.IsMainWindowFullscreenContext.negate())
            ))),
            group: '2_config',
            order: 0
        });
    }
}
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(class extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.resetViewLocations',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6829, "Reset View Locations")),
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_2__.Categories.View,
            f1: true
        });
    }
    run(accessor) {
        return accessor.get(_common_views_service_js__WEBPACK_IMPORTED_MODULE_14__.IViewDescriptorService).reset();
    }
});
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(class extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.moveView',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6830, "Move View")),
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_2__.Categories.View,
            f1: true
        });
    }
    async run(accessor) {
        const viewDescriptorService = accessor.get(_common_views_service_js__WEBPACK_IMPORTED_MODULE_14__.IViewDescriptorService);
        const instantiationService = accessor.get(_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_6__.IInstantiationService);
        const quickInputService = accessor.get(_platform_quickinput_common_quickInput_service_js__WEBPACK_IMPORTED_MODULE_16__.IQuickInputService);
        const contextKeyService = accessor.get(_platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_12__.IContextKeyService);
        const paneCompositePartService = accessor.get(_services_panecomposite_browser_panecomposite_service_js__WEBPACK_IMPORTED_MODULE_18__.IPaneCompositePartService);
        const focusedViewId = _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.FocusedViewContext.getValue(contextKeyService);
        let viewId;
        if (focusedViewId && viewDescriptorService.getViewDescriptorById(focusedViewId)?.canMoveView) {
            viewId = focusedViewId;
        }
        try {
            viewId = await this.getView(quickInputService, viewDescriptorService, paneCompositePartService, viewId);
            if (!viewId) {
                return;
            }
            const moveFocusedViewAction = ( (new MoveFocusedViewAction()));
            instantiationService.invokeFunction(accessor => moveFocusedViewAction.run(accessor, viewId));
        }
        catch { }
    }
    getViewItems(viewDescriptorService, paneCompositePartService) {
        const results = [];
        const viewlets = paneCompositePartService.getVisiblePaneCompositeIds(0 );
        viewlets.forEach(viewletId => {
            const container = viewDescriptorService.getViewContainerById(viewletId);
            const containerModel = viewDescriptorService.getViewContainerModel(container);
            let hasAddedView = false;
            containerModel.visibleViewDescriptors.forEach(viewDescriptor => {
                if (viewDescriptor.canMoveView) {
                    if (!hasAddedView) {
                        results.push({
                            type: 'separator',
                            label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6831, "Side Bar / {0}", containerModel.title))
                        });
                        hasAddedView = true;
                    }
                    results.push({
                        id: viewDescriptor.id,
                        label: viewDescriptor.name.value
                    });
                }
            });
        });
        const panels = paneCompositePartService.getPinnedPaneCompositeIds(1 );
        panels.forEach(panel => {
            const container = viewDescriptorService.getViewContainerById(panel);
            const containerModel = viewDescriptorService.getViewContainerModel(container);
            let hasAddedView = false;
            containerModel.visibleViewDescriptors.forEach(viewDescriptor => {
                if (viewDescriptor.canMoveView) {
                    if (!hasAddedView) {
                        results.push({
                            type: 'separator',
                            label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6832, "Panel / {0}", containerModel.title))
                        });
                        hasAddedView = true;
                    }
                    results.push({
                        id: viewDescriptor.id,
                        label: viewDescriptor.name.value
                    });
                }
            });
        });
        const sidePanels = paneCompositePartService.getPinnedPaneCompositeIds(2 );
        sidePanels.forEach(panel => {
            const container = viewDescriptorService.getViewContainerById(panel);
            const containerModel = viewDescriptorService.getViewContainerModel(container);
            let hasAddedView = false;
            containerModel.visibleViewDescriptors.forEach(viewDescriptor => {
                if (viewDescriptor.canMoveView) {
                    if (!hasAddedView) {
                        results.push({
                            type: 'separator',
                            label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6833, "Secondary Side Bar / {0}", containerModel.title))
                        });
                        hasAddedView = true;
                    }
                    results.push({
                        id: viewDescriptor.id,
                        label: viewDescriptor.name.value
                    });
                }
            });
        });
        return results;
    }
    async getView(quickInputService, viewDescriptorService, paneCompositePartService, viewId) {
        const disposables = ( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_25__.DisposableStore()));
        const quickPick = disposables.add(quickInputService.createQuickPick({ useSeparators: true }));
        quickPick.placeholder = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6834, "Select a View to Move"));
        quickPick.items = this.getViewItems(viewDescriptorService, paneCompositePartService);
        quickPick.selectedItems = quickPick.items.filter(item => item.id === viewId);
        return (
             (new Promise((resolve, reject) => {
                disposables.add(quickPick.onDidAccept(() => {
                    const viewId = quickPick.selectedItems[0];
                    if (viewId.id) {
                        resolve(viewId.id);
                    }
                    else {
                        reject();
                    }
                    quickPick.hide();
                }));
                disposables.add(quickPick.onDidHide(() => {
                    disposables.dispose();
                    reject();
                }));
                quickPick.show();
            }))
        );
    }
});
class MoveFocusedViewAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.moveFocusedView',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6835, "Move Focused View")),
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_2__.Categories.View,
            precondition: ( (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.FocusedViewContext.notEqualsTo(''))),
            f1: true
        });
    }
    run(accessor, viewId) {
        const viewDescriptorService = accessor.get(_common_views_service_js__WEBPACK_IMPORTED_MODULE_14__.IViewDescriptorService);
        const viewsService = accessor.get(_services_views_common_viewsService_service_js__WEBPACK_IMPORTED_MODULE_15__.IViewsService);
        const quickInputService = accessor.get(_platform_quickinput_common_quickInput_service_js__WEBPACK_IMPORTED_MODULE_16__.IQuickInputService);
        const contextKeyService = accessor.get(_platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_12__.IContextKeyService);
        const dialogService = accessor.get(_platform_dialogs_common_dialogs_service_js__WEBPACK_IMPORTED_MODULE_17__.IDialogService);
        const paneCompositePartService = accessor.get(_services_panecomposite_browser_panecomposite_service_js__WEBPACK_IMPORTED_MODULE_18__.IPaneCompositePartService);
        const focusedViewId = viewId || _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.FocusedViewContext.getValue(contextKeyService);
        if (focusedViewId === undefined || focusedViewId.trim() === '') {
            dialogService.error(( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6836, "There is no view currently focused.")));
            return;
        }
        const viewDescriptor = viewDescriptorService.getViewDescriptorById(focusedViewId);
        if (!viewDescriptor || !viewDescriptor.canMoveView) {
            dialogService.error(( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6837, "The currently focused view is not movable.")));
            return;
        }
        const disposables = ( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_25__.DisposableStore()));
        const quickPick = disposables.add(quickInputService.createQuickPick({ useSeparators: true }));
        quickPick.placeholder = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6838, "Select a Destination for the View"));
        quickPick.title = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6839, "View: Move {0}", viewDescriptor.name.value));
        const items = [];
        const currentContainer = viewDescriptorService.getViewContainerByViewId(focusedViewId);
        const currentLocation = viewDescriptorService.getViewLocationById(focusedViewId);
        const isViewSolo = viewDescriptorService.getViewContainerModel(currentContainer).allViewDescriptors.length === 1;
        if (!((isViewSolo && currentLocation === 1) )) {
            items.push({
                id: '_.panel.newcontainer',
                label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6840, "New Panel Entry")),
            });
        }
        if (!((isViewSolo && currentLocation === 0) )) {
            items.push({
                id: '_.sidebar.newcontainer',
                label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6841, "New Side Bar Entry"))
            });
        }
        if (!((isViewSolo && currentLocation === 2) )) {
            items.push({
                id: '_.auxiliarybar.newcontainer',
                label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6842, "New Secondary Side Bar Entry"))
            });
        }
        items.push({
            type: 'separator',
            label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6843, "Side Bar"))
        });
        const pinnedViewlets = paneCompositePartService.getVisiblePaneCompositeIds(0 );
        items.push(...( (pinnedViewlets
            .filter(viewletId => {
            if (viewletId === viewDescriptorService.getViewContainerByViewId(focusedViewId).id) {
                return false;
            }
            return !viewDescriptorService.getViewContainerById(viewletId).rejectAddedViews;
        })
            .map(viewletId => {
            return {
                id: viewletId,
                label: viewDescriptorService.getViewContainerModel(viewDescriptorService.getViewContainerById(viewletId)).title
            };
        }))));
        items.push({
            type: 'separator',
            label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6844, "Panel"))
        });
        const pinnedPanels = paneCompositePartService.getPinnedPaneCompositeIds(1 );
        items.push(...( (pinnedPanels
            .filter(panel => {
            if (panel === viewDescriptorService.getViewContainerByViewId(focusedViewId).id) {
                return false;
            }
            return !viewDescriptorService.getViewContainerById(panel).rejectAddedViews;
        })
            .map(panel => {
            return {
                id: panel,
                label: viewDescriptorService.getViewContainerModel(viewDescriptorService.getViewContainerById(panel)).title
            };
        }))));
        items.push({
            type: 'separator',
            label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6845, "Secondary Side Bar"))
        });
        const pinnedAuxPanels = paneCompositePartService.getPinnedPaneCompositeIds(2 );
        items.push(...( (pinnedAuxPanels
            .filter(panel => {
            if (panel === viewDescriptorService.getViewContainerByViewId(focusedViewId).id) {
                return false;
            }
            return !viewDescriptorService.getViewContainerById(panel).rejectAddedViews;
        })
            .map(panel => {
            return {
                id: panel,
                label: viewDescriptorService.getViewContainerModel(viewDescriptorService.getViewContainerById(panel)).title
            };
        }))));
        quickPick.items = items;
        disposables.add(quickPick.onDidAccept(() => {
            const destination = quickPick.selectedItems[0];
            if (destination.id === '_.panel.newcontainer') {
                viewDescriptorService.moveViewToLocation(viewDescriptor, 1 , this.desc.id);
                viewsService.openView(focusedViewId, true);
            }
            else if (destination.id === '_.sidebar.newcontainer') {
                viewDescriptorService.moveViewToLocation(viewDescriptor, 0 , this.desc.id);
                viewsService.openView(focusedViewId, true);
            }
            else if (destination.id === '_.auxiliarybar.newcontainer') {
                viewDescriptorService.moveViewToLocation(viewDescriptor, 2 , this.desc.id);
                viewsService.openView(focusedViewId, true);
            }
            else if (destination.id) {
                viewDescriptorService.moveViewsToContainer([viewDescriptor], viewDescriptorService.getViewContainerById(destination.id), undefined, this.desc.id);
                viewsService.openView(focusedViewId, true);
            }
            quickPick.hide();
        }));
        disposables.add(quickPick.onDidHide(() => disposables.dispose()));
        quickPick.show();
    }
}
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(MoveFocusedViewAction);
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(class extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.resetFocusedViewLocation',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6846, "Reset Focused View Location")),
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_2__.Categories.View,
            f1: true,
            precondition: ( (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.FocusedViewContext.notEqualsTo('')))
        });
    }
    run(accessor) {
        const viewDescriptorService = accessor.get(_common_views_service_js__WEBPACK_IMPORTED_MODULE_14__.IViewDescriptorService);
        const contextKeyService = accessor.get(_platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_12__.IContextKeyService);
        const dialogService = accessor.get(_platform_dialogs_common_dialogs_service_js__WEBPACK_IMPORTED_MODULE_17__.IDialogService);
        const viewsService = accessor.get(_services_views_common_viewsService_service_js__WEBPACK_IMPORTED_MODULE_15__.IViewsService);
        const focusedViewId = _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.FocusedViewContext.getValue(contextKeyService);
        let viewDescriptor = null;
        if (focusedViewId !== undefined && focusedViewId.trim() !== '') {
            viewDescriptor = viewDescriptorService.getViewDescriptorById(focusedViewId);
        }
        if (!viewDescriptor) {
            dialogService.error(( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6847, "There is no view currently focused.")));
            return;
        }
        const defaultContainer = viewDescriptorService.getDefaultContainerById(viewDescriptor.id);
        if (!defaultContainer || defaultContainer === viewDescriptorService.getViewContainerByViewId(viewDescriptor.id)) {
            return;
        }
        viewDescriptorService.moveViewsToContainer([viewDescriptor], defaultContainer, undefined, this.desc.id);
        viewsService.openView(viewDescriptor.id, true);
    }
});
class BaseResizeViewAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.Action2 {
    static { this.RESIZE_INCREMENT = 60; }
    resizePart(widthChange, heightChange, layoutService, partToResize) {
        let part;
        if (partToResize === undefined) {
            const isEditorFocus = layoutService.hasFocus("workbench.parts.editor" );
            const isSidebarFocus = layoutService.hasFocus("workbench.parts.sidebar" );
            const isPanelFocus = layoutService.hasFocus("workbench.parts.panel" );
            const isAuxiliaryBarFocus = layoutService.hasFocus("workbench.parts.auxiliarybar" );
            if (isSidebarFocus) {
                part = "workbench.parts.sidebar" ;
            }
            else if (isPanelFocus) {
                part = "workbench.parts.panel" ;
            }
            else if (isEditorFocus) {
                part = "workbench.parts.editor" ;
            }
            else if (isAuxiliaryBarFocus) {
                part = "workbench.parts.auxiliarybar" ;
            }
        }
        else {
            part = partToResize;
        }
        if (part) {
            layoutService.resizePart(part, widthChange, heightChange);
        }
    }
}
class IncreaseViewSizeAction extends BaseResizeViewAction {
    constructor() {
        super({
            id: 'workbench.action.increaseViewSize',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6848, 'Increase Current View Size')),
            f1: true,
            precondition: ( (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.IsAuxiliaryWindowFocusedContext.toNegated()))
        });
    }
    run(accessor) {
        this.resizePart(BaseResizeViewAction.RESIZE_INCREMENT, BaseResizeViewAction.RESIZE_INCREMENT, accessor.get(_services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_5__.IWorkbenchLayoutService));
    }
}
class IncreaseViewWidthAction extends BaseResizeViewAction {
    constructor() {
        super({
            id: 'workbench.action.increaseViewWidth',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6849, 'Increase Editor Width')),
            f1: true,
            precondition: ( (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.IsAuxiliaryWindowFocusedContext.toNegated()))
        });
    }
    run(accessor) {
        this.resizePart(BaseResizeViewAction.RESIZE_INCREMENT, 0, accessor.get(_services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_5__.IWorkbenchLayoutService), "workbench.parts.editor" );
    }
}
class IncreaseViewHeightAction extends BaseResizeViewAction {
    constructor() {
        super({
            id: 'workbench.action.increaseViewHeight',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6850, 'Increase Editor Height')),
            f1: true,
            precondition: ( (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.IsAuxiliaryWindowFocusedContext.toNegated()))
        });
    }
    run(accessor) {
        this.resizePart(0, BaseResizeViewAction.RESIZE_INCREMENT, accessor.get(_services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_5__.IWorkbenchLayoutService), "workbench.parts.editor" );
    }
}
class DecreaseViewSizeAction extends BaseResizeViewAction {
    constructor() {
        super({
            id: 'workbench.action.decreaseViewSize',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6851, 'Decrease Current View Size')),
            f1: true,
            precondition: ( (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.IsAuxiliaryWindowFocusedContext.toNegated()))
        });
    }
    run(accessor) {
        this.resizePart(-BaseResizeViewAction.RESIZE_INCREMENT, -BaseResizeViewAction.RESIZE_INCREMENT, accessor.get(_services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_5__.IWorkbenchLayoutService));
    }
}
class DecreaseViewWidthAction extends BaseResizeViewAction {
    constructor() {
        super({
            id: 'workbench.action.decreaseViewWidth',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6852, 'Decrease Editor Width')),
            f1: true,
            precondition: ( (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.IsAuxiliaryWindowFocusedContext.toNegated()))
        });
    }
    run(accessor) {
        this.resizePart(-BaseResizeViewAction.RESIZE_INCREMENT, 0, accessor.get(_services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_5__.IWorkbenchLayoutService), "workbench.parts.editor" );
    }
}
class DecreaseViewHeightAction extends BaseResizeViewAction {
    constructor() {
        super({
            id: 'workbench.action.decreaseViewHeight',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6853, 'Decrease Editor Height')),
            f1: true,
            precondition: ( (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.IsAuxiliaryWindowFocusedContext.toNegated()))
        });
    }
    run(accessor) {
        this.resizePart(0, -BaseResizeViewAction.RESIZE_INCREMENT, accessor.get(_services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_5__.IWorkbenchLayoutService), "workbench.parts.editor" );
    }
}
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(IncreaseViewSizeAction);
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(IncreaseViewWidthAction);
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(IncreaseViewHeightAction);
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(DecreaseViewSizeAction);
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(DecreaseViewWidthAction);
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(DecreaseViewHeightAction);
function isContextualLayoutVisualIcon(icon) {
    return icon.iconA !== undefined;
}
const CreateToggleLayoutItem = (id, active, label, visualIcon) => {
    return {
        id,
        active,
        label,
        visualIcon,
        activeIcon: _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_23__.Codicon.eye,
        inactiveIcon: _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_23__.Codicon.eyeClosed,
        activeAriaLabel: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6854, "Select to Hide")),
        inactiveAriaLabel: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6855, "Select to Show")),
        useButtons: true,
    };
};
const CreateOptionLayoutItem = (id, active, label, visualIcon) => {
    return {
        id,
        active,
        label,
        visualIcon,
        activeIcon: _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_23__.Codicon.check,
        activeAriaLabel: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6856, "Active")),
        useButtons: false
    };
};
const MenuBarToggledContext = ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.and(
     (_platform_contextkey_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_9__.IsMacNativeContext.toNegated()),
     (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.notEquals('config.window.menuBarVisibility', 'hidden')),
     (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.notEquals('config.window.menuBarVisibility', 'toggle')),
     (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.notEquals('config.window.menuBarVisibility', 'compact'))
)));
const ToggleVisibilityActions = [];
if (!_base_common_platform_js__WEBPACK_IMPORTED_MODULE_8__.isMacintosh || !_base_common_platform_js__WEBPACK_IMPORTED_MODULE_8__.isNative) {
    ToggleVisibilityActions.push(CreateToggleLayoutItem('workbench.action.toggleMenuBar', MenuBarToggledContext, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6857, "Menu Bar")), menubarIcon));
}
ToggleVisibilityActions.push(...[
    CreateToggleLayoutItem(ToggleActivityBarVisibilityActionId, ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.notEquals('config.workbench.activityBar.location', 'hidden'))), ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6858, "Activity Bar")), { whenA: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals('config.workbench.sideBar.location', 'left'))), iconA: activityBarLeftIcon, iconB: activityBarRightIcon }),
    CreateToggleLayoutItem(ToggleSidebarVisibilityAction.ID, _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.SideBarVisibleContext, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6859, "Primary Side Bar")), { whenA: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals('config.workbench.sideBar.location', 'left'))), iconA: panelLeftIcon, iconB: panelRightIcon }),
    CreateToggleLayoutItem(_parts_auxiliarybar_auxiliaryBarActions_js__WEBPACK_IMPORTED_MODULE_19__.ToggleAuxiliaryBarAction.ID, _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.AuxiliaryBarVisibleContext, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6845, "Secondary Side Bar")), { whenA: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals('config.workbench.sideBar.location', 'left'))), iconA: panelRightIcon, iconB: panelLeftIcon }),
    CreateToggleLayoutItem(_parts_panel_panelActions_js__WEBPACK_IMPORTED_MODULE_20__.TogglePanelAction.ID, _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.PanelVisibleContext, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6844, "Panel")), panelIcon),
    CreateToggleLayoutItem(ToggleStatusbarVisibilityAction.ID, ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals('config.workbench.statusBar.visible', true))), ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6860, "Status Bar")), statusBarIcon),
]);
const MoveSideBarActions = [
    CreateOptionLayoutItem(MoveSidebarLeftAction.ID, ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals('config.workbench.sideBar.location', 'left'))), ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6861, "Left")), panelLeftIcon),
    CreateOptionLayoutItem(MoveSidebarRightAction.ID, ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals('config.workbench.sideBar.location', 'right'))), ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6862, "Right")), panelRightIcon),
];
const AlignPanelActions = [
    CreateOptionLayoutItem('workbench.action.alignPanelLeft', ( (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.PanelAlignmentContext.isEqualTo('left'))), ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6863, "Left")), panelAlignmentLeftIcon),
    CreateOptionLayoutItem('workbench.action.alignPanelRight', ( (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.PanelAlignmentContext.isEqualTo('right'))), ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6864, "Right")), panelAlignmentRightIcon),
    CreateOptionLayoutItem('workbench.action.alignPanelCenter', ( (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.PanelAlignmentContext.isEqualTo('center'))), ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6865, "Center")), panelAlignmentCenterIcon),
    CreateOptionLayoutItem('workbench.action.alignPanelJustify', ( (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.PanelAlignmentContext.isEqualTo('justify'))), ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6866, "Justify")), panelAlignmentJustifyIcon),
];
const MiscLayoutOptions = [
    CreateOptionLayoutItem('workbench.action.toggleFullScreen', _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.IsMainWindowFullscreenContext, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6867, "Full Screen")), fullscreenIcon),
    CreateOptionLayoutItem('workbench.action.toggleZenMode', _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.InEditorZenModeContext, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6868, "Zen Mode")), zenModeIcon),
    CreateOptionLayoutItem('workbench.action.toggleCenteredLayout', _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_22__.IsMainEditorCenteredLayoutContext, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6869, "Centered Layout")), centerLayoutIcon),
];
const LayoutContextKeySet = ( (new Set()));
for (const { active } of [...ToggleVisibilityActions, ...MoveSideBarActions, ...AlignPanelActions, ...MiscLayoutOptions]) {
    for (const key of ( (active.keys()))) {
        LayoutContextKeySet.add(key);
    }
}
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.registerAction2)(class CustomizeLayoutAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.customizeLayout',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(6870, "Customize Layout...")),
            f1: true,
            icon: configureLayoutIcon,
            menu: [
                {
                    id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuId.LayoutControlMenuSubmenu,
                    group: 'z_end',
                },
                {
                    id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_1__.MenuId.LayoutControlMenu,
                    when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.ContextKeyExpr.equals('config.workbench.layoutControl.type', 'both'))),
                    group: 'z_end'
                }
            ]
        });
    }
    getItems(contextKeyService, keybindingService) {
        const toQuickPickItem = (item) => {
            const toggled = item.active.evaluate(contextKeyService.getContext(null));
            let label = item.useButtons ?
                item.label :
                item.label + (toggled && item.activeIcon ? ` $(${item.activeIcon.id})` : (!toggled && item.inactiveIcon ? ` $(${item.inactiveIcon.id})` : ''));
            const ariaLabel = item.label + (toggled && item.activeAriaLabel ? ` (${item.activeAriaLabel})` : (!toggled && item.inactiveAriaLabel ? ` (${item.inactiveAriaLabel})` : ''));
            if (item.visualIcon) {
                let icon = item.visualIcon;
                if (isContextualLayoutVisualIcon(icon)) {
                    const useIconA = icon.whenA.evaluate(contextKeyService.getContext(null));
                    icon = useIconA ? icon.iconA : icon.iconB;
                }
                label = `$(${icon.id}) ${label}`;
            }
            const icon = toggled ? item.activeIcon : item.inactiveIcon;
            return {
                type: 'item',
                id: item.id,
                label,
                ariaLabel,
                keybinding: keybindingService.lookupKeybinding(item.id, contextKeyService),
                buttons: !item.useButtons ? undefined : [
                    {
                        alwaysVisible: false,
                        tooltip: ariaLabel,
                        iconClass: icon ? _base_common_themables_js__WEBPACK_IMPORTED_MODULE_24__.ThemeIcon.asClassName(icon) : undefined
                    }
                ]
            };
        };
        return [
            {
                type: 'separator',
                label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6871, "Visibility"))
            },
            ...( (ToggleVisibilityActions.map(toQuickPickItem))),
            {
                type: 'separator',
                label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6872, "Primary Side Bar Position"))
            },
            ...( (MoveSideBarActions.map(toQuickPickItem))),
            {
                type: 'separator',
                label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6873, "Panel Alignment"))
            },
            ...( (AlignPanelActions.map(toQuickPickItem))),
            {
                type: 'separator',
                label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6874, "Modes")),
            },
            ...( (MiscLayoutOptions.map(toQuickPickItem))),
        ];
    }
    run(accessor) {
        if (this._currentQuickPick) {
            this._currentQuickPick.hide();
            return;
        }
        const configurationService = accessor.get(_platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_3__.IConfigurationService);
        const contextKeyService = accessor.get(_platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_12__.IContextKeyService);
        const commandService = accessor.get(_platform_commands_common_commands_service_js__WEBPACK_IMPORTED_MODULE_21__.ICommandService);
        const quickInputService = accessor.get(_platform_quickinput_common_quickInput_service_js__WEBPACK_IMPORTED_MODULE_16__.IQuickInputService);
        const keybindingService = accessor.get(_platform_keybinding_common_keybinding_service_js__WEBPACK_IMPORTED_MODULE_28__.IKeybindingService);
        const disposables = ( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_25__.DisposableStore()));
        const quickPick = disposables.add(quickInputService.createQuickPick({ useSeparators: true }));
        this._currentQuickPick = quickPick;
        quickPick.items = this.getItems(contextKeyService, keybindingService);
        quickPick.ignoreFocusOut = true;
        quickPick.hideInput = true;
        quickPick.title = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6875, "Customize Layout"));
        const closeButton = {
            alwaysVisible: true,
            iconClass: _base_common_themables_js__WEBPACK_IMPORTED_MODULE_24__.ThemeIcon.asClassName(_base_common_codicons_js__WEBPACK_IMPORTED_MODULE_23__.Codicon.close),
            tooltip: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6876, "Close"))
        };
        const resetButton = {
            alwaysVisible: true,
            iconClass: _base_common_themables_js__WEBPACK_IMPORTED_MODULE_24__.ThemeIcon.asClassName(_base_common_codicons_js__WEBPACK_IMPORTED_MODULE_23__.Codicon.discard),
            tooltip: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(6877, "Restore Defaults"))
        };
        quickPick.buttons = [
            resetButton,
            closeButton
        ];
        let selectedItem = undefined;
        disposables.add(contextKeyService.onDidChangeContext(changeEvent => {
            if (changeEvent.affectsSome(LayoutContextKeySet)) {
                quickPick.items = this.getItems(contextKeyService, keybindingService);
                if (selectedItem) {
                    quickPick.activeItems = quickPick.items.filter(item => item.id === selectedItem?.id);
                }
                setTimeout(() => quickInputService.focus(), 0);
            }
        }));
        disposables.add(quickPick.onDidAccept(event => {
            if (quickPick.selectedItems.length) {
                selectedItem = quickPick.selectedItems[0];
                commandService.executeCommand(selectedItem.id);
            }
        }));
        disposables.add(quickPick.onDidTriggerItemButton(event => {
            if (event.item) {
                selectedItem = event.item;
                commandService.executeCommand(selectedItem.id);
            }
        }));
        disposables.add(quickPick.onDidTriggerButton((button) => {
            if (button === closeButton) {
                quickPick.hide();
            }
            else if (button === resetButton) {
                const resetSetting = (id) => {
                    const config = configurationService.inspect(id);
                    configurationService.updateValue(id, config.defaultValue);
                };
                resetSetting('workbench.activityBar.location');
                resetSetting('workbench.sideBar.location');
                resetSetting('workbench.statusBar.visible');
                resetSetting('workbench.panel.defaultLocation');
                if (!_base_common_platform_js__WEBPACK_IMPORTED_MODULE_8__.isMacintosh || !_base_common_platform_js__WEBPACK_IMPORTED_MODULE_8__.isNative) {
                    resetSetting('window.menuBarVisibility');
                }
                commandService.executeCommand('workbench.action.alignPanelCenter');
            }
        }));
        disposables.add(quickPick.onDidHide(() => {
            quickPick.dispose();
        }));
        disposables.add(quickPick.onDispose(() => {
            this._currentQuickPick = undefined;
            disposables.dispose();
        }));
        quickPick.show();
    }
});



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/actions/windowActions.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/actions/windowActions.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OpenRecentAction: () => (/* binding */ OpenRecentAction),
/* harmony export */   ReloadWindowAction: () => (/* binding */ ReloadWindowAction),
/* harmony export */   inRecentFilesPickerContextKey: () => (/* binding */ inRecentFilesPickerContextKey)
/* harmony export */ });
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _platform_dialogs_common_dialogs_service_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../platform/dialogs/common/dialogs.service.js */ "./node_modules/vscode/vscode/src/vs/platform/dialogs/common/dialogs.service.js");
/* harmony import */ var _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../platform/actions/common/actions.js */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var _base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../base/common/keyCodes.js */ "./node_modules/vscode/vscode/src/vs/base/common/keyCodes.js");
/* harmony import */ var _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../common/contextkeys.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/contextkeys.js");
/* harmony import */ var _platform_contextkey_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../platform/contextkey/common/contextkeys.js */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkeys.js");
/* harmony import */ var _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../platform/action/common/actionCommonCategories.js */ "./node_modules/vscode/vscode/src/vs/platform/action/common/actionCommonCategories.js");
/* harmony import */ var _platform_keybinding_common_keybindingsRegistry_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../platform/keybinding/common/keybindingsRegistry.js */ "./node_modules/vscode/vscode/src/vs/platform/keybinding/common/keybindingsRegistry.js");
/* harmony import */ var _platform_quickinput_common_quickInput_service_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../platform/quickinput/common/quickInput.service.js */ "./node_modules/vscode/vscode/src/vs/platform/quickinput/common/quickInput.service.js");
/* harmony import */ var _platform_workspace_common_workspace_service_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../platform/workspace/common/workspace.service.js */ "./node_modules/vscode/vscode/src/vs/platform/workspace/common/workspace.service.js");
/* harmony import */ var _platform_label_common_label_service_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../platform/label/common/label.service.js */ "./node_modules/vscode/vscode/src/vs/platform/label/common/label.service.js");
/* harmony import */ var _platform_keybinding_common_keybinding_service_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../platform/keybinding/common/keybinding.service.js */ "./node_modules/vscode/vscode/src/vs/platform/keybinding/common/keybinding.service.js");
/* harmony import */ var _editor_common_services_model_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../editor/common/services/model.js */ "./node_modules/vscode/vscode/src/vs/editor/common/services/model.js");
/* harmony import */ var _editor_common_languages_language_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../editor/common/languages/language.js */ "./node_modules/vscode/vscode/src/vs/editor/common/languages/language.js");
/* harmony import */ var _platform_workspaces_common_workspaces_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../platform/workspaces/common/workspaces.js */ "./node_modules/vscode/vscode/src/vs/platform/workspaces/common/workspaces.js");
/* harmony import */ var _platform_workspaces_common_workspaces_service_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../platform/workspaces/common/workspaces.service.js */ "./node_modules/vscode/vscode/src/vs/platform/workspaces/common/workspaces.service.js");
/* harmony import */ var _editor_common_services_getIconClasses_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../editor/common/services/getIconClasses.js */ "./node_modules/vscode/vscode/src/vs/editor/common/services/getIconClasses.js");
/* harmony import */ var _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../platform/files/common/files.js */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.js");
/* harmony import */ var _base_common_labels_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../base/common/labels.js */ "./node_modules/vscode/vscode/src/vs/base/common/labels.js");
/* harmony import */ var _base_common_platform_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../base/common/platform.js */ "./node_modules/vscode/vscode/src/vs/base/common/platform.js");
/* harmony import */ var _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../platform/contextkey/common/contextkey.js */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.js");
/* harmony import */ var _quickaccess_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../quickaccess.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/quickaccess.js");
/* harmony import */ var _services_host_browser_host_service_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../services/host/browser/host.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/host/browser/host.service.js");
/* harmony import */ var _base_common_map_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../base/common/map.js */ "./node_modules/vscode/vscode/src/vs/base/common/map.js");
/* harmony import */ var _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../base/common/codicons.js */ "./node_modules/vscode/vscode/src/vs/base/common/codicons.js");
/* harmony import */ var _base_common_themables_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../base/common/themables.js */ "./node_modules/vscode/vscode/src/vs/base/common/themables.js");
/* harmony import */ var _platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../platform/commands/common/commands.js */ "./node_modules/vscode/vscode/src/vs/platform/commands/common/commands.js");
/* harmony import */ var _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../platform/configuration/common/configuration.service.js */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var _platform_backup_common_backup_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../platform/backup/common/backup.js */ "./node_modules/vscode/vscode/src/vs/platform/backup/common/backup.js");
/* harmony import */ var _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../base/browser/dom.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");






























const inRecentFilesPickerContextKey = 'inRecentFilesPicker';
class BaseOpenRecentAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.Action2 {
    constructor(desc) {
        super(desc);
        this.removeFromRecentlyOpened = {
            iconClass: _base_common_themables_js__WEBPACK_IMPORTED_MODULE_25__.ThemeIcon.asClassName(_base_common_codicons_js__WEBPACK_IMPORTED_MODULE_24__.Codicon.removeClose),
            tooltip: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(10195, "Remove from Recently Opened"))
        };
        this.dirtyRecentlyOpenedFolder = {
            iconClass: 'dirty-workspace ' + _base_common_themables_js__WEBPACK_IMPORTED_MODULE_25__.ThemeIcon.asClassName(_base_common_codicons_js__WEBPACK_IMPORTED_MODULE_24__.Codicon.closeDirty),
            tooltip: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(10196, "Folder With Unsaved Files")),
            alwaysVisible: true
        };
        this.dirtyRecentlyOpenedWorkspace = {
            ...this.dirtyRecentlyOpenedFolder,
            tooltip: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(10197, "Workspace With Unsaved Files")),
        };
    }
    async run(accessor) {
        const workspacesService = accessor.get(_platform_workspaces_common_workspaces_service_js__WEBPACK_IMPORTED_MODULE_15__.IWorkspacesService);
        const quickInputService = accessor.get(_platform_quickinput_common_quickInput_service_js__WEBPACK_IMPORTED_MODULE_8__.IQuickInputService);
        const contextService = accessor.get(_platform_workspace_common_workspace_service_js__WEBPACK_IMPORTED_MODULE_9__.IWorkspaceContextService);
        const labelService = accessor.get(_platform_label_common_label_service_js__WEBPACK_IMPORTED_MODULE_10__.ILabelService);
        const keybindingService = accessor.get(_platform_keybinding_common_keybinding_service_js__WEBPACK_IMPORTED_MODULE_11__.IKeybindingService);
        const modelService = accessor.get(_editor_common_services_model_js__WEBPACK_IMPORTED_MODULE_12__.IModelService);
        const languageService = accessor.get(_editor_common_languages_language_js__WEBPACK_IMPORTED_MODULE_13__.ILanguageService);
        const hostService = accessor.get(_services_host_browser_host_service_js__WEBPACK_IMPORTED_MODULE_22__.IHostService);
        const dialogService = accessor.get(_platform_dialogs_common_dialogs_service_js__WEBPACK_IMPORTED_MODULE_1__.IDialogService);
        const recentlyOpened = await workspacesService.getRecentlyOpened();
        const dirtyWorkspacesAndFolders = await workspacesService.getDirtyWorkspaces();
        let hasWorkspaces = false;
        const dirtyFolders = ( (new _base_common_map_js__WEBPACK_IMPORTED_MODULE_23__.ResourceMap()));
        const dirtyWorkspaces = ( (new _base_common_map_js__WEBPACK_IMPORTED_MODULE_23__.ResourceMap()));
        for (const dirtyWorkspace of dirtyWorkspacesAndFolders) {
            if ((0,_platform_backup_common_backup_js__WEBPACK_IMPORTED_MODULE_28__.isFolderBackupInfo)(dirtyWorkspace)) {
                dirtyFolders.set(dirtyWorkspace.folderUri, true);
            }
            else {
                dirtyWorkspaces.set(dirtyWorkspace.workspace.configPath, dirtyWorkspace.workspace);
                hasWorkspaces = true;
            }
        }
        const recentFolders = ( (new _base_common_map_js__WEBPACK_IMPORTED_MODULE_23__.ResourceMap()));
        const recentWorkspaces = ( (new _base_common_map_js__WEBPACK_IMPORTED_MODULE_23__.ResourceMap()));
        for (const recent of recentlyOpened.workspaces) {
            if ((0,_platform_workspaces_common_workspaces_js__WEBPACK_IMPORTED_MODULE_14__.isRecentFolder)(recent)) {
                recentFolders.set(recent.folderUri, true);
            }
            else {
                recentWorkspaces.set(recent.workspace.configPath, recent.workspace);
                hasWorkspaces = true;
            }
        }
        const workspacePicks = [];
        for (const recent of recentlyOpened.workspaces) {
            const isDirty = (0,_platform_workspaces_common_workspaces_js__WEBPACK_IMPORTED_MODULE_14__.isRecentFolder)(recent) ? ( (dirtyFolders.has(recent.folderUri))) : ( (dirtyWorkspaces.has(recent.workspace.configPath)));
            workspacePicks.push(this.toQuickPick(modelService, languageService, labelService, recent, isDirty));
        }
        for (const dirtyWorkspaceOrFolder of dirtyWorkspacesAndFolders) {
            if ((0,_platform_backup_common_backup_js__WEBPACK_IMPORTED_MODULE_28__.isFolderBackupInfo)(dirtyWorkspaceOrFolder) && !( (recentFolders.has(dirtyWorkspaceOrFolder.folderUri)))) {
                workspacePicks.push(this.toQuickPick(modelService, languageService, labelService, dirtyWorkspaceOrFolder, true));
            }
            else if ((0,_platform_backup_common_backup_js__WEBPACK_IMPORTED_MODULE_28__.isWorkspaceBackupInfo)(dirtyWorkspaceOrFolder) && !( (recentWorkspaces.has(dirtyWorkspaceOrFolder.workspace.configPath)))) {
                workspacePicks.push(this.toQuickPick(modelService, languageService, labelService, dirtyWorkspaceOrFolder, true));
            }
        }
        const filePicks = ( (recentlyOpened.files.map(
            p => this.toQuickPick(modelService, languageService, labelService, p, false)
        )));
        const firstEntry = recentlyOpened.workspaces[0];
        const autoFocusSecondEntry = firstEntry && contextService.isCurrentWorkspace((0,_platform_workspaces_common_workspaces_js__WEBPACK_IMPORTED_MODULE_14__.isRecentWorkspace)(firstEntry) ? firstEntry.workspace : firstEntry.folderUri);
        let keyMods;
        const workspaceSeparator = { type: 'separator', label: hasWorkspaces ? ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(10198, "folders & workspaces")) : ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(10199, "folders")) };
        const fileSeparator = { type: 'separator', label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(10200, "files")) };
        const picks = [workspaceSeparator, ...workspacePicks, fileSeparator, ...filePicks];
        const pick = await quickInputService.pick(picks, {
            contextKey: inRecentFilesPickerContextKey,
            activeItem: [...workspacePicks, ...filePicks][autoFocusSecondEntry ? 1 : 0],
            placeHolder: _base_common_platform_js__WEBPACK_IMPORTED_MODULE_19__.isMacintosh ? ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(
                10201,
                "Select to open (hold Cmd-key to force new window or Option-key for same window)"
            )) : ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(
                10202,
                "Select to open (hold Ctrl-key to force new window or Alt-key for same window)"
            )),
            matchOnDescription: true,
            onKeyMods: mods => keyMods = mods,
            quickNavigate: this.isQuickNavigate() ? { keybindings: keybindingService.lookupKeybindings(this.desc.id) } : undefined,
            hideInput: this.isQuickNavigate(),
            onDidTriggerItemButton: async (context) => {
                if (context.button === this.removeFromRecentlyOpened) {
                    await workspacesService.removeRecentlyOpened([context.item.resource]);
                    context.removeItem();
                }
                else if (context.button === this.dirtyRecentlyOpenedFolder || context.button === this.dirtyRecentlyOpenedWorkspace) {
                    const isDirtyWorkspace = context.button === this.dirtyRecentlyOpenedWorkspace;
                    const { confirmed } = await dialogService.confirm({
                        title: isDirtyWorkspace ? ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(10203, "Workspace with Unsaved Files")) : ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(10204, "Folder with Unsaved Files")),
                        message: isDirtyWorkspace ? ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(10205, "Do you want to open the workspace to review the unsaved files?")) : ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(10206, "Do you want to open the folder to review the unsaved files?")),
                        detail: isDirtyWorkspace ? ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(
                            10207,
                            "Workspaces with unsaved files cannot be removed until all unsaved files have been saved or reverted."
                        )) : ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(
                            10208,
                            "Folders with unsaved files cannot be removed until all unsaved files have been saved or reverted."
                        ))
                    });
                    if (confirmed) {
                        hostService.openWindow([context.item.openable], {
                            remoteAuthority: context.item.remoteAuthority || null
                        });
                        quickInputService.cancel();
                    }
                }
            }
        });
        if (pick) {
            return hostService.openWindow([pick.openable], {
                forceNewWindow: keyMods?.ctrlCmd,
                forceReuseWindow: keyMods?.alt,
                remoteAuthority: pick.remoteAuthority || null
            });
        }
    }
    toQuickPick(modelService, languageService, labelService, recent, isDirty) {
        let openable;
        let iconClasses;
        let fullLabel;
        let resource;
        let isWorkspace = false;
        if ((0,_platform_workspaces_common_workspaces_js__WEBPACK_IMPORTED_MODULE_14__.isRecentFolder)(recent)) {
            resource = recent.folderUri;
            iconClasses = (0,_editor_common_services_getIconClasses_js__WEBPACK_IMPORTED_MODULE_16__.getIconClasses)(modelService, languageService, resource, _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_17__.FileKind.FOLDER);
            openable = { folderUri: resource };
            fullLabel = recent.label || labelService.getWorkspaceLabel(resource, { verbose: 2  });
        }
        else if ((0,_platform_workspaces_common_workspaces_js__WEBPACK_IMPORTED_MODULE_14__.isRecentWorkspace)(recent)) {
            resource = recent.workspace.configPath;
            iconClasses = (0,_editor_common_services_getIconClasses_js__WEBPACK_IMPORTED_MODULE_16__.getIconClasses)(modelService, languageService, resource, _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_17__.FileKind.ROOT_FOLDER);
            openable = { workspaceUri: resource };
            fullLabel = recent.label || labelService.getWorkspaceLabel(recent.workspace, { verbose: 2  });
            isWorkspace = true;
        }
        else {
            resource = recent.fileUri;
            iconClasses = (0,_editor_common_services_getIconClasses_js__WEBPACK_IMPORTED_MODULE_16__.getIconClasses)(modelService, languageService, resource, _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_17__.FileKind.FILE);
            openable = { fileUri: resource };
            fullLabel = recent.label || labelService.getUriLabel(resource);
        }
        const { name, parentPath } = (0,_base_common_labels_js__WEBPACK_IMPORTED_MODULE_18__.splitRecentLabel)(fullLabel);
        return {
            iconClasses,
            label: name,
            ariaLabel: isDirty ? isWorkspace ? ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(10209, "{0}, workspace with unsaved changes", name)) : ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(10210, "{0}, folder with unsaved changes", name)) : name,
            description: parentPath,
            buttons: isDirty ? [isWorkspace ? this.dirtyRecentlyOpenedWorkspace : this.dirtyRecentlyOpenedFolder] : [this.removeFromRecentlyOpened],
            openable,
            resource,
            remoteAuthority: recent.remoteAuthority
        };
    }
}
class OpenRecentAction extends BaseOpenRecentAction {
    static { this.ID = 'workbench.action.openRecent'; }
    constructor() {
        super({
            id: OpenRecentAction.ID,
            title: {
                ...( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(10211, "Open Recent...")),
                mnemonicTitle: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(10212, "&&More...")),
            },
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_6__.Categories.File,
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: 2048  | 48 ,
                mac: { primary: 256  | 48  }
            },
            menu: {
                id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuId.MenubarRecentMenu,
                group: 'y_more',
                order: 1
            }
        });
    }
    isQuickNavigate() {
        return false;
    }
}
class QuickPickRecentAction extends BaseOpenRecentAction {
    constructor() {
        super({
            id: 'workbench.action.quickOpenRecent',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(10213, 'Quick Open Recent...')),
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_6__.Categories.File,
            f1: false
        });
    }
    isQuickNavigate() {
        return true;
    }
}
class ToggleFullScreenAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.toggleFullScreen',
            title: {
                ...( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(10214, "Toggle Full Screen")),
                mnemonicTitle: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(10215, "&&Full Screen")),
            },
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_6__.Categories.View,
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: 69 ,
                mac: {
                    primary: 2048  | 256  | 36
                }
            },
            precondition: ( (_platform_contextkey_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_5__.IsIOSContext.toNegated())),
            toggled: _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_4__.IsMainWindowFullscreenContext,
            menu: [{
                    id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuId.MenubarAppearanceMenu,
                    group: '1_toggle_view',
                    order: 1
                }]
        });
    }
    run(accessor) {
        const hostService = accessor.get(_services_host_browser_host_service_js__WEBPACK_IMPORTED_MODULE_22__.IHostService);
        return hostService.toggleFullScreen((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_29__.getActiveWindow)());
    }
}
class ReloadWindowAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.Action2 {
    static { this.ID = 'workbench.action.reloadWindow'; }
    constructor() {
        super({
            id: ReloadWindowAction.ID,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(10216, 'Reload Window')),
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_6__.Categories.Developer,
            f1: true,
            keybinding: {
                weight: 200  + 50,
                when: _platform_contextkey_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_5__.IsDevelopmentContext,
                primary: 2048  | 48
            }
        });
    }
    async run(accessor) {
        const hostService = accessor.get(_services_host_browser_host_service_js__WEBPACK_IMPORTED_MODULE_22__.IHostService);
        return hostService.reload();
    }
}
class ShowAboutDialogAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.showAboutDialog',
            title: {
                ...( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(10217, "About")),
                mnemonicTitle: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(10218, "&&About")),
            },
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_6__.Categories.Help,
            f1: true,
            menu: {
                id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuId.MenubarHelpMenu,
                group: 'z_about',
                order: 1,
                when: ( (_platform_contextkey_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_5__.IsMacNativeContext.toNegated()))
            }
        });
    }
    run(accessor) {
        const dialogService = accessor.get(_platform_dialogs_common_dialogs_service_js__WEBPACK_IMPORTED_MODULE_1__.IDialogService);
        return dialogService.about();
    }
}
class NewWindowAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.newWindow',
            title: {
                ...( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(10219, "New Window")),
                mnemonicTitle: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(10220, "New &&Window")),
            },
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: _base_common_platform_js__WEBPACK_IMPORTED_MODULE_19__.isWeb ? ((_base_common_platform_js__WEBPACK_IMPORTED_MODULE_19__.isWindows ? (0,_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_3__.KeyChord)(2048  | 41 , 1024  | 44 ) : 2048  | 512  | 1024  | 44) ) : 2048  | 1024  | 44 ,
                secondary: _base_common_platform_js__WEBPACK_IMPORTED_MODULE_19__.isWeb ? [2048  | 1024  | 44 ] : undefined
            },
            menu: {
                id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuId.MenubarFileMenu,
                group: '1_new',
                order: 3
            }
        });
    }
    run(accessor) {
        const hostService = accessor.get(_services_host_browser_host_service_js__WEBPACK_IMPORTED_MODULE_22__.IHostService);
        return hostService.openWindow({ remoteAuthority: null });
    }
}
class BlurAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.blur',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize2)(10221, 'Remove keyboard focus from focused element'))
        });
    }
    run() {
        const activeElement = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_29__.getActiveElement)();
        if ((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_29__.isHTMLElement)(activeElement)) {
            activeElement.blur();
        }
    }
}
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.registerAction2)(NewWindowAction);
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.registerAction2)(ToggleFullScreenAction);
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.registerAction2)(QuickPickRecentAction);
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.registerAction2)(OpenRecentAction);
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.registerAction2)(ReloadWindowAction);
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.registerAction2)(ShowAboutDialogAction);
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.registerAction2)(BlurAction);
const recentFilesPickerContext = ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_20__.ContextKeyExpr.and(
    _quickaccess_js__WEBPACK_IMPORTED_MODULE_21__.inQuickPickContext,
     (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_20__.ContextKeyExpr.has(inRecentFilesPickerContextKey))
)));
const quickPickNavigateNextInRecentFilesPickerId = 'workbench.action.quickOpenNavigateNextInRecentFilesPicker';
_platform_keybinding_common_keybindingsRegistry_js__WEBPACK_IMPORTED_MODULE_7__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: quickPickNavigateNextInRecentFilesPickerId,
    weight: 200  + 50,
    handler: (0,_quickaccess_js__WEBPACK_IMPORTED_MODULE_21__.getQuickNavigateHandler)(quickPickNavigateNextInRecentFilesPickerId, true),
    when: recentFilesPickerContext,
    primary: 2048  | 48 ,
    mac: { primary: 256  | 48  }
});
const quickPickNavigatePreviousInRecentFilesPicker = 'workbench.action.quickOpenNavigatePreviousInRecentFilesPicker';
_platform_keybinding_common_keybindingsRegistry_js__WEBPACK_IMPORTED_MODULE_7__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: quickPickNavigatePreviousInRecentFilesPicker,
    weight: 200  + 50,
    handler: (0,_quickaccess_js__WEBPACK_IMPORTED_MODULE_21__.getQuickNavigateHandler)(quickPickNavigatePreviousInRecentFilesPicker, false),
    when: recentFilesPickerContext,
    primary: 2048  | 1024  | 48 ,
    mac: { primary: 256  | 1024  | 48  }
});
_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_26__.CommandsRegistry.registerCommand('workbench.action.toggleConfirmBeforeClose', accessor => {
    const configurationService = accessor.get(_platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_27__.IConfigurationService);
    const setting = configurationService.inspect('window.confirmBeforeClose').userValue;
    return configurationService.updateValue('window.confirmBeforeClose', setting === 'never' ? 'keyboardOnly' : 'never');
});
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuId.MenubarFileMenu, {
    group: 'z_ConfirmClose',
    command: {
        id: 'workbench.action.toggleConfirmBeforeClose',
        title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(10222, "Confirm Before Close")),
        toggled: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_20__.ContextKeyExpr.notEquals('config.window.confirmBeforeClose', 'never')))
    },
    order: 1,
    when: _platform_contextkey_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_5__.IsWebContext
});
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuId.MenubarFileMenu, {
    title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(10223, "Open &&Recent")),
    submenu: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuId.MenubarRecentMenu,
    group: '2_open',
    order: 4
});



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/media/part.css.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/media/part.css.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ css),
/* harmony export */   "default": () => (/* binding */ css)
/* harmony export */ });
/* harmony import */ var _external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../external/rollup-plugin-styles/dist/runtime/inject-css.js */ "./node_modules/vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js");

var css = ".monaco-workbench .part{box-sizing:border-box;overflow:hidden}.monaco-workbench .part>.drop-block-overlay.visible{visibility:visible}.monaco-workbench .part>.drop-block-overlay{height:100%;opacity:0;position:absolute;top:0;visibility:hidden;width:100%;z-index:12}.monaco-workbench .part>.header-or-footer,.monaco-workbench .part>.title{box-sizing:border-box;display:none;display:flex;height:35px;overflow:hidden}.monaco-workbench .part>.title{padding-left:8px;padding-right:8px}.monaco-workbench .part>.title>.title-label{line-height:35px;overflow:hidden;padding-left:12px;text-overflow:ellipsis;white-space:nowrap}.monaco-workbench .part>.title>.title-label h2{cursor:default;font-size:11px;font-weight:400;margin:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.monaco-workbench .part>.title>.title-label a{cursor:default;font-size:13px;text-decoration:none}.monaco-workbench .part>.title>.title-actions{flex:1;height:35px;padding-left:5px}.monaco-workbench .part>.title>.title-actions .action-label{background-position:50%;background-repeat:no-repeat;background-size:16px;display:block}.monaco-workbench .part>.title>.title-actions .action-label .label{display:none}.monaco-workbench .part>.content{font-size:13px}.monaco-workbench .part.editor>.content .editor-group-container>.monaco-progress-container,.monaco-workbench .part>.content>.monaco-progress-container{left:0;position:absolute;top:33px;z-index:5}";
(0,_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__["default"])(css,{});



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/panecomposite.js":
/*!******************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/panecomposite.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Extensions: () => (/* binding */ Extensions),
/* harmony export */   PaneComposite: () => (/* binding */ PaneComposite),
/* harmony export */   PaneCompositeDescriptor: () => (/* binding */ PaneCompositeDescriptor),
/* harmony export */   PaneCompositeRegistry: () => (/* binding */ PaneCompositeRegistry)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../platform/registry/common/platform.js */ "./node_modules/vscode/vscode/src/vs/platform/registry/common/platform.js");
/* harmony import */ var _composite_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./composite.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/composite.js");
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../platform/instantiation/common/instantiation.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var _base_common_actions_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../base/common/actions.js */ "./node_modules/vscode/vscode/src/vs/base/common/actions.js");
/* harmony import */ var _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../platform/actions/common/actions.js */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var _platform_contextview_browser_contextView_service_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../platform/contextview/browser/contextView.service.js */ "./node_modules/vscode/vscode/src/vs/platform/contextview/browser/contextView.service.js");
/* harmony import */ var _platform_storage_common_storage_service_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../platform/storage/common/storage.service.js */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var _platform_telemetry_common_telemetry_service_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../platform/telemetry/common/telemetry.service.js */ "./node_modules/vscode/vscode/src/vs/platform/telemetry/common/telemetry.service.js");
/* harmony import */ var _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../platform/theme/common/themeService.service.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.service.js");
/* harmony import */ var _platform_workspace_common_workspace_service_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../platform/workspace/common/workspace.service.js */ "./node_modules/vscode/vscode/src/vs/platform/workspace/common/workspace.service.js");
/* harmony import */ var _parts_views_viewPaneContainer_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./parts/views/viewPaneContainer.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/views/viewPaneContainer.js");
/* harmony import */ var _services_extensions_common_extensions_service_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../services/extensions/common/extensions.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/extensions/common/extensions.service.js");
/* harmony import */ var _parts_views_viewPane_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./parts/views/viewPane.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/views/viewPane.js");














let PaneComposite = class PaneComposite extends _composite_js__WEBPACK_IMPORTED_MODULE_2__.Composite {
    constructor(id, telemetryService, storageService, instantiationService, themeService, contextMenuService, extensionService, contextService) {
        super(id, telemetryService, themeService, storageService);
        this.storageService = storageService;
        this.instantiationService = instantiationService;
        this.contextMenuService = contextMenuService;
        this.extensionService = extensionService;
        this.contextService = contextService;
    }
    create(parent) {
        super.create(parent);
        this.viewPaneContainer = this._register(this.createViewPaneContainer(parent));
        this._register(this.viewPaneContainer.onTitleAreaUpdate(() => this.updateTitleArea()));
        this.viewPaneContainer.create(parent);
    }
    setVisible(visible) {
        super.setVisible(visible);
        this.viewPaneContainer?.setVisible(visible);
    }
    layout(dimension) {
        this.viewPaneContainer?.layout(dimension);
    }
    setBoundarySashes(sashes) {
        this.viewPaneContainer?.setBoundarySashes(sashes);
    }
    getOptimalWidth() {
        return this.viewPaneContainer?.getOptimalWidth() ?? 0;
    }
    openView(id, focus) {
        return this.viewPaneContainer?.openView(id, focus);
    }
    getViewPaneContainer() {
        return this.viewPaneContainer;
    }
    getActionsContext() {
        return this.getViewPaneContainer()?.getActionsContext();
    }
    getContextMenuActions() {
        return this.viewPaneContainer?.menuActions?.getContextMenuActions() ?? [];
    }
    getMenuIds() {
        const result = [];
        if (this.viewPaneContainer?.menuActions) {
            result.push(this.viewPaneContainer.menuActions.menuId);
            if (this.viewPaneContainer.isViewMergedWithContainer()) {
                result.push(this.viewPaneContainer.panes[0].menuActions.menuId);
            }
        }
        return result;
    }
    getActions() {
        const result = [];
        if (this.viewPaneContainer?.menuActions) {
            result.push(...this.viewPaneContainer.menuActions.getPrimaryActions());
            if (this.viewPaneContainer.isViewMergedWithContainer()) {
                const viewPane = this.viewPaneContainer.panes[0];
                if (viewPane.shouldShowFilterInHeader()) {
                    result.push(_parts_views_viewPane_js__WEBPACK_IMPORTED_MODULE_13__.VIEWPANE_FILTER_ACTION);
                }
                result.push(...viewPane.menuActions.getPrimaryActions());
            }
        }
        return result;
    }
    getSecondaryActions() {
        if (!this.viewPaneContainer?.menuActions) {
            return [];
        }
        const viewPaneActions = this.viewPaneContainer.isViewMergedWithContainer() ? this.viewPaneContainer.panes[0].menuActions.getSecondaryActions() : [];
        let menuActions = this.viewPaneContainer.menuActions.getSecondaryActions();
        const viewsSubmenuActionIndex = menuActions.findIndex(action => action instanceof _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_5__.SubmenuItemAction && action.item.submenu === _parts_views_viewPaneContainer_js__WEBPACK_IMPORTED_MODULE_11__.ViewsSubMenu);
        if (viewsSubmenuActionIndex !== -1) {
            const viewsSubmenuAction = menuActions[viewsSubmenuActionIndex];
            if (( viewsSubmenuAction.actions.some(({ enabled }) => enabled))) {
                if (menuActions.length === 1 && viewPaneActions.length === 0) {
                    menuActions = viewsSubmenuAction.actions.slice();
                }
                else if (viewsSubmenuActionIndex !== 0) {
                    menuActions = [viewsSubmenuAction, ...menuActions.slice(0, viewsSubmenuActionIndex), ...menuActions.slice(viewsSubmenuActionIndex + 1)];
                }
            }
            else {
                menuActions.splice(viewsSubmenuActionIndex, 1);
            }
        }
        if (menuActions.length && viewPaneActions.length) {
            return [
                ...menuActions,
                ( new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_4__.Separator()),
                ...viewPaneActions
            ];
        }
        return menuActions.length ? menuActions : viewPaneActions;
    }
    getActionViewItem(action, options) {
        return this.viewPaneContainer?.getActionViewItem(action, options);
    }
    getTitle() {
        return this.viewPaneContainer?.getTitle() ?? '';
    }
    focus() {
        super.focus();
        this.viewPaneContainer?.focus();
    }
};
PaneComposite = ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _platform_telemetry_common_telemetry_service_js__WEBPACK_IMPORTED_MODULE_8__.ITelemetryService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_storage_common_storage_service_js__WEBPACK_IMPORTED_MODULE_7__.IStorageService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_3__.IInstantiationService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_9__.IThemeService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _platform_contextview_browser_contextView_service_js__WEBPACK_IMPORTED_MODULE_6__.IContextMenuService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _services_extensions_common_extensions_service_js__WEBPACK_IMPORTED_MODULE_12__.IExtensionService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, _platform_workspace_common_workspace_service_js__WEBPACK_IMPORTED_MODULE_10__.IWorkspaceContextService))
], PaneComposite));
class PaneCompositeDescriptor extends _composite_js__WEBPACK_IMPORTED_MODULE_2__.CompositeDescriptor {
    static create(ctor, id, name, cssClass, order, requestedIndex, iconUrl) {
        return ( new PaneCompositeDescriptor(ctor, id, name, cssClass, order, requestedIndex, iconUrl));
    }
    constructor(ctor, id, name, cssClass, order, requestedIndex, iconUrl) {
        super(ctor, id, name, cssClass, order, requestedIndex);
        this.iconUrl = iconUrl;
    }
}
const Extensions = {
    Viewlets: 'workbench.contributions.viewlets',
    Panels: 'workbench.contributions.panels',
    Auxiliary: 'workbench.contributions.auxiliary',
};
class PaneCompositeRegistry extends _composite_js__WEBPACK_IMPORTED_MODULE_2__.CompositeRegistry {
    registerPaneComposite(descriptor) {
        super.registerComposite(descriptor);
    }
    deregisterPaneComposite(id) {
        super.deregisterComposite(id);
    }
    getPaneComposite(id) {
        return this.getComposite(id);
    }
    getPaneComposites() {
        return this.getComposites();
    }
}
_platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.Registry.add(Extensions.Viewlets, ( new PaneCompositeRegistry()));
_platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.Registry.add(Extensions.Panels, ( new PaneCompositeRegistry()));
_platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.Registry.add(Extensions.Auxiliary, ( new PaneCompositeRegistry()));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/part.js":
/*!*********************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/part.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MultiWindowParts: () => (/* binding */ MultiWindowParts),
/* harmony export */   Part: () => (/* binding */ Part)
/* harmony export */ });
/* harmony import */ var _media_part_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./media/part.css.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/media/part.css.js");
/* harmony import */ var _common_component_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/component.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/component.js");
/* harmony import */ var _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../base/browser/dom.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../base/common/event.js */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var _base_common_types_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../base/common/types.js */ "./node_modules/vscode/vscode/src/vs/base/common/types.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");






class Part extends _common_component_js__WEBPACK_IMPORTED_MODULE_1__.Component {
    get dimension() { return this._dimension; }
    get contentPosition() { return this._contentPosition; }
    constructor(id, options, themeService, storageService, layoutService) {
        super(id, themeService, storageService);
        this.options = options;
        this.layoutService = layoutService;
        this._onDidVisibilityChange = this._register(( new _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__.Emitter()));
        this.onDidVisibilityChange = this._onDidVisibilityChange.event;
        this._onDidChange = this._register(( new _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__.Emitter()));
        this._register(layoutService.registerPart(this));
    }
    onThemeChange(theme) {
        if (this.parent) {
            super.onThemeChange(theme);
        }
    }
    create(parent, options) {
        this.parent = parent;
        this.titleArea = this.createTitleArea(parent, options);
        this.contentArea = this.createContentArea(parent, options);
        this.partLayout = ( new PartLayout(this.options, this.contentArea));
        this.updateStyles();
    }
    getContainer() {
        return this.parent;
    }
    createTitleArea(parent, options) {
        return undefined;
    }
    getTitleArea() {
        return this.titleArea;
    }
    createContentArea(parent, options) {
        return undefined;
    }
    getContentArea() {
        return this.contentArea;
    }
    setHeaderArea(headerContainer) {
        if (this.headerArea) {
            throw ( new Error('Header already exists'));
        }
        if (!this.parent || !this.titleArea) {
            return;
        }
        (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.prepend)(this.parent, headerContainer);
        headerContainer.classList.add('header-or-footer');
        headerContainer.classList.add('header');
        this.headerArea = headerContainer;
        this.partLayout?.setHeaderVisibility(true);
        this.relayout();
    }
    setFooterArea(footerContainer) {
        if (this.footerArea) {
            throw ( new Error('Footer already exists'));
        }
        if (!this.parent || !this.titleArea) {
            return;
        }
        this.parent.appendChild(footerContainer);
        footerContainer.classList.add('header-or-footer');
        footerContainer.classList.add('footer');
        this.footerArea = footerContainer;
        this.partLayout?.setFooterVisibility(true);
        this.relayout();
    }
    removeHeaderArea() {
        if (this.headerArea) {
            this.headerArea.remove();
            this.headerArea = undefined;
            this.partLayout?.setHeaderVisibility(false);
            this.relayout();
        }
    }
    removeFooterArea() {
        if (this.footerArea) {
            this.footerArea.remove();
            this.footerArea = undefined;
            this.partLayout?.setFooterVisibility(false);
            this.relayout();
        }
    }
    relayout() {
        if (this.dimension && this.contentPosition) {
            this.layout(this.dimension.width, this.dimension.height, this.contentPosition.top, this.contentPosition.left);
        }
    }
    layoutContents(width, height) {
        const partLayout = (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_4__.assertIsDefined)(this.partLayout);
        return partLayout.layout(width, height);
    }
    get onDidChange() { return this._onDidChange.event; }
    layout(width, height, top, left) {
        this._dimension = ( new _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.Dimension(width, height));
        this._contentPosition = { top, left };
    }
    setVisible(visible) {
        this._onDidVisibilityChange.fire(visible);
    }
}
class PartLayout {
    static { this.HEADER_HEIGHT = 35; }
    static { this.TITLE_HEIGHT = 35; }
    static { this.Footer_HEIGHT = 35; }
    constructor(options, contentArea) {
        this.options = options;
        this.contentArea = contentArea;
        this.headerVisible = false;
        this.footerVisible = false;
    }
    layout(width, height) {
        let titleSize;
        if (this.options.hasTitle) {
            titleSize = ( new _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.Dimension(width, Math.min(height, PartLayout.TITLE_HEIGHT)));
        }
        else {
            titleSize = _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.Dimension.None;
        }
        let headerSize;
        if (this.headerVisible) {
            headerSize = ( new _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.Dimension(width, Math.min(height, PartLayout.HEADER_HEIGHT)));
        }
        else {
            headerSize = _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.Dimension.None;
        }
        let footerSize;
        if (this.footerVisible) {
            footerSize = ( new _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.Dimension(width, Math.min(height, PartLayout.Footer_HEIGHT)));
        }
        else {
            footerSize = _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.Dimension.None;
        }
        let contentWidth = width;
        if (this.options && typeof this.options.borderWidth === 'function') {
            contentWidth -= this.options.borderWidth();
        }
        const contentSize = ( new _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.Dimension(
            contentWidth,
            height - titleSize.height - headerSize.height - footerSize.height
        ));
        if (this.contentArea) {
            (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.size)(this.contentArea, contentSize.width, contentSize.height);
        }
        return { headerSize, titleSize, contentSize, footerSize };
    }
    setFooterVisibility(visible) {
        this.footerVisible = visible;
    }
    setHeaderVisibility(visible) {
        this.headerVisible = visible;
    }
}
class MultiWindowParts extends _common_component_js__WEBPACK_IMPORTED_MODULE_1__.Component {
    constructor() {
        super(...arguments);
        this._parts = ( new Set());
    }
    get parts() { return Array.from(this._parts); }
    registerPart(part) {
        this._parts.add(part);
        return (0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_5__.toDisposable)(() => this.unregisterPart(part));
    }
    unregisterPart(part) {
        this._parts.delete(part);
    }
    getPart(container) {
        return this.getPartByDocument(container.ownerDocument);
    }
    getPartByDocument(document) {
        if (this._parts.size > 1) {
            for (const part of this._parts) {
                if (part.element?.ownerDocument === document) {
                    return part;
                }
            }
        }
        return this.mainPart;
    }
    get activePart() {
        return this.getPartByDocument((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.getActiveDocument)());
    }
}



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/auxiliarybar/auxiliaryBarActions.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/auxiliarybar/auxiliaryBarActions.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ToggleAuxiliaryBarAction: () => (/* binding */ ToggleAuxiliaryBarAction)
/* harmony export */ });
/* harmony import */ var _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../base/common/codicons.js */ "./node_modules/vscode/vscode/src/vs/base/common/codicons.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../platform/actions/common/actions.js */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../platform/contextkey/common/contextkey.js */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.js");
/* harmony import */ var _platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../platform/theme/common/iconRegistry.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/iconRegistry.js");
/* harmony import */ var _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../platform/action/common/actionCommonCategories.js */ "./node_modules/vscode/vscode/src/vs/platform/action/common/actionCommonCategories.js");
/* harmony import */ var _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../common/contextkeys.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/contextkeys.js");
/* harmony import */ var _common_views_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../common/views.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/views.js");
/* harmony import */ var _services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../services/layout/browser/layoutService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/layout/browser/layoutService.service.js");
/* harmony import */ var _services_panecomposite_browser_panecomposite_service_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../services/panecomposite/browser/panecomposite.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/panecomposite/browser/panecomposite.service.js");










const auxiliaryBarRightIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_4__.registerIcon)('auxiliarybar-right-layout-icon', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.layoutSidebarRight, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9449, 'Icon to toggle the auxiliary bar off in its right position.')));
const auxiliaryBarRightOffIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_4__.registerIcon)('auxiliarybar-right-off-layout-icon', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.layoutSidebarRightOff, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9450, 'Icon to toggle the auxiliary bar on in its right position.')));
const auxiliaryBarLeftIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_4__.registerIcon)('auxiliarybar-left-layout-icon', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.layoutSidebarLeft, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9451, 'Icon to toggle the auxiliary bar in its left position.')));
const auxiliaryBarLeftOffIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_4__.registerIcon)('auxiliarybar-left-off-layout-icon', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.layoutSidebarLeftOff, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9452, 'Icon to toggle the auxiliary bar on in its left position.')));
class ToggleAuxiliaryBarAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.Action2 {
    static { this.ID = 'workbench.action.toggleAuxiliaryBar'; }
    static { this.LABEL = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9453, "Toggle Secondary Side Bar Visibility")); }
    constructor() {
        super({
            id: ToggleAuxiliaryBarAction.ID,
            title: ToggleAuxiliaryBarAction.LABEL,
            toggled: {
                condition: _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_6__.AuxiliaryBarVisibleContext,
                title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9454, "Secondary Side Bar")),
                mnemonicTitle: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9455, "Secondary Si&&de Bar")),
            },
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_5__.Categories.View,
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: 2048  | 512  | 32
            },
            menu: [
                {
                    id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuId.LayoutControlMenuSubmenu,
                    group: '0_workbench_layout',
                    order: 1
                },
                {
                    id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuId.MenubarAppearanceMenu,
                    group: '2_workbench_layout',
                    order: 2
                }
            ]
        });
    }
    async run(accessor) {
        const layoutService = accessor.get(_services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_8__.IWorkbenchLayoutService);
        layoutService.setPartHidden(layoutService.isVisible("workbench.parts.auxiliarybar" ), "workbench.parts.auxiliarybar" );
    }
}
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.registerAction2)(ToggleAuxiliaryBarAction);
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.registerAction2)(class FocusAuxiliaryBarAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.Action2 {
    static { this.ID = 'workbench.action.focusAuxiliaryBar'; }
    static { this.LABEL = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9456, "Focus into Secondary Side Bar")); }
    constructor() {
        super({
            id: FocusAuxiliaryBarAction.ID,
            title: FocusAuxiliaryBarAction.LABEL,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_5__.Categories.View,
            f1: true,
        });
    }
    async run(accessor) {
        const paneCompositeService = accessor.get(_services_panecomposite_browser_panecomposite_service_js__WEBPACK_IMPORTED_MODULE_9__.IPaneCompositePartService);
        const layoutService = accessor.get(_services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_8__.IWorkbenchLayoutService);
        if (!layoutService.isVisible("workbench.parts.auxiliarybar" )) {
            layoutService.setPartHidden(false, "workbench.parts.auxiliarybar" );
        }
        const composite = paneCompositeService.getActivePaneComposite(2 );
        composite?.focus();
    }
});
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuRegistry.appendMenuItems([
    {
        id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuId.LayoutControlMenu,
        item: {
            group: '0_workbench_toggles',
            command: {
                id: ToggleAuxiliaryBarAction.ID,
                title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9457, "Toggle Secondary Side Bar")),
                toggled: { condition: _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_6__.AuxiliaryBarVisibleContext, icon: auxiliaryBarLeftIcon },
                icon: auxiliaryBarLeftOffIcon,
            },
            when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.and( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.or(
                 (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.equals('config.workbench.layoutControl.type', 'toggles')),
                 (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.equals('config.workbench.layoutControl.type', 'both'))
            )),  (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.equals('config.workbench.sideBar.location', 'right'))))),
            order: 0
        }
    }, {
        id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuId.LayoutControlMenu,
        item: {
            group: '0_workbench_toggles',
            command: {
                id: ToggleAuxiliaryBarAction.ID,
                title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9457, "Toggle Secondary Side Bar")),
                toggled: { condition: _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_6__.AuxiliaryBarVisibleContext, icon: auxiliaryBarRightIcon },
                icon: auxiliaryBarRightOffIcon,
            },
            when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.and( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.or(
                 (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.equals('config.workbench.layoutControl.type', 'toggles')),
                 (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.equals('config.workbench.layoutControl.type', 'both'))
            )),  (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.equals('config.workbench.sideBar.location', 'left'))))),
            order: 2
        }
    }, {
        id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuId.ViewTitleContext,
        item: {
            group: '3_workbench_layout_move',
            command: {
                id: ToggleAuxiliaryBarAction.ID,
                title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9458, 'Hide Secondary Side Bar')),
            },
            when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.and(_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_6__.AuxiliaryBarVisibleContext,  (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_3__.ContextKeyExpr.equals(
                'viewLocation',
                (0,_common_views_js__WEBPACK_IMPORTED_MODULE_7__.ViewContainerLocationToString)(2 )
            ))))),
            order: 2
        }
    }
]);



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/compositeBarActions.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/compositeBarActions.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CompositeActionViewItem: () => (/* binding */ CompositeActionViewItem),
/* harmony export */   CompositeBarAction: () => (/* binding */ CompositeBarAction),
/* harmony export */   CompositeBarActionViewItem: () => (/* binding */ CompositeBarActionViewItem),
/* harmony export */   CompositeOverflowActivityAction: () => (/* binding */ CompositeOverflowActivityAction),
/* harmony export */   CompositeOverflowActivityActionViewItem: () => (/* binding */ CompositeOverflowActivityActionViewItem),
/* harmony export */   ToggleCompositeBadgeAction: () => (/* binding */ ToggleCompositeBadgeAction),
/* harmony export */   ToggleCompositePinnedAction: () => (/* binding */ ToggleCompositePinnedAction)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _base_common_actions_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../base/common/actions.js */ "./node_modules/vscode/vscode/src/vs/base/common/actions.js");
/* harmony import */ var _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../base/browser/dom.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var _platform_commands_common_commands_service_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../platform/commands/common/commands.service.js */ "./node_modules/vscode/vscode/src/vs/platform/commands/common/commands.service.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _platform_contextview_browser_contextView_service_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../platform/contextview/browser/contextView.service.js */ "./node_modules/vscode/vscode/src/vs/platform/contextview/browser/contextView.service.js");
/* harmony import */ var _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../platform/theme/common/themeService.service.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.service.js");
/* harmony import */ var _services_activity_common_activity_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../services/activity/common/activity.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/activity/common/activity.js");
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../platform/instantiation/common/instantiation.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var _base_browser_dnd_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../base/browser/dnd.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dnd.js");
/* harmony import */ var _platform_keybinding_common_keybinding_service_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../platform/keybinding/common/keybinding.service.js */ "./node_modules/vscode/vscode/src/vs/platform/keybinding/common/keybinding.service.js");
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../base/common/event.js */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var _dnd_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../dnd.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/dnd.js");
/* harmony import */ var _base_browser_ui_actionbar_actionViewItems_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../base/browser/ui/actionbar/actionViewItems.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/actionbar/actionViewItems.js");
/* harmony import */ var _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../base/common/codicons.js */ "./node_modules/vscode/vscode/src/vs/base/common/codicons.js");
/* harmony import */ var _base_common_themables_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../base/common/themables.js */ "./node_modules/vscode/vscode/src/vs/base/common/themables.js");
/* harmony import */ var _platform_hover_browser_hover_service_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../platform/hover/browser/hover.service.js */ "./node_modules/vscode/vscode/src/vs/platform/hover/browser/hover.service.js");
/* harmony import */ var _base_common_async_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../base/common/async.js */ "./node_modules/vscode/vscode/src/vs/base/common/async.js");
/* harmony import */ var _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../platform/configuration/common/configuration.service.js */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var _platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../platform/theme/common/colorUtils.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colorUtils.js");
/* harmony import */ var _platform_theme_common_colors_baseColors_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../platform/theme/common/colors/baseColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/baseColors.js");
/* harmony import */ var _platform_theme_common_colors_chartsColors_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../platform/theme/common/colors/chartsColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/chartsColors.js");
/* harmony import */ var _platform_theme_common_colors_editorColors_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../platform/theme/common/colors/editorColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/editorColors.js");
/* harmony import */ var _platform_theme_common_colors_inputColors_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../platform/theme/common/colors/inputColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/inputColors.js");
/* harmony import */ var _platform_theme_common_colors_listColors_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../platform/theme/common/colors/listColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/listColors.js");
/* harmony import */ var _platform_theme_common_colors_menuColors_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../platform/theme/common/colors/menuColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/menuColors.js");
/* harmony import */ var _platform_theme_common_colors_minimapColors_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../platform/theme/common/colors/minimapColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/minimapColors.js");
/* harmony import */ var _platform_theme_common_colors_miscColors_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../platform/theme/common/colors/miscColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/miscColors.js");
/* harmony import */ var _platform_theme_common_colors_quickpickColors_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../platform/theme/common/colors/quickpickColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/quickpickColors.js");
/* harmony import */ var _platform_theme_common_colors_searchColors_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../platform/theme/common/colors/searchColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/searchColors.js");































var CompositeBarActionViewItem_1, CompositeActionViewItem_1;
class CompositeBarAction extends _base_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.Action {
    constructor(item) {
        super(item.id, item.name, item.classNames?.join(' '), true);
        this.item = item;
        this._onDidChangeCompositeBarActionItem = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_12__.Emitter())));
        this.onDidChangeCompositeBarActionItem = this._onDidChangeCompositeBarActionItem.event;
        this._onDidChangeActivity = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_12__.Emitter())));
        this.onDidChangeActivity = this._onDidChangeActivity.event;
    }
    get compositeBarActionItem() {
        return this.item;
    }
    set compositeBarActionItem(item) {
        this._label = item.name;
        this.item = item;
        this._onDidChangeCompositeBarActionItem.fire(this);
    }
    get activity() {
        return this._activity;
    }
    set activity(activity) {
        this._activity = activity;
        this._onDidChangeActivity.fire(activity);
    }
    activate() {
        if (!this.checked) {
            this._setChecked(true);
        }
    }
    deactivate() {
        if (this.checked) {
            this._setChecked(false);
        }
    }
}
let CompositeBarActionViewItem = class CompositeBarActionViewItem extends _base_browser_ui_actionbar_actionViewItems_js__WEBPACK_IMPORTED_MODULE_14__.BaseActionViewItem {
    static { CompositeBarActionViewItem_1 = this; }
    static { this.hoverLeaveTime = 0; }
    constructor(action, options, badgesEnabled, themeService, hoverService, configurationService, keybindingService) {
        super(null, action, options);
        this.badgesEnabled = badgesEnabled;
        this.themeService = themeService;
        this.hoverService = hoverService;
        this.configurationService = configurationService;
        this.keybindingService = keybindingService;
        this.badgeDisposable = this._register(( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_5__.MutableDisposable())));
        this.hoverDisposables = this._register(( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_5__.DisposableStore())));
        this.showHoverScheduler = ( (new _base_common_async_js__WEBPACK_IMPORTED_MODULE_18__.RunOnceScheduler(() => this.showHover(), 0)));
        this.options = options;
        this._register(this.themeService.onDidColorThemeChange(this.onThemeChange, this));
        this._register(action.onDidChangeCompositeBarActionItem(() => this.update()));
        this._register(_base_common_event_js__WEBPACK_IMPORTED_MODULE_12__.Event.filter(keybindingService.onDidUpdateKeybindings, () => this.keybindingLabel !== this.computeKeybindingLabel())(() => this.updateTitle()));
        this._register(action.onDidChangeActivity(() => this.updateActivity()));
        this._register((0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_5__.toDisposable)(() => this.showHoverScheduler.cancel()));
    }
    get compositeBarActionItem() {
        return this._action.compositeBarActionItem;
    }
    updateStyles() {
        const theme = this.themeService.getColorTheme();
        const colors = this.options.colors(theme);
        if (this.label) {
            if (this.options.icon) {
                const foreground = this._action.checked ? colors.activeForegroundColor : colors.inactiveForegroundColor;
                if (this.compositeBarActionItem.iconUrl) {
                    this.label.style.backgroundColor = foreground ? ( (foreground.toString())) : '';
                    this.label.style.color = '';
                }
                else {
                    this.label.style.color = foreground ? ( (foreground.toString())) : '';
                    this.label.style.backgroundColor = '';
                }
            }
            else {
                const foreground = this._action.checked ? colors.activeForegroundColor : colors.inactiveForegroundColor;
                const borderBottomColor = this._action.checked ? colors.activeBorderBottomColor : null;
                this.label.style.color = foreground ? ( (foreground.toString())) : '';
                this.label.style.borderBottomColor = borderBottomColor ? ( (borderBottomColor.toString())) : '';
            }
            this.container.style.setProperty('--insert-border-color', colors.dragAndDropBorder ? ( (colors.dragAndDropBorder.toString())) : '');
        }
        if (this.badgeContent) {
            const badgeStyles = this.getActivity()?.badge.getColors(theme);
            const badgeFg = badgeStyles?.badgeForeground ?? colors.badgeForeground ?? theme.getColor(_platform_theme_common_colors_miscColors_js__WEBPACK_IMPORTED_MODULE_28__.badgeForeground);
            const badgeBg = badgeStyles?.badgeBackground ?? colors.badgeBackground ?? theme.getColor(_platform_theme_common_colors_miscColors_js__WEBPACK_IMPORTED_MODULE_28__.badgeBackground);
            const contrastBorderColor = badgeStyles?.badgeBorder ?? theme.getColor(_platform_theme_common_colors_baseColors_js__WEBPACK_IMPORTED_MODULE_21__.contrastBorder);
            this.badgeContent.style.color = badgeFg ? ( (badgeFg.toString())) : '';
            this.badgeContent.style.backgroundColor = badgeBg ? ( (badgeBg.toString())) : '';
            this.badgeContent.style.borderStyle = contrastBorderColor && !this.options.compact ? 'solid' : '';
            this.badgeContent.style.borderWidth = contrastBorderColor ? '1px' : '';
            this.badgeContent.style.borderColor = contrastBorderColor ? ( (contrastBorderColor.toString())) : '';
        }
    }
    render(container) {
        super.render(container);
        this.container = container;
        if (this.options.icon) {
            this.container.classList.add('icon');
        }
        if (this.options.hasPopup) {
            this.container.setAttribute('role', 'button');
            this.container.setAttribute('aria-haspopup', 'true');
        }
        else {
            this.container.setAttribute('role', 'tab');
        }
        this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.addDisposableListener)(this.container, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.EventType.MOUSE_DOWN, () => {
            this.container.classList.add('clicked');
        }));
        this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.addDisposableListener)(this.container, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.EventType.MOUSE_UP, () => {
            if (this.mouseUpTimeout) {
                clearTimeout(this.mouseUpTimeout);
            }
            this.mouseUpTimeout = setTimeout(() => {
                this.container.classList.remove('clicked');
            }, 800);
        }));
        this.label = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.append)(container, (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.$)('a'));
        this.badge = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.append)(container, (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.$)('.badge'));
        this.badgeContent = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.append)(this.badge, (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.$)('.badge-content'));
        (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.append)(container, (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.$)('.active-item-indicator'));
        (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.hide)(this.badge);
        this.update();
        this.updateStyles();
        this.updateHover();
    }
    onThemeChange(theme) {
        this.updateStyles();
    }
    update() {
        this.updateLabel();
        this.updateActivity();
        this.updateTitle();
        this.updateStyles();
    }
    getActivity() {
        if (this._action instanceof CompositeBarAction) {
            return this._action.activity;
        }
        return undefined;
    }
    updateActivity() {
        if (!this.badge || !this.badgeContent || !(this._action instanceof CompositeBarAction)) {
            return;
        }
        const activity = this.getActivity();
        this.badgeDisposable.value = ( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_5__.DisposableStore()));
        (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.clearNode)(this.badgeContent);
        (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.hide)(this.badge);
        const shouldRenderBadges = this.badgesEnabled(this.compositeBarActionItem.id);
        if (activity && shouldRenderBadges) {
            const { badge } = activity;
            const classes = [];
            if (this.options.compact) {
                classes.push('compact');
            }
            if (badge instanceof _services_activity_common_activity_js__WEBPACK_IMPORTED_MODULE_8__.ProgressBadge) {
                (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.show)(this.badge);
                classes.push('progress-badge');
            }
            else if (badge instanceof _services_activity_common_activity_js__WEBPACK_IMPORTED_MODULE_8__.NumberBadge) {
                if (badge.number) {
                    let number = ( (badge.number.toString()));
                    if (badge.number > 999) {
                        const noOfThousands = badge.number / 1000;
                        const floor = Math.floor(noOfThousands);
                        if (noOfThousands > floor) {
                            number = `${floor}K+`;
                        }
                        else {
                            number = `${noOfThousands}K`;
                        }
                    }
                    if (this.options.compact && number.length >= 3) {
                        classes.push('compact-content');
                    }
                    this.badgeContent.textContent = number;
                    (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.show)(this.badge);
                }
            }
            else if (badge instanceof _services_activity_common_activity_js__WEBPACK_IMPORTED_MODULE_8__.IconBadge) {
                classes.push('icon-badge');
                const badgeContentClassess = ['icon-overlay', ..._base_common_themables_js__WEBPACK_IMPORTED_MODULE_16__.ThemeIcon.asClassNameArray(badge.icon)];
                this.badgeContent.classList.add(...badgeContentClassess);
                this.badgeDisposable.value.add((0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_5__.toDisposable)(() => this.badgeContent?.classList.remove(...badgeContentClassess)));
                (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.show)(this.badge);
            }
            if (classes.length) {
                this.badge.classList.add(...classes);
                this.badgeDisposable.value.add((0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_5__.toDisposable)(() => this.badge.classList.remove(...classes)));
            }
        }
        this.updateTitle();
        this.updateStyles();
    }
    updateLabel() {
        this.label.className = 'action-label';
        if (this.compositeBarActionItem.classNames) {
            this.label.classList.add(...this.compositeBarActionItem.classNames);
        }
        if (!this.options.icon) {
            this.label.textContent = this.action.label;
        }
    }
    updateTitle() {
        const title = this.computeTitle();
        [this.label, this.badge, this.container].forEach(element => {
            if (element) {
                element.setAttribute('aria-label', title);
                element.setAttribute('title', '');
                element.removeAttribute('title');
            }
        });
    }
    computeTitle() {
        this.keybindingLabel = this.computeKeybindingLabel();
        let title = this.keybindingLabel ? ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(10668, "{0} ({1})", this.compositeBarActionItem.name, this.keybindingLabel)) : this.compositeBarActionItem.name;
        const badge = this.action.activity?.badge;
        if (badge?.getDescription()) {
            title = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(10669, "{0} - {1}", title, badge.getDescription()));
        }
        return title;
    }
    computeKeybindingLabel() {
        const keybinding = this.compositeBarActionItem.keybindingId ? this.keybindingService.lookupKeybinding(this.compositeBarActionItem.keybindingId) : null;
        return keybinding?.getLabel();
    }
    updateHover() {
        this.hoverDisposables.clear();
        this.updateTitle();
        this.hoverDisposables.add((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.addDisposableListener)(this.container, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.EventType.MOUSE_OVER, () => {
            if (!this.showHoverScheduler.isScheduled()) {
                if (Date.now() - CompositeBarActionViewItem_1.hoverLeaveTime < 200) {
                    this.showHover(true);
                }
                else {
                    this.showHoverScheduler.schedule(this.configurationService.getValue('workbench.hover.delay'));
                }
            }
        }, true));
        this.hoverDisposables.add((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.addDisposableListener)(this.container, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.EventType.MOUSE_LEAVE, e => {
            if (e.target === this.container) {
                CompositeBarActionViewItem_1.hoverLeaveTime = Date.now();
                this.hoverService.hideHover();
                this.showHoverScheduler.cancel();
            }
        }, true));
        this.hoverDisposables.add((0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_5__.toDisposable)(() => {
            this.hoverService.hideHover();
            this.showHoverScheduler.cancel();
        }));
    }
    showHover(skipFadeInAnimation = false) {
        if (this.lastHover && !this.lastHover.isDisposed) {
            return;
        }
        const hoverPosition = this.options.hoverOptions.position();
        this.lastHover = this.hoverService.showHover({
            target: this.container,
            content: this.computeTitle(),
            position: {
                hoverPosition,
            },
            persistence: {
                hideOnKeyDown: true,
            },
            appearance: {
                showPointer: true,
                compact: true,
                skipFadeInAnimation,
            }
        });
    }
    dispose() {
        super.dispose();
        if (this.mouseUpTimeout) {
            clearTimeout(this.mouseUpTimeout);
        }
        this.badge.remove();
    }
};
CompositeBarActionViewItem = CompositeBarActionViewItem_1 = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_7__.IThemeService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _platform_hover_browser_hover_service_js__WEBPACK_IMPORTED_MODULE_17__.IHoverService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_19__.IConfigurationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _platform_keybinding_common_keybinding_service_js__WEBPACK_IMPORTED_MODULE_11__.IKeybindingService)))
], CompositeBarActionViewItem)));
class CompositeOverflowActivityAction extends CompositeBarAction {
    constructor(showMenu) {
        super({
            id: 'additionalComposites.action',
            name: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(10670, "Additional Views")),
            classNames: _base_common_themables_js__WEBPACK_IMPORTED_MODULE_16__.ThemeIcon.asClassNameArray(_base_common_codicons_js__WEBPACK_IMPORTED_MODULE_15__.Codicon.more)
        });
        this.showMenu = showMenu;
    }
    async run() {
        this.showMenu();
    }
}
let CompositeOverflowActivityActionViewItem = class CompositeOverflowActivityActionViewItem extends CompositeBarActionViewItem {
    constructor(action, getOverflowingComposites, getActiveCompositeId, getBadge, getCompositeOpenAction, colors, hoverOptions, contextMenuService, themeService, hoverService, configurationService, keybindingService) {
        super(action, { icon: true, colors, hasPopup: true, hoverOptions }, () => true, themeService, hoverService, configurationService, keybindingService);
        this.getOverflowingComposites = getOverflowingComposites;
        this.getActiveCompositeId = getActiveCompositeId;
        this.getBadge = getBadge;
        this.getCompositeOpenAction = getCompositeOpenAction;
        this.contextMenuService = contextMenuService;
    }
    showMenu() {
        this.contextMenuService.showContextMenu({
            getAnchor: () => this.container,
            getActions: () => this.getActions(),
            getCheckedActionsRepresentation: () => 'radio',
        });
    }
    getActions() {
        return (
             (this.getOverflowingComposites().map(composite => {
                const action = this.getCompositeOpenAction(composite.id);
                action.checked = this.getActiveCompositeId() === action.id;
                const badge = this.getBadge(composite.id);
                let suffix;
                if (badge instanceof _services_activity_common_activity_js__WEBPACK_IMPORTED_MODULE_8__.NumberBadge) {
                    suffix = badge.number;
                }
                if (suffix) {
                    action.label = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(10671, "{0} ({1})", composite.name, suffix));
                }
                else {
                    action.label = composite.name || '';
                }
                return action;
            }))
        );
    }
};
CompositeOverflowActivityActionViewItem = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, _platform_contextview_browser_contextView_service_js__WEBPACK_IMPORTED_MODULE_6__.IContextMenuService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_7__.IThemeService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, _platform_hover_browser_hover_service_js__WEBPACK_IMPORTED_MODULE_17__.IHoverService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_19__.IConfigurationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(11, _platform_keybinding_common_keybinding_service_js__WEBPACK_IMPORTED_MODULE_11__.IKeybindingService)))
], CompositeOverflowActivityActionViewItem)));
let ManageExtensionAction = class ManageExtensionAction extends _base_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.Action {
    constructor(commandService) {
        super('activitybar.manage.extension', ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(10672, "Manage Extension")));
        this.commandService = commandService;
    }
    run(id) {
        return this.commandService.executeCommand('_extensions.manage', id);
    }
};
ManageExtensionAction = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, _platform_commands_common_commands_service_js__WEBPACK_IMPORTED_MODULE_4__.ICommandService)))
], ManageExtensionAction)));
let CompositeActionViewItem = class CompositeActionViewItem extends CompositeBarActionViewItem {
    static { CompositeActionViewItem_1 = this; }
    constructor(options, compositeActivityAction, toggleCompositePinnedAction, toggleCompositeBadgeAction, compositeContextMenuActionsProvider, contextMenuActionsProvider, dndHandler, compositeBar, contextMenuService, keybindingService, instantiationService, themeService, hoverService, configurationService) {
        super(compositeActivityAction, options, compositeBar.areBadgesEnabled.bind(compositeBar), themeService, hoverService, configurationService, keybindingService);
        this.compositeActivityAction = compositeActivityAction;
        this.toggleCompositePinnedAction = toggleCompositePinnedAction;
        this.toggleCompositeBadgeAction = toggleCompositeBadgeAction;
        this.compositeContextMenuActionsProvider = compositeContextMenuActionsProvider;
        this.contextMenuActionsProvider = contextMenuActionsProvider;
        this.dndHandler = dndHandler;
        this.compositeBar = compositeBar;
        this.contextMenuService = contextMenuService;
        if (!CompositeActionViewItem_1.manageExtensionAction) {
            CompositeActionViewItem_1.manageExtensionAction = instantiationService.createInstance(ManageExtensionAction);
        }
    }
    render(container) {
        super.render(container);
        this.updateChecked();
        this.updateEnabled();
        this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.addDisposableListener)(this.container, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.EventType.CONTEXT_MENU, e => {
            _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.EventHelper.stop(e, true);
            this.showContextMenu(container);
        }));
        let insertDropBefore = undefined;
        this._register(_dnd_js__WEBPACK_IMPORTED_MODULE_13__.CompositeDragAndDropObserver.INSTANCE.registerDraggable(this.container, () => { return { type: 'composite', id: this.compositeBarActionItem.id }; }, {
            onDragOver: e => {
                const isValidMove = e.dragAndDropData.getData().id !== this.compositeBarActionItem.id && this.dndHandler.onDragOver(e.dragAndDropData, this.compositeBarActionItem.id, e.eventData);
                (0,_dnd_js__WEBPACK_IMPORTED_MODULE_13__.toggleDropEffect)(e.eventData.dataTransfer, 'move', isValidMove);
                insertDropBefore = this.updateFromDragging(container, isValidMove, e.eventData);
            },
            onDragLeave: e => {
                insertDropBefore = this.updateFromDragging(container, false, e.eventData);
            },
            onDragEnd: e => {
                insertDropBefore = this.updateFromDragging(container, false, e.eventData);
            },
            onDrop: e => {
                _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.EventHelper.stop(e.eventData, true);
                this.dndHandler.drop(e.dragAndDropData, this.compositeBarActionItem.id, e.eventData, insertDropBefore);
                insertDropBefore = this.updateFromDragging(container, false, e.eventData);
            },
            onDragStart: e => {
                if (e.dragAndDropData.getData().id !== this.compositeBarActionItem.id) {
                    return;
                }
                if (e.eventData.dataTransfer) {
                    e.eventData.dataTransfer.effectAllowed = 'move';
                }
                this.blur();
            }
        }));
        [this.badge, this.label].forEach(element => this._register(( (new _base_browser_dnd_js__WEBPACK_IMPORTED_MODULE_10__.DelayedDragHandler(element, () => {
            if (!this.action.checked) {
                this.action.run();
            }
        })))));
        this.updateStyles();
    }
    updateFromDragging(element, showFeedback, event) {
        const rect = element.getBoundingClientRect();
        const posX = event.clientX;
        const posY = event.clientY;
        const height = rect.bottom - rect.top;
        const width = rect.right - rect.left;
        const forceTop = posY <= rect.top + height * 0.4;
        const forceBottom = posY > rect.bottom - height * 0.4;
        const preferTop = posY <= rect.top + height * 0.5;
        const forceLeft = posX <= rect.left + width * 0.4;
        const forceRight = posX > rect.right - width * 0.4;
        const preferLeft = posX <= rect.left + width * 0.5;
        const classes = element.classList;
        const lastClasses = {
            vertical: classes.contains('top') ? 'top' : (classes.contains('bottom') ? 'bottom' : undefined),
            horizontal: classes.contains('left') ? 'left' : (classes.contains('right') ? 'right' : undefined)
        };
        const top = forceTop || (preferTop && !lastClasses.vertical) || (!forceBottom && lastClasses.vertical === 'top');
        const bottom = forceBottom || (!preferTop && !lastClasses.vertical) || (!forceTop && lastClasses.vertical === 'bottom');
        const left = forceLeft || (preferLeft && !lastClasses.horizontal) || (!forceRight && lastClasses.horizontal === 'left');
        const right = forceRight || (!preferLeft && !lastClasses.horizontal) || (!forceLeft && lastClasses.horizontal === 'right');
        element.classList.toggle('top', showFeedback && top);
        element.classList.toggle('bottom', showFeedback && bottom);
        element.classList.toggle('left', showFeedback && left);
        element.classList.toggle('right', showFeedback && right);
        if (!showFeedback) {
            return undefined;
        }
        return { verticallyBefore: top, horizontallyBefore: left };
    }
    showContextMenu(container) {
        const actions = [this.toggleCompositePinnedAction, this.toggleCompositeBadgeAction];
        const compositeContextMenuActions = this.compositeContextMenuActionsProvider(this.compositeBarActionItem.id);
        if (compositeContextMenuActions.length) {
            actions.push(...compositeContextMenuActions);
        }
        if (this.compositeActivityAction.compositeBarActionItem.extensionId) {
            actions.push(( (new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.Separator())));
            actions.push(CompositeActionViewItem_1.manageExtensionAction);
        }
        const isPinned = this.compositeBar.isPinned(this.compositeBarActionItem.id);
        if (isPinned) {
            this.toggleCompositePinnedAction.label = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(10673, "Hide '{0}'", this.compositeBarActionItem.name));
            this.toggleCompositePinnedAction.checked = false;
        }
        else {
            this.toggleCompositePinnedAction.label = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(10674, "Keep '{0}'", this.compositeBarActionItem.name));
        }
        const isBadgeEnabled = this.compositeBar.areBadgesEnabled(this.compositeBarActionItem.id);
        if (isBadgeEnabled) {
            this.toggleCompositeBadgeAction.label = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(10675, "Hide Badge"));
        }
        else {
            this.toggleCompositeBadgeAction.label = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(10676, "Show Badge"));
        }
        const otherActions = this.contextMenuActionsProvider();
        if (otherActions.length) {
            actions.push(( (new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.Separator())));
            actions.push(...otherActions);
        }
        const elementPosition = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.getDomNodePagePosition)(container);
        const anchor = {
            x: Math.floor(elementPosition.left + (elementPosition.width / 2)),
            y: elementPosition.top + elementPosition.height
        };
        this.contextMenuService.showContextMenu({
            getAnchor: () => anchor,
            getActions: () => actions,
            getActionsContext: () => this.compositeBarActionItem.id
        });
    }
    updateChecked() {
        if (this.action.checked) {
            this.container.classList.add('checked');
            this.container.setAttribute('aria-label', this.getTooltip() ?? this.container.title);
            this.container.setAttribute('aria-expanded', 'true');
            this.container.setAttribute('aria-selected', 'true');
        }
        else {
            this.container.classList.remove('checked');
            this.container.setAttribute('aria-label', this.getTooltip() ?? this.container.title);
            this.container.setAttribute('aria-expanded', 'false');
            this.container.setAttribute('aria-selected', 'false');
        }
        this.updateStyles();
    }
    updateEnabled() {
        if (!this.element) {
            return;
        }
        if (this.action.enabled) {
            this.element.classList.remove('disabled');
        }
        else {
            this.element.classList.add('disabled');
        }
    }
    dispose() {
        super.dispose();
        this.label.remove();
    }
};
CompositeActionViewItem = CompositeActionViewItem_1 = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, _platform_contextview_browser_contextView_service_js__WEBPACK_IMPORTED_MODULE_6__.IContextMenuService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, _platform_keybinding_common_keybinding_service_js__WEBPACK_IMPORTED_MODULE_11__.IKeybindingService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_9__.IInstantiationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(11, _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_7__.IThemeService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(12, _platform_hover_browser_hover_service_js__WEBPACK_IMPORTED_MODULE_17__.IHoverService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(13, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_19__.IConfigurationService)))
], CompositeActionViewItem)));
class ToggleCompositePinnedAction extends _base_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.Action {
    constructor(activity, compositeBar) {
        super('show.toggleCompositePinned', activity ? activity.name : ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(10677, "Toggle View Pinned")));
        this.activity = activity;
        this.compositeBar = compositeBar;
        this.checked = !!this.activity && this.compositeBar.isPinned(this.activity.id);
    }
    async run(context) {
        const id = this.activity ? this.activity.id : context;
        if (this.compositeBar.isPinned(id)) {
            this.compositeBar.unpin(id);
        }
        else {
            this.compositeBar.pin(id);
        }
    }
}
class ToggleCompositeBadgeAction extends _base_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.Action {
    constructor(compositeBarActionItem, compositeBar) {
        super('show.toggleCompositeBadge', compositeBarActionItem ? compositeBarActionItem.name : ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(10678, "Toggle View Badge")));
        this.compositeBarActionItem = compositeBarActionItem;
        this.compositeBar = compositeBar;
        this.checked = false;
    }
    async run(context) {
        const id = this.compositeBarActionItem ? this.compositeBarActionItem.id : context;
        this.compositeBar.toggleBadgeEnablement(id);
    }
}



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/binaryDiffEditor.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/binaryDiffEditor.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BinaryResourceDiffEditor: () => (/* binding */ BinaryResourceDiffEditor)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _common_editor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../common/editor.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor.js");
/* harmony import */ var _platform_telemetry_common_telemetry_service_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../platform/telemetry/common/telemetry.service.js */ "./node_modules/vscode/vscode/src/vs/platform/telemetry/common/telemetry.service.js");
/* harmony import */ var _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../platform/theme/common/themeService.service.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.service.js");
/* harmony import */ var _sideBySideEditor_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./sideBySideEditor.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/sideBySideEditor.js");
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../platform/instantiation/common/instantiation.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var _binaryEditor_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./binaryEditor.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/binaryEditor.js");
/* harmony import */ var _platform_storage_common_storage_service_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../platform/storage/common/storage.service.js */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../platform/configuration/common/configuration.service.js */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var _editor_common_services_textResourceConfiguration_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../editor/common/services/textResourceConfiguration.js */ "./node_modules/vscode/vscode/src/vs/editor/common/services/textResourceConfiguration.js");
/* harmony import */ var _services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../services/editor/common/editorGroupsService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorGroupsService.service.js");
/* harmony import */ var _services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../services/editor/common/editorService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");













let BinaryResourceDiffEditor = class BinaryResourceDiffEditor extends _sideBySideEditor_js__WEBPACK_IMPORTED_MODULE_5__.SideBySideEditor {
    static { this.ID = _common_editor_js__WEBPACK_IMPORTED_MODULE_2__.BINARY_DIFF_EDITOR_ID; }
    constructor(group, telemetryService, instantiationService, themeService, storageService, configurationService, textResourceConfigurationService, editorService, editorGroupService) {
        super(group, telemetryService, instantiationService, themeService, storageService, configurationService, textResourceConfigurationService, editorService, editorGroupService);
    }
    getMetadata() {
        const primary = this.getPrimaryEditorPane();
        const secondary = this.getSecondaryEditorPane();
        if (primary instanceof _binaryEditor_js__WEBPACK_IMPORTED_MODULE_7__.BaseBinaryResourceEditor && secondary instanceof _binaryEditor_js__WEBPACK_IMPORTED_MODULE_7__.BaseBinaryResourceEditor) {
            return ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9650, "{0}  {1}", secondary.getMetadata(), primary.getMetadata()));
        }
        return undefined;
    }
};
BinaryResourceDiffEditor = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _platform_telemetry_common_telemetry_service_js__WEBPACK_IMPORTED_MODULE_3__.ITelemetryService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_6__.IInstantiationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_4__.IThemeService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _platform_storage_common_storage_service_js__WEBPACK_IMPORTED_MODULE_8__.IStorageService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_9__.IConfigurationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _editor_common_services_textResourceConfiguration_js__WEBPACK_IMPORTED_MODULE_10__.ITextResourceConfigurationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, _services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_12__.IEditorService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, _services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_11__.IEditorGroupsService)))
], BinaryResourceDiffEditor)));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/binaryEditor.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/binaryEditor.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BaseBinaryResourceEditor: () => (/* binding */ BaseBinaryResourceEditor)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../base/common/event.js */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var _common_editor_binaryEditorModel_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../common/editor/binaryEditorModel.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/binaryEditorModel.js");
/* harmony import */ var _platform_storage_common_storage_service_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../platform/storage/common/storage.service.js */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../platform/files/common/files.js */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.js");
/* harmony import */ var _editorPlaceholder_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./editorPlaceholder.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorPlaceholder.js");







let BaseBinaryResourceEditor = class BaseBinaryResourceEditor extends _editorPlaceholder_js__WEBPACK_IMPORTED_MODULE_6__.EditorPlaceholder {
    constructor(id, group, callbacks, telemetryService, themeService, storageService) {
        super(id, group, telemetryService, themeService, storageService);
        this.callbacks = callbacks;
        this._onDidChangeMetadata = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_2__.Emitter())));
        this.onDidChangeMetadata = this._onDidChangeMetadata.event;
        this._onDidOpenInPlace = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_2__.Emitter())));
        this.onDidOpenInPlace = this._onDidOpenInPlace.event;
    }
    getTitle() {
        return this.input ? this.input.getName() : ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(11365, "Binary Viewer"));
    }
    async getContents(input, options) {
        const model = await input.resolve();
        if (!(model instanceof _common_editor_binaryEditorModel_js__WEBPACK_IMPORTED_MODULE_3__.BinaryEditorModel)) {
            throw ( (new Error('Unable to open file as binary')));
        }
        const size = model.getSize();
        this.handleMetadataChanged(typeof size === 'number' ? _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_5__.ByteSize.formatSize(size) : '');
        return {
            icon: '$(warning)',
            label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(
                11366,
                "The file is not displayed in the text editor because it is either binary or uses an unsupported text encoding."
            )),
            actions: [
                {
                    label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(11367, "Open Anyway")),
                    run: async () => {
                        await this.callbacks.openInternal(input, options);
                        this._onDidOpenInPlace.fire();
                    }
                }
            ]
        };
    }
    handleMetadataChanged(meta) {
        this.metadata = meta;
        this._onDidChangeMetadata.fire();
    }
    getMetadata() {
        return this.metadata;
    }
};
BaseBinaryResourceEditor = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _platform_storage_common_storage_service_js__WEBPACK_IMPORTED_MODULE_4__.IStorageService)))
], BaseBinaryResourceEditor)));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/breadcrumbs.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/breadcrumbs.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BreadcrumbsConfig: () => (/* binding */ BreadcrumbsConfig),
/* harmony export */   BreadcrumbsService: () => (/* binding */ BreadcrumbsService)
/* harmony export */ });
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../base/common/event.js */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _platform_configuration_common_configurationRegistry_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../platform/configuration/common/configurationRegistry.js */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configurationRegistry.js");
/* harmony import */ var _platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../platform/registry/common/platform.js */ "./node_modules/vscode/vscode/src/vs/platform/registry/common/platform.js");
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../platform/instantiation/common/instantiation.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");





class BreadcrumbsService {
    constructor() {
        this._map = ( (new Map()));
    }
    register(group, widget) {
        if (( (this._map.has(group)))) {
            throw ( (new Error(`group (${group}) has already a widget`)));
        }
        this._map.set(group, widget);
        return {
            dispose: () => this._map.delete(group)
        };
    }
    getWidget(group) {
        return this._map.get(group);
    }
}
class BreadcrumbsConfig {
    constructor() {
    }
    static { this.IsEnabled = BreadcrumbsConfig._stub('breadcrumbs.enabled'); }
    static { this.UseQuickPick = BreadcrumbsConfig._stub('breadcrumbs.useQuickPick'); }
    static { this.FilePath = BreadcrumbsConfig._stub('breadcrumbs.filePath'); }
    static { this.SymbolPath = BreadcrumbsConfig._stub('breadcrumbs.symbolPath'); }
    static { this.SymbolSortOrder = BreadcrumbsConfig._stub('breadcrumbs.symbolSortOrder'); }
    static { this.Icons = BreadcrumbsConfig._stub('breadcrumbs.icons'); }
    static { this.TitleScrollbarSizing = BreadcrumbsConfig._stub('workbench.editor.titleScrollbarSizing'); }
    static { this.FileExcludes = BreadcrumbsConfig._stub('files.exclude'); }
    static _stub(name) {
        return {
            bindTo(service) {
                const onDidChange = ( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_0__.Emitter()));
                const listener = service.onDidChangeConfiguration(e => {
                    if (e.affectsConfiguration(name)) {
                        onDidChange.fire(undefined);
                    }
                });
                return new (class {
                    constructor() {
                        this.name = name;
                        this.onDidChange = onDidChange.event;
                    }
                    getValue(overrides) {
                        if (overrides) {
                            return service.getValue(name, overrides);
                        }
                        else {
                            return service.getValue(name);
                        }
                    }
                    updateValue(newValue, overrides) {
                        if (overrides) {
                            return service.updateValue(name, newValue, overrides);
                        }
                        else {
                            return service.updateValue(name, newValue);
                        }
                    }
                    dispose() {
                        listener.dispose();
                        onDidChange.dispose();
                    }
                });
            }
        };
    }
}
( (_platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_3__.Registry.as(_platform_configuration_common_configurationRegistry_js__WEBPACK_IMPORTED_MODULE_2__.Extensions.Configuration))).registerConfiguration({
    id: 'breadcrumbs',
    title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4169, "Breadcrumb Navigation")),
    order: 101,
    type: 'object',
    properties: {
        'breadcrumbs.enabled': {
            description: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4170, "Enable/disable navigation breadcrumbs.")),
            type: 'boolean',
            default: true
        },
        'breadcrumbs.filePath': {
            description: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(
                4171,
                "Controls whether and how file paths are shown in the breadcrumbs view."
            )),
            type: 'string',
            default: 'on',
            enum: ['on', 'off', 'last'],
            enumDescriptions: [
                ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4172, "Show the file path in the breadcrumbs view.")),
                ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4173, "Do not show the file path in the breadcrumbs view.")),
                ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(
                    4174,
                    "Only show the last element of the file path in the breadcrumbs view."
                )),
            ]
        },
        'breadcrumbs.symbolPath': {
            description: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(
                4175,
                "Controls whether and how symbols are shown in the breadcrumbs view."
            )),
            type: 'string',
            default: 'on',
            enum: ['on', 'off', 'last'],
            enumDescriptions: [
                ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4176, "Show all symbols in the breadcrumbs view.")),
                ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4177, "Do not show symbols in the breadcrumbs view.")),
                ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4178, "Only show the current symbol in the breadcrumbs view.")),
            ]
        },
        'breadcrumbs.symbolSortOrder': {
            description: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4179, "Controls how symbols are sorted in the breadcrumbs outline view.")),
            type: 'string',
            default: 'position',
            scope: 5 ,
            enum: ['position', 'name', 'type'],
            enumDescriptions: [
                ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4180, "Show symbol outline in file position order.")),
                ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4181, "Show symbol outline in alphabetical order.")),
                ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4182, "Show symbol outline in symbol type order.")),
            ]
        },
        'breadcrumbs.icons': {
            description: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4183, "Render breadcrumb items with icons.")),
            type: 'boolean',
            default: true
        },
        'breadcrumbs.showFiles': {
            type: 'boolean',
            default: true,
            scope: 5 ,
            markdownDescription: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4184, "When enabled breadcrumbs show `file`-symbols."))
        },
        'breadcrumbs.showModules': {
            type: 'boolean',
            default: true,
            scope: 5 ,
            markdownDescription: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4185, "When enabled breadcrumbs show `module`-symbols."))
        },
        'breadcrumbs.showNamespaces': {
            type: 'boolean',
            default: true,
            scope: 5 ,
            markdownDescription: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4186, "When enabled breadcrumbs show `namespace`-symbols."))
        },
        'breadcrumbs.showPackages': {
            type: 'boolean',
            default: true,
            scope: 5 ,
            markdownDescription: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4187, "When enabled breadcrumbs show `package`-symbols."))
        },
        'breadcrumbs.showClasses': {
            type: 'boolean',
            default: true,
            scope: 5 ,
            markdownDescription: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4188, "When enabled breadcrumbs show `class`-symbols."))
        },
        'breadcrumbs.showMethods': {
            type: 'boolean',
            default: true,
            scope: 5 ,
            markdownDescription: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4189, "When enabled breadcrumbs show `method`-symbols."))
        },
        'breadcrumbs.showProperties': {
            type: 'boolean',
            default: true,
            scope: 5 ,
            markdownDescription: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4190, "When enabled breadcrumbs show `property`-symbols."))
        },
        'breadcrumbs.showFields': {
            type: 'boolean',
            default: true,
            scope: 5 ,
            markdownDescription: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4191, "When enabled breadcrumbs show `field`-symbols."))
        },
        'breadcrumbs.showConstructors': {
            type: 'boolean',
            default: true,
            scope: 5 ,
            markdownDescription: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4192, "When enabled breadcrumbs show `constructor`-symbols."))
        },
        'breadcrumbs.showEnums': {
            type: 'boolean',
            default: true,
            scope: 5 ,
            markdownDescription: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4193, "When enabled breadcrumbs show `enum`-symbols."))
        },
        'breadcrumbs.showInterfaces': {
            type: 'boolean',
            default: true,
            scope: 5 ,
            markdownDescription: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4194, "When enabled breadcrumbs show `interface`-symbols."))
        },
        'breadcrumbs.showFunctions': {
            type: 'boolean',
            default: true,
            scope: 5 ,
            markdownDescription: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4195, "When enabled breadcrumbs show `function`-symbols."))
        },
        'breadcrumbs.showVariables': {
            type: 'boolean',
            default: true,
            scope: 5 ,
            markdownDescription: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4196, "When enabled breadcrumbs show `variable`-symbols."))
        },
        'breadcrumbs.showConstants': {
            type: 'boolean',
            default: true,
            scope: 5 ,
            markdownDescription: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4197, "When enabled breadcrumbs show `constant`-symbols."))
        },
        'breadcrumbs.showStrings': {
            type: 'boolean',
            default: true,
            scope: 5 ,
            markdownDescription: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4198, "When enabled breadcrumbs show `string`-symbols."))
        },
        'breadcrumbs.showNumbers': {
            type: 'boolean',
            default: true,
            scope: 5 ,
            markdownDescription: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4199, "When enabled breadcrumbs show `number`-symbols."))
        },
        'breadcrumbs.showBooleans': {
            type: 'boolean',
            default: true,
            scope: 5 ,
            markdownDescription: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4200, "When enabled breadcrumbs show `boolean`-symbols."))
        },
        'breadcrumbs.showArrays': {
            type: 'boolean',
            default: true,
            scope: 5 ,
            markdownDescription: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4201, "When enabled breadcrumbs show `array`-symbols."))
        },
        'breadcrumbs.showObjects': {
            type: 'boolean',
            default: true,
            scope: 5 ,
            markdownDescription: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4202, "When enabled breadcrumbs show `object`-symbols."))
        },
        'breadcrumbs.showKeys': {
            type: 'boolean',
            default: true,
            scope: 5 ,
            markdownDescription: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4203, "When enabled breadcrumbs show `key`-symbols."))
        },
        'breadcrumbs.showNull': {
            type: 'boolean',
            default: true,
            scope: 5 ,
            markdownDescription: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4204, "When enabled breadcrumbs show `null`-symbols."))
        },
        'breadcrumbs.showEnumMembers': {
            type: 'boolean',
            default: true,
            scope: 5 ,
            markdownDescription: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4205, "When enabled breadcrumbs show `enumMember`-symbols."))
        },
        'breadcrumbs.showStructs': {
            type: 'boolean',
            default: true,
            scope: 5 ,
            markdownDescription: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4206, "When enabled breadcrumbs show `struct`-symbols."))
        },
        'breadcrumbs.showEvents': {
            type: 'boolean',
            default: true,
            scope: 5 ,
            markdownDescription: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4207, "When enabled breadcrumbs show `event`-symbols."))
        },
        'breadcrumbs.showOperators': {
            type: 'boolean',
            default: true,
            scope: 5 ,
            markdownDescription: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4208, "When enabled breadcrumbs show `operator`-symbols."))
        },
        'breadcrumbs.showTypeParameters': {
            type: 'boolean',
            default: true,
            scope: 5 ,
            markdownDescription: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(4209, "When enabled breadcrumbs show `typeParameter`-symbols."))
        }
    }
});



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/breadcrumbsControl.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/breadcrumbsControl.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BreadcrumbsControl: () => (/* binding */ BreadcrumbsControl),
/* harmony export */   BreadcrumbsControlFactory: () => (/* binding */ BreadcrumbsControlFactory)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../base/browser/dom.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var _base_browser_mouseEvent_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../base/browser/mouseEvent.js */ "./node_modules/vscode/vscode/src/vs/base/browser/mouseEvent.js");
/* harmony import */ var _base_browser_ui_breadcrumbs_breadcrumbsWidget_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../base/browser/ui/breadcrumbs/breadcrumbsWidget.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/breadcrumbs/breadcrumbsWidget.js");
/* harmony import */ var _base_common_arrays_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../base/common/arrays.js */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var _base_common_async_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../base/common/async.js */ "./node_modules/vscode/vscode/src/vs/base/common/async.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _base_common_resources_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../base/common/resources.js */ "./node_modules/vscode/vscode/src/vs/base/common/resources.js");
/* harmony import */ var _base_common_uri_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../base/common/uri.js */ "./node_modules/vscode/vscode/src/vs/base/common/uri.js");
/* harmony import */ var _media_breadcrumbscontrol_css_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./media/breadcrumbscontrol.css.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/media/breadcrumbscontrol.css.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../platform/actions/common/actions.js */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../platform/configuration/common/configuration.service.js */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../platform/contextkey/common/contextkey.js */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.js");
/* harmony import */ var _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../platform/contextkey/common/contextkey.service.js */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var _platform_contextview_browser_contextView_service_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../platform/contextview/browser/contextView.service.js */ "./node_modules/vscode/vscode/src/vs/platform/contextview/browser/contextView.service.js");
/* harmony import */ var _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../platform/files/common/files.js */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.js");
/* harmony import */ var _platform_files_common_files_service_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../platform/files/common/files.service.js */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.service.js");
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../platform/instantiation/common/instantiation.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var _platform_keybinding_common_keybindingsRegistry_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../platform/keybinding/common/keybindingsRegistry.js */ "./node_modules/vscode/vscode/src/vs/platform/keybinding/common/keybindingsRegistry.js");
/* harmony import */ var _platform_list_browser_listService_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../platform/list/browser/listService.js */ "./node_modules/vscode/vscode/src/vs/platform/list/browser/listService.js");
/* harmony import */ var _platform_list_browser_listService_service_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../platform/list/browser/listService.service.js */ "./node_modules/vscode/vscode/src/vs/platform/list/browser/listService.service.js");
/* harmony import */ var _platform_quickinput_common_quickInput_service_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../platform/quickinput/common/quickInput.service.js */ "./node_modules/vscode/vscode/src/vs/platform/quickinput/common/quickInput.service.js");
/* harmony import */ var _labels_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../labels.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/labels.js");
/* harmony import */ var _breadcrumbs_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./breadcrumbs.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/breadcrumbs.js");
/* harmony import */ var _breadcrumbs_service_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./breadcrumbs.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/breadcrumbs.service.js");
/* harmony import */ var _breadcrumbsModel_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./breadcrumbsModel.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/breadcrumbsModel.js");
/* harmony import */ var _breadcrumbsPicker_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./breadcrumbsPicker.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/breadcrumbsPicker.js");
/* harmony import */ var _common_editor_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../common/editor.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor.js");
/* harmony import */ var _services_editor_common_editorService_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../services/editor/common/editorService.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.js");
/* harmony import */ var _services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../services/editor/common/editorService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");
/* harmony import */ var _services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../../services/editor/common/editorGroupsService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorGroupsService.service.js");
/* harmony import */ var _base_browser_pixelRatio_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../../../base/browser/pixelRatio.js */ "./node_modules/vscode/vscode/src/vs/base/browser/pixelRatio.js");
/* harmony import */ var _platform_label_common_label_service_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../../../platform/label/common/label.service.js */ "./node_modules/vscode/vscode/src/vs/platform/label/common/label.service.js");
/* harmony import */ var _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../../../platform/action/common/actionCommonCategories.js */ "./node_modules/vscode/vscode/src/vs/platform/action/common/actionCommonCategories.js");
/* harmony import */ var _platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../../../platform/theme/common/iconRegistry.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/iconRegistry.js");
/* harmony import */ var _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../../../base/common/codicons.js */ "./node_modules/vscode/vscode/src/vs/base/common/codicons.js");
/* harmony import */ var _platform_theme_browser_defaultStyles_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../../../platform/theme/browser/defaultStyles.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/browser/defaultStyles.js");
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../../../base/common/event.js */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var _base_browser_ui_hover_hoverDelegateFactory_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../../../../base/browser/ui/hover/hoverDelegateFactory.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/hover/hoverDelegateFactory.js");








































var BreadcrumbsControl_1;
class OutlineItem extends _base_browser_ui_breadcrumbs_breadcrumbsWidget_js__WEBPACK_IMPORTED_MODULE_3__.BreadcrumbsItem {
    constructor(model, element, options) {
        super();
        this.model = model;
        this.element = element;
        this.options = options;
        this._disposables = ( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_6__.DisposableStore()));
    }
    dispose() {
        this._disposables.dispose();
    }
    equals(other) {
        if (!(other instanceof OutlineItem)) {
            return false;
        }
        return this.element.element === other.element.element &&
            this.options.showFileIcons === other.options.showFileIcons &&
            this.options.showSymbolIcons === other.options.showSymbolIcons;
    }
    render(container) {
        const { element, outline } = this.element;
        if (element === outline) {
            const element = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.$)('span', undefined, '');
            container.appendChild(element);
            return;
        }
        const templateId = outline.config.delegate.getTemplateId(element);
        const renderer = outline.config.renderers.find(renderer => renderer.templateId === templateId);
        if (!renderer) {
            container.innerText = '<<NO RENDERER>>';
            return;
        }
        const template = renderer.renderTemplate(container);
        renderer.renderElement({
            element,
            children: [],
            depth: 0,
            visibleChildrenCount: 0,
            visibleChildIndex: 0,
            collapsible: false,
            collapsed: false,
            visible: true,
            filterData: undefined
        }, 0, template, undefined);
        this._disposables.add((0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_6__.toDisposable)(() => { renderer.disposeTemplate(template); }));
    }
}
class FileItem extends _base_browser_ui_breadcrumbs_breadcrumbsWidget_js__WEBPACK_IMPORTED_MODULE_3__.BreadcrumbsItem {
    constructor(model, element, options, _labels, _hoverDelegate) {
        super();
        this.model = model;
        this.element = element;
        this.options = options;
        this._labels = _labels;
        this._hoverDelegate = _hoverDelegate;
        this._disposables = ( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_6__.DisposableStore()));
    }
    dispose() {
        this._disposables.dispose();
    }
    equals(other) {
        if (!(other instanceof FileItem)) {
            return false;
        }
        return (_base_common_resources_js__WEBPACK_IMPORTED_MODULE_7__.extUri.isEqual(this.element.uri, other.element.uri) &&
            this.options.showFileIcons === other.options.showFileIcons &&
            this.options.showSymbolIcons === other.options.showSymbolIcons);
    }
    render(container) {
        const label = this._labels.create(container, { hoverDelegate: this._hoverDelegate });
        label.setFile(this.element.uri, {
            hidePath: true,
            hideIcon: this.element.kind === _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_16__.FileKind.FOLDER || !this.options.showFileIcons,
            fileKind: this.element.kind,
            fileDecorations: { colors: this.options.showDecorationColors, badges: false },
        });
        container.classList.add(_platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_16__.FileKind[this.element.kind].toLowerCase());
        this._disposables.add(label);
    }
}
const separatorIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_35__.registerIcon)('breadcrumb-separator', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_36__.Codicon.chevronRight, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_10__.localize)(11713, 'Icon for the separator in the breadcrumbs.')));
let BreadcrumbsControl = class BreadcrumbsControl {
    static { BreadcrumbsControl_1 = this; }
    static { this.HEIGHT = 22; }
    static { this.SCROLLBAR_SIZES = {
        default: 3,
        large: 8
    }; }
    static { this.Payload_Reveal = {}; }
    static { this.Payload_RevealAside = {}; }
    static { this.Payload_Pick = {}; }
    static { this.CK_BreadcrumbsPossible = ( (new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_13__.RawContextKey('breadcrumbsPossible', false, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_10__.localize)(11714, "Whether the editor can show breadcrumbs"))))); }
    static { this.CK_BreadcrumbsVisible = ( (new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_13__.RawContextKey('breadcrumbsVisible', false, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_10__.localize)(11715, "Whether breadcrumbs are currently visible"))))); }
    static { this.CK_BreadcrumbsActive = ( (new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_13__.RawContextKey('breadcrumbsActive', false, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_10__.localize)(11716, "Whether breadcrumbs have focus"))))); }
    get onDidVisibilityChange() { return this._onDidVisibilityChange.event; }
    constructor(container, _options, _editorGroup, _contextKeyService, _contextViewService, _instantiationService, _quickInputService, _fileService, _editorService, _labelService, configurationService, breadcrumbsService) {
        this._options = _options;
        this._editorGroup = _editorGroup;
        this._contextKeyService = _contextKeyService;
        this._contextViewService = _contextViewService;
        this._instantiationService = _instantiationService;
        this._quickInputService = _quickInputService;
        this._fileService = _fileService;
        this._editorService = _editorService;
        this._labelService = _labelService;
        this._disposables = ( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_6__.DisposableStore()));
        this._breadcrumbsDisposables = ( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_6__.DisposableStore()));
        this._model = ( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_6__.MutableDisposable()));
        this._breadcrumbsPickerShowing = false;
        this._onDidVisibilityChange = this._disposables.add(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_38__.Emitter())));
        this.domNode = document.createElement('div');
        this.domNode.classList.add('breadcrumbs-control');
        (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.append)(container, this.domNode);
        this._cfUseQuickPick = _breadcrumbs_js__WEBPACK_IMPORTED_MODULE_24__.BreadcrumbsConfig.UseQuickPick.bindTo(configurationService);
        this._cfShowIcons = _breadcrumbs_js__WEBPACK_IMPORTED_MODULE_24__.BreadcrumbsConfig.Icons.bindTo(configurationService);
        this._cfTitleScrollbarSizing = _breadcrumbs_js__WEBPACK_IMPORTED_MODULE_24__.BreadcrumbsConfig.TitleScrollbarSizing.bindTo(configurationService);
        this._labels = this._instantiationService.createInstance(_labels_js__WEBPACK_IMPORTED_MODULE_23__.ResourceLabels, _labels_js__WEBPACK_IMPORTED_MODULE_23__.DEFAULT_LABELS_CONTAINER);
        const sizing = this._cfTitleScrollbarSizing.getValue() ?? 'default';
        const styles = _options.widgetStyles ?? _platform_theme_browser_defaultStyles_js__WEBPACK_IMPORTED_MODULE_37__.defaultBreadcrumbsWidgetStyles;
        this._widget = ( (new _base_browser_ui_breadcrumbs_breadcrumbsWidget_js__WEBPACK_IMPORTED_MODULE_3__.BreadcrumbsWidget(
            this.domNode,
            BreadcrumbsControl_1.SCROLLBAR_SIZES[sizing],
            separatorIcon,
            styles
        )));
        this._widget.onDidSelectItem(this._onSelectEvent, this, this._disposables);
        this._widget.onDidFocusItem(this._onFocusEvent, this, this._disposables);
        this._widget.onDidChangeFocus(this._updateCkBreadcrumbsActive, this, this._disposables);
        this._ckBreadcrumbsPossible = BreadcrumbsControl_1.CK_BreadcrumbsPossible.bindTo(this._contextKeyService);
        this._ckBreadcrumbsVisible = BreadcrumbsControl_1.CK_BreadcrumbsVisible.bindTo(this._contextKeyService);
        this._ckBreadcrumbsActive = BreadcrumbsControl_1.CK_BreadcrumbsActive.bindTo(this._contextKeyService);
        this._hoverDelegate = (0,_base_browser_ui_hover_hoverDelegateFactory_js__WEBPACK_IMPORTED_MODULE_39__.getDefaultHoverDelegate)('mouse');
        this._disposables.add(breadcrumbsService.register(this._editorGroup.id, this._widget));
        this.hide();
    }
    dispose() {
        this._disposables.dispose();
        this._breadcrumbsDisposables.dispose();
        this._ckBreadcrumbsPossible.reset();
        this._ckBreadcrumbsVisible.reset();
        this._ckBreadcrumbsActive.reset();
        this._cfUseQuickPick.dispose();
        this._cfShowIcons.dispose();
        this._widget.dispose();
        this._labels.dispose();
        this.domNode.remove();
    }
    get model() {
        return this._model.value;
    }
    layout(dim) {
        this._widget.layout(dim);
    }
    isHidden() {
        return this.domNode.classList.contains('hidden');
    }
    hide() {
        const wasHidden = this.isHidden();
        this._breadcrumbsDisposables.clear();
        this._ckBreadcrumbsVisible.set(false);
        this.domNode.classList.toggle('hidden', true);
        if (!wasHidden) {
            this._onDidVisibilityChange.fire();
        }
    }
    show() {
        const wasHidden = this.isHidden();
        this._ckBreadcrumbsVisible.set(true);
        this.domNode.classList.toggle('hidden', false);
        if (wasHidden) {
            this._onDidVisibilityChange.fire();
        }
    }
    revealLast() {
        this._widget.revealLast();
    }
    update() {
        this._breadcrumbsDisposables.clear();
        const uri = _common_editor_js__WEBPACK_IMPORTED_MODULE_28__.EditorResourceAccessor.getCanonicalUri(this._editorGroup.activeEditor, { supportSideBySide: _common_editor_js__WEBPACK_IMPORTED_MODULE_28__.SideBySideEditor.PRIMARY });
        const wasHidden = this.isHidden();
        if (!uri || !this._fileService.hasProvider(uri)) {
            this._ckBreadcrumbsPossible.set(false);
            if (!wasHidden) {
                this.hide();
                return true;
            }
            else {
                return false;
            }
        }
        const fileInfoUri = _common_editor_js__WEBPACK_IMPORTED_MODULE_28__.EditorResourceAccessor.getOriginalUri(this._editorGroup.activeEditor, { supportSideBySide: _common_editor_js__WEBPACK_IMPORTED_MODULE_28__.SideBySideEditor.PRIMARY });
        this.show();
        this._ckBreadcrumbsPossible.set(true);
        const model = this._instantiationService.createInstance(_breadcrumbsModel_js__WEBPACK_IMPORTED_MODULE_26__.BreadcrumbsModel, fileInfoUri ?? uri, this._editorGroup.activeEditorPane);
        this._model.value = model;
        this.domNode.classList.toggle('backslash-path', this._labelService.getSeparator(uri.scheme, uri.authority) === '\\');
        const updateBreadcrumbs = () => {
            this.domNode.classList.toggle('relative-path', model.isRelative());
            const showIcons = this._cfShowIcons.getValue();
            const options = {
                ...this._options,
                showFileIcons: this._options.showFileIcons && showIcons,
                showSymbolIcons: this._options.showSymbolIcons && showIcons
            };
            const items = ( (model.getElements().map(
                element => element instanceof _breadcrumbsModel_js__WEBPACK_IMPORTED_MODULE_26__.FileElement ? ( (new FileItem(model, element, options, this._labels, this._hoverDelegate))) : ( (new OutlineItem(model, element, options)))
            )));
            if (items.length === 0) {
                this._widget.setEnabled(false);
                this._widget.setItems([new (class extends _base_browser_ui_breadcrumbs_breadcrumbsWidget_js__WEBPACK_IMPORTED_MODULE_3__.BreadcrumbsItem {
                        render(container) {
                            container.innerText = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_10__.localize)(11717, "no elements"));
                        }
                        equals(other) {
                            return other === this;
                        }
                        dispose() {
                        }
                    })]);
            }
            else {
                this._widget.setEnabled(true);
                this._widget.setItems(items);
                this._widget.reveal(items[items.length - 1]);
            }
        };
        const listener = model.onDidUpdate(updateBreadcrumbs);
        const configListener = this._cfShowIcons.onDidChange(updateBreadcrumbs);
        updateBreadcrumbs();
        this._breadcrumbsDisposables.clear();
        this._breadcrumbsDisposables.add(listener);
        this._breadcrumbsDisposables.add((0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_6__.toDisposable)(() => this._model.clear()));
        this._breadcrumbsDisposables.add(configListener);
        this._breadcrumbsDisposables.add((0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_6__.toDisposable)(() => this._widget.setItems([])));
        const updateScrollbarSizing = () => {
            const sizing = this._cfTitleScrollbarSizing.getValue() ?? 'default';
            this._widget.setHorizontalScrollbarSize(BreadcrumbsControl_1.SCROLLBAR_SIZES[sizing]);
        };
        updateScrollbarSizing();
        const updateScrollbarSizeListener = this._cfTitleScrollbarSizing.onDidChange(updateScrollbarSizing);
        this._breadcrumbsDisposables.add(updateScrollbarSizeListener);
        this._breadcrumbsDisposables.add({
            dispose: () => {
                if (this._breadcrumbsPickerShowing) {
                    this._contextViewService.hideContextView({ source: this });
                }
            }
        });
        return wasHidden !== this.isHidden();
    }
    _onFocusEvent(event) {
        if (event.item && this._breadcrumbsPickerShowing) {
            this._breadcrumbsPickerIgnoreOnceItem = undefined;
            this._widget.setSelection(event.item);
        }
    }
    _onSelectEvent(event) {
        if (!event.item) {
            return;
        }
        if (event.item === this._breadcrumbsPickerIgnoreOnceItem) {
            this._breadcrumbsPickerIgnoreOnceItem = undefined;
            this._widget.setFocused(undefined);
            this._widget.setSelection(undefined);
            return;
        }
        const { element } = event.item;
        this._editorGroup.focus();
        const group = this._getEditorGroup(event.payload);
        if (group !== undefined) {
            this._widget.setFocused(undefined);
            this._widget.setSelection(undefined);
            this._revealInEditor(event, element, group);
            return;
        }
        if (this._cfUseQuickPick.getValue()) {
            this._widget.setFocused(undefined);
            this._widget.setSelection(undefined);
            this._quickInputService.quickAccess.show(element instanceof _breadcrumbsModel_js__WEBPACK_IMPORTED_MODULE_26__.OutlineElement2 ? '@' : '');
            return;
        }
        let picker;
        let pickerAnchor;
        this._contextViewService.showContextView({
            render: (parent) => {
                if (event.item instanceof FileItem) {
                    picker = this._instantiationService.createInstance(_breadcrumbsPicker_js__WEBPACK_IMPORTED_MODULE_27__.BreadcrumbsFilePicker, parent, event.item.model.resource);
                }
                else if (event.item instanceof OutlineItem) {
                    picker = this._instantiationService.createInstance(_breadcrumbsPicker_js__WEBPACK_IMPORTED_MODULE_27__.BreadcrumbsOutlinePicker, parent, event.item.model.resource);
                }
                const selectListener = picker.onWillPickElement(() => this._contextViewService.hideContextView({ source: this, didPick: true }));
                const zoomListener = _base_browser_pixelRatio_js__WEBPACK_IMPORTED_MODULE_32__.PixelRatio.getInstance((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.getWindow)(this.domNode)).onDidChange(() => this._contextViewService.hideContextView({ source: this }));
                const focusTracker = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.trackFocus)(parent);
                const blurListener = focusTracker.onDidBlur(() => {
                    this._breadcrumbsPickerIgnoreOnceItem = this._widget.isDOMFocused() ? event.item : undefined;
                    this._contextViewService.hideContextView({ source: this });
                });
                this._breadcrumbsPickerShowing = true;
                this._updateCkBreadcrumbsActive();
                return (0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_6__.combinedDisposable)(picker, selectListener, zoomListener, focusTracker, blurListener);
            },
            getAnchor: () => {
                if (!pickerAnchor) {
                    const window = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.getWindow)(this.domNode);
                    const maxInnerWidth = window.innerWidth - 8 ;
                    let maxHeight = Math.min(window.innerHeight * 0.7, 300);
                    const pickerWidth = Math.min(maxInnerWidth, Math.max(240, maxInnerWidth / 4.17));
                    const pickerArrowSize = 8;
                    let pickerArrowOffset;
                    const data = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.getDomNodePagePosition)(event.node.firstChild);
                    const y = data.top + data.height + pickerArrowSize;
                    if (y + maxHeight >= window.innerHeight) {
                        maxHeight = window.innerHeight - y - 30 ;
                    }
                    let x = data.left;
                    if (x + pickerWidth >= maxInnerWidth) {
                        x = maxInnerWidth - pickerWidth;
                    }
                    if (event.payload instanceof _base_browser_mouseEvent_js__WEBPACK_IMPORTED_MODULE_2__.StandardMouseEvent) {
                        const maxPickerArrowOffset = pickerWidth - 2 * pickerArrowSize;
                        pickerArrowOffset = event.payload.posx - x;
                        if (pickerArrowOffset > maxPickerArrowOffset) {
                            x = Math.min(maxInnerWidth - pickerWidth, x + pickerArrowOffset - maxPickerArrowOffset);
                            pickerArrowOffset = maxPickerArrowOffset;
                        }
                    }
                    else {
                        pickerArrowOffset = (data.left + (data.width * 0.3)) - x;
                    }
                    picker.show(element, maxHeight, pickerWidth, pickerArrowSize, Math.max(0, pickerArrowOffset));
                    pickerAnchor = { x, y };
                }
                return pickerAnchor;
            },
            onHide: (data) => {
                if (!data?.didPick) {
                    picker.restoreViewState();
                }
                this._breadcrumbsPickerShowing = false;
                this._updateCkBreadcrumbsActive();
                if (data?.source === this) {
                    this._widget.setFocused(undefined);
                    this._widget.setSelection(undefined);
                }
                picker.dispose();
            }
        });
    }
    _updateCkBreadcrumbsActive() {
        const value = this._widget.isDOMFocused() || this._breadcrumbsPickerShowing;
        this._ckBreadcrumbsActive.set(value);
    }
    async _revealInEditor(event, element, group, pinned = false) {
        if (element instanceof _breadcrumbsModel_js__WEBPACK_IMPORTED_MODULE_26__.FileElement) {
            if (element.kind === _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_16__.FileKind.FILE) {
                await this._editorService.openEditor({ resource: element.uri, options: { pinned } }, group);
            }
            else {
                const items = this._widget.getItems();
                const idx = items.indexOf(event.item);
                this._widget.setFocused(items[idx + 1]);
                this._widget.setSelection(items[idx + 1], BreadcrumbsControl_1.Payload_Pick);
            }
        }
        else {
            element.outline.reveal(element, { pinned }, group === _services_editor_common_editorService_js__WEBPACK_IMPORTED_MODULE_29__.SIDE_GROUP, false);
        }
    }
    _getEditorGroup(data) {
        if (data === BreadcrumbsControl_1.Payload_RevealAside) {
            return _services_editor_common_editorService_js__WEBPACK_IMPORTED_MODULE_29__.SIDE_GROUP;
        }
        else if (data === BreadcrumbsControl_1.Payload_Reveal) {
            return _services_editor_common_editorService_js__WEBPACK_IMPORTED_MODULE_29__.ACTIVE_GROUP;
        }
        else {
            return undefined;
        }
    }
};
BreadcrumbsControl = BreadcrumbsControl_1 = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_14__.IContextKeyService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _platform_contextview_browser_contextView_service_js__WEBPACK_IMPORTED_MODULE_15__.IContextViewService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_18__.IInstantiationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _platform_quickinput_common_quickInput_service_js__WEBPACK_IMPORTED_MODULE_22__.IQuickInputService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, _platform_files_common_files_service_js__WEBPACK_IMPORTED_MODULE_17__.IFileService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, _services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_30__.IEditorService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, _platform_label_common_label_service_js__WEBPACK_IMPORTED_MODULE_33__.ILabelService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_12__.IConfigurationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(11, _breadcrumbs_service_js__WEBPACK_IMPORTED_MODULE_25__.IBreadcrumbsService)))
], BreadcrumbsControl)));
let BreadcrumbsControlFactory = class BreadcrumbsControlFactory {
    get control() { return this._control; }
    get onDidEnablementChange() { return this._onDidEnablementChange.event; }
    get onDidVisibilityChange() { return this._onDidVisibilityChange.event; }
    constructor(_container, _editorGroup, _options, configurationService, _instantiationService, fileService) {
        this._container = _container;
        this._editorGroup = _editorGroup;
        this._options = _options;
        this._instantiationService = _instantiationService;
        this._disposables = ( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_6__.DisposableStore()));
        this._controlDisposables = ( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_6__.DisposableStore()));
        this._onDidEnablementChange = this._disposables.add(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_38__.Emitter())));
        this._onDidVisibilityChange = this._disposables.add(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_38__.Emitter())));
        const config = this._disposables.add(_breadcrumbs_js__WEBPACK_IMPORTED_MODULE_24__.BreadcrumbsConfig.IsEnabled.bindTo(configurationService));
        this._disposables.add(config.onDidChange(() => {
            const value = config.getValue();
            if (!value && this._control) {
                this._controlDisposables.clear();
                this._control = undefined;
                this._onDidEnablementChange.fire();
            }
            else if (value && !this._control) {
                this._control = this.createControl();
                this._control.update();
                this._onDidEnablementChange.fire();
            }
        }));
        if (config.getValue()) {
            this._control = this.createControl();
        }
        this._disposables.add(fileService.onDidChangeFileSystemProviderRegistrations(e => {
            if (this._control?.model && this._control.model.resource.scheme !== e.scheme) {
                return;
            }
            if (this._control?.update()) {
                this._onDidEnablementChange.fire();
            }
        }));
    }
    createControl() {
        const control = this._controlDisposables.add(this._instantiationService.createInstance(BreadcrumbsControl, this._container, this._options, this._editorGroup));
        this._controlDisposables.add(control.onDidVisibilityChange(() => this._onDidVisibilityChange.fire()));
        return control;
    }
    dispose() {
        this._disposables.dispose();
        this._controlDisposables.dispose();
    }
};
BreadcrumbsControlFactory = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_12__.IConfigurationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_18__.IInstantiationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _platform_files_common_files_service_js__WEBPACK_IMPORTED_MODULE_17__.IFileService)))
], BreadcrumbsControlFactory)));
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_11__.registerAction2)(class ToggleBreadcrumb extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_11__.Action2 {
    constructor() {
        super({
            id: 'breadcrumbs.toggle',
            title: {
                ...( (0,_nls_js__WEBPACK_IMPORTED_MODULE_10__.localize2)(11718, "Toggle Breadcrumbs")),
                mnemonicTitle: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_10__.localize)(11719, "Toggle &&Breadcrumbs")),
            },
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_34__.Categories.View,
            toggled: {
                condition: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_13__.ContextKeyExpr.equals('config.breadcrumbs.enabled', true))),
                title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_10__.localize)(11720, "Toggle Breadcrumbs")),
                mnemonicTitle: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_10__.localize)(11721, "Toggle &&Breadcrumbs"))
            },
            menu: [
                { id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_11__.MenuId.CommandPalette },
                { id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_11__.MenuId.MenubarAppearanceMenu, group: '4_editor', order: 2 },
                { id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_11__.MenuId.NotebookToolbar, group: 'notebookLayout', order: 2 },
                { id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_11__.MenuId.StickyScrollContext },
                { id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_11__.MenuId.NotebookStickyScrollContext, group: 'notebookView', order: 2 }
            ]
        });
    }
    run(accessor) {
        const config = accessor.get(_platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_12__.IConfigurationService);
        const value = _breadcrumbs_js__WEBPACK_IMPORTED_MODULE_24__.BreadcrumbsConfig.IsEnabled.bindTo(config).getValue();
        _breadcrumbs_js__WEBPACK_IMPORTED_MODULE_24__.BreadcrumbsConfig.IsEnabled.bindTo(config).updateValue(!value);
    }
});
function focusAndSelectHandler(accessor, select) {
    const groups = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_31__.IEditorGroupsService);
    const breadcrumbs = accessor.get(_breadcrumbs_service_js__WEBPACK_IMPORTED_MODULE_25__.IBreadcrumbsService);
    const widget = breadcrumbs.getWidget(groups.activeGroup.id);
    if (widget) {
        const item = (0,_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_4__.tail)(widget.getItems());
        widget.setFocused(item);
        if (select) {
            widget.setSelection(item, BreadcrumbsControl.Payload_Pick);
        }
    }
}
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_11__.registerAction2)(class FocusAndSelectBreadcrumbs extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_11__.Action2 {
    constructor() {
        super({
            id: 'breadcrumbs.focusAndSelect',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_10__.localize2)(11722, "Focus and Select Breadcrumbs")),
            precondition: BreadcrumbsControl.CK_BreadcrumbsVisible,
            keybinding: {
                weight: 200 ,
                primary: 2048  | 1024  | 89 ,
                when: BreadcrumbsControl.CK_BreadcrumbsPossible,
            },
            f1: true
        });
    }
    run(accessor, ...args) {
        focusAndSelectHandler(accessor, true);
    }
});
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_11__.registerAction2)(class FocusBreadcrumbs extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_11__.Action2 {
    constructor() {
        super({
            id: 'breadcrumbs.focus',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_10__.localize2)(11723, "Focus Breadcrumbs")),
            precondition: BreadcrumbsControl.CK_BreadcrumbsVisible,
            keybinding: {
                weight: 200 ,
                primary: 2048  | 1024  | 85 ,
                when: BreadcrumbsControl.CK_BreadcrumbsPossible,
            },
            f1: true
        });
    }
    run(accessor, ...args) {
        focusAndSelectHandler(accessor, false);
    }
});
_platform_keybinding_common_keybindingsRegistry_js__WEBPACK_IMPORTED_MODULE_19__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'breadcrumbs.toggleToOn',
    weight: 200 ,
    primary: 2048  | 1024  | 89 ,
    when: _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_13__.ContextKeyExpr.not('config.breadcrumbs.enabled'),
    handler: async (accessor) => {
        const instant = accessor.get(_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_18__.IInstantiationService);
        const config = accessor.get(_platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_12__.IConfigurationService);
        const isEnabled = _breadcrumbs_js__WEBPACK_IMPORTED_MODULE_24__.BreadcrumbsConfig.IsEnabled.bindTo(config);
        if (!isEnabled.getValue()) {
            await isEnabled.updateValue(true);
            await (0,_base_common_async_js__WEBPACK_IMPORTED_MODULE_5__.timeout)(50);
        }
        return instant.invokeFunction(focusAndSelectHandler, true);
    }
});
_platform_keybinding_common_keybindingsRegistry_js__WEBPACK_IMPORTED_MODULE_19__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'breadcrumbs.focusNext',
    weight: 200 ,
    primary: 17 ,
    secondary: [2048  | 17 ],
    mac: {
        primary: 17 ,
        secondary: [512  | 17 ],
    },
    when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_13__.ContextKeyExpr.and(
        BreadcrumbsControl.CK_BreadcrumbsVisible,
        BreadcrumbsControl.CK_BreadcrumbsActive
    ))),
    handler(accessor) {
        const groups = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_31__.IEditorGroupsService);
        const breadcrumbs = accessor.get(_breadcrumbs_service_js__WEBPACK_IMPORTED_MODULE_25__.IBreadcrumbsService);
        const widget = breadcrumbs.getWidget(groups.activeGroup.id);
        if (!widget) {
            return;
        }
        widget.focusNext();
    }
});
_platform_keybinding_common_keybindingsRegistry_js__WEBPACK_IMPORTED_MODULE_19__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'breadcrumbs.focusPrevious',
    weight: 200 ,
    primary: 15 ,
    secondary: [2048  | 15 ],
    mac: {
        primary: 15 ,
        secondary: [512  | 15 ],
    },
    when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_13__.ContextKeyExpr.and(
        BreadcrumbsControl.CK_BreadcrumbsVisible,
        BreadcrumbsControl.CK_BreadcrumbsActive
    ))),
    handler(accessor) {
        const groups = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_31__.IEditorGroupsService);
        const breadcrumbs = accessor.get(_breadcrumbs_service_js__WEBPACK_IMPORTED_MODULE_25__.IBreadcrumbsService);
        const widget = breadcrumbs.getWidget(groups.activeGroup.id);
        if (!widget) {
            return;
        }
        widget.focusPrev();
    }
});
_platform_keybinding_common_keybindingsRegistry_js__WEBPACK_IMPORTED_MODULE_19__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'breadcrumbs.focusNextWithPicker',
    weight: 200  + 1,
    primary: 2048  | 17 ,
    mac: {
        primary: 512  | 17 ,
    },
    when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_13__.ContextKeyExpr.and(
        BreadcrumbsControl.CK_BreadcrumbsVisible,
        BreadcrumbsControl.CK_BreadcrumbsActive,
        _platform_list_browser_listService_js__WEBPACK_IMPORTED_MODULE_20__.WorkbenchListFocusContextKey
    ))),
    handler(accessor) {
        const groups = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_31__.IEditorGroupsService);
        const breadcrumbs = accessor.get(_breadcrumbs_service_js__WEBPACK_IMPORTED_MODULE_25__.IBreadcrumbsService);
        const widget = breadcrumbs.getWidget(groups.activeGroup.id);
        if (!widget) {
            return;
        }
        widget.focusNext();
    }
});
_platform_keybinding_common_keybindingsRegistry_js__WEBPACK_IMPORTED_MODULE_19__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'breadcrumbs.focusPreviousWithPicker',
    weight: 200  + 1,
    primary: 2048  | 15 ,
    mac: {
        primary: 512  | 15 ,
    },
    when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_13__.ContextKeyExpr.and(
        BreadcrumbsControl.CK_BreadcrumbsVisible,
        BreadcrumbsControl.CK_BreadcrumbsActive,
        _platform_list_browser_listService_js__WEBPACK_IMPORTED_MODULE_20__.WorkbenchListFocusContextKey
    ))),
    handler(accessor) {
        const groups = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_31__.IEditorGroupsService);
        const breadcrumbs = accessor.get(_breadcrumbs_service_js__WEBPACK_IMPORTED_MODULE_25__.IBreadcrumbsService);
        const widget = breadcrumbs.getWidget(groups.activeGroup.id);
        if (!widget) {
            return;
        }
        widget.focusPrev();
    }
});
_platform_keybinding_common_keybindingsRegistry_js__WEBPACK_IMPORTED_MODULE_19__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'breadcrumbs.selectFocused',
    weight: 200 ,
    primary: 3 ,
    secondary: [18 ],
    when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_13__.ContextKeyExpr.and(
        BreadcrumbsControl.CK_BreadcrumbsVisible,
        BreadcrumbsControl.CK_BreadcrumbsActive
    ))),
    handler(accessor) {
        const groups = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_31__.IEditorGroupsService);
        const breadcrumbs = accessor.get(_breadcrumbs_service_js__WEBPACK_IMPORTED_MODULE_25__.IBreadcrumbsService);
        const widget = breadcrumbs.getWidget(groups.activeGroup.id);
        if (!widget) {
            return;
        }
        widget.setSelection(widget.getFocused(), BreadcrumbsControl.Payload_Pick);
    }
});
_platform_keybinding_common_keybindingsRegistry_js__WEBPACK_IMPORTED_MODULE_19__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'breadcrumbs.revealFocused',
    weight: 200 ,
    primary: 10 ,
    secondary: [2048  | 3 ],
    when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_13__.ContextKeyExpr.and(
        BreadcrumbsControl.CK_BreadcrumbsVisible,
        BreadcrumbsControl.CK_BreadcrumbsActive
    ))),
    handler(accessor) {
        const groups = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_31__.IEditorGroupsService);
        const breadcrumbs = accessor.get(_breadcrumbs_service_js__WEBPACK_IMPORTED_MODULE_25__.IBreadcrumbsService);
        const widget = breadcrumbs.getWidget(groups.activeGroup.id);
        if (!widget) {
            return;
        }
        widget.setSelection(widget.getFocused(), BreadcrumbsControl.Payload_Reveal);
    }
});
_platform_keybinding_common_keybindingsRegistry_js__WEBPACK_IMPORTED_MODULE_19__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'breadcrumbs.selectEditor',
    weight: 200  + 1,
    primary: 9 ,
    when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_13__.ContextKeyExpr.and(
        BreadcrumbsControl.CK_BreadcrumbsVisible,
        BreadcrumbsControl.CK_BreadcrumbsActive
    ))),
    handler(accessor) {
        const groups = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_31__.IEditorGroupsService);
        const breadcrumbs = accessor.get(_breadcrumbs_service_js__WEBPACK_IMPORTED_MODULE_25__.IBreadcrumbsService);
        const widget = breadcrumbs.getWidget(groups.activeGroup.id);
        if (!widget) {
            return;
        }
        widget.setFocused(undefined);
        widget.setSelection(undefined);
        groups.activeGroup.activeEditorPane?.focus();
    }
});
_platform_keybinding_common_keybindingsRegistry_js__WEBPACK_IMPORTED_MODULE_19__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'breadcrumbs.revealFocusedFromTreeAside',
    weight: 200 ,
    primary: 2048  | 3 ,
    when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_13__.ContextKeyExpr.and(
        BreadcrumbsControl.CK_BreadcrumbsVisible,
        BreadcrumbsControl.CK_BreadcrumbsActive,
        _platform_list_browser_listService_js__WEBPACK_IMPORTED_MODULE_20__.WorkbenchListFocusContextKey
    ))),
    handler(accessor) {
        const editors = accessor.get(_services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_30__.IEditorService);
        const lists = accessor.get(_platform_list_browser_listService_service_js__WEBPACK_IMPORTED_MODULE_21__.IListService);
        const tree = lists.lastFocusedList;
        if (!(tree instanceof _platform_list_browser_listService_js__WEBPACK_IMPORTED_MODULE_20__.WorkbenchDataTree) && !(tree instanceof _platform_list_browser_listService_js__WEBPACK_IMPORTED_MODULE_20__.WorkbenchAsyncDataTree)) {
            return;
        }
        const element = tree.getFocus()[0];
        if (_base_common_uri_js__WEBPACK_IMPORTED_MODULE_8__.URI.isUri(element?.resource)) {
            return editors.openEditor({
                resource: element.resource,
                options: { pinned: true }
            }, _services_editor_common_editorService_js__WEBPACK_IMPORTED_MODULE_29__.SIDE_GROUP);
        }
        const input = tree.getInput();
        if (input && typeof input.outlineKind === 'string') {
            return input.reveal(element, {
                pinned: true,
                preserveFocus: false
            }, true, false);
        }
    }
});



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/breadcrumbsModel.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/breadcrumbsModel.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BreadcrumbsModel: () => (/* binding */ BreadcrumbsModel),
/* harmony export */   FileElement: () => (/* binding */ FileElement),
/* harmony export */   OutlineElement2: () => (/* binding */ OutlineElement2)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../base/common/cancellation.js */ "./node_modules/vscode/vscode/src/vs/base/common/cancellation.js");
/* harmony import */ var _base_common_errors_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../base/common/errors.js */ "./node_modules/vscode/vscode/src/vs/base/common/errors.js");
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../base/common/event.js */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _base_common_network_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../base/common/network.js */ "./node_modules/vscode/vscode/src/vs/base/common/network.js");
/* harmony import */ var _base_common_resources_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../base/common/resources.js */ "./node_modules/vscode/vscode/src/vs/base/common/resources.js");
/* harmony import */ var _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../platform/configuration/common/configuration.service.js */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../platform/files/common/files.js */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.js");
/* harmony import */ var _platform_workspace_common_workspace_service_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../platform/workspace/common/workspace.service.js */ "./node_modules/vscode/vscode/src/vs/platform/workspace/common/workspace.service.js");
/* harmony import */ var _breadcrumbs_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./breadcrumbs.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/breadcrumbs.js");
/* harmony import */ var _services_outline_browser_outline_service_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../services/outline/browser/outline.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/outline/browser/outline.service.js");












class FileElement {
    constructor(uri, kind) {
        this.uri = uri;
        this.kind = kind;
    }
}
class OutlineElement2 {
    constructor(element, outline) {
        this.element = element;
        this.outline = outline;
    }
}
let BreadcrumbsModel = class BreadcrumbsModel {
    constructor(resource, editor, configurationService, _workspaceService, _outlineService) {
        this.resource = resource;
        this._workspaceService = _workspaceService;
        this._outlineService = _outlineService;
        this._disposables = ( new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__.DisposableStore());
        this._currentOutline = ( new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__.MutableDisposable());
        this._outlineDisposables = ( new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__.DisposableStore());
        this._onDidUpdate = ( new _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__.Emitter());
        this.onDidUpdate = this._onDidUpdate.event;
        this._cfgFilePath = _breadcrumbs_js__WEBPACK_IMPORTED_MODULE_10__.BreadcrumbsConfig.FilePath.bindTo(configurationService);
        this._cfgSymbolPath = _breadcrumbs_js__WEBPACK_IMPORTED_MODULE_10__.BreadcrumbsConfig.SymbolPath.bindTo(configurationService);
        this._disposables.add(this._cfgFilePath.onDidChange(_ => this._onDidUpdate.fire(this)));
        this._disposables.add(this._cfgSymbolPath.onDidChange(_ => this._onDidUpdate.fire(this)));
        this._workspaceService.onDidChangeWorkspaceFolders(this._onDidChangeWorkspaceFolders, this, this._disposables);
        this._fileInfo = this._initFilePathInfo(resource);
        if (editor) {
            this._bindToEditor(editor);
            this._disposables.add(_outlineService.onDidChange(() => this._bindToEditor(editor)));
            this._disposables.add(editor.onDidChangeControl(() => this._bindToEditor(editor)));
        }
        this._onDidUpdate.fire(this);
    }
    dispose() {
        this._disposables.dispose();
        this._cfgFilePath.dispose();
        this._cfgSymbolPath.dispose();
        this._currentOutline.dispose();
        this._outlineDisposables.dispose();
        this._onDidUpdate.dispose();
    }
    isRelative() {
        return Boolean(this._fileInfo.folder);
    }
    getElements() {
        let result = [];
        if (this._cfgFilePath.getValue() === 'on') {
            result = result.concat(this._fileInfo.path);
        }
        else if (this._cfgFilePath.getValue() === 'last' && this._fileInfo.path.length > 0) {
            result = result.concat(this._fileInfo.path.slice(-1));
        }
        if (this._cfgSymbolPath.getValue() === 'off') {
            return result;
        }
        if (!this._currentOutline.value) {
            return result;
        }
        const breadcrumbsElements = this._currentOutline.value.config.breadcrumbsDataSource.getBreadcrumbElements();
        for (let i = this._cfgSymbolPath.getValue() === 'last' && breadcrumbsElements.length > 0 ? breadcrumbsElements.length - 1 : 0; i < breadcrumbsElements.length; i++) {
            result.push(( new OutlineElement2(breadcrumbsElements[i], this._currentOutline.value)));
        }
        if (breadcrumbsElements.length === 0 && !this._currentOutline.value.isEmpty) {
            result.push(( new OutlineElement2(this._currentOutline.value, this._currentOutline.value)));
        }
        return result;
    }
    _initFilePathInfo(uri) {
        if ((0,_base_common_network_js__WEBPACK_IMPORTED_MODULE_5__.matchesSomeScheme)(uri, _base_common_network_js__WEBPACK_IMPORTED_MODULE_5__.Schemas.untitled, _base_common_network_js__WEBPACK_IMPORTED_MODULE_5__.Schemas.data)) {
            return {
                folder: undefined,
                path: []
            };
        }
        const info = {
            folder: this._workspaceService.getWorkspaceFolder(uri) ?? undefined,
            path: []
        };
        let uriPrefix = uri;
        while (uriPrefix && uriPrefix.path !== '/') {
            if (info.folder && (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_6__.isEqual)(info.folder.uri, uriPrefix)) {
                break;
            }
            info.path.unshift(( new FileElement(uriPrefix, info.path.length === 0 ? _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_8__.FileKind.FILE : _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_8__.FileKind.FOLDER)));
            const prevPathLength = uriPrefix.path.length;
            uriPrefix = (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_6__.dirname)(uriPrefix);
            if (uriPrefix.path.length === prevPathLength) {
                break;
            }
        }
        if (info.folder && this._workspaceService.getWorkbenchState() === 3 ) {
            info.path.unshift(( new FileElement(info.folder.uri, _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_8__.FileKind.ROOT_FOLDER)));
        }
        return info;
    }
    _onDidChangeWorkspaceFolders() {
        this._fileInfo = this._initFilePathInfo(this.resource);
        this._onDidUpdate.fire(this);
    }
    _bindToEditor(editor) {
        const newCts = ( new _base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_1__.CancellationTokenSource());
        this._currentOutline.clear();
        this._outlineDisposables.clear();
        this._outlineDisposables.add((0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__.toDisposable)(() => newCts.dispose(true)));
        this._outlineService.createOutline(editor, 2 , newCts.token).then(outline => {
            if (newCts.token.isCancellationRequested) {
                outline?.dispose();
                outline = undefined;
            }
            this._currentOutline.value = outline;
            this._onDidUpdate.fire(this);
            if (outline) {
                this._outlineDisposables.add(outline.onDidChange(() => this._onDidUpdate.fire(this)));
            }
        }).catch(err => {
            this._onDidUpdate.fire(this);
            (0,_base_common_errors_js__WEBPACK_IMPORTED_MODULE_2__.onUnexpectedError)(err);
        });
    }
};
BreadcrumbsModel = ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_7__.IConfigurationService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _platform_workspace_common_workspace_service_js__WEBPACK_IMPORTED_MODULE_9__.IWorkspaceContextService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _services_outline_browser_outline_service_js__WEBPACK_IMPORTED_MODULE_11__.IOutlineService))
], BreadcrumbsModel));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/breadcrumbsPicker.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/breadcrumbsPicker.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BreadcrumbsFilePicker: () => (/* binding */ BreadcrumbsFilePicker),
/* harmony export */   BreadcrumbsOutlinePicker: () => (/* binding */ BreadcrumbsOutlinePicker),
/* harmony export */   BreadcrumbsPicker: () => (/* binding */ BreadcrumbsPicker),
/* harmony export */   FileSorter: () => (/* binding */ FileSorter)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _base_common_comparers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../base/common/comparers.js */ "./node_modules/vscode/vscode/src/vs/base/common/comparers.js");
/* harmony import */ var _base_common_errors_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../base/common/errors.js */ "./node_modules/vscode/vscode/src/vs/base/common/errors.js");
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../base/common/event.js */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var _base_common_filters_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../base/common/filters.js */ "./node_modules/vscode/vscode/src/vs/base/common/filters.js");
/* harmony import */ var _base_common_glob_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../base/common/glob.js */ "./node_modules/vscode/vscode/src/vs/base/common/glob.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _base_common_path_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../base/common/path.js */ "./node_modules/vscode/vscode/src/vs/base/common/path.js");
/* harmony import */ var _base_common_resources_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../base/common/resources.js */ "./node_modules/vscode/vscode/src/vs/base/common/resources.js");
/* harmony import */ var _base_common_uri_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../base/common/uri.js */ "./node_modules/vscode/vscode/src/vs/base/common/uri.js");
/* harmony import */ var _media_breadcrumbscontrol_css_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./media/breadcrumbscontrol.css.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/media/breadcrumbscontrol.css.js");
/* harmony import */ var _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../platform/configuration/common/configuration.service.js */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../platform/files/common/files.js */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.js");
/* harmony import */ var _platform_files_common_files_service_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../platform/files/common/files.service.js */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.service.js");
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../platform/instantiation/common/instantiation.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var _platform_list_browser_listService_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../platform/list/browser/listService.js */ "./node_modules/vscode/vscode/src/vs/platform/list/browser/listService.js");
/* harmony import */ var _platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../platform/theme/common/colorUtils.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colorUtils.js");
/* harmony import */ var _platform_theme_common_colors_baseColors_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/baseColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/baseColors.js");
/* harmony import */ var _platform_theme_common_colors_chartsColors_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/chartsColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/chartsColors.js");
/* harmony import */ var _platform_theme_common_colors_editorColors_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/editorColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/editorColors.js");
/* harmony import */ var _platform_theme_common_colors_inputColors_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/inputColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/inputColors.js");
/* harmony import */ var _platform_theme_common_colors_listColors_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/listColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/listColors.js");
/* harmony import */ var _platform_theme_common_colors_menuColors_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/menuColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/menuColors.js");
/* harmony import */ var _platform_theme_common_colors_minimapColors_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/minimapColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/minimapColors.js");
/* harmony import */ var _platform_theme_common_colors_miscColors_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/miscColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/miscColors.js");
/* harmony import */ var _platform_theme_common_colors_quickpickColors_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/quickpickColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/quickpickColors.js");
/* harmony import */ var _platform_theme_common_colors_searchColors_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/searchColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/searchColors.js");
/* harmony import */ var _platform_workspace_common_workspace_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../../platform/workspace/common/workspace.js */ "./node_modules/vscode/vscode/src/vs/platform/workspace/common/workspace.js");
/* harmony import */ var _platform_workspace_common_workspace_service_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../../platform/workspace/common/workspace.service.js */ "./node_modules/vscode/vscode/src/vs/platform/workspace/common/workspace.service.js");
/* harmony import */ var _labels_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../labels.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/labels.js");
/* harmony import */ var _breadcrumbs_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./breadcrumbs.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/breadcrumbs.js");
/* harmony import */ var _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../../../platform/theme/common/themeService.service.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.service.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _services_editor_common_editorService_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../../services/editor/common/editorService.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.js");
/* harmony import */ var _services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../../services/editor/common/editorService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");
/* harmony import */ var _editor_common_services_textResourceConfiguration_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../../../editor/common/services/textResourceConfiguration.js */ "./node_modules/vscode/vscode/src/vs/editor/common/services/textResourceConfiguration.js");




































let BreadcrumbsPicker = class BreadcrumbsPicker {
    constructor(parent, resource, _instantiationService, _themeService, _configurationService) {
        this.resource = resource;
        this._instantiationService = _instantiationService;
        this._themeService = _themeService;
        this._configurationService = _configurationService;
        this._disposables = ( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_6__.DisposableStore()));
        this._fakeEvent = ( (new UIEvent('fakeEvent')));
        this._onWillPickElement = ( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__.Emitter()));
        this.onWillPickElement = this._onWillPickElement.event;
        this._previewDispoables = ( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_6__.MutableDisposable()));
        this._domNode = document.createElement('div');
        this._domNode.className = 'monaco-breadcrumbs-picker show-file-icons';
        parent.appendChild(this._domNode);
    }
    dispose() {
        this._disposables.dispose();
        this._previewDispoables.dispose();
        this._onWillPickElement.dispose();
        this._domNode.remove();
        setTimeout(() => this._tree.dispose(), 0);
    }
    async show(input, maxHeight, width, arrowSize, arrowOffset) {
        const theme = this._themeService.getColorTheme();
        const color = theme.getColor(_platform_theme_common_colors_editorColors_js__WEBPACK_IMPORTED_MODULE_19__.breadcrumbsPickerBackground);
        this._arrow = document.createElement('div');
        this._arrow.className = 'arrow';
        this._arrow.style.borderColor = `transparent transparent ${color ? ( (color.toString())) : ''}`;
        this._domNode.appendChild(this._arrow);
        this._treeContainer = document.createElement('div');
        this._treeContainer.style.background = color ? ( (color.toString())) : '';
        this._treeContainer.style.paddingTop = '2px';
        this._treeContainer.style.borderRadius = '3px';
        this._treeContainer.style.boxShadow = `0 0 8px 2px ${this._themeService.getColorTheme().getColor(_platform_theme_common_colors_editorColors_js__WEBPACK_IMPORTED_MODULE_19__.widgetShadow)}`;
        this._treeContainer.style.border = `1px solid ${this._themeService.getColorTheme().getColor(_platform_theme_common_colors_editorColors_js__WEBPACK_IMPORTED_MODULE_19__.widgetBorder)}`;
        this._domNode.appendChild(this._treeContainer);
        this._layoutInfo = { maxHeight, width, arrowSize, arrowOffset, inputHeight: 0 };
        this._tree = this._createTree(this._treeContainer, input);
        this._disposables.add(this._tree.onDidOpen(async (e) => {
            const { element, editorOptions, sideBySide } = e;
            const didReveal = await this._revealElement(element, { ...editorOptions, preserveFocus: false }, sideBySide);
            if (!didReveal) {
                return;
            }
        }));
        this._disposables.add(this._tree.onDidChangeFocus(e => {
            this._previewDispoables.value = this._previewElement(e.elements[0]);
        }));
        this._disposables.add(this._tree.onDidChangeContentHeight(() => {
            this._layout();
        }));
        this._domNode.focus();
        try {
            await this._setInput(input);
            this._layout();
        }
        catch (err) {
            (0,_base_common_errors_js__WEBPACK_IMPORTED_MODULE_2__.onUnexpectedError)(err);
        }
    }
    _layout() {
        const headerHeight = 2 * this._layoutInfo.arrowSize;
        const treeHeight = Math.min(this._layoutInfo.maxHeight - headerHeight, this._tree.contentHeight);
        const totalHeight = treeHeight + headerHeight;
        this._domNode.style.height = `${totalHeight}px`;
        this._domNode.style.width = `${this._layoutInfo.width}px`;
        this._arrow.style.top = `-${2 * this._layoutInfo.arrowSize}px`;
        this._arrow.style.borderWidth = `${this._layoutInfo.arrowSize}px`;
        this._arrow.style.marginLeft = `${this._layoutInfo.arrowOffset}px`;
        this._treeContainer.style.height = `${treeHeight}px`;
        this._treeContainer.style.width = `${this._layoutInfo.width}px`;
        this._tree.layout(treeHeight, this._layoutInfo.width);
    }
    restoreViewState() { }
};
BreadcrumbsPicker = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_14__.IInstantiationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_31__.IThemeService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_11__.IConfigurationService)))
], BreadcrumbsPicker)));
class FileVirtualDelegate {
    getHeight(_element) {
        return 22;
    }
    getTemplateId(_element) {
        return 'FileStat';
    }
}
class FileIdentityProvider {
    getId(element) {
        if (_base_common_uri_js__WEBPACK_IMPORTED_MODULE_9__.URI.isUri(element)) {
            return (
                 (element.toString())
            );
        }
        else if ((0,_platform_workspace_common_workspace_js__WEBPACK_IMPORTED_MODULE_27__.isWorkspace)(element)) {
            return element.id;
        }
        else if ((0,_platform_workspace_common_workspace_js__WEBPACK_IMPORTED_MODULE_27__.isWorkspaceFolder)(element)) {
            return (
                 (element.uri.toString())
            );
        }
        else {
            return (
                 (element.resource.toString())
            );
        }
    }
}
let FileDataSource = class FileDataSource {
    constructor(_fileService) {
        this._fileService = _fileService;
    }
    hasChildren(element) {
        return _base_common_uri_js__WEBPACK_IMPORTED_MODULE_9__.URI.isUri(element)
            || (0,_platform_workspace_common_workspace_js__WEBPACK_IMPORTED_MODULE_27__.isWorkspace)(element)
            || (0,_platform_workspace_common_workspace_js__WEBPACK_IMPORTED_MODULE_27__.isWorkspaceFolder)(element)
            || element.isDirectory;
    }
    async getChildren(element) {
        if ((0,_platform_workspace_common_workspace_js__WEBPACK_IMPORTED_MODULE_27__.isWorkspace)(element)) {
            return element.folders;
        }
        let uri;
        if ((0,_platform_workspace_common_workspace_js__WEBPACK_IMPORTED_MODULE_27__.isWorkspaceFolder)(element)) {
            uri = element.uri;
        }
        else if (_base_common_uri_js__WEBPACK_IMPORTED_MODULE_9__.URI.isUri(element)) {
            uri = element;
        }
        else {
            uri = element.resource;
        }
        const stat = await this._fileService.resolve(uri);
        return stat.children ?? [];
    }
};
FileDataSource = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, _platform_files_common_files_service_js__WEBPACK_IMPORTED_MODULE_13__.IFileService)))
], FileDataSource)));
let FileRenderer = class FileRenderer {
    constructor(_labels, _configService) {
        this._labels = _labels;
        this._configService = _configService;
        this.templateId = 'FileStat';
    }
    renderTemplate(container) {
        return this._labels.create(container, { supportHighlights: true });
    }
    renderElement(node, index, templateData) {
        const fileDecorations = this._configService.getValue('explorer.decorations');
        const { element } = node;
        let resource;
        let fileKind;
        if ((0,_platform_workspace_common_workspace_js__WEBPACK_IMPORTED_MODULE_27__.isWorkspaceFolder)(element)) {
            resource = element.uri;
            fileKind = _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_12__.FileKind.ROOT_FOLDER;
        }
        else {
            resource = element.resource;
            fileKind = element.isDirectory ? _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_12__.FileKind.FOLDER : _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_12__.FileKind.FILE;
        }
        templateData.setFile(resource, {
            fileKind,
            hidePath: true,
            fileDecorations: fileDecorations,
            matches: (0,_base_common_filters_js__WEBPACK_IMPORTED_MODULE_4__.createMatches)(node.filterData),
            extraClasses: ['picker-item']
        });
    }
    disposeTemplate(templateData) {
        templateData.dispose();
    }
};
FileRenderer = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_11__.IConfigurationService)))
], FileRenderer)));
class FileNavigationLabelProvider {
    getKeyboardNavigationLabel(element) {
        return element.name;
    }
}
class FileAccessibilityProvider {
    getWidgetAriaLabel() {
        return ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_32__.localize)(11753, "Breadcrumbs"));
    }
    getAriaLabel(element) {
        return element.name;
    }
}
let FileFilter = class FileFilter {
    constructor(_workspaceService, configService) {
        this._workspaceService = _workspaceService;
        this._cachedExpressions = ( (new Map()));
        this._disposables = ( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_6__.DisposableStore()));
        const config = _breadcrumbs_js__WEBPACK_IMPORTED_MODULE_30__.BreadcrumbsConfig.FileExcludes.bindTo(configService);
        const update = () => {
            _workspaceService.getWorkspace().folders.forEach(folder => {
                const excludesConfig = config.getValue({ resource: folder.uri });
                if (!excludesConfig) {
                    return;
                }
                const adjustedConfig = {};
                for (const pattern in excludesConfig) {
                    if (typeof excludesConfig[pattern] !== 'boolean') {
                        continue;
                    }
                    const patternAbs = pattern.indexOf('**/') !== 0
                        ? _base_common_path_js__WEBPACK_IMPORTED_MODULE_7__.posix.join(folder.uri.path, pattern)
                        : pattern;
                    adjustedConfig[patternAbs] = excludesConfig[pattern];
                }
                this._cachedExpressions.set(( (folder.uri.toString())), (0,_base_common_glob_js__WEBPACK_IMPORTED_MODULE_5__.parse)(adjustedConfig));
            });
        };
        update();
        this._disposables.add(config);
        this._disposables.add(config.onDidChange(update));
        this._disposables.add(_workspaceService.onDidChangeWorkspaceFolders(update));
    }
    dispose() {
        this._disposables.dispose();
    }
    filter(element, _parentVisibility) {
        if ((0,_platform_workspace_common_workspace_js__WEBPACK_IMPORTED_MODULE_27__.isWorkspaceFolder)(element)) {
            return true;
        }
        const folder = this._workspaceService.getWorkspaceFolder(element.resource);
        if (!folder || !( (this._cachedExpressions.has( (folder.uri.toString()))))) {
            return true;
        }
        const expression = this._cachedExpressions.get(( (folder.uri.toString())));
        return !expression((0,_base_common_path_js__WEBPACK_IMPORTED_MODULE_7__.relative)(folder.uri.path, element.resource.path), (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_8__.basename)(element.resource));
    }
};
FileFilter = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, _platform_workspace_common_workspace_service_js__WEBPACK_IMPORTED_MODULE_28__.IWorkspaceContextService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_11__.IConfigurationService)))
], FileFilter)));
class FileSorter {
    compare(a, b) {
        if ((0,_platform_workspace_common_workspace_js__WEBPACK_IMPORTED_MODULE_27__.isWorkspaceFolder)(a) && (0,_platform_workspace_common_workspace_js__WEBPACK_IMPORTED_MODULE_27__.isWorkspaceFolder)(b)) {
            return a.index - b.index;
        }
        if (a.isDirectory === b.isDirectory) {
            return (0,_base_common_comparers_js__WEBPACK_IMPORTED_MODULE_1__.compareFileNames)(a.name, b.name);
        }
        else if (a.isDirectory) {
            return -1;
        }
        else {
            return 1;
        }
    }
}
let BreadcrumbsFilePicker = class BreadcrumbsFilePicker extends BreadcrumbsPicker {
    constructor(parent, resource, instantiationService, themeService, configService, _workspaceService, _editorService) {
        super(parent, resource, instantiationService, themeService, configService);
        this._workspaceService = _workspaceService;
        this._editorService = _editorService;
    }
    _createTree(container) {
        this._treeContainer.classList.add('file-icon-themable-tree');
        this._treeContainer.classList.add('show-file-icons');
        const onFileIconThemeChange = (fileIconTheme) => {
            this._treeContainer.classList.toggle('align-icons-and-twisties', fileIconTheme.hasFileIcons && !fileIconTheme.hasFolderIcons);
            this._treeContainer.classList.toggle('hide-arrows', fileIconTheme.hidesExplorerArrows === true);
        };
        this._disposables.add(this._themeService.onDidFileIconThemeChange(onFileIconThemeChange));
        onFileIconThemeChange(this._themeService.getFileIconTheme());
        const labels = this._instantiationService.createInstance(_labels_js__WEBPACK_IMPORTED_MODULE_29__.ResourceLabels, _labels_js__WEBPACK_IMPORTED_MODULE_29__.DEFAULT_LABELS_CONTAINER );
        this._disposables.add(labels);
        return this._instantiationService.createInstance(_platform_list_browser_listService_js__WEBPACK_IMPORTED_MODULE_15__.WorkbenchAsyncDataTree, 'BreadcrumbsFilePicker', container, ( (new FileVirtualDelegate())), [this._instantiationService.createInstance(FileRenderer, labels)], this._instantiationService.createInstance(FileDataSource), {
            multipleSelectionSupport: false,
            sorter: ( (new FileSorter())),
            filter: this._instantiationService.createInstance(FileFilter),
            identityProvider: ( (new FileIdentityProvider())),
            keyboardNavigationLabelProvider: ( (new FileNavigationLabelProvider())),
            accessibilityProvider: this._instantiationService.createInstance(FileAccessibilityProvider),
            showNotFoundMessage: false,
            overrideStyles: {
                listBackground: _platform_theme_common_colors_editorColors_js__WEBPACK_IMPORTED_MODULE_19__.breadcrumbsPickerBackground
            },
        });
    }
    async _setInput(element) {
        const { uri, kind } = element;
        let input;
        if (kind === _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_12__.FileKind.ROOT_FOLDER) {
            input = this._workspaceService.getWorkspace();
        }
        else {
            input = (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_8__.dirname)(uri);
        }
        const tree = this._tree;
        await tree.setInput(input);
        let focusElement;
        for (const { element } of tree.getNode().children) {
            if ((0,_platform_workspace_common_workspace_js__WEBPACK_IMPORTED_MODULE_27__.isWorkspaceFolder)(element) && (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_8__.isEqual)(element.uri, uri)) {
                focusElement = element;
                break;
            }
            else if ((0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_8__.isEqual)(element.resource, uri)) {
                focusElement = element;
                break;
            }
        }
        if (focusElement) {
            tree.reveal(focusElement, 0.5);
            tree.setFocus([focusElement], this._fakeEvent);
        }
        tree.domFocus();
    }
    _previewElement(_element) {
        return _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_6__.Disposable.None;
    }
    async _revealElement(element, options, sideBySide) {
        if (!(0,_platform_workspace_common_workspace_js__WEBPACK_IMPORTED_MODULE_27__.isWorkspaceFolder)(element) && element.isFile) {
            this._onWillPickElement.fire();
            await this._editorService.openEditor({ resource: element.resource, options }, sideBySide ? _services_editor_common_editorService_js__WEBPACK_IMPORTED_MODULE_33__.SIDE_GROUP : undefined);
            return true;
        }
        return false;
    }
};
BreadcrumbsFilePicker = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_14__.IInstantiationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_31__.IThemeService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_11__.IConfigurationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _platform_workspace_common_workspace_service_js__WEBPACK_IMPORTED_MODULE_28__.IWorkspaceContextService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_34__.IEditorService)))
], BreadcrumbsFilePicker)));
let OutlineTreeSorter = class OutlineTreeSorter {
    constructor(comparator, uri, configService) {
        this.comparator = comparator;
        this._order = configService.getValue(uri, 'breadcrumbs.symbolSortOrder');
    }
    compare(a, b) {
        if (this._order === 'name') {
            return this.comparator.compareByName(a, b);
        }
        else if (this._order === 'type') {
            return this.comparator.compareByType(a, b);
        }
        else {
            return this.comparator.compareByPosition(a, b);
        }
    }
};
OutlineTreeSorter = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _editor_common_services_textResourceConfiguration_js__WEBPACK_IMPORTED_MODULE_35__.ITextResourceConfigurationService)))
], OutlineTreeSorter)));
class BreadcrumbsOutlinePicker extends BreadcrumbsPicker {
    _createTree(container, input) {
        const { config } = input.outline;
        return this._instantiationService.createInstance(_platform_list_browser_listService_js__WEBPACK_IMPORTED_MODULE_15__.WorkbenchDataTree, 'BreadcrumbsOutlinePicker', container, config.delegate, config.renderers, config.treeDataSource, {
            ...config.options,
            sorter: this._instantiationService.createInstance(OutlineTreeSorter, config.comparator, undefined),
            collapseByDefault: true,
            expandOnlyOnTwistieClick: true,
            multipleSelectionSupport: false,
            showNotFoundMessage: false
        });
    }
    _setInput(input) {
        const viewState = input.outline.captureViewState();
        this.restoreViewState = () => { viewState.dispose(); };
        const tree = this._tree;
        tree.setInput(input.outline);
        if (input.element !== input.outline) {
            tree.reveal(input.element, 0.5);
            tree.setFocus([input.element], this._fakeEvent);
        }
        tree.domFocus();
        return Promise.resolve();
    }
    _previewElement(element) {
        const outline = this._tree.getInput();
        return outline.preview(element);
    }
    async _revealElement(element, options, sideBySide) {
        this._onWillPickElement.fire();
        const outline = this._tree.getInput();
        await outline.reveal(element, options, sideBySide, false);
        return true;
    }
}



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorActions.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorActions.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ClearEditorHistoryAction: () => (/* binding */ ClearEditorHistoryAction),
/* harmony export */   ClearRecentFilesAction: () => (/* binding */ ClearRecentFilesAction),
/* harmony export */   CloseAllEditorGroupsAction: () => (/* binding */ CloseAllEditorGroupsAction),
/* harmony export */   CloseAllEditorsAction: () => (/* binding */ CloseAllEditorsAction),
/* harmony export */   CloseEditorAction: () => (/* binding */ CloseEditorAction),
/* harmony export */   CloseEditorInAllGroupsAction: () => (/* binding */ CloseEditorInAllGroupsAction),
/* harmony export */   CloseEditorTabAction: () => (/* binding */ CloseEditorTabAction),
/* harmony export */   CloseEditorsInOtherGroupsAction: () => (/* binding */ CloseEditorsInOtherGroupsAction),
/* harmony export */   CloseLeftEditorsInGroupAction: () => (/* binding */ CloseLeftEditorsInGroupAction),
/* harmony export */   CopyEditorGroupToNewWindowAction: () => (/* binding */ CopyEditorGroupToNewWindowAction),
/* harmony export */   CopyEditorToNewindowAction: () => (/* binding */ CopyEditorToNewindowAction),
/* harmony export */   DuplicateGroupDownAction: () => (/* binding */ DuplicateGroupDownAction),
/* harmony export */   DuplicateGroupLeftAction: () => (/* binding */ DuplicateGroupLeftAction),
/* harmony export */   DuplicateGroupRightAction: () => (/* binding */ DuplicateGroupRightAction),
/* harmony export */   DuplicateGroupUpAction: () => (/* binding */ DuplicateGroupUpAction),
/* harmony export */   EditorLayoutSingleAction: () => (/* binding */ EditorLayoutSingleAction),
/* harmony export */   EditorLayoutThreeColumnsAction: () => (/* binding */ EditorLayoutThreeColumnsAction),
/* harmony export */   EditorLayoutThreeRowsAction: () => (/* binding */ EditorLayoutThreeRowsAction),
/* harmony export */   EditorLayoutTwoByTwoGridAction: () => (/* binding */ EditorLayoutTwoByTwoGridAction),
/* harmony export */   EditorLayoutTwoColumnsAction: () => (/* binding */ EditorLayoutTwoColumnsAction),
/* harmony export */   EditorLayoutTwoColumnsBottomAction: () => (/* binding */ EditorLayoutTwoColumnsBottomAction),
/* harmony export */   EditorLayoutTwoRowsAction: () => (/* binding */ EditorLayoutTwoRowsAction),
/* harmony export */   EditorLayoutTwoRowsRightAction: () => (/* binding */ EditorLayoutTwoRowsRightAction),
/* harmony export */   FocusAboveGroup: () => (/* binding */ FocusAboveGroup),
/* harmony export */   FocusActiveGroupAction: () => (/* binding */ FocusActiveGroupAction),
/* harmony export */   FocusBelowGroup: () => (/* binding */ FocusBelowGroup),
/* harmony export */   FocusFirstGroupAction: () => (/* binding */ FocusFirstGroupAction),
/* harmony export */   FocusLastGroupAction: () => (/* binding */ FocusLastGroupAction),
/* harmony export */   FocusLeftGroup: () => (/* binding */ FocusLeftGroup),
/* harmony export */   FocusNextGroup: () => (/* binding */ FocusNextGroup),
/* harmony export */   FocusPreviousGroup: () => (/* binding */ FocusPreviousGroup),
/* harmony export */   FocusRightGroup: () => (/* binding */ FocusRightGroup),
/* harmony export */   JoinAllGroupsAction: () => (/* binding */ JoinAllGroupsAction),
/* harmony export */   JoinTwoGroupsAction: () => (/* binding */ JoinTwoGroupsAction),
/* harmony export */   MaximizeGroupHideSidebarAction: () => (/* binding */ MaximizeGroupHideSidebarAction),
/* harmony export */   MinimizeOtherGroupsAction: () => (/* binding */ MinimizeOtherGroupsAction),
/* harmony export */   MinimizeOtherGroupsHideSidebarAction: () => (/* binding */ MinimizeOtherGroupsHideSidebarAction),
/* harmony export */   MoveEditorGroupToNewWindowAction: () => (/* binding */ MoveEditorGroupToNewWindowAction),
/* harmony export */   MoveEditorLeftInGroupAction: () => (/* binding */ MoveEditorLeftInGroupAction),
/* harmony export */   MoveEditorRightInGroupAction: () => (/* binding */ MoveEditorRightInGroupAction),
/* harmony export */   MoveEditorToAboveGroupAction: () => (/* binding */ MoveEditorToAboveGroupAction),
/* harmony export */   MoveEditorToBelowGroupAction: () => (/* binding */ MoveEditorToBelowGroupAction),
/* harmony export */   MoveEditorToFirstGroupAction: () => (/* binding */ MoveEditorToFirstGroupAction),
/* harmony export */   MoveEditorToLastGroupAction: () => (/* binding */ MoveEditorToLastGroupAction),
/* harmony export */   MoveEditorToLeftGroupAction: () => (/* binding */ MoveEditorToLeftGroupAction),
/* harmony export */   MoveEditorToNewWindowAction: () => (/* binding */ MoveEditorToNewWindowAction),
/* harmony export */   MoveEditorToNextGroupAction: () => (/* binding */ MoveEditorToNextGroupAction),
/* harmony export */   MoveEditorToPreviousGroupAction: () => (/* binding */ MoveEditorToPreviousGroupAction),
/* harmony export */   MoveEditorToRightGroupAction: () => (/* binding */ MoveEditorToRightGroupAction),
/* harmony export */   MoveGroupDownAction: () => (/* binding */ MoveGroupDownAction),
/* harmony export */   MoveGroupLeftAction: () => (/* binding */ MoveGroupLeftAction),
/* harmony export */   MoveGroupRightAction: () => (/* binding */ MoveGroupRightAction),
/* harmony export */   MoveGroupUpAction: () => (/* binding */ MoveGroupUpAction),
/* harmony export */   NavigateBackwardsAction: () => (/* binding */ NavigateBackwardsAction),
/* harmony export */   NavigateBackwardsInEditsAction: () => (/* binding */ NavigateBackwardsInEditsAction),
/* harmony export */   NavigateBackwardsInNavigationsAction: () => (/* binding */ NavigateBackwardsInNavigationsAction),
/* harmony export */   NavigateBetweenGroupsAction: () => (/* binding */ NavigateBetweenGroupsAction),
/* harmony export */   NavigateForwardAction: () => (/* binding */ NavigateForwardAction),
/* harmony export */   NavigateForwardInEditsAction: () => (/* binding */ NavigateForwardInEditsAction),
/* harmony export */   NavigateForwardInNavigationsAction: () => (/* binding */ NavigateForwardInNavigationsAction),
/* harmony export */   NavigatePreviousAction: () => (/* binding */ NavigatePreviousAction),
/* harmony export */   NavigatePreviousInEditsAction: () => (/* binding */ NavigatePreviousInEditsAction),
/* harmony export */   NavigatePreviousInNavigationsAction: () => (/* binding */ NavigatePreviousInNavigationsAction),
/* harmony export */   NavigateToLastEditLocationAction: () => (/* binding */ NavigateToLastEditLocationAction),
/* harmony export */   NavigateToLastNavigationLocationAction: () => (/* binding */ NavigateToLastNavigationLocationAction),
/* harmony export */   NewEditorGroupAboveAction: () => (/* binding */ NewEditorGroupAboveAction),
/* harmony export */   NewEditorGroupBelowAction: () => (/* binding */ NewEditorGroupBelowAction),
/* harmony export */   NewEditorGroupLeftAction: () => (/* binding */ NewEditorGroupLeftAction),
/* harmony export */   NewEditorGroupRightAction: () => (/* binding */ NewEditorGroupRightAction),
/* harmony export */   NewEmptyEditorWindowAction: () => (/* binding */ NewEmptyEditorWindowAction),
/* harmony export */   OpenFirstEditorInGroup: () => (/* binding */ OpenFirstEditorInGroup),
/* harmony export */   OpenLastEditorInGroup: () => (/* binding */ OpenLastEditorInGroup),
/* harmony export */   OpenNextEditor: () => (/* binding */ OpenNextEditor),
/* harmony export */   OpenNextEditorInGroup: () => (/* binding */ OpenNextEditorInGroup),
/* harmony export */   OpenNextRecentlyUsedEditorAction: () => (/* binding */ OpenNextRecentlyUsedEditorAction),
/* harmony export */   OpenNextRecentlyUsedEditorInGroupAction: () => (/* binding */ OpenNextRecentlyUsedEditorInGroupAction),
/* harmony export */   OpenPreviousEditor: () => (/* binding */ OpenPreviousEditor),
/* harmony export */   OpenPreviousEditorInGroup: () => (/* binding */ OpenPreviousEditorInGroup),
/* harmony export */   OpenPreviousRecentlyUsedEditorAction: () => (/* binding */ OpenPreviousRecentlyUsedEditorAction),
/* harmony export */   OpenPreviousRecentlyUsedEditorInGroupAction: () => (/* binding */ OpenPreviousRecentlyUsedEditorInGroupAction),
/* harmony export */   QuickAccessLeastRecentlyUsedEditorAction: () => (/* binding */ QuickAccessLeastRecentlyUsedEditorAction),
/* harmony export */   QuickAccessLeastRecentlyUsedEditorInGroupAction: () => (/* binding */ QuickAccessLeastRecentlyUsedEditorInGroupAction),
/* harmony export */   QuickAccessPreviousEditorFromHistoryAction: () => (/* binding */ QuickAccessPreviousEditorFromHistoryAction),
/* harmony export */   QuickAccessPreviousRecentlyUsedEditorAction: () => (/* binding */ QuickAccessPreviousRecentlyUsedEditorAction),
/* harmony export */   QuickAccessPreviousRecentlyUsedEditorInGroupAction: () => (/* binding */ QuickAccessPreviousRecentlyUsedEditorInGroupAction),
/* harmony export */   ReOpenInTextEditorAction: () => (/* binding */ ReOpenInTextEditorAction),
/* harmony export */   ReopenClosedEditorAction: () => (/* binding */ ReopenClosedEditorAction),
/* harmony export */   ResetGroupSizesAction: () => (/* binding */ ResetGroupSizesAction),
/* harmony export */   RestoreEditorsToMainWindowAction: () => (/* binding */ RestoreEditorsToMainWindowAction),
/* harmony export */   RevertAndCloseEditorAction: () => (/* binding */ RevertAndCloseEditorAction),
/* harmony export */   ShowAllEditorsByAppearanceAction: () => (/* binding */ ShowAllEditorsByAppearanceAction),
/* harmony export */   ShowAllEditorsByMostRecentlyUsedAction: () => (/* binding */ ShowAllEditorsByMostRecentlyUsedAction),
/* harmony export */   ShowEditorsInActiveGroupByMostRecentlyUsedAction: () => (/* binding */ ShowEditorsInActiveGroupByMostRecentlyUsedAction),
/* harmony export */   SplitEditorAction: () => (/* binding */ SplitEditorAction),
/* harmony export */   SplitEditorDownAction: () => (/* binding */ SplitEditorDownAction),
/* harmony export */   SplitEditorLeftAction: () => (/* binding */ SplitEditorLeftAction),
/* harmony export */   SplitEditorOrthogonalAction: () => (/* binding */ SplitEditorOrthogonalAction),
/* harmony export */   SplitEditorRightAction: () => (/* binding */ SplitEditorRightAction),
/* harmony export */   SplitEditorToAboveGroupAction: () => (/* binding */ SplitEditorToAboveGroupAction),
/* harmony export */   SplitEditorToBelowGroupAction: () => (/* binding */ SplitEditorToBelowGroupAction),
/* harmony export */   SplitEditorToFirstGroupAction: () => (/* binding */ SplitEditorToFirstGroupAction),
/* harmony export */   SplitEditorToLastGroupAction: () => (/* binding */ SplitEditorToLastGroupAction),
/* harmony export */   SplitEditorToLeftGroupAction: () => (/* binding */ SplitEditorToLeftGroupAction),
/* harmony export */   SplitEditorToNextGroupAction: () => (/* binding */ SplitEditorToNextGroupAction),
/* harmony export */   SplitEditorToPreviousGroupAction: () => (/* binding */ SplitEditorToPreviousGroupAction),
/* harmony export */   SplitEditorToRightGroupAction: () => (/* binding */ SplitEditorToRightGroupAction),
/* harmony export */   SplitEditorUpAction: () => (/* binding */ SplitEditorUpAction),
/* harmony export */   ToggleEditorTypeAction: () => (/* binding */ ToggleEditorTypeAction),
/* harmony export */   ToggleGroupSizesAction: () => (/* binding */ ToggleGroupSizesAction),
/* harmony export */   ToggleMaximizeEditorGroupAction: () => (/* binding */ ToggleMaximizeEditorGroupAction),
/* harmony export */   UnpinEditorAction: () => (/* binding */ UnpinEditorAction)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _base_common_actions_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../base/common/actions.js */ "./node_modules/vscode/vscode/src/vs/base/common/actions.js");
/* harmony import */ var _common_editor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../common/editor.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor.js");
/* harmony import */ var _common_editor_sideBySideEditorInput_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../common/editor/sideBySideEditorInput.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/sideBySideEditorInput.js");
/* harmony import */ var _services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/layout/browser/layoutService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/layout/browser/layoutService.service.js");
/* harmony import */ var _services_history_common_history_service_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/history/common/history.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/history/common/history.service.js");
/* harmony import */ var _platform_keybinding_common_keybinding_service_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../platform/keybinding/common/keybinding.service.js */ "./node_modules/vscode/vscode/src/vs/platform/keybinding/common/keybinding.service.js");
/* harmony import */ var _platform_commands_common_commands_service_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../platform/commands/common/commands.service.js */ "./node_modules/vscode/vscode/src/vs/platform/commands/common/commands.service.js");
/* harmony import */ var _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./editorCommands.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorCommands.js");
/* harmony import */ var _services_editor_common_editorGroupsService_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../services/editor/common/editorGroupsService.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorGroupsService.js");
/* harmony import */ var _services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../services/editor/common/editorGroupsService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorGroupsService.service.js");
/* harmony import */ var _services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../services/editor/common/editorService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");
/* harmony import */ var _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../platform/configuration/common/configuration.service.js */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var _platform_workspaces_common_workspaces_service_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../platform/workspaces/common/workspaces.service.js */ "./node_modules/vscode/vscode/src/vs/platform/workspaces/common/workspaces.service.js");
/* harmony import */ var _platform_dialogs_common_dialogs_service_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../platform/dialogs/common/dialogs.service.js */ "./node_modules/vscode/vscode/src/vs/platform/dialogs/common/dialogs.service.js");
/* harmony import */ var _platform_quickinput_common_quickInput_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../platform/quickinput/common/quickInput.js */ "./node_modules/vscode/vscode/src/vs/platform/quickinput/common/quickInput.js");
/* harmony import */ var _platform_quickinput_common_quickInput_service_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../platform/quickinput/common/quickInput.service.js */ "./node_modules/vscode/vscode/src/vs/platform/quickinput/common/quickInput.service.js");
/* harmony import */ var _editorQuickAccess_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./editorQuickAccess.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorQuickAccess.js");
/* harmony import */ var _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../base/common/codicons.js */ "./node_modules/vscode/vscode/src/vs/base/common/codicons.js");
/* harmony import */ var _base_common_themables_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../base/common/themables.js */ "./node_modules/vscode/vscode/src/vs/base/common/themables.js");
/* harmony import */ var _services_filesConfiguration_common_filesConfigurationService_service_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../services/filesConfiguration/common/filesConfigurationService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/filesConfiguration/common/filesConfigurationService.service.js");
/* harmony import */ var _services_editor_common_editorResolverService_service_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../services/editor/common/editorResolverService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorResolverService.service.js");
/* harmony import */ var _base_common_platform_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../base/common/platform.js */ "./node_modules/vscode/vscode/src/vs/base/common/platform.js");
/* harmony import */ var _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../platform/actions/common/actions.js */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../../platform/contextkey/common/contextkey.js */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.js");
/* harmony import */ var _base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../../base/common/keyCodes.js */ "./node_modules/vscode/vscode/src/vs/base/common/keyCodes.js");
/* harmony import */ var _platform_log_common_log_service_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../../platform/log/common/log.service.js */ "./node_modules/vscode/vscode/src/vs/platform/log/common/log.service.js");
/* harmony import */ var _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../../platform/action/common/actionCommonCategories.js */ "./node_modules/vscode/vscode/src/vs/platform/action/common/actionCommonCategories.js");
/* harmony import */ var _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../common/contextkeys.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/contextkeys.js");
/* harmony import */ var _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../../base/browser/dom.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var _platform_progress_common_progress_service_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../../../platform/progress/common/progress.service.js */ "./node_modules/vscode/vscode/src/vs/platform/progress/common/progress.service.js");
/* harmony import */ var _editorCommandsContext_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./editorCommandsContext.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorCommandsContext.js");
/* harmony import */ var _platform_list_browser_listService_service_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../../../platform/list/browser/listService.service.js */ "./node_modules/vscode/vscode/src/vs/platform/list/browser/listService.service.js");


































class ExecuteCommandAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor(desc, commandId, commandArgs) {
        super(desc);
        this.commandId = commandId;
        this.commandArgs = commandArgs;
    }
    run(accessor) {
        const commandService = accessor.get(_platform_commands_common_commands_service_js__WEBPACK_IMPORTED_MODULE_8__.ICommandService);
        return commandService.executeCommand(this.commandId, this.commandArgs);
    }
}
class AbstractSplitEditorAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    getDirection(configurationService) {
        return (0,_services_editor_common_editorGroupsService_js__WEBPACK_IMPORTED_MODULE_10__.preferredSideBySideGroupDirection)(configurationService);
    }
    async run(accessor, ...args) {
        const editorGroupsService = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_11__.IEditorGroupsService);
        const configurationService = accessor.get(_platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_13__.IConfigurationService);
        const direction = this.getDirection(configurationService);
        const commandContext = (0,_editorCommandsContext_js__WEBPACK_IMPORTED_MODULE_32__.resolveCommandsContext)(args, accessor.get(_services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_12__.IEditorService), editorGroupsService, accessor.get(_platform_list_browser_listService_service_js__WEBPACK_IMPORTED_MODULE_33__.IListService));
        (0,_editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.splitEditor)(editorGroupsService, direction, commandContext);
    }
}
class SplitEditorAction extends AbstractSplitEditorAction {
    static { this.ID = _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.SPLIT_EDITOR; }
    constructor() {
        super({
            id: SplitEditorAction.ID,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9651, 'Split Editor')),
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: 2048  | 93
            },
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        });
    }
}
class SplitEditorOrthogonalAction extends AbstractSplitEditorAction {
    constructor() {
        super({
            id: 'workbench.action.splitEditorOrthogonal',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9652, 'Split Editor Orthogonal')),
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: (0,_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_26__.KeyChord)(2048  | 41 , 2048  | 93 )
            },
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        });
    }
    getDirection(configurationService) {
        const direction = (0,_services_editor_common_editorGroupsService_js__WEBPACK_IMPORTED_MODULE_10__.preferredSideBySideGroupDirection)(configurationService);
        return direction === 3  ? 1  : 3 ;
    }
}
class SplitEditorLeftAction extends ExecuteCommandAction {
    constructor() {
        super({
            id: _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.SPLIT_EDITOR_LEFT,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9653, 'Split Editor Left')),
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: (0,_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_26__.KeyChord)(2048  | 41 , 2048  | 93 )
            },
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.SPLIT_EDITOR_LEFT);
    }
}
class SplitEditorRightAction extends ExecuteCommandAction {
    constructor() {
        super({
            id: _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.SPLIT_EDITOR_RIGHT,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9654, 'Split Editor Right')),
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: (0,_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_26__.KeyChord)(2048  | 41 , 2048  | 93 )
            },
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.SPLIT_EDITOR_RIGHT);
    }
}
class SplitEditorUpAction extends ExecuteCommandAction {
    static { this.LABEL = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9655, "Split Editor Up")); }
    constructor() {
        super({
            id: _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.SPLIT_EDITOR_UP,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9655, "Split Editor Up")),
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: (0,_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_26__.KeyChord)(2048  | 41 , 2048  | 93 )
            },
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.SPLIT_EDITOR_UP);
    }
}
class SplitEditorDownAction extends ExecuteCommandAction {
    static { this.LABEL = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9656, "Split Editor Down")); }
    constructor() {
        super({
            id: _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.SPLIT_EDITOR_DOWN,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9656, "Split Editor Down")),
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: (0,_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_26__.KeyChord)(2048  | 41 , 2048  | 93 )
            },
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.SPLIT_EDITOR_DOWN);
    }
}
class JoinTwoGroupsAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.joinTwoGroups',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9657, 'Join Editor Group with Next Group')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        });
    }
    async run(accessor, context) {
        const editorGroupService = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_11__.IEditorGroupsService);
        let sourceGroup;
        if (context && typeof context.groupId === 'number') {
            sourceGroup = editorGroupService.getGroup(context.groupId);
        }
        else {
            sourceGroup = editorGroupService.activeGroup;
        }
        if (sourceGroup) {
            const targetGroupDirections = [3 , 1 , 2 , 0 ];
            for (const targetGroupDirection of targetGroupDirections) {
                const targetGroup = editorGroupService.findGroup({ direction: targetGroupDirection }, sourceGroup);
                if (targetGroup && sourceGroup !== targetGroup) {
                    editorGroupService.mergeGroup(sourceGroup, targetGroup);
                    break;
                }
            }
        }
    }
}
class JoinAllGroupsAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.joinAllGroups',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9658, 'Join All Editor Groups')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        });
    }
    async run(accessor) {
        const editorGroupService = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_11__.IEditorGroupsService);
        editorGroupService.mergeAllGroups(editorGroupService.activeGroup);
    }
}
class NavigateBetweenGroupsAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.navigateEditorGroups',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9659, 'Navigate Between Editor Groups')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        });
    }
    async run(accessor) {
        const editorGroupService = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_11__.IEditorGroupsService);
        const nextGroup = editorGroupService.findGroup({ location: 2  }, editorGroupService.activeGroup, true);
        nextGroup?.focus();
    }
}
class FocusActiveGroupAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.focusActiveEditorGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9660, 'Focus Active Editor Group')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        });
    }
    async run(accessor) {
        const editorGroupService = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_11__.IEditorGroupsService);
        editorGroupService.activeGroup.focus();
    }
}
class AbstractFocusGroupAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor(desc, scope) {
        super(desc);
        this.scope = scope;
    }
    async run(accessor) {
        const editorGroupService = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_11__.IEditorGroupsService);
        const group = editorGroupService.findGroup(this.scope, editorGroupService.activeGroup, true);
        group?.focus();
    }
}
class FocusFirstGroupAction extends AbstractFocusGroupAction {
    constructor() {
        super({
            id: 'workbench.action.focusFirstEditorGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9661, 'Focus First Editor Group')),
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: 2048  | 22
            },
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, { location: 0  });
    }
}
class FocusLastGroupAction extends AbstractFocusGroupAction {
    constructor() {
        super({
            id: 'workbench.action.focusLastEditorGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9662, 'Focus Last Editor Group')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, { location: 1  });
    }
}
class FocusNextGroup extends AbstractFocusGroupAction {
    constructor() {
        super({
            id: 'workbench.action.focusNextGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9663, 'Focus Next Editor Group')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, { location: 2  });
    }
}
class FocusPreviousGroup extends AbstractFocusGroupAction {
    constructor() {
        super({
            id: 'workbench.action.focusPreviousGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9664, 'Focus Previous Editor Group')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, { location: 3  });
    }
}
class FocusLeftGroup extends AbstractFocusGroupAction {
    constructor() {
        super({
            id: 'workbench.action.focusLeftGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9665, 'Focus Left Editor Group')),
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: (0,_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_26__.KeyChord)(2048  | 41 , 2048  | 15 )
            },
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, { direction: 2  });
    }
}
class FocusRightGroup extends AbstractFocusGroupAction {
    constructor() {
        super({
            id: 'workbench.action.focusRightGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9666, 'Focus Right Editor Group')),
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: (0,_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_26__.KeyChord)(2048  | 41 , 2048  | 17 )
            },
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, { direction: 3  });
    }
}
class FocusAboveGroup extends AbstractFocusGroupAction {
    constructor() {
        super({
            id: 'workbench.action.focusAboveGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9667, 'Focus Editor Group Above')),
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: (0,_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_26__.KeyChord)(2048  | 41 , 2048  | 16 )
            },
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, { direction: 0  });
    }
}
class FocusBelowGroup extends AbstractFocusGroupAction {
    constructor() {
        super({
            id: 'workbench.action.focusBelowGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9668, 'Focus Editor Group Below')),
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: (0,_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_26__.KeyChord)(2048  | 41 , 2048  | 18 )
            },
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, { direction: 1  });
    }
}
let CloseEditorAction = class CloseEditorAction extends _base_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.Action {
    static { this.ID = 'workbench.action.closeActiveEditor'; }
    static { this.LABEL = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9669, "Close Editor")); }
    constructor(id, label, commandService) {
        super(id, label, _base_common_themables_js__WEBPACK_IMPORTED_MODULE_20__.ThemeIcon.asClassName(_base_common_codicons_js__WEBPACK_IMPORTED_MODULE_19__.Codicon.close));
        this.commandService = commandService;
    }
    run(context) {
        return this.commandService.executeCommand(_editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.CLOSE_EDITOR_COMMAND_ID, undefined, context);
    }
};
CloseEditorAction = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_commands_common_commands_service_js__WEBPACK_IMPORTED_MODULE_8__.ICommandService)))
], CloseEditorAction)));
let UnpinEditorAction = class UnpinEditorAction extends _base_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.Action {
    static { this.ID = 'workbench.action.unpinActiveEditor'; }
    static { this.LABEL = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9670, "Unpin Editor")); }
    constructor(id, label, commandService) {
        super(id, label, _base_common_themables_js__WEBPACK_IMPORTED_MODULE_20__.ThemeIcon.asClassName(_base_common_codicons_js__WEBPACK_IMPORTED_MODULE_19__.Codicon.pinned));
        this.commandService = commandService;
    }
    run(context) {
        return this.commandService.executeCommand(_editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.UNPIN_EDITOR_COMMAND_ID, undefined, context);
    }
};
UnpinEditorAction = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_commands_common_commands_service_js__WEBPACK_IMPORTED_MODULE_8__.ICommandService)))
], UnpinEditorAction)));
let CloseEditorTabAction = class CloseEditorTabAction extends _base_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.Action {
    static { this.ID = 'workbench.action.closeActiveEditor'; }
    static { this.LABEL = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9671, "Close")); }
    constructor(id, label, editorGroupService) {
        super(id, label, _base_common_themables_js__WEBPACK_IMPORTED_MODULE_20__.ThemeIcon.asClassName(_base_common_codicons_js__WEBPACK_IMPORTED_MODULE_19__.Codicon.close));
        this.editorGroupService = editorGroupService;
    }
    async run(context) {
        const group = context ? this.editorGroupService.getGroup(context.groupId) : this.editorGroupService.activeGroup;
        if (!group) {
            return;
        }
        const targetEditor = context?.editorIndex !== undefined ? group.getEditorByIndex(context.editorIndex) : group.activeEditor;
        if (!targetEditor) {
            return;
        }
        const editors = [];
        if (group.isSelected(targetEditor)) {
            editors.push(...group.selectedEditors);
        }
        else {
            editors.push(targetEditor);
        }
        for (const editor of editors) {
            await group.closeEditor(editor, { preserveFocus: context?.preserveFocus });
        }
    }
};
CloseEditorTabAction = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_11__.IEditorGroupsService)))
], CloseEditorTabAction)));
class RevertAndCloseEditorAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.revertAndCloseActiveEditor',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9672, 'Revert and Close Editor')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        });
    }
    async run(accessor) {
        const editorService = accessor.get(_services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_12__.IEditorService);
        const logService = accessor.get(_platform_log_common_log_service_js__WEBPACK_IMPORTED_MODULE_27__.ILogService);
        const activeEditorPane = editorService.activeEditorPane;
        if (activeEditorPane) {
            const editor = activeEditorPane.input;
            const group = activeEditorPane.group;
            try {
                await editorService.revert({ editor, groupId: group.id });
            }
            catch (error) {
                logService.error(error);
                await editorService.revert({ editor, groupId: group.id }, { soft: true });
            }
            await group.closeEditor(editor);
        }
    }
}
class CloseLeftEditorsInGroupAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.closeEditorsToTheLeft',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9673, 'Close Editors to the Left in Group')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        });
    }
    async run(accessor, context) {
        const editorGroupService = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_11__.IEditorGroupsService);
        const { group, editor } = this.getTarget(editorGroupService, context);
        if (group && editor) {
            await group.closeEditors({ direction: 0 , except: editor, excludeSticky: true });
        }
    }
    getTarget(editorGroupService, context) {
        if (context) {
            return { editor: context.editor, group: editorGroupService.getGroup(context.groupId) };
        }
        return { group: editorGroupService.activeGroup, editor: editorGroupService.activeGroup.activeEditor };
    }
}
class AbstractCloseAllAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    groupsToClose(editorGroupService) {
        const groupsToClose = [];
        const groups = editorGroupService.getGroups(2 );
        for (let i = groups.length - 1; i >= 0; i--) {
            groupsToClose.push(groups[i]);
        }
        return groupsToClose;
    }
    async run(accessor) {
        const editorService = accessor.get(_services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_12__.IEditorService);
        const logService = accessor.get(_platform_log_common_log_service_js__WEBPACK_IMPORTED_MODULE_27__.ILogService);
        const progressService = accessor.get(_platform_progress_common_progress_service_js__WEBPACK_IMPORTED_MODULE_31__.IProgressService);
        const editorGroupService = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_11__.IEditorGroupsService);
        const filesConfigurationService = accessor.get(_services_filesConfiguration_common_filesConfigurationService_service_js__WEBPACK_IMPORTED_MODULE_21__.IFilesConfigurationService);
        const fileDialogService = accessor.get(_platform_dialogs_common_dialogs_service_js__WEBPACK_IMPORTED_MODULE_15__.IFileDialogService);
        const dirtyEditorsWithDefaultConfirm = ( (new Set()));
        const dirtyAutoSaveOnFocusChangeEditors = ( (new Set()));
        const dirtyAutoSaveOnWindowChangeEditors = ( (new Set()));
        const editorsWithCustomConfirm = ( (new Map()));
        for (const { editor, groupId } of editorService.getEditors(1 , { excludeSticky: this.excludeSticky })) {
            let confirmClose = false;
            if (editor.closeHandler) {
                confirmClose = editor.closeHandler.showConfirm();
            }
            else {
                confirmClose = editor.isDirty() && !editor.isSaving();
            }
            if (!confirmClose) {
                continue;
            }
            if (typeof editor.closeHandler?.confirm === 'function') {
                let customEditorsToConfirm = editorsWithCustomConfirm.get(editor.typeId);
                if (!customEditorsToConfirm) {
                    customEditorsToConfirm = ( (new Set()));
                    editorsWithCustomConfirm.set(editor.typeId, customEditorsToConfirm);
                }
                customEditorsToConfirm.add({ editor, groupId });
            }
            else if (!editor.hasCapability(4 ) && filesConfigurationService.getAutoSaveMode(editor).mode === 3 ) {
                dirtyAutoSaveOnFocusChangeEditors.add({ editor, groupId });
            }
            else if ((_base_common_platform_js__WEBPACK_IMPORTED_MODULE_23__.isNative && (_base_common_platform_js__WEBPACK_IMPORTED_MODULE_23__.isWindows || _base_common_platform_js__WEBPACK_IMPORTED_MODULE_23__.isLinux)) && !editor.hasCapability(4 ) && filesConfigurationService.getAutoSaveMode(editor).mode === 4 ) {
                dirtyAutoSaveOnWindowChangeEditors.add({ editor, groupId });
            }
            else {
                dirtyEditorsWithDefaultConfirm.add({ editor, groupId });
            }
        }
        if (dirtyEditorsWithDefaultConfirm.size > 0) {
            const editors = Array.from(( (dirtyEditorsWithDefaultConfirm.values())));
            await this.revealEditorsToConfirm(editors, editorGroupService);
            const confirmation = await fileDialogService.showSaveConfirm(( (editors.map(({ editor }) => {
                if (editor instanceof _common_editor_sideBySideEditorInput_js__WEBPACK_IMPORTED_MODULE_4__.SideBySideEditorInput) {
                    return editor.primary.getName();
                }
                return editor.getName();
            }))));
            switch (confirmation) {
                case 2 :
                    return;
                case 1 :
                    await this.revertEditors(editorService, logService, progressService, editors);
                    break;
                case 0 :
                    await editorService.save(editors, { reason: 1  });
                    break;
            }
        }
        for (const [, editorIdentifiers] of editorsWithCustomConfirm) {
            const editors = Array.from(( (editorIdentifiers.values())));
            await this.revealEditorsToConfirm(editors, editorGroupService);
            const confirmation = await editors.at(0)?.editor.closeHandler?.confirm?.(editors);
            if (typeof confirmation === 'number') {
                switch (confirmation) {
                    case 2 :
                        return;
                    case 1 :
                        await this.revertEditors(editorService, logService, progressService, editors);
                        break;
                    case 0 :
                        await editorService.save(editors, { reason: 1  });
                        break;
                }
            }
        }
        if (dirtyAutoSaveOnFocusChangeEditors.size > 0) {
            const editors = Array.from(( (dirtyAutoSaveOnFocusChangeEditors.values())));
            await editorService.save(editors, { reason: 3  });
        }
        if (dirtyAutoSaveOnWindowChangeEditors.size > 0) {
            const editors = Array.from(( (dirtyAutoSaveOnWindowChangeEditors.values())));
            await editorService.save(editors, { reason: 4  });
        }
        return this.doCloseAll(editorGroupService);
    }
    revertEditors(editorService, logService, progressService, editors) {
        return progressService.withProgress({
            location: 10 ,
            delay: 800,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9674, "Reverting Editors...")),
        }, () => this.doRevertEditors(editorService, logService, editors));
    }
    async doRevertEditors(editorService, logService, editors) {
        try {
            await editorService.revert(editors);
        }
        catch (error) {
            logService.error(error);
            await editorService.revert(editors, { soft: true });
        }
    }
    async revealEditorsToConfirm(editors, editorGroupService) {
        try {
            const handledGroups = ( (new Set()));
            for (const { editor, groupId } of editors) {
                if (( (handledGroups.has(groupId)))) {
                    continue;
                }
                handledGroups.add(groupId);
                const group = editorGroupService.getGroup(groupId);
                await group?.openEditor(editor);
            }
        }
        catch (error) {
        }
    }
    async doCloseAll(editorGroupService) {
        await Promise.all(( (this.groupsToClose(editorGroupService).map(group => group.closeAllEditors({ excludeSticky: this.excludeSticky })))));
    }
}
class CloseAllEditorsAction extends AbstractCloseAllAction {
    static { this.ID = 'workbench.action.closeAllEditors'; }
    static { this.LABEL = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9675, 'Close All Editors')); }
    constructor() {
        super({
            id: CloseAllEditorsAction.ID,
            title: CloseAllEditorsAction.LABEL,
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: (0,_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_26__.KeyChord)(2048  | 41 , 2048  | 53 )
            },
            icon: _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_19__.Codicon.closeAll,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        });
    }
    get excludeSticky() {
        return true;
    }
}
class CloseAllEditorGroupsAction extends AbstractCloseAllAction {
    constructor() {
        super({
            id: 'workbench.action.closeAllGroups',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9676, 'Close All Editor Groups')),
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: (0,_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_26__.KeyChord)(2048  | 41 , 2048  | 1024  | 53 )
            },
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        });
    }
    get excludeSticky() {
        return false;
    }
    async doCloseAll(editorGroupService) {
        await super.doCloseAll(editorGroupService);
        for (const groupToClose of this.groupsToClose(editorGroupService)) {
            editorGroupService.removeGroup(groupToClose);
        }
    }
}
class CloseEditorsInOtherGroupsAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.closeEditorsInOtherGroups',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9677, 'Close Editors in Other Groups')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        });
    }
    async run(accessor, context) {
        const editorGroupService = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_11__.IEditorGroupsService);
        const groupToSkip = context ? editorGroupService.getGroup(context.groupId) : editorGroupService.activeGroup;
        await Promise.all(( (editorGroupService.getGroups(1 ).map(async (group) => {
            if (groupToSkip && group.id === groupToSkip.id) {
                return;
            }
            return group.closeAllEditors({ excludeSticky: true });
        }))));
    }
}
class CloseEditorInAllGroupsAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.closeEditorInAllGroups',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9678, 'Close Editor in All Groups')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        });
    }
    async run(accessor) {
        const editorService = accessor.get(_services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_12__.IEditorService);
        const editorGroupService = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_11__.IEditorGroupsService);
        const activeEditor = editorService.activeEditor;
        if (activeEditor) {
            await Promise.all(( (editorGroupService.getGroups(1 ).map(group => group.closeEditor(activeEditor)))));
        }
    }
}
class AbstractMoveCopyGroupAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor(desc, direction, isMove) {
        super(desc);
        this.direction = direction;
        this.isMove = isMove;
    }
    async run(accessor, context) {
        const editorGroupService = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_11__.IEditorGroupsService);
        let sourceGroup;
        if (context && typeof context.groupId === 'number') {
            sourceGroup = editorGroupService.getGroup(context.groupId);
        }
        else {
            sourceGroup = editorGroupService.activeGroup;
        }
        if (sourceGroup) {
            let resultGroup = undefined;
            if (this.isMove) {
                const targetGroup = this.findTargetGroup(editorGroupService, sourceGroup);
                if (targetGroup) {
                    resultGroup = editorGroupService.moveGroup(sourceGroup, targetGroup, this.direction);
                }
            }
            else {
                resultGroup = editorGroupService.copyGroup(sourceGroup, sourceGroup, this.direction);
            }
            if (resultGroup) {
                editorGroupService.activateGroup(resultGroup);
            }
        }
    }
    findTargetGroup(editorGroupService, sourceGroup) {
        const targetNeighbours = [this.direction];
        switch (this.direction) {
            case 2 :
            case 3 :
                targetNeighbours.push(0 , 1 );
                break;
            case 0 :
            case 1 :
                targetNeighbours.push(2 , 3 );
                break;
        }
        for (const targetNeighbour of targetNeighbours) {
            const targetNeighbourGroup = editorGroupService.findGroup({ direction: targetNeighbour }, sourceGroup);
            if (targetNeighbourGroup) {
                return targetNeighbourGroup;
            }
        }
        return undefined;
    }
}
class AbstractMoveGroupAction extends AbstractMoveCopyGroupAction {
    constructor(desc, direction) {
        super(desc, direction, true);
    }
}
class MoveGroupLeftAction extends AbstractMoveGroupAction {
    constructor() {
        super({
            id: 'workbench.action.moveActiveEditorGroupLeft',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9679, 'Move Editor Group Left')),
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: (0,_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_26__.KeyChord)(2048  | 41 , 15 )
            },
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, 2 );
    }
}
class MoveGroupRightAction extends AbstractMoveGroupAction {
    constructor() {
        super({
            id: 'workbench.action.moveActiveEditorGroupRight',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9680, 'Move Editor Group Right')),
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: (0,_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_26__.KeyChord)(2048  | 41 , 17 )
            },
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, 3 );
    }
}
class MoveGroupUpAction extends AbstractMoveGroupAction {
    constructor() {
        super({
            id: 'workbench.action.moveActiveEditorGroupUp',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9681, 'Move Editor Group Up')),
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: (0,_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_26__.KeyChord)(2048  | 41 , 16 )
            },
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, 0 );
    }
}
class MoveGroupDownAction extends AbstractMoveGroupAction {
    constructor() {
        super({
            id: 'workbench.action.moveActiveEditorGroupDown',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9682, 'Move Editor Group Down')),
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: (0,_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_26__.KeyChord)(2048  | 41 , 18 )
            },
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, 1 );
    }
}
class AbstractDuplicateGroupAction extends AbstractMoveCopyGroupAction {
    constructor(desc, direction) {
        super(desc, direction, false);
    }
}
class DuplicateGroupLeftAction extends AbstractDuplicateGroupAction {
    constructor() {
        super({
            id: 'workbench.action.duplicateActiveEditorGroupLeft',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9683, 'Duplicate Editor Group Left')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, 2 );
    }
}
class DuplicateGroupRightAction extends AbstractDuplicateGroupAction {
    constructor() {
        super({
            id: 'workbench.action.duplicateActiveEditorGroupRight',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9684, 'Duplicate Editor Group Right')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, 3 );
    }
}
class DuplicateGroupUpAction extends AbstractDuplicateGroupAction {
    constructor() {
        super({
            id: 'workbench.action.duplicateActiveEditorGroupUp',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9685, 'Duplicate Editor Group Up')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, 0 );
    }
}
class DuplicateGroupDownAction extends AbstractDuplicateGroupAction {
    constructor() {
        super({
            id: 'workbench.action.duplicateActiveEditorGroupDown',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9686, 'Duplicate Editor Group Down')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, 1 );
    }
}
class MinimizeOtherGroupsAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.minimizeOtherEditors',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9687, 'Expand Editor Group')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View,
            precondition: _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_29__.MultipleEditorGroupsContext
        });
    }
    async run(accessor) {
        const editorGroupService = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_11__.IEditorGroupsService);
        editorGroupService.arrangeGroups(1 );
    }
}
class MinimizeOtherGroupsHideSidebarAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.minimizeOtherEditorsHideSidebar',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9688, 'Expand Editor Group and Hide Side Bars')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View,
            precondition: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_25__.ContextKeyExpr.or(
                _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_29__.MultipleEditorGroupsContext,
                _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_29__.SideBarVisibleContext,
                _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_29__.AuxiliaryBarVisibleContext
            )))
        });
    }
    async run(accessor) {
        const editorGroupService = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_11__.IEditorGroupsService);
        const layoutService = accessor.get(_services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_5__.IWorkbenchLayoutService);
        layoutService.setPartHidden(true, "workbench.parts.sidebar" );
        layoutService.setPartHidden(true, "workbench.parts.auxiliarybar" );
        editorGroupService.arrangeGroups(1 );
    }
}
class ResetGroupSizesAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.evenEditorWidths',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9689, 'Reset Editor Group Sizes')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        });
    }
    async run(accessor) {
        const editorGroupService = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_11__.IEditorGroupsService);
        editorGroupService.arrangeGroups(2 );
    }
}
class ToggleGroupSizesAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.toggleEditorWidths',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9690, 'Toggle Editor Group Sizes')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        });
    }
    async run(accessor) {
        const editorGroupService = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_11__.IEditorGroupsService);
        editorGroupService.toggleExpandGroup();
    }
}
class MaximizeGroupHideSidebarAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.maximizeEditorHideSidebar',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9691, 'Maximize Editor Group and Hide Side Bars')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View,
            precondition: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_25__.ContextKeyExpr.or( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_25__.ContextKeyExpr.and(
                 (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_29__.EditorPartMaximizedEditorGroupContext.negate()),
                _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_29__.EditorPartMultipleEditorGroupsContext
            )), _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_29__.SideBarVisibleContext, _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_29__.AuxiliaryBarVisibleContext)))
        });
    }
    async run(accessor) {
        const layoutService = accessor.get(_services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_5__.IWorkbenchLayoutService);
        const editorGroupService = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_11__.IEditorGroupsService);
        const editorService = accessor.get(_services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_12__.IEditorService);
        if (editorService.activeEditor) {
            layoutService.setPartHidden(true, "workbench.parts.sidebar" );
            layoutService.setPartHidden(true, "workbench.parts.auxiliarybar" );
            editorGroupService.arrangeGroups(0 );
        }
    }
}
class ToggleMaximizeEditorGroupAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor() {
        super({
            id: _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.TOGGLE_MAXIMIZE_EDITOR_GROUP,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9692, 'Toggle Maximize Editor Group')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View,
            precondition: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_25__.ContextKeyExpr.or(
                _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_29__.EditorPartMultipleEditorGroupsContext,
                _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_29__.EditorPartMaximizedEditorGroupContext
            ))),
            keybinding: {
                weight: 200 ,
                primary: (0,_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_26__.KeyChord)(2048  | 41 , 2048  | 43 ),
            },
            menu: [{
                    id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.MenuId.EditorTitle,
                    order: -10000,
                    group: 'navigation',
                    when: _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_29__.EditorPartMaximizedEditorGroupContext
                },
                {
                    id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.MenuId.EmptyEditorGroup,
                    order: -10000,
                    group: 'navigation',
                    when: _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_29__.EditorPartMaximizedEditorGroupContext
                }],
            icon: _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_19__.Codicon.screenFull,
            toggled: _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_29__.EditorPartMaximizedEditorGroupContext,
        });
    }
    async run(accessor, ...args) {
        const editorGroupsService = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_11__.IEditorGroupsService);
        const resolvedContext = (0,_editorCommandsContext_js__WEBPACK_IMPORTED_MODULE_32__.resolveCommandsContext)(args, accessor.get(_services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_12__.IEditorService), editorGroupsService, accessor.get(_platform_list_browser_listService_service_js__WEBPACK_IMPORTED_MODULE_33__.IListService));
        if (resolvedContext.groupedEditors.length) {
            editorGroupsService.toggleMaximizeGroup(resolvedContext.groupedEditors[0].group);
        }
    }
}
class AbstractNavigateEditorAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    async run(accessor) {
        const editorGroupService = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_11__.IEditorGroupsService);
        const result = this.navigate(editorGroupService);
        if (!result) {
            return;
        }
        const { groupId, editor } = result;
        if (!editor) {
            return;
        }
        const group = editorGroupService.getGroup(groupId);
        if (group) {
            await group.openEditor(editor);
        }
    }
}
class OpenNextEditor extends AbstractNavigateEditorAction {
    constructor() {
        super({
            id: 'workbench.action.nextEditor',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9693, 'Open Next Editor')),
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: 2048  | 12 ,
                mac: {
                    primary: 2048  | 512  | 17 ,
                    secondary: [2048  | 1024  | 94 ]
                }
            },
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        });
    }
    navigate(editorGroupService) {
        const activeGroup = editorGroupService.activeGroup;
        const activeGroupEditors = activeGroup.getEditors(1 );
        const activeEditorIndex = activeGroup.activeEditor ? activeGroupEditors.indexOf(activeGroup.activeEditor) : -1;
        if (activeEditorIndex + 1 < activeGroupEditors.length) {
            return { editor: activeGroupEditors[activeEditorIndex + 1], groupId: activeGroup.id };
        }
        const handledGroups = ( (new Set()));
        let currentGroup = editorGroupService.activeGroup;
        while (currentGroup && !( (handledGroups.has(currentGroup.id)))) {
            currentGroup = editorGroupService.findGroup({ location: 2  }, currentGroup, true);
            if (currentGroup) {
                handledGroups.add(currentGroup.id);
                const groupEditors = currentGroup.getEditors(1 );
                if (groupEditors.length > 0) {
                    return { editor: groupEditors[0], groupId: currentGroup.id };
                }
            }
        }
        return undefined;
    }
}
class OpenPreviousEditor extends AbstractNavigateEditorAction {
    constructor() {
        super({
            id: 'workbench.action.previousEditor',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9694, 'Open Previous Editor')),
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: 2048  | 11 ,
                mac: {
                    primary: 2048  | 512  | 15 ,
                    secondary: [2048  | 1024  | 92 ]
                }
            },
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        });
    }
    navigate(editorGroupService) {
        const activeGroup = editorGroupService.activeGroup;
        const activeGroupEditors = activeGroup.getEditors(1 );
        const activeEditorIndex = activeGroup.activeEditor ? activeGroupEditors.indexOf(activeGroup.activeEditor) : -1;
        if (activeEditorIndex > 0) {
            return { editor: activeGroupEditors[activeEditorIndex - 1], groupId: activeGroup.id };
        }
        const handledGroups = ( (new Set()));
        let currentGroup = editorGroupService.activeGroup;
        while (currentGroup && !( (handledGroups.has(currentGroup.id)))) {
            currentGroup = editorGroupService.findGroup({ location: 3  }, currentGroup, true);
            if (currentGroup) {
                handledGroups.add(currentGroup.id);
                const groupEditors = currentGroup.getEditors(1 );
                if (groupEditors.length > 0) {
                    return { editor: groupEditors[groupEditors.length - 1], groupId: currentGroup.id };
                }
            }
        }
        return undefined;
    }
}
class OpenNextEditorInGroup extends AbstractNavigateEditorAction {
    constructor() {
        super({
            id: 'workbench.action.nextEditorInGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9695, 'Open Next Editor in Group')),
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: (0,_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_26__.KeyChord)(2048  | 41 , 2048  | 12 ),
                mac: {
                    primary: (0,_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_26__.KeyChord)(2048  | 41 , 2048  | 512  | 17 )
                }
            },
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        });
    }
    navigate(editorGroupService) {
        const group = editorGroupService.activeGroup;
        const editors = group.getEditors(1 );
        const index = group.activeEditor ? editors.indexOf(group.activeEditor) : -1;
        return { editor: index + 1 < editors.length ? editors[index + 1] : editors[0], groupId: group.id };
    }
}
class OpenPreviousEditorInGroup extends AbstractNavigateEditorAction {
    constructor() {
        super({
            id: 'workbench.action.previousEditorInGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9696, 'Open Previous Editor in Group')),
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: (0,_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_26__.KeyChord)(2048  | 41 , 2048  | 11 ),
                mac: {
                    primary: (0,_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_26__.KeyChord)(2048  | 41 , 2048  | 512  | 15 )
                }
            },
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        });
    }
    navigate(editorGroupService) {
        const group = editorGroupService.activeGroup;
        const editors = group.getEditors(1 );
        const index = group.activeEditor ? editors.indexOf(group.activeEditor) : -1;
        return { editor: index > 0 ? editors[index - 1] : editors[editors.length - 1], groupId: group.id };
    }
}
class OpenFirstEditorInGroup extends AbstractNavigateEditorAction {
    constructor() {
        super({
            id: 'workbench.action.firstEditorInGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9697, 'Open First Editor in Group')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        });
    }
    navigate(editorGroupService) {
        const group = editorGroupService.activeGroup;
        const editors = group.getEditors(1 );
        return { editor: editors[0], groupId: group.id };
    }
}
class OpenLastEditorInGroup extends AbstractNavigateEditorAction {
    constructor() {
        super({
            id: 'workbench.action.lastEditorInGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9698, 'Open Last Editor in Group')),
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: 512  | 21 ,
                secondary: [2048  | 30 ],
                mac: {
                    primary: 256  | 21 ,
                    secondary: [2048  | 30 ]
                }
            },
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        });
    }
    navigate(editorGroupService) {
        const group = editorGroupService.activeGroup;
        const editors = group.getEditors(1 );
        return { editor: editors[editors.length - 1], groupId: group.id };
    }
}
class NavigateForwardAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    static { this.ID = 'workbench.action.navigateForward'; }
    static { this.LABEL = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9699, "Go Forward")); }
    constructor() {
        super({
            id: NavigateForwardAction.ID,
            title: {
                ...( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9699, "Go Forward")),
                mnemonicTitle: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9700, "&&Forward"))
            },
            f1: true,
            icon: _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_19__.Codicon.arrowRight,
            precondition: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_25__.ContextKeyExpr.has('canNavigateForward'))),
            keybinding: {
                weight: 200 ,
                win: { primary: 512  | 17  },
                mac: { primary: 256  | 1024  | 88  },
                linux: { primary: 2048  | 1024  | 88  }
            },
            menu: [
                { id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.MenuId.MenubarGoMenu, group: '1_history_nav', order: 2 },
                { id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.MenuId.CommandCenter, order: 2 }
            ]
        });
    }
    async run(accessor) {
        const historyService = accessor.get(_services_history_common_history_service_js__WEBPACK_IMPORTED_MODULE_6__.IHistoryService);
        await historyService.goForward(0 );
    }
}
class NavigateBackwardsAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    static { this.ID = 'workbench.action.navigateBack'; }
    static { this.LABEL = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9701, "Go Back")); }
    constructor() {
        super({
            id: NavigateBackwardsAction.ID,
            title: {
                ...( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9701, "Go Back")),
                mnemonicTitle: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9702, "&&Back"))
            },
            f1: true,
            precondition: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_25__.ContextKeyExpr.has('canNavigateBack'))),
            icon: _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_19__.Codicon.arrowLeft,
            keybinding: {
                weight: 200 ,
                win: { primary: 512  | 15  },
                mac: { primary: 256  | 88  },
                linux: { primary: 2048  | 512  | 88  }
            },
            menu: [
                { id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.MenuId.MenubarGoMenu, group: '1_history_nav', order: 1 },
                { id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.MenuId.CommandCenter, order: 1 }
            ]
        });
    }
    async run(accessor) {
        const historyService = accessor.get(_services_history_common_history_service_js__WEBPACK_IMPORTED_MODULE_6__.IHistoryService);
        await historyService.goBack(0 );
    }
}
class NavigatePreviousAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.navigateLast',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9703, 'Go Previous')),
            f1: true
        });
    }
    async run(accessor) {
        const historyService = accessor.get(_services_history_common_history_service_js__WEBPACK_IMPORTED_MODULE_6__.IHistoryService);
        await historyService.goPrevious(0 );
    }
}
class NavigateForwardInEditsAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.navigateForwardInEditLocations',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9704, 'Go Forward in Edit Locations')),
            f1: true
        });
    }
    async run(accessor) {
        const historyService = accessor.get(_services_history_common_history_service_js__WEBPACK_IMPORTED_MODULE_6__.IHistoryService);
        await historyService.goForward(1 );
    }
}
class NavigateBackwardsInEditsAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.navigateBackInEditLocations',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9705, 'Go Back in Edit Locations')),
            f1: true
        });
    }
    async run(accessor) {
        const historyService = accessor.get(_services_history_common_history_service_js__WEBPACK_IMPORTED_MODULE_6__.IHistoryService);
        await historyService.goBack(1 );
    }
}
class NavigatePreviousInEditsAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.navigatePreviousInEditLocations',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9706, 'Go Previous in Edit Locations')),
            f1: true
        });
    }
    async run(accessor) {
        const historyService = accessor.get(_services_history_common_history_service_js__WEBPACK_IMPORTED_MODULE_6__.IHistoryService);
        await historyService.goPrevious(1 );
    }
}
class NavigateToLastEditLocationAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.navigateToLastEditLocation',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9707, 'Go to Last Edit Location')),
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: (0,_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_26__.KeyChord)(2048  | 41 , 2048  | 47 )
            }
        });
    }
    async run(accessor) {
        const historyService = accessor.get(_services_history_common_history_service_js__WEBPACK_IMPORTED_MODULE_6__.IHistoryService);
        await historyService.goLast(1 );
    }
}
class NavigateForwardInNavigationsAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.navigateForwardInNavigationLocations',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9708, 'Go Forward in Navigation Locations')),
            f1: true
        });
    }
    async run(accessor) {
        const historyService = accessor.get(_services_history_common_history_service_js__WEBPACK_IMPORTED_MODULE_6__.IHistoryService);
        await historyService.goForward(2 );
    }
}
class NavigateBackwardsInNavigationsAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.navigateBackInNavigationLocations',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9709, 'Go Back in Navigation Locations')),
            f1: true
        });
    }
    async run(accessor) {
        const historyService = accessor.get(_services_history_common_history_service_js__WEBPACK_IMPORTED_MODULE_6__.IHistoryService);
        await historyService.goBack(2 );
    }
}
class NavigatePreviousInNavigationsAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.navigatePreviousInNavigationLocations',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9710, 'Go Previous in Navigation Locations')),
            f1: true
        });
    }
    async run(accessor) {
        const historyService = accessor.get(_services_history_common_history_service_js__WEBPACK_IMPORTED_MODULE_6__.IHistoryService);
        await historyService.goPrevious(2 );
    }
}
class NavigateToLastNavigationLocationAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.navigateToLastNavigationLocation',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9711, 'Go to Last Navigation Location')),
            f1: true
        });
    }
    async run(accessor) {
        const historyService = accessor.get(_services_history_common_history_service_js__WEBPACK_IMPORTED_MODULE_6__.IHistoryService);
        await historyService.goLast(2 );
    }
}
class ReopenClosedEditorAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    static { this.ID = 'workbench.action.reopenClosedEditor'; }
    constructor() {
        super({
            id: ReopenClosedEditorAction.ID,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9712, 'Reopen Closed Editor')),
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: 2048  | 1024  | 50
            },
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        });
    }
    async run(accessor) {
        const historyService = accessor.get(_services_history_common_history_service_js__WEBPACK_IMPORTED_MODULE_6__.IHistoryService);
        await historyService.reopenLastClosedEditor();
    }
}
class ClearRecentFilesAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    static { this.ID = 'workbench.action.clearRecentFiles'; }
    constructor() {
        super({
            id: ClearRecentFilesAction.ID,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9713, 'Clear Recently Opened...')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.File
        });
    }
    async run(accessor) {
        const dialogService = accessor.get(_platform_dialogs_common_dialogs_service_js__WEBPACK_IMPORTED_MODULE_15__.IDialogService);
        const workspacesService = accessor.get(_platform_workspaces_common_workspaces_service_js__WEBPACK_IMPORTED_MODULE_14__.IWorkspacesService);
        const historyService = accessor.get(_services_history_common_history_service_js__WEBPACK_IMPORTED_MODULE_6__.IHistoryService);
        const { confirmed } = await dialogService.confirm({
            type: 'warning',
            message: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9714, "Do you want to clear all recently opened files and workspaces?")),
            detail: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9715, "This action is irreversible!")),
            primaryButton: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9716, "&&Clear"))
        });
        if (!confirmed) {
            return;
        }
        workspacesService.clearRecentlyOpened();
        historyService.clearRecentlyOpened();
    }
}
class ShowEditorsInActiveGroupByMostRecentlyUsedAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    static { this.ID = 'workbench.action.showEditorsInActiveGroup'; }
    constructor() {
        super({
            id: ShowEditorsInActiveGroupByMostRecentlyUsedAction.ID,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9717, 'Show Editors in Active Group By Most Recently Used')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        });
    }
    async run(accessor) {
        const quickInputService = accessor.get(_platform_quickinput_common_quickInput_service_js__WEBPACK_IMPORTED_MODULE_17__.IQuickInputService);
        quickInputService.quickAccess.show(_editorQuickAccess_js__WEBPACK_IMPORTED_MODULE_18__.ActiveGroupEditorsByMostRecentlyUsedQuickAccess.PREFIX);
    }
}
class ShowAllEditorsByAppearanceAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    static { this.ID = 'workbench.action.showAllEditors'; }
    constructor() {
        super({
            id: ShowAllEditorsByAppearanceAction.ID,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9718, 'Show All Editors By Appearance')),
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: (0,_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_26__.KeyChord)(2048  | 41 , 2048  | 46 ),
                mac: {
                    primary: 2048  | 512  | 2
                }
            },
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.File
        });
    }
    async run(accessor) {
        const quickInputService = accessor.get(_platform_quickinput_common_quickInput_service_js__WEBPACK_IMPORTED_MODULE_17__.IQuickInputService);
        quickInputService.quickAccess.show(_editorQuickAccess_js__WEBPACK_IMPORTED_MODULE_18__.AllEditorsByAppearanceQuickAccess.PREFIX);
    }
}
class ShowAllEditorsByMostRecentlyUsedAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    static { this.ID = 'workbench.action.showAllEditorsByMostRecentlyUsed'; }
    constructor() {
        super({
            id: ShowAllEditorsByMostRecentlyUsedAction.ID,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9719, 'Show All Editors By Most Recently Used')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        });
    }
    async run(accessor) {
        const quickInputService = accessor.get(_platform_quickinput_common_quickInput_service_js__WEBPACK_IMPORTED_MODULE_17__.IQuickInputService);
        quickInputService.quickAccess.show(_editorQuickAccess_js__WEBPACK_IMPORTED_MODULE_18__.AllEditorsByMostRecentlyUsedQuickAccess.PREFIX);
    }
}
class AbstractQuickAccessEditorAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor(desc, prefix, itemActivation) {
        super(desc);
        this.prefix = prefix;
        this.itemActivation = itemActivation;
    }
    async run(accessor) {
        const keybindingService = accessor.get(_platform_keybinding_common_keybinding_service_js__WEBPACK_IMPORTED_MODULE_7__.IKeybindingService);
        const quickInputService = accessor.get(_platform_quickinput_common_quickInput_service_js__WEBPACK_IMPORTED_MODULE_17__.IQuickInputService);
        const keybindings = keybindingService.lookupKeybindings(this.desc.id);
        quickInputService.quickAccess.show(this.prefix, {
            quickNavigateConfiguration: { keybindings },
            itemActivation: this.itemActivation
        });
    }
}
class QuickAccessPreviousRecentlyUsedEditorAction extends AbstractQuickAccessEditorAction {
    constructor() {
        super({
            id: 'workbench.action.quickOpenPreviousRecentlyUsedEditor',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9720, 'Quick Open Previous Recently Used Editor')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, _editorQuickAccess_js__WEBPACK_IMPORTED_MODULE_18__.AllEditorsByMostRecentlyUsedQuickAccess.PREFIX, undefined);
    }
}
class QuickAccessLeastRecentlyUsedEditorAction extends AbstractQuickAccessEditorAction {
    constructor() {
        super({
            id: 'workbench.action.quickOpenLeastRecentlyUsedEditor',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9721, 'Quick Open Least Recently Used Editor')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, _editorQuickAccess_js__WEBPACK_IMPORTED_MODULE_18__.AllEditorsByMostRecentlyUsedQuickAccess.PREFIX, undefined);
    }
}
class QuickAccessPreviousRecentlyUsedEditorInGroupAction extends AbstractQuickAccessEditorAction {
    constructor() {
        super({
            id: 'workbench.action.quickOpenPreviousRecentlyUsedEditorInGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9722, 'Quick Open Previous Recently Used Editor in Group')),
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: 2048  | 2 ,
                mac: {
                    primary: 256  | 2
                }
            },
            precondition: ( (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_29__.ActiveEditorGroupEmptyContext.toNegated())),
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, _editorQuickAccess_js__WEBPACK_IMPORTED_MODULE_18__.ActiveGroupEditorsByMostRecentlyUsedQuickAccess.PREFIX, undefined);
    }
}
class QuickAccessLeastRecentlyUsedEditorInGroupAction extends AbstractQuickAccessEditorAction {
    constructor() {
        super({
            id: 'workbench.action.quickOpenLeastRecentlyUsedEditorInGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9723, 'Quick Open Least Recently Used Editor in Group')),
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: 2048  | 1024  | 2 ,
                mac: {
                    primary: 256  | 1024  | 2
                }
            },
            precondition: ( (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_29__.ActiveEditorGroupEmptyContext.toNegated())),
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, _editorQuickAccess_js__WEBPACK_IMPORTED_MODULE_18__.ActiveGroupEditorsByMostRecentlyUsedQuickAccess.PREFIX, _platform_quickinput_common_quickInput_js__WEBPACK_IMPORTED_MODULE_16__.ItemActivation.LAST);
    }
}
class QuickAccessPreviousEditorFromHistoryAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    static { this.ID = 'workbench.action.openPreviousEditorFromHistory'; }
    constructor() {
        super({
            id: QuickAccessPreviousEditorFromHistoryAction.ID,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9724, 'Quick Open Previous Editor from History')),
            f1: true
        });
    }
    async run(accessor) {
        const keybindingService = accessor.get(_platform_keybinding_common_keybinding_service_js__WEBPACK_IMPORTED_MODULE_7__.IKeybindingService);
        const quickInputService = accessor.get(_platform_quickinput_common_quickInput_service_js__WEBPACK_IMPORTED_MODULE_17__.IQuickInputService);
        const editorGroupService = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_11__.IEditorGroupsService);
        const keybindings = keybindingService.lookupKeybindings(QuickAccessPreviousEditorFromHistoryAction.ID);
        let itemActivation = undefined;
        if (editorGroupService.activeGroup.count === 0) {
            itemActivation = _platform_quickinput_common_quickInput_js__WEBPACK_IMPORTED_MODULE_16__.ItemActivation.FIRST;
        }
        quickInputService.quickAccess.show('', { quickNavigateConfiguration: { keybindings }, itemActivation });
    }
}
class OpenNextRecentlyUsedEditorAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.openNextRecentlyUsedEditor',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9725, 'Open Next Recently Used Editor')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        });
    }
    async run(accessor) {
        const historyService = accessor.get(_services_history_common_history_service_js__WEBPACK_IMPORTED_MODULE_6__.IHistoryService);
        historyService.openNextRecentlyUsedEditor();
    }
}
class OpenPreviousRecentlyUsedEditorAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.openPreviousRecentlyUsedEditor',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9726, 'Open Previous Recently Used Editor')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        });
    }
    async run(accessor) {
        const historyService = accessor.get(_services_history_common_history_service_js__WEBPACK_IMPORTED_MODULE_6__.IHistoryService);
        historyService.openPreviouslyUsedEditor();
    }
}
class OpenNextRecentlyUsedEditorInGroupAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.openNextRecentlyUsedEditorInGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9727, 'Open Next Recently Used Editor In Group')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        });
    }
    async run(accessor) {
        const historyService = accessor.get(_services_history_common_history_service_js__WEBPACK_IMPORTED_MODULE_6__.IHistoryService);
        const editorGroupsService = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_11__.IEditorGroupsService);
        historyService.openNextRecentlyUsedEditor(editorGroupsService.activeGroup.id);
    }
}
class OpenPreviousRecentlyUsedEditorInGroupAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.openPreviousRecentlyUsedEditorInGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9728, 'Open Previous Recently Used Editor In Group')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        });
    }
    async run(accessor) {
        const historyService = accessor.get(_services_history_common_history_service_js__WEBPACK_IMPORTED_MODULE_6__.IHistoryService);
        const editorGroupsService = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_11__.IEditorGroupsService);
        historyService.openPreviouslyUsedEditor(editorGroupsService.activeGroup.id);
    }
}
class ClearEditorHistoryAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.clearEditorHistory',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9729, 'Clear Editor History')),
            f1: true
        });
    }
    async run(accessor) {
        const dialogService = accessor.get(_platform_dialogs_common_dialogs_service_js__WEBPACK_IMPORTED_MODULE_15__.IDialogService);
        const historyService = accessor.get(_services_history_common_history_service_js__WEBPACK_IMPORTED_MODULE_6__.IHistoryService);
        const { confirmed } = await dialogService.confirm({
            type: 'warning',
            message: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9730, "Do you want to clear the history of recently opened editors?")),
            detail: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9715, "This action is irreversible!")),
            primaryButton: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9716, "&&Clear"))
        });
        if (!confirmed) {
            return;
        }
        historyService.clear();
    }
}
class MoveEditorLeftInGroupAction extends ExecuteCommandAction {
    constructor() {
        super({
            id: 'workbench.action.moveEditorLeftInGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9731, 'Move Editor Left')),
            keybinding: {
                weight: 200 ,
                primary: 2048  | 1024  | 11 ,
                mac: {
                    primary: (0,_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_26__.KeyChord)(2048  | 41 , 2048  | 1024  | 15 )
                }
            },
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.MOVE_ACTIVE_EDITOR_COMMAND_ID, { to: 'left' });
    }
}
class MoveEditorRightInGroupAction extends ExecuteCommandAction {
    constructor() {
        super({
            id: 'workbench.action.moveEditorRightInGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9732, 'Move Editor Right')),
            keybinding: {
                weight: 200 ,
                primary: 2048  | 1024  | 12 ,
                mac: {
                    primary: (0,_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_26__.KeyChord)(2048  | 41 , 2048  | 1024  | 17 )
                }
            },
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.MOVE_ACTIVE_EDITOR_COMMAND_ID, { to: 'right' });
    }
}
class MoveEditorToPreviousGroupAction extends ExecuteCommandAction {
    constructor() {
        super({
            id: 'workbench.action.moveEditorToPreviousGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9733, 'Move Editor into Previous Group')),
            keybinding: {
                weight: 200 ,
                primary: 2048  | 512  | 15 ,
                mac: {
                    primary: 2048  | 256  | 15
                }
            },
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View,
        }, _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.MOVE_ACTIVE_EDITOR_COMMAND_ID, { to: 'previous', by: 'group' });
    }
}
class MoveEditorToNextGroupAction extends ExecuteCommandAction {
    constructor() {
        super({
            id: 'workbench.action.moveEditorToNextGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9734, 'Move Editor into Next Group')),
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: 2048  | 512  | 17 ,
                mac: {
                    primary: 2048  | 256  | 17
                }
            },
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.MOVE_ACTIVE_EDITOR_COMMAND_ID, { to: 'next', by: 'group' });
    }
}
class MoveEditorToAboveGroupAction extends ExecuteCommandAction {
    constructor() {
        super({
            id: 'workbench.action.moveEditorToAboveGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9735, 'Move Editor into Group Above')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.MOVE_ACTIVE_EDITOR_COMMAND_ID, { to: 'up', by: 'group' });
    }
}
class MoveEditorToBelowGroupAction extends ExecuteCommandAction {
    constructor() {
        super({
            id: 'workbench.action.moveEditorToBelowGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9736, 'Move Editor into Group Below')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.MOVE_ACTIVE_EDITOR_COMMAND_ID, { to: 'down', by: 'group' });
    }
}
class MoveEditorToLeftGroupAction extends ExecuteCommandAction {
    constructor() {
        super({
            id: 'workbench.action.moveEditorToLeftGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9737, 'Move Editor into Left Group')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.MOVE_ACTIVE_EDITOR_COMMAND_ID, { to: 'left', by: 'group' });
    }
}
class MoveEditorToRightGroupAction extends ExecuteCommandAction {
    constructor() {
        super({
            id: 'workbench.action.moveEditorToRightGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9738, 'Move Editor into Right Group')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.MOVE_ACTIVE_EDITOR_COMMAND_ID, { to: 'right', by: 'group' });
    }
}
class MoveEditorToFirstGroupAction extends ExecuteCommandAction {
    constructor() {
        super({
            id: 'workbench.action.moveEditorToFirstGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9739, 'Move Editor into First Group')),
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: 1024  | 512  | 22 ,
                mac: {
                    primary: 2048  | 256  | 22
                }
            },
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.MOVE_ACTIVE_EDITOR_COMMAND_ID, { to: 'first', by: 'group' });
    }
}
class MoveEditorToLastGroupAction extends ExecuteCommandAction {
    constructor() {
        super({
            id: 'workbench.action.moveEditorToLastGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9740, 'Move Editor into Last Group')),
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: 1024  | 512  | 30 ,
                mac: {
                    primary: 2048  | 256  | 30
                }
            },
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.MOVE_ACTIVE_EDITOR_COMMAND_ID, { to: 'last', by: 'group' });
    }
}
class SplitEditorToPreviousGroupAction extends ExecuteCommandAction {
    constructor() {
        super({
            id: 'workbench.action.splitEditorToPreviousGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9741, 'Split Editor into Previous Group')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.COPY_ACTIVE_EDITOR_COMMAND_ID, { to: 'previous', by: 'group' });
    }
}
class SplitEditorToNextGroupAction extends ExecuteCommandAction {
    constructor() {
        super({
            id: 'workbench.action.splitEditorToNextGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9742, 'Split Editor into Next Group')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.COPY_ACTIVE_EDITOR_COMMAND_ID, { to: 'next', by: 'group' });
    }
}
class SplitEditorToAboveGroupAction extends ExecuteCommandAction {
    constructor() {
        super({
            id: 'workbench.action.splitEditorToAboveGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9743, 'Split Editor into Group Above')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.COPY_ACTIVE_EDITOR_COMMAND_ID, { to: 'up', by: 'group' });
    }
}
class SplitEditorToBelowGroupAction extends ExecuteCommandAction {
    constructor() {
        super({
            id: 'workbench.action.splitEditorToBelowGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9744, 'Split Editor into Group Below')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.COPY_ACTIVE_EDITOR_COMMAND_ID, { to: 'down', by: 'group' });
    }
}
class SplitEditorToLeftGroupAction extends ExecuteCommandAction {
    static { this.ID = 'workbench.action.splitEditorToLeftGroup'; }
    static { this.LABEL = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9745, "Split Editor into Left Group")); }
    constructor() {
        super({
            id: 'workbench.action.splitEditorToLeftGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9745, "Split Editor into Left Group")),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.COPY_ACTIVE_EDITOR_COMMAND_ID, { to: 'left', by: 'group' });
    }
}
class SplitEditorToRightGroupAction extends ExecuteCommandAction {
    constructor() {
        super({
            id: 'workbench.action.splitEditorToRightGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9746, 'Split Editor into Right Group')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.COPY_ACTIVE_EDITOR_COMMAND_ID, { to: 'right', by: 'group' });
    }
}
class SplitEditorToFirstGroupAction extends ExecuteCommandAction {
    constructor() {
        super({
            id: 'workbench.action.splitEditorToFirstGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9747, 'Split Editor into First Group')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.COPY_ACTIVE_EDITOR_COMMAND_ID, { to: 'first', by: 'group' });
    }
}
class SplitEditorToLastGroupAction extends ExecuteCommandAction {
    constructor() {
        super({
            id: 'workbench.action.splitEditorToLastGroup',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9748, 'Split Editor into Last Group')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.COPY_ACTIVE_EDITOR_COMMAND_ID, { to: 'last', by: 'group' });
    }
}
class EditorLayoutSingleAction extends ExecuteCommandAction {
    static { this.ID = 'workbench.action.editorLayoutSingle'; }
    constructor() {
        super({
            id: EditorLayoutSingleAction.ID,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9749, 'Single Column Editor Layout')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.LAYOUT_EDITOR_GROUPS_COMMAND_ID, { groups: [{}], orientation: 0  });
    }
}
class EditorLayoutTwoColumnsAction extends ExecuteCommandAction {
    static { this.ID = 'workbench.action.editorLayoutTwoColumns'; }
    constructor() {
        super({
            id: EditorLayoutTwoColumnsAction.ID,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9750, 'Two Columns Editor Layout')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.LAYOUT_EDITOR_GROUPS_COMMAND_ID, { groups: [{}, {}], orientation: 0  });
    }
}
class EditorLayoutThreeColumnsAction extends ExecuteCommandAction {
    static { this.ID = 'workbench.action.editorLayoutThreeColumns'; }
    constructor() {
        super({
            id: EditorLayoutThreeColumnsAction.ID,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9751, 'Three Columns Editor Layout')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.LAYOUT_EDITOR_GROUPS_COMMAND_ID, { groups: [{}, {}, {}], orientation: 0  });
    }
}
class EditorLayoutTwoRowsAction extends ExecuteCommandAction {
    static { this.ID = 'workbench.action.editorLayoutTwoRows'; }
    constructor() {
        super({
            id: EditorLayoutTwoRowsAction.ID,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9752, 'Two Rows Editor Layout')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.LAYOUT_EDITOR_GROUPS_COMMAND_ID, { groups: [{}, {}], orientation: 1  });
    }
}
class EditorLayoutThreeRowsAction extends ExecuteCommandAction {
    static { this.ID = 'workbench.action.editorLayoutThreeRows'; }
    constructor() {
        super({
            id: EditorLayoutThreeRowsAction.ID,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9753, 'Three Rows Editor Layout')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.LAYOUT_EDITOR_GROUPS_COMMAND_ID, { groups: [{}, {}, {}], orientation: 1  });
    }
}
class EditorLayoutTwoByTwoGridAction extends ExecuteCommandAction {
    static { this.ID = 'workbench.action.editorLayoutTwoByTwoGrid'; }
    constructor() {
        super({
            id: EditorLayoutTwoByTwoGridAction.ID,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9754, 'Grid Editor Layout (2x2)')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.LAYOUT_EDITOR_GROUPS_COMMAND_ID, { groups: [{ groups: [{}, {}] }, { groups: [{}, {}] }], orientation: 0  });
    }
}
class EditorLayoutTwoColumnsBottomAction extends ExecuteCommandAction {
    static { this.ID = 'workbench.action.editorLayoutTwoColumnsBottom'; }
    constructor() {
        super({
            id: EditorLayoutTwoColumnsBottomAction.ID,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9755, 'Two Columns Bottom Editor Layout')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.LAYOUT_EDITOR_GROUPS_COMMAND_ID, { groups: [{}, { groups: [{}, {}] }], orientation: 1  });
    }
}
class EditorLayoutTwoRowsRightAction extends ExecuteCommandAction {
    static { this.ID = 'workbench.action.editorLayoutTwoRowsRight'; }
    constructor() {
        super({
            id: EditorLayoutTwoRowsRightAction.ID,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9756, 'Two Rows Right Editor Layout')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.LAYOUT_EDITOR_GROUPS_COMMAND_ID, { groups: [{}, { groups: [{}, {}] }], orientation: 0  });
    }
}
class AbstractCreateEditorGroupAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor(desc, direction) {
        super(desc);
        this.direction = direction;
    }
    async run(accessor) {
        const editorGroupService = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_11__.IEditorGroupsService);
        const layoutService = accessor.get(_services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_5__.IWorkbenchLayoutService);
        const activeDocument = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_30__.getActiveDocument)();
        const focusNewGroup = layoutService.hasFocus("workbench.parts.editor" ) || activeDocument.activeElement === activeDocument.body;
        const group = editorGroupService.addGroup(editorGroupService.activeGroup, this.direction);
        editorGroupService.activateGroup(group);
        if (focusNewGroup) {
            group.focus();
        }
    }
}
class NewEditorGroupLeftAction extends AbstractCreateEditorGroupAction {
    constructor() {
        super({
            id: 'workbench.action.newGroupLeft',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9757, 'New Editor Group to the Left')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, 2 );
    }
}
class NewEditorGroupRightAction extends AbstractCreateEditorGroupAction {
    constructor() {
        super({
            id: 'workbench.action.newGroupRight',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9758, 'New Editor Group to the Right')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, 3 );
    }
}
class NewEditorGroupAboveAction extends AbstractCreateEditorGroupAction {
    constructor() {
        super({
            id: 'workbench.action.newGroupAbove',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9759, 'New Editor Group Above')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, 0 );
    }
}
class NewEditorGroupBelowAction extends AbstractCreateEditorGroupAction {
    constructor() {
        super({
            id: 'workbench.action.newGroupBelow',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9760, 'New Editor Group Below')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        }, 1 );
    }
}
class ToggleEditorTypeAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.toggleEditorType',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9761, 'Toggle Editor Type')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View,
            precondition: _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_29__.ActiveEditorAvailableEditorIdsContext
        });
    }
    async run(accessor) {
        const editorService = accessor.get(_services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_12__.IEditorService);
        const editorResolverService = accessor.get(_services_editor_common_editorResolverService_service_js__WEBPACK_IMPORTED_MODULE_22__.IEditorResolverService);
        const activeEditorPane = editorService.activeEditorPane;
        if (!activeEditorPane) {
            return;
        }
        const activeEditorResource = _common_editor_js__WEBPACK_IMPORTED_MODULE_3__.EditorResourceAccessor.getCanonicalUri(activeEditorPane.input);
        if (!activeEditorResource) {
            return;
        }
        const editorIds = ( (editorResolverService.getEditors(activeEditorResource).map(editor => editor.id))).filter(id => id !== activeEditorPane.input.editorId);
        if (editorIds.length === 0) {
            return;
        }
        await editorService.replaceEditors([
            {
                editor: activeEditorPane.input,
                replacement: {
                    resource: activeEditorResource,
                    options: {
                        override: editorIds[0]
                    }
                }
            }
        ], activeEditorPane.group);
    }
}
class ReOpenInTextEditorAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.reopenTextEditor',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9762, 'Reopen Editor With Text Editor')),
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View,
            precondition: _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_29__.ActiveEditorAvailableEditorIdsContext
        });
    }
    async run(accessor) {
        const editorService = accessor.get(_services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_12__.IEditorService);
        const activeEditorPane = editorService.activeEditorPane;
        if (!activeEditorPane) {
            return;
        }
        const activeEditorResource = _common_editor_js__WEBPACK_IMPORTED_MODULE_3__.EditorResourceAccessor.getCanonicalUri(activeEditorPane.input);
        if (!activeEditorResource) {
            return;
        }
        await editorService.replaceEditors([
            {
                editor: activeEditorPane.input,
                replacement: {
                    resource: activeEditorResource,
                    options: {
                        override: _common_editor_js__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_EDITOR_ASSOCIATION.id
                    }
                }
            }
        ], activeEditorPane.group);
    }
}
class BaseMoveCopyEditorToNewWindowAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor(id, title, keybinding, move) {
        super({
            id,
            title,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View,
            precondition: _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_29__.ActiveEditorContext,
            keybinding,
            f1: true
        });
        this.move = move;
    }
    async run(accessor, ...args) {
        const editorGroupService = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_11__.IEditorGroupsService);
        const resolvedContext = (0,_editorCommandsContext_js__WEBPACK_IMPORTED_MODULE_32__.resolveCommandsContext)(args, accessor.get(_services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_12__.IEditorService), editorGroupService, accessor.get(_platform_list_browser_listService_service_js__WEBPACK_IMPORTED_MODULE_33__.IListService));
        if (!resolvedContext.groupedEditors.length) {
            return;
        }
        const auxiliaryEditorPart = await editorGroupService.createAuxiliaryEditorPart();
        const { group, editors } = resolvedContext.groupedEditors[0];
        const options = { preserveFocus: resolvedContext.preserveFocus };
        const editorsWithOptions = ( (editors.map(editor => ({ editor, options }))));
        if (this.move) {
            group.moveEditors(editorsWithOptions, auxiliaryEditorPart.activeGroup);
        }
        else {
            group.copyEditors(editorsWithOptions, auxiliaryEditorPart.activeGroup);
        }
        auxiliaryEditorPart.activeGroup.focus();
    }
}
class MoveEditorToNewWindowAction extends BaseMoveCopyEditorToNewWindowAction {
    constructor() {
        super(_editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.MOVE_EDITOR_INTO_NEW_WINDOW_COMMAND_ID, {
            ...( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9763, "Move Editor into New Window")),
            mnemonicTitle: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9764, "&&Move Editor into New Window")),
        }, undefined, true);
    }
}
class CopyEditorToNewindowAction extends BaseMoveCopyEditorToNewWindowAction {
    constructor() {
        super(_editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.COPY_EDITOR_INTO_NEW_WINDOW_COMMAND_ID, {
            ...( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9765, "Copy Editor into New Window")),
            mnemonicTitle: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9766, "&&Copy Editor into New Window")),
        }, { primary: (0,_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_26__.KeyChord)(2048  | 41 , 45 ), weight: 200  }, false);
    }
}
class BaseMoveCopyEditorGroupToNewWindowAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor(id, title, move) {
        super({
            id,
            title,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View,
            f1: true
        });
        this.move = move;
    }
    async run(accessor) {
        const editorGroupService = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_11__.IEditorGroupsService);
        const activeGroup = editorGroupService.activeGroup;
        const auxiliaryEditorPart = await editorGroupService.createAuxiliaryEditorPart();
        editorGroupService.mergeGroup(activeGroup, auxiliaryEditorPart.activeGroup, {
            mode: this.move ? 1  : 0
        });
        auxiliaryEditorPart.activeGroup.focus();
    }
}
class MoveEditorGroupToNewWindowAction extends BaseMoveCopyEditorGroupToNewWindowAction {
    constructor() {
        super(_editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.MOVE_EDITOR_GROUP_INTO_NEW_WINDOW_COMMAND_ID, {
            ...( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9767, "Move Editor Group into New Window")),
            mnemonicTitle: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9768, "&&Move Editor Group into New Window")),
        }, true);
    }
}
class CopyEditorGroupToNewWindowAction extends BaseMoveCopyEditorGroupToNewWindowAction {
    constructor() {
        super(_editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.COPY_EDITOR_GROUP_INTO_NEW_WINDOW_COMMAND_ID, {
            ...( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9769, "Copy Editor Group into New Window")),
            mnemonicTitle: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9770, "&&Copy Editor Group into New Window")),
        }, false);
    }
}
class RestoreEditorsToMainWindowAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.restoreEditorsToMainWindow',
            title: {
                ...( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9771, "Restore Editors into Main Window")),
                mnemonicTitle: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9772, "&&Restore Editors into Main Window")),
            },
            f1: true,
            precondition: _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_29__.IsAuxiliaryWindowFocusedContext,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        });
    }
    async run(accessor) {
        const editorGroupService = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_11__.IEditorGroupsService);
        editorGroupService.mergeAllGroups(editorGroupService.mainPart.activeGroup);
    }
}
class NewEmptyEditorWindowAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_24__.Action2 {
    constructor() {
        super({
            id: _editorCommands_js__WEBPACK_IMPORTED_MODULE_9__.NEW_EMPTY_EDITOR_WINDOW_COMMAND_ID,
            title: {
                ...( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9773, "New Empty Editor Window")),
                mnemonicTitle: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9774, "&&New Empty Editor Window")),
            },
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_28__.Categories.View
        });
    }
    async run(accessor) {
        const editorGroupService = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_11__.IEditorGroupsService);
        const auxiliaryEditorPart = await editorGroupService.createAuxiliaryEditorPart();
        auxiliaryEditorPart.activeGroup.focus();
    }
}



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorGroupView.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorGroupView.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EditorGroupView: () => (/* binding */ EditorGroupView)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _media_editorgroupview_css_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./media/editorgroupview.css.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/media/editorgroupview.css.js");
/* harmony import */ var _common_editor_editorGroupModel_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../common/editor/editorGroupModel.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/editorGroupModel.js");
/* harmony import */ var _common_editor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../common/editor.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor.js");
/* harmony import */ var _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../common/contextkeys.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/contextkeys.js");
/* harmony import */ var _common_editor_sideBySideEditorInput_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../common/editor/sideBySideEditorInput.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/sideBySideEditorInput.js");
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../base/common/event.js */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../platform/instantiation/common/instantiation.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../base/browser/dom.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var _platform_instantiation_common_serviceCollection_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../platform/instantiation/common/serviceCollection.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/serviceCollection.js");
/* harmony import */ var _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../platform/contextkey/common/contextkey.service.js */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var _base_browser_ui_progressbar_progressbar_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../base/browser/ui/progressbar/progressbar.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/progressbar/progressbar.js");
/* harmony import */ var _platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../platform/theme/common/themeService.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.js");
/* harmony import */ var _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../platform/theme/common/themeService.service.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.service.js");
/* harmony import */ var _platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../platform/theme/common/colorUtils.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colorUtils.js");
/* harmony import */ var _platform_theme_common_colors_baseColors_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/baseColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/baseColors.js");
/* harmony import */ var _platform_theme_common_colors_chartsColors_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/chartsColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/chartsColors.js");
/* harmony import */ var _platform_theme_common_colors_editorColors_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/editorColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/editorColors.js");
/* harmony import */ var _platform_theme_common_colors_inputColors_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/inputColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/inputColors.js");
/* harmony import */ var _platform_theme_common_colors_listColors_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/listColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/listColors.js");
/* harmony import */ var _platform_theme_common_colors_menuColors_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/menuColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/menuColors.js");
/* harmony import */ var _platform_theme_common_colors_minimapColors_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/minimapColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/minimapColors.js");
/* harmony import */ var _platform_theme_common_colors_miscColors_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/miscColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/miscColors.js");
/* harmony import */ var _platform_theme_common_colors_quickpickColors_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/quickpickColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/quickpickColors.js");
/* harmony import */ var _platform_theme_common_colors_searchColors_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/searchColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/searchColors.js");
/* harmony import */ var _common_theme_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../common/theme.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/theme.js");
/* harmony import */ var _editorPanes_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./editorPanes.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorPanes.js");
/* harmony import */ var _platform_progress_common_progress_service_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../../platform/progress/common/progress.service.js */ "./node_modules/vscode/vscode/src/vs/platform/progress/common/progress.service.js");
/* harmony import */ var _services_progress_browser_progressIndicator_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../services/progress/browser/progressIndicator.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/progress/browser/progressIndicator.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _base_common_arrays_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../../base/common/arrays.js */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _platform_telemetry_common_telemetry_service_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../../../platform/telemetry/common/telemetry.service.js */ "./node_modules/vscode/vscode/src/vs/platform/telemetry/common/telemetry.service.js");
/* harmony import */ var _base_common_async_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../../../base/common/async.js */ "./node_modules/vscode/vscode/src/vs/base/common/async.js");
/* harmony import */ var _base_browser_touch_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../../../base/browser/touch.js */ "./node_modules/vscode/vscode/src/vs/base/browser/touch.js");
/* harmony import */ var _editor_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./editor.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editor.js");
/* harmony import */ var _base_browser_ui_actionbar_actionbar_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../../../base/browser/ui/actionbar/actionbar.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/actionbar/actionbar.js");
/* harmony import */ var _platform_keybinding_common_keybinding_service_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../../../platform/keybinding/common/keybinding.service.js */ "./node_modules/vscode/vscode/src/vs/platform/keybinding/common/keybinding.service.js");
/* harmony import */ var _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../../../platform/actions/common/actions.js */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var _platform_actions_common_actions_service_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../../../../platform/actions/common/actions.service.js */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.service.js");
/* harmony import */ var _base_browser_mouseEvent_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../../../../base/browser/mouseEvent.js */ "./node_modules/vscode/vscode/src/vs/base/browser/mouseEvent.js");
/* harmony import */ var _platform_actions_browser_menuEntryActionViewItem_js__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../../../../platform/actions/browser/menuEntryActionViewItem.js */ "./node_modules/vscode/vscode/src/vs/platform/actions/browser/menuEntryActionViewItem.js");
/* harmony import */ var _platform_contextview_browser_contextView_service_js__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../../../../platform/contextview/browser/contextView.service.js */ "./node_modules/vscode/vscode/src/vs/platform/contextview/browser/contextView.service.js");
/* harmony import */ var _services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../../../services/editor/common/editorService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");
/* harmony import */ var _base_common_hash_js__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../../../../base/common/hash.js */ "./node_modules/vscode/vscode/src/vs/base/common/hash.js");
/* harmony import */ var _editor_common_services_languagesAssociations_js__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../../../../editor/common/services/languagesAssociations.js */ "./node_modules/vscode/vscode/src/vs/editor/common/services/languagesAssociations.js");
/* harmony import */ var _base_common_resources_js__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ../../../../base/common/resources.js */ "./node_modules/vscode/vscode/src/vs/base/common/resources.js");
/* harmony import */ var _base_common_network_js__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ../../../../base/common/network.js */ "./node_modules/vscode/vscode/src/vs/base/common/network.js");
/* harmony import */ var _platform_editor_common_editor_js__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ../../../../platform/editor/common/editor.js */ "./node_modules/vscode/vscode/src/vs/platform/editor/common/editor.js");
/* harmony import */ var _platform_dialogs_common_dialogs_service_js__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ../../../../platform/dialogs/common/dialogs.service.js */ "./node_modules/vscode/vscode/src/vs/platform/dialogs/common/dialogs.service.js");
/* harmony import */ var _services_filesConfiguration_common_filesConfigurationService_service_js__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ../../../services/filesConfiguration/common/filesConfigurationService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/filesConfiguration/common/filesConfigurationService.service.js");
/* harmony import */ var _base_common_uri_js__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ../../../../base/common/uri.js */ "./node_modules/vscode/vscode/src/vs/base/common/uri.js");
/* harmony import */ var _platform_uriIdentity_common_uriIdentity_service_js__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ../../../../platform/uriIdentity/common/uriIdentity.service.js */ "./node_modules/vscode/vscode/src/vs/platform/uriIdentity/common/uriIdentity.service.js");
/* harmony import */ var _base_common_platform_js__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ../../../../base/common/platform.js */ "./node_modules/vscode/vscode/src/vs/base/common/platform.js");
/* harmony import */ var _platform_log_common_log_service_js__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ../../../../platform/log/common/log.service.js */ "./node_modules/vscode/vscode/src/vs/platform/log/common/log.service.js");
/* harmony import */ var _platform_telemetry_common_telemetryUtils_js__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ../../../../platform/telemetry/common/telemetryUtils.js */ "./node_modules/vscode/vscode/src/vs/platform/telemetry/common/telemetryUtils.js");
/* harmony import */ var _platform_theme_browser_defaultStyles_js__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ../../../../platform/theme/browser/defaultStyles.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/browser/defaultStyles.js");
/* harmony import */ var _editorGroupWatermark_js__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ./editorGroupWatermark.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorGroupWatermark.js");
/* harmony import */ var _editorTitleControl_js__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ./editorTitleControl.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorTitleControl.js");
/* harmony import */ var _editorPane_js__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ./editorPane.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorPane.js");
/* harmony import */ var _services_editor_common_editorResolverService_service_js__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ../../../services/editor/common/editorResolverService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorResolverService.service.js");
/* harmony import */ var _services_host_browser_host_service_js__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ../../../services/host/browser/host.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/host/browser/host.service.js");
/* harmony import */ var _common_editor_diffEditorInput_js__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ../../../common/editor/diffEditorInput.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/diffEditorInput.js");
/* harmony import */ var _platform_files_common_files_service_js__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ../../../../platform/files/common/files.service.js */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.service.js");
































































var EditorGroupView_1;
let EditorGroupView = EditorGroupView_1 = class EditorGroupView extends _platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_12__.Themable {
    static createNew(editorPartsView, groupsView, groupsLabel, groupIndex, instantiationService, options) {
        return instantiationService.createInstance(EditorGroupView_1, null, editorPartsView, groupsView, groupsLabel, groupIndex, options);
    }
    static createFromSerialized(serialized, editorPartsView, groupsView, groupsLabel, groupIndex, instantiationService, options) {
        return instantiationService.createInstance(EditorGroupView_1, serialized, editorPartsView, groupsView, groupsLabel, groupIndex, options);
    }
    static createCopy(copyFrom, editorPartsView, groupsView, groupsLabel, groupIndex, instantiationService, options) {
        return instantiationService.createInstance(EditorGroupView_1, copyFrom, editorPartsView, groupsView, groupsLabel, groupIndex, options);
    }
    constructor(from, editorPartsView, groupsView, groupsLabel, _index, options, instantiationService, contextKeyService, themeService, telemetryService, keybindingService, menuService, contextMenuService, fileDialogService, editorService, filesConfigurationService, uriIdentityService, logService, editorResolverService, hostService, dialogService, fileService) {
        super(themeService);
        this.editorPartsView = editorPartsView;
        this.groupsView = groupsView;
        this.groupsLabel = groupsLabel;
        this._index = _index;
        this.instantiationService = instantiationService;
        this.contextKeyService = contextKeyService;
        this.telemetryService = telemetryService;
        this.keybindingService = keybindingService;
        this.menuService = menuService;
        this.contextMenuService = contextMenuService;
        this.fileDialogService = fileDialogService;
        this.editorService = editorService;
        this.filesConfigurationService = filesConfigurationService;
        this.uriIdentityService = uriIdentityService;
        this.logService = logService;
        this.editorResolverService = editorResolverService;
        this.hostService = hostService;
        this.dialogService = dialogService;
        this.fileService = fileService;
        this._onDidFocus = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_6__.Emitter())));
        this.onDidFocus = this._onDidFocus.event;
        this._onWillDispose = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_6__.Emitter())));
        this.onWillDispose = this._onWillDispose.event;
        this._onDidModelChange = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_6__.Emitter())));
        this.onDidModelChange = this._onDidModelChange.event;
        this._onDidActiveEditorChange = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_6__.Emitter())));
        this.onDidActiveEditorChange = this._onDidActiveEditorChange.event;
        this._onDidOpenEditorFail = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_6__.Emitter())));
        this.onDidOpenEditorFail = this._onDidOpenEditorFail.event;
        this._onWillCloseEditor = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_6__.Emitter())));
        this.onWillCloseEditor = this._onWillCloseEditor.event;
        this._onDidCloseEditor = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_6__.Emitter())));
        this.onDidCloseEditor = this._onDidCloseEditor.event;
        this._onWillMoveEditor = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_6__.Emitter())));
        this.onWillMoveEditor = this._onWillMoveEditor.event;
        this._onWillOpenEditor = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_6__.Emitter())));
        this.onWillOpenEditor = this._onWillOpenEditor.event;
        this.disposedEditorsWorker = this._register(( (new _base_common_async_js__WEBPACK_IMPORTED_MODULE_33__.RunOnceWorker(editors => this.handleDisposedEditors(editors), 0))));
        this.mapEditorToPendingConfirmation = ( (new Map()));
        this.containerToolBarMenuDisposable = this._register(( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_31__.MutableDisposable())));
        this.whenRestoredPromise = ( (new _base_common_async_js__WEBPACK_IMPORTED_MODULE_33__.DeferredPromise()));
        this.whenRestored = this.whenRestoredPromise.p;
        this._disposed = false;
        this.element = document.createElement('div');
        this._onDidChange = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_6__.Relay())));
        this.onDidChange = this._onDidChange.event;
        if (from instanceof EditorGroupView_1) {
            this.model = this._register(from.model.clone());
        }
        else if ((0,_common_editor_editorGroupModel_js__WEBPACK_IMPORTED_MODULE_2__.isSerializedEditorGroupModel)(from)) {
            this.model = this._register(instantiationService.createInstance(_common_editor_editorGroupModel_js__WEBPACK_IMPORTED_MODULE_2__.EditorGroupModel, from));
        }
        else {
            this.model = this._register(instantiationService.createInstance(_common_editor_editorGroupModel_js__WEBPACK_IMPORTED_MODULE_2__.EditorGroupModel, undefined));
        }
        {
            this.scopedContextKeyService = this._register(this.contextKeyService.createScoped(this.element));
            this.element.classList.add(...(0,_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_30__.coalesce)(['editor-group-container', this.model.isLocked ? 'locked' : undefined]));
            this.registerContainerListeners();
            this.createContainerToolbar();
            this.createContainerContextMenu();
            this._register(this.instantiationService.createInstance(_editorGroupWatermark_js__WEBPACK_IMPORTED_MODULE_57__.EditorGroupWatermark, this.element));
            this.progressBar = this._register(( (new _base_browser_ui_progressbar_progressbar_js__WEBPACK_IMPORTED_MODULE_11__.ProgressBar(this.element, _platform_theme_browser_defaultStyles_js__WEBPACK_IMPORTED_MODULE_56__.defaultProgressBarStyles))));
            this.progressBar.hide();
            this.scopedInstantiationService = this._register(this.instantiationService.createChild(( (new _platform_instantiation_common_serviceCollection_js__WEBPACK_IMPORTED_MODULE_9__.ServiceCollection(
                [_platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_10__.IContextKeyService, this.scopedContextKeyService],
                [_platform_progress_common_progress_service_js__WEBPACK_IMPORTED_MODULE_27__.IEditorProgressService, this._register(( (new _services_progress_browser_progressIndicator_js__WEBPACK_IMPORTED_MODULE_28__.EditorProgressIndicator(this.progressBar, this))))]
            )))));
            this.resourceContext = this._register(this.scopedInstantiationService.createInstance(_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_4__.ResourceContextKey));
            this.handleGroupContextKeys();
            this.titleContainer = document.createElement('div');
            this.titleContainer.classList.add('title');
            this.element.appendChild(this.titleContainer);
            this.titleControl = this._register(this.scopedInstantiationService.createInstance(_editorTitleControl_js__WEBPACK_IMPORTED_MODULE_58__.EditorTitleControl, this.titleContainer, this.editorPartsView, this.groupsView, this, this.model));
            this.editorContainer = document.createElement('div');
            this.editorContainer.classList.add('editor-container');
            this.element.appendChild(this.editorContainer);
            this.editorPane = this._register(this.scopedInstantiationService.createInstance(_editorPanes_js__WEBPACK_IMPORTED_MODULE_26__.EditorPanes, this.element, this.editorContainer, this));
            this._onDidChange.input = this.editorPane.onDidChangeSizeConstraints;
            this.doTrackFocus();
            this.updateTitleContainer();
            this.updateContainer();
            this.updateStyles();
        }
        const restoreEditorsPromise = this.restoreEditors(from, options) ?? Promise.resolve();
        restoreEditorsPromise.finally(() => {
            this.whenRestoredPromise.complete();
        });
        this.registerListeners();
    }
    handleGroupContextKeys() {
        const groupActiveEditorDirtyContext = this.editorPartsView.bind(_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorDirtyContext, this);
        const groupActiveEditorPinnedContext = this.editorPartsView.bind(_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorPinnedContext, this);
        const groupActiveEditorFirstContext = this.editorPartsView.bind(_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorFirstInGroupContext, this);
        const groupActiveEditorLastContext = this.editorPartsView.bind(_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorLastInGroupContext, this);
        const groupActiveEditorStickyContext = this.editorPartsView.bind(_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorStickyContext, this);
        const groupEditorsCountContext = this.editorPartsView.bind(_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_4__.EditorGroupEditorsCountContext, this);
        const groupLockedContext = this.editorPartsView.bind(_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorGroupLockedContext, this);
        const multipleEditorsSelectedContext = _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_4__.MultipleEditorsSelectedInGroupContext.bindTo(this.scopedContextKeyService);
        const twoEditorsSelectedContext = _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_4__.TwoEditorsSelectedInGroupContext.bindTo(this.scopedContextKeyService);
        const selectedEditorsHaveFileOrUntitledResourceContext = _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_4__.SelectedEditorsInGroupFileOrUntitledResourceContextKey.bindTo(this.scopedContextKeyService);
        const groupActiveEditorContext = this.editorPartsView.bind(_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorContext, this);
        const groupActiveEditorIsReadonly = this.editorPartsView.bind(_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorReadonlyContext, this);
        const groupActiveEditorCanRevert = this.editorPartsView.bind(_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorCanRevertContext, this);
        const groupActiveEditorCanToggleReadonly = this.editorPartsView.bind(_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorCanToggleReadonlyContext, this);
        const groupActiveCompareEditorCanSwap = this.editorPartsView.bind(_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_4__.ActiveCompareEditorCanSwapContext, this);
        const groupTextCompareEditorVisibleContext = this.editorPartsView.bind(_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_4__.TextCompareEditorVisibleContext, this);
        const groupTextCompareEditorActiveContext = this.editorPartsView.bind(_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_4__.TextCompareEditorActiveContext, this);
        const groupActiveEditorAvailableEditorIds = this.editorPartsView.bind(_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorAvailableEditorIdsContext, this);
        const groupActiveEditorCanSplitInGroupContext = this.editorPartsView.bind(_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_4__.ActiveEditorCanSplitInGroupContext, this);
        const groupActiveEditorIsSideBySideEditorContext = this.editorPartsView.bind(_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_4__.SideBySideEditorActiveContext, this);
        const activeEditorListener = this._register(( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_31__.MutableDisposable())));
        const observeActiveEditor = () => {
            activeEditorListener.clear();
            this.scopedContextKeyService.bufferChangeEvents(() => {
                const activeEditor = this.activeEditor;
                const activeEditorPane = this.activeEditorPane;
                this.resourceContext.set(_common_editor_js__WEBPACK_IMPORTED_MODULE_3__.EditorResourceAccessor.getOriginalUri(activeEditor, { supportSideBySide: _common_editor_js__WEBPACK_IMPORTED_MODULE_3__.SideBySideEditor.PRIMARY }));
                (0,_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_4__.applyAvailableEditorIds)(groupActiveEditorAvailableEditorIds, activeEditor, this.editorResolverService);
                if (activeEditor) {
                    groupActiveEditorCanSplitInGroupContext.set(activeEditor.hasCapability(32 ));
                    groupActiveEditorIsSideBySideEditorContext.set(activeEditor.typeId === _common_editor_sideBySideEditorInput_js__WEBPACK_IMPORTED_MODULE_5__.SideBySideEditorInput.ID);
                    groupActiveEditorDirtyContext.set(activeEditor.isDirty() && !activeEditor.isSaving());
                    activeEditorListener.value = activeEditor.onDidChangeDirty(() => {
                        groupActiveEditorDirtyContext.set(activeEditor.isDirty() && !activeEditor.isSaving());
                    });
                }
                else {
                    groupActiveEditorCanSplitInGroupContext.set(false);
                    groupActiveEditorIsSideBySideEditorContext.set(false);
                    groupActiveEditorDirtyContext.set(false);
                }
                if (activeEditorPane) {
                    groupActiveEditorContext.set(activeEditorPane.getId());
                    groupActiveEditorCanRevert.set(!activeEditorPane.input.hasCapability(4 ));
                    groupActiveEditorIsReadonly.set(!!activeEditorPane.input.isReadonly());
                    const primaryEditorResource = _common_editor_js__WEBPACK_IMPORTED_MODULE_3__.EditorResourceAccessor.getOriginalUri(activeEditorPane.input, { supportSideBySide: _common_editor_js__WEBPACK_IMPORTED_MODULE_3__.SideBySideEditor.PRIMARY });
                    const secondaryEditorResource = _common_editor_js__WEBPACK_IMPORTED_MODULE_3__.EditorResourceAccessor.getOriginalUri(activeEditorPane.input, { supportSideBySide: _common_editor_js__WEBPACK_IMPORTED_MODULE_3__.SideBySideEditor.SECONDARY });
                    groupActiveCompareEditorCanSwap.set(activeEditorPane.input instanceof _common_editor_diffEditorInput_js__WEBPACK_IMPORTED_MODULE_62__.DiffEditorInput && !activeEditorPane.input.original.isReadonly() && !!primaryEditorResource && (this.fileService.hasProvider(primaryEditorResource) || primaryEditorResource.scheme === _base_common_network_js__WEBPACK_IMPORTED_MODULE_47__.Schemas.untitled) && !!secondaryEditorResource && (this.fileService.hasProvider(secondaryEditorResource) || secondaryEditorResource.scheme === _base_common_network_js__WEBPACK_IMPORTED_MODULE_47__.Schemas.untitled));
                    groupActiveEditorCanToggleReadonly.set(!!primaryEditorResource && this.fileService.hasProvider(primaryEditorResource) && !this.fileService.hasCapability(primaryEditorResource, 2048 ));
                    const activePaneDiffEditor = activeEditorPane?.getId() === _common_editor_js__WEBPACK_IMPORTED_MODULE_3__.TEXT_DIFF_EDITOR_ID;
                    groupTextCompareEditorActiveContext.set(activePaneDiffEditor);
                    groupTextCompareEditorVisibleContext.set(activePaneDiffEditor);
                }
                else {
                    groupActiveEditorContext.reset();
                    groupActiveEditorCanRevert.reset();
                    groupActiveEditorIsReadonly.reset();
                    groupActiveCompareEditorCanSwap.reset();
                    groupActiveEditorCanToggleReadonly.reset();
                }
            });
        };
        const updateGroupContextKeys = (e) => {
            switch (e.kind) {
                case 3 :
                    groupLockedContext.set(this.isLocked);
                    break;
                case 8 :
                    groupActiveEditorFirstContext.set(this.model.isFirst(this.model.activeEditor));
                    groupActiveEditorLastContext.set(this.model.isLast(this.model.activeEditor));
                    groupActiveEditorPinnedContext.set(this.model.activeEditor ? this.model.isPinned(this.model.activeEditor) : false);
                    groupActiveEditorStickyContext.set(this.model.activeEditor ? this.model.isSticky(this.model.activeEditor) : false);
                    break;
                case 6 :
                    groupActiveEditorPinnedContext.set(this.model.activeEditor ? this.model.isPinned(this.model.activeEditor) : false);
                    groupActiveEditorStickyContext.set(this.model.activeEditor ? this.model.isSticky(this.model.activeEditor) : false);
                case 5 :
                case 7 :
                    groupActiveEditorFirstContext.set(this.model.isFirst(this.model.activeEditor));
                    groupActiveEditorLastContext.set(this.model.isLast(this.model.activeEditor));
                    break;
                case 11 :
                    if (e.editor && e.editor === this.model.activeEditor) {
                        groupActiveEditorPinnedContext.set(this.model.isPinned(this.model.activeEditor));
                    }
                    break;
                case 13 :
                    if (e.editor && e.editor === this.model.activeEditor) {
                        groupActiveEditorStickyContext.set(this.model.isSticky(this.model.activeEditor));
                    }
                    break;
                case 4 :
                    multipleEditorsSelectedContext.set(this.model.selectedEditors.length > 1);
                    twoEditorsSelectedContext.set(this.model.selectedEditors.length === 2);
                    selectedEditorsHaveFileOrUntitledResourceContext.set(this.model.selectedEditors.every(e => e.resource && (this.fileService.hasProvider(e.resource) || e.resource.scheme === _base_common_network_js__WEBPACK_IMPORTED_MODULE_47__.Schemas.untitled)));
                    break;
            }
            groupEditorsCountContext.set(this.count);
        };
        this._register(this.onDidModelChange(e => updateGroupContextKeys(e)));
        this._register(this.onDidActiveEditorChange(() => observeActiveEditor()));
        observeActiveEditor();
        updateGroupContextKeys({ kind: 8  });
        updateGroupContextKeys({ kind: 3  });
    }
    registerContainerListeners() {
        this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.addDisposableListener)(this.element, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.EventType.DBLCLICK, e => {
            if (this.isEmpty) {
                _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.EventHelper.stop(e);
                this.editorService.openEditor({
                    resource: undefined,
                    options: {
                        pinned: true,
                        override: _common_editor_js__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_EDITOR_ASSOCIATION.id
                    }
                }, this.id);
            }
        }));
        this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.addDisposableListener)(this.element, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.EventType.AUXCLICK, e => {
            if (this.isEmpty && e.button === 1 ) {
                _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.EventHelper.stop(e, true);
                this.groupsView.removeGroup(this);
            }
        }));
    }
    createContainerToolbar() {
        const toolbarContainer = document.createElement('div');
        toolbarContainer.classList.add('editor-group-container-toolbar');
        this.element.appendChild(toolbarContainer);
        const containerToolbar = this._register(( (new _base_browser_ui_actionbar_actionbar_js__WEBPACK_IMPORTED_MODULE_36__.ActionBar(toolbarContainer, {
            ariaLabel: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_29__.localize)(10148, "Empty editor group actions")),
            highlightToggledItems: true
        }))));
        const containerToolbarMenu = this._register(this.menuService.createMenu(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_38__.MenuId.EmptyEditorGroup, this.scopedContextKeyService));
        const updateContainerToolbar = () => {
            const actions = { primary: [], secondary: [] };
            this.containerToolBarMenuDisposable.value = (0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_31__.toDisposable)(() => containerToolbar.clear());
            (0,_platform_actions_browser_menuEntryActionViewItem_js__WEBPACK_IMPORTED_MODULE_41__.createAndFillInActionBarActions)(containerToolbarMenu, { arg: { groupId: this.id }, shouldForwardArgs: true }, actions, 'navigation');
            for (const action of [...actions.primary, ...actions.secondary]) {
                const keybinding = this.keybindingService.lookupKeybinding(action.id);
                containerToolbar.push(action, { icon: true, label: false, keybinding: keybinding?.getLabel() });
            }
        };
        updateContainerToolbar();
        this._register(containerToolbarMenu.onDidChange(updateContainerToolbar));
    }
    createContainerContextMenu() {
        this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.addDisposableListener)(this.element, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.EventType.CONTEXT_MENU, e => this.onShowContainerContextMenu(e)));
        this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.addDisposableListener)(this.element, _base_browser_touch_js__WEBPACK_IMPORTED_MODULE_34__.EventType.Contextmenu, () => this.onShowContainerContextMenu()));
    }
    onShowContainerContextMenu(e) {
        if (!this.isEmpty) {
            return;
        }
        let anchor = this.element;
        if (e) {
            anchor = ( (new _base_browser_mouseEvent_js__WEBPACK_IMPORTED_MODULE_40__.StandardMouseEvent((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.getWindow)(this.element), e)));
        }
        this.contextMenuService.showContextMenu({
            menuId: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_38__.MenuId.EmptyEditorGroupContext,
            contextKeyService: this.contextKeyService,
            getAnchor: () => anchor,
            onHide: () => {
                this.focus();
            }
        });
    }
    doTrackFocus() {
        const containerFocusTracker = this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.trackFocus)(this.element));
        this._register(containerFocusTracker.onDidFocus(() => {
            if (this.isEmpty) {
                this._onDidFocus.fire();
            }
        }));
        const handleTitleClickOrTouch = (e) => {
            let target;
            if ((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.isMouseEvent)(e)) {
                if (e.button !== 0  || ((_base_common_platform_js__WEBPACK_IMPORTED_MODULE_53__.isMacintosh && e.ctrlKey) )) {
                    return undefined;
                }
                target = e.target;
            }
            else {
                target = e.initialTarget;
            }
            if ((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.findParentWithClass)(target, 'monaco-action-bar', this.titleContainer) ||
                (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.findParentWithClass)(target, 'monaco-breadcrumb-item', this.titleContainer)) {
                return;
            }
            setTimeout(() => {
                this.focus();
            });
        };
        this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.addDisposableListener)(this.titleContainer, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.EventType.MOUSE_DOWN, e => handleTitleClickOrTouch(e)));
        this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.addDisposableListener)(this.titleContainer, _base_browser_touch_js__WEBPACK_IMPORTED_MODULE_34__.EventType.Tap, e => handleTitleClickOrTouch(e)));
        this._register(this.editorPane.onDidFocus(() => {
            this._onDidFocus.fire();
        }));
    }
    updateContainer() {
        if (this.isEmpty) {
            this.element.classList.add('empty');
            this.element.tabIndex = 0;
            this.element.setAttribute('aria-label', ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_29__.localize)(10149, "{0} (empty)", this.ariaLabel)));
        }
        else {
            this.element.classList.remove('empty');
            this.element.removeAttribute('tabIndex');
            this.element.removeAttribute('aria-label');
        }
        this.updateStyles();
    }
    updateTitleContainer() {
        this.titleContainer.classList.toggle('tabs', this.groupsView.partOptions.showTabs === 'multiple');
        this.titleContainer.classList.toggle('show-file-icons', this.groupsView.partOptions.showIcons);
    }
    restoreEditors(from, groupViewOptions) {
        if (this.count === 0) {
            return;
        }
        let options;
        if (from instanceof EditorGroupView_1) {
            options = (0,_editor_js__WEBPACK_IMPORTED_MODULE_35__.fillActiveEditorViewState)(from);
        }
        else {
            options = Object.create(null);
        }
        const activeEditor = this.model.activeEditor;
        if (!activeEditor) {
            return;
        }
        options.pinned = this.model.isPinned(activeEditor);
        options.sticky = this.model.isSticky(activeEditor);
        options.preserveFocus = true;
        const internalOptions = {
            preserveWindowOrder: true,
            skipTitleUpdate: true,
        };
        const activeElement = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.getActiveElement)();
        const result = this.doShowEditor(activeEditor, { active: true, isNew: false  }, options, internalOptions).then(() => {
            if (this.groupsView.activeGroup === this && activeElement && (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.isActiveElement)(activeElement) && !groupViewOptions?.preserveFocus) {
                this.focus();
            }
        });
        this.titleControl.openEditors(this.editors);
        return result;
    }
    registerListeners() {
        this._register(this.model.onDidModelChange(e => this.onDidGroupModelChange(e)));
        this._register(this.groupsView.onDidChangeEditorPartOptions(e => this.onDidChangeEditorPartOptions(e)));
        this._register(this.groupsView.onDidVisibilityChange(e => this.onDidVisibilityChange(e)));
        this._register(this.onDidFocus(() => this.onDidGainFocus()));
    }
    onDidGroupModelChange(e) {
        this._onDidModelChange.fire(e);
        switch (e.kind) {
            case 3 :
                this.element.classList.toggle('locked', this.isLocked);
                break;
            case 4 :
                this.onDidChangeEditorSelection();
                break;
        }
        if (!e.editor) {
            return;
        }
        switch (e.kind) {
            case 5 :
                if ((0,_common_editor_editorGroupModel_js__WEBPACK_IMPORTED_MODULE_2__.isGroupEditorOpenEvent)(e)) {
                    this.onDidOpenEditor(e.editor, e.editorIndex);
                }
                break;
            case 6 :
                if ((0,_common_editor_editorGroupModel_js__WEBPACK_IMPORTED_MODULE_2__.isGroupEditorCloseEvent)(e)) {
                    this.handleOnDidCloseEditor(e.editor, e.editorIndex, e.context, e.sticky);
                }
                break;
            case 15 :
                this.onWillDisposeEditor(e.editor);
                break;
            case 14 :
                this.onDidChangeEditorDirty(e.editor);
                break;
            case 12 :
                this.onDidChangeEditorTransient(e.editor);
                break;
            case 9 :
                this.onDidChangeEditorLabel(e.editor);
                break;
        }
    }
    onDidOpenEditor(editor, editorIndex) {
        this.telemetryService.publicLog('editorOpened', this.toEditorTelemetryDescriptor(editor));
        this.updateContainer();
    }
    handleOnDidCloseEditor(editor, editorIndex, context, sticky) {
        this._onWillCloseEditor.fire({ groupId: this.id, editor, context, index: editorIndex, sticky });
        const editorsToClose = [editor];
        if (editor instanceof _common_editor_sideBySideEditorInput_js__WEBPACK_IMPORTED_MODULE_5__.SideBySideEditorInput) {
            editorsToClose.push(editor.primary, editor.secondary);
        }
        for (const editor of editorsToClose) {
            if (this.canDispose(editor)) {
                editor.dispose();
            }
        }
        this.telemetryService.publicLog('editorClosed', this.toEditorTelemetryDescriptor(editor));
        this.updateContainer();
        this._onDidCloseEditor.fire({ groupId: this.id, editor, context, index: editorIndex, sticky });
    }
    canDispose(editor) {
        for (const groupView of this.editorPartsView.groups) {
            if (groupView instanceof EditorGroupView_1 && groupView.model.contains(editor, {
                strictEquals: true,
                supportSideBySide: _common_editor_js__WEBPACK_IMPORTED_MODULE_3__.SideBySideEditor.ANY
            })) {
                return false;
            }
        }
        return true;
    }
    toResourceTelemetryDescriptor(resource) {
        if (!resource) {
            return undefined;
        }
        const path = resource ? resource.scheme === _base_common_network_js__WEBPACK_IMPORTED_MODULE_47__.Schemas.file ? resource.fsPath : resource.path : undefined;
        if (!path) {
            return undefined;
        }
        let resourceExt = (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_46__.extname)(resource);
        const queryStringLocation = resourceExt.indexOf('?');
        resourceExt = queryStringLocation !== -1 ? resourceExt.substr(0, queryStringLocation) : resourceExt;
        return {
            mimeType: ( (new _platform_telemetry_common_telemetryUtils_js__WEBPACK_IMPORTED_MODULE_55__.TelemetryTrustedValue((0,_editor_common_services_languagesAssociations_js__WEBPACK_IMPORTED_MODULE_45__.getMimeTypes)(resource).join(', ')))),
            scheme: resource.scheme,
            ext: resourceExt,
            path: (0,_base_common_hash_js__WEBPACK_IMPORTED_MODULE_44__.hash)(path)
        };
    }
    toEditorTelemetryDescriptor(editor) {
        const descriptor = editor.getTelemetryDescriptor();
        const resource = _common_editor_js__WEBPACK_IMPORTED_MODULE_3__.EditorResourceAccessor.getOriginalUri(editor, { supportSideBySide: _common_editor_js__WEBPACK_IMPORTED_MODULE_3__.SideBySideEditor.BOTH });
        if (_base_common_uri_js__WEBPACK_IMPORTED_MODULE_51__.URI.isUri(resource)) {
            descriptor['resource'] = this.toResourceTelemetryDescriptor(resource);
            return descriptor;
        }
        else if (resource) {
            if (resource.primary) {
                descriptor['resource'] = this.toResourceTelemetryDescriptor(resource.primary);
            }
            if (resource.secondary) {
                descriptor['resourceSecondary'] = this.toResourceTelemetryDescriptor(resource.secondary);
            }
            return descriptor;
        }
        return descriptor;
    }
    onWillDisposeEditor(editor) {
        this.disposedEditorsWorker.work(editor);
    }
    handleDisposedEditors(disposedEditors) {
        let activeEditor;
        const inactiveEditors = [];
        for (const disposedEditor of disposedEditors) {
            const editorFindResult = this.model.findEditor(disposedEditor);
            if (!editorFindResult) {
                continue;
            }
            const editor = editorFindResult[0];
            if (!editor.isDisposed()) {
                continue;
            }
            if (this.model.isActive(editor)) {
                activeEditor = editor;
            }
            else {
                inactiveEditors.push(editor);
            }
        }
        for (const inactiveEditor of inactiveEditors) {
            this.doCloseEditor(inactiveEditor, true);
        }
        if (activeEditor) {
            this.doCloseEditor(activeEditor, true);
        }
    }
    onDidChangeEditorPartOptions(event) {
        this.updateTitleContainer();
        this.titleControl.updateOptions(event.oldPartOptions, event.newPartOptions);
        if (event.oldPartOptions.showTabs !== event.newPartOptions.showTabs ||
            event.oldPartOptions.tabHeight !== event.newPartOptions.tabHeight ||
            (event.oldPartOptions.showTabs === 'multiple' && event.oldPartOptions.pinnedTabsOnSeparateRow !== event.newPartOptions.pinnedTabsOnSeparateRow)) {
            this.relayout();
            if (this.model.activeEditor) {
                this.titleControl.openEditors(this.model.getEditors(1 ));
            }
        }
        this.updateStyles();
        if (event.oldPartOptions.enablePreview && !event.newPartOptions.enablePreview) {
            if (this.model.previewEditor) {
                this.pinEditor(this.model.previewEditor);
            }
        }
    }
    onDidChangeEditorDirty(editor) {
        this.pinEditor(editor);
        this.titleControl.updateEditorDirty(editor);
    }
    onDidChangeEditorTransient(editor) {
        const transient = this.model.isTransient(editor);
        if (!transient && !this.groupsView.partOptions.enablePreview) {
            this.pinEditor(editor);
        }
    }
    onDidChangeEditorLabel(editor) {
        this.titleControl.updateEditorLabel(editor);
    }
    onDidChangeEditorSelection() {
        this.titleControl.updateEditorSelections();
    }
    onDidVisibilityChange(visible) {
        this.editorPane.setVisible(visible);
    }
    onDidGainFocus() {
        if (this.activeEditor) {
            this.model.setTransient(this.activeEditor, false);
        }
    }
    get index() {
        return this._index;
    }
    get label() {
        if (this.groupsLabel) {
            return ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_29__.localize)(10150, "{0}: Group {1}", this.groupsLabel, this._index + 1));
        }
        return ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_29__.localize)(10151, "Group {0}", this._index + 1));
    }
    get ariaLabel() {
        if (this.groupsLabel) {
            return ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_29__.localize)(10152, "{0}: Editor Group {1}", this.groupsLabel, this._index + 1));
        }
        return ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_29__.localize)(10153, "Editor Group {0}", this._index + 1));
    }
    get disposed() {
        return this._disposed;
    }
    get isEmpty() {
        return this.count === 0;
    }
    get titleHeight() {
        return this.titleControl.getHeight();
    }
    notifyIndexChanged(newIndex) {
        if (this._index !== newIndex) {
            this._index = newIndex;
            this.model.setIndex(newIndex);
        }
    }
    notifyLabelChanged(newLabel) {
        if (this.groupsLabel !== newLabel) {
            this.groupsLabel = newLabel;
            this.model.setLabel(newLabel);
        }
    }
    setActive(isActive) {
        this.active = isActive;
        if (!isActive && this.activeEditor && this.selectedEditors.length > 1) {
            this.setSelection(this.activeEditor, []);
        }
        this.element.classList.toggle('active', isActive);
        this.element.classList.toggle('inactive', !isActive);
        this.titleControl.setActive(isActive);
        this.updateStyles();
        this.model.setActive(undefined );
    }
    get id() {
        return this.model.id;
    }
    get windowId() {
        return this.groupsView.windowId;
    }
    get editors() {
        return this.model.getEditors(1 );
    }
    get count() {
        return this.model.count;
    }
    get stickyCount() {
        return this.model.stickyCount;
    }
    get activeEditorPane() {
        return this.editorPane ? this.editorPane.activeEditorPane ?? undefined : undefined;
    }
    get activeEditor() {
        return this.model.activeEditor;
    }
    get selectedEditors() {
        return this.model.selectedEditors;
    }
    get previewEditor() {
        return this.model.previewEditor;
    }
    isPinned(editorOrIndex) {
        return this.model.isPinned(editorOrIndex);
    }
    isSticky(editorOrIndex) {
        return this.model.isSticky(editorOrIndex);
    }
    isSelected(editor) {
        return this.model.isSelected(editor);
    }
    isTransient(editorOrIndex) {
        return this.model.isTransient(editorOrIndex);
    }
    isActive(editor) {
        return this.model.isActive(editor);
    }
    async setSelection(activeSelectedEditor, inactiveSelectedEditors) {
        if (!this.isActive(activeSelectedEditor)) {
            await this.openEditor(activeSelectedEditor, { activation: _platform_editor_common_editor_js__WEBPACK_IMPORTED_MODULE_48__.EditorActivation.ACTIVATE }, { inactiveSelection: inactiveSelectedEditors });
        }
        else {
            this.model.setSelection(activeSelectedEditor, inactiveSelectedEditors);
        }
    }
    contains(candidate, options) {
        return this.model.contains(candidate, options);
    }
    getEditors(order, options) {
        return this.model.getEditors(order, options);
    }
    findEditors(resource, options) {
        const canonicalResource = this.uriIdentityService.asCanonicalUri(resource);
        return this.getEditors(1 ).filter(editor => {
            if (editor.resource && (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_46__.isEqual)(editor.resource, canonicalResource)) {
                return true;
            }
            if (options?.supportSideBySide === _common_editor_js__WEBPACK_IMPORTED_MODULE_3__.SideBySideEditor.PRIMARY || options?.supportSideBySide === _common_editor_js__WEBPACK_IMPORTED_MODULE_3__.SideBySideEditor.ANY) {
                const primaryResource = _common_editor_js__WEBPACK_IMPORTED_MODULE_3__.EditorResourceAccessor.getCanonicalUri(editor, { supportSideBySide: _common_editor_js__WEBPACK_IMPORTED_MODULE_3__.SideBySideEditor.PRIMARY });
                if (primaryResource && (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_46__.isEqual)(primaryResource, canonicalResource)) {
                    return true;
                }
            }
            if (options?.supportSideBySide === _common_editor_js__WEBPACK_IMPORTED_MODULE_3__.SideBySideEditor.SECONDARY || options?.supportSideBySide === _common_editor_js__WEBPACK_IMPORTED_MODULE_3__.SideBySideEditor.ANY) {
                const secondaryResource = _common_editor_js__WEBPACK_IMPORTED_MODULE_3__.EditorResourceAccessor.getCanonicalUri(editor, { supportSideBySide: _common_editor_js__WEBPACK_IMPORTED_MODULE_3__.SideBySideEditor.SECONDARY });
                if (secondaryResource && (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_46__.isEqual)(secondaryResource, canonicalResource)) {
                    return true;
                }
            }
            return false;
        });
    }
    getEditorByIndex(index) {
        return this.model.getEditorByIndex(index);
    }
    getIndexOfEditor(editor) {
        return this.model.indexOf(editor);
    }
    isFirst(editor) {
        return this.model.isFirst(editor);
    }
    isLast(editor) {
        return this.model.isLast(editor);
    }
    focus() {
        if (this.activeEditorPane) {
            this.activeEditorPane.focus();
        }
        else {
            this.element.focus();
        }
        this._onDidFocus.fire();
    }
    pinEditor(candidate = this.activeEditor || undefined) {
        if (candidate && !this.model.isPinned(candidate)) {
            const editor = this.model.pin(candidate);
            if (editor) {
                this.titleControl.pinEditor(editor);
            }
        }
    }
    stickEditor(candidate = this.activeEditor || undefined) {
        this.doStickEditor(candidate, true);
    }
    unstickEditor(candidate = this.activeEditor || undefined) {
        this.doStickEditor(candidate, false);
    }
    doStickEditor(candidate, sticky) {
        if (candidate && this.model.isSticky(candidate) !== sticky) {
            const oldIndexOfEditor = this.getIndexOfEditor(candidate);
            const editor = sticky ? this.model.stick(candidate) : this.model.unstick(candidate);
            if (!editor) {
                return;
            }
            const newIndexOfEditor = this.getIndexOfEditor(editor);
            if (newIndexOfEditor !== oldIndexOfEditor) {
                this.titleControl.moveEditor(editor, oldIndexOfEditor, newIndexOfEditor, true);
            }
            if (sticky) {
                this.titleControl.stickEditor(editor);
            }
            else {
                this.titleControl.unstickEditor(editor);
            }
        }
    }
    async openEditor(editor, options, internalOptions) {
        return this.doOpenEditor(editor, options, {
            ...internalOptions,
            supportSideBySide: _common_editor_js__WEBPACK_IMPORTED_MODULE_3__.SideBySideEditor.BOTH
        });
    }
    async doOpenEditor(editor, options, internalOptions) {
        if (!editor || editor.isDisposed()) {
            return;
        }
        this._onWillOpenEditor.fire({ editor, groupId: this.id });
        const pinned = options?.sticky
            || (!this.groupsView.partOptions.enablePreview && !options?.transient)
            || editor.isDirty()
            || ((options?.pinned ?? typeof options?.index === 'number') )
            || (typeof options?.index === 'number' && this.model.isSticky(options.index))
            || editor.hasCapability(512 );
        const openEditorOptions = {
            index: options ? options.index : undefined,
            pinned,
            sticky: options?.sticky || (typeof options?.index === 'number' && this.model.isSticky(options.index)),
            transient: !!options?.transient,
            inactiveSelection: internalOptions?.inactiveSelection,
            active: this.count === 0 || !options || !options.inactive,
            supportSideBySide: internalOptions?.supportSideBySide
        };
        if (!openEditorOptions.active && !openEditorOptions.pinned && this.model.activeEditor && !this.model.isPinned(this.model.activeEditor)) {
            openEditorOptions.active = true;
        }
        let activateGroup = false;
        let restoreGroup = false;
        if (options?.activation === _platform_editor_common_editor_js__WEBPACK_IMPORTED_MODULE_48__.EditorActivation.ACTIVATE) {
            activateGroup = true;
        }
        else if (options?.activation === _platform_editor_common_editor_js__WEBPACK_IMPORTED_MODULE_48__.EditorActivation.RESTORE) {
            restoreGroup = true;
        }
        else if (options?.activation === _platform_editor_common_editor_js__WEBPACK_IMPORTED_MODULE_48__.EditorActivation.PRESERVE) {
            activateGroup = false;
            restoreGroup = false;
        }
        else if (openEditorOptions.active) {
            activateGroup = !options || !options.preserveFocus;
            restoreGroup = !activateGroup;
        }
        if (typeof openEditorOptions.index === 'number') {
            const indexOfEditor = this.model.indexOf(editor);
            if (indexOfEditor !== -1 && indexOfEditor !== openEditorOptions.index) {
                this.doMoveEditorInsideGroup(editor, openEditorOptions);
            }
        }
        const { editor: openedEditor, isNew } = this.model.openEditor(editor, openEditorOptions);
        if (isNew &&
            this.count === 1 &&
            this.editorPartsView.groups.length > 1
        ) {
            if (openedEditor.editorId && this.groupsView.partOptions.autoLockGroups?.has(openedEditor.editorId)) {
                this.lock(true);
            }
        }
        const showEditorResult = this.doShowEditor(openedEditor, { active: !!openEditorOptions.active, isNew }, options, internalOptions);
        if (activateGroup) {
            this.groupsView.activateGroup(this);
        }
        else if (restoreGroup) {
            this.groupsView.restoreGroup(this);
        }
        return showEditorResult;
    }
    doShowEditor(editor, context, options, internalOptions) {
        let openEditorPromise;
        if (context.active) {
            openEditorPromise = (async () => {
                const { pane, changed, cancelled, error } = await this.editorPane.openEditor(editor, options, internalOptions, { newInGroup: context.isNew });
                if (cancelled) {
                    return undefined;
                }
                if (changed) {
                    this._onDidActiveEditorChange.fire({ editor });
                }
                if (error) {
                    this._onDidOpenEditorFail.fire(editor);
                }
                if (!pane && this.activeEditor === editor) {
                    this.doCloseEditor(editor, options?.preserveFocus, { fromError: true });
                }
                return pane;
            })();
        }
        else {
            openEditorPromise = Promise.resolve(undefined);
        }
        if (!internalOptions?.skipTitleUpdate) {
            this.titleControl.openEditor(editor, internalOptions);
        }
        return openEditorPromise;
    }
    async openEditors(editors) {
        const editorsToOpen = (0,_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_30__.coalesce)(editors).filter(({ editor }) => !editor.isDisposed());
        const firstEditor = editorsToOpen.at(0);
        if (!firstEditor) {
            return;
        }
        const openEditorsOptions = {
            supportSideBySide: _common_editor_js__WEBPACK_IMPORTED_MODULE_3__.SideBySideEditor.BOTH
        };
        await this.doOpenEditor(firstEditor.editor, firstEditor.options, openEditorsOptions);
        const inactiveEditors = editorsToOpen.slice(1);
        const startingIndex = this.getIndexOfEditor(firstEditor.editor) + 1;
        await _base_common_async_js__WEBPACK_IMPORTED_MODULE_33__.Promises.settled(( (inactiveEditors.map(({ editor, options }, index) => {
            return this.doOpenEditor(editor, {
                ...options,
                inactive: true,
                pinned: true,
                index: startingIndex + index
            }, {
                ...openEditorsOptions,
                skipTitleUpdate: true
            });
        }))));
        this.titleControl.openEditors(( (inactiveEditors.map(({ editor }) => editor))));
        return this.editorPane.activeEditorPane ?? undefined;
    }
    moveEditors(editors, target) {
        const internalOptions = {
            skipTitleUpdate: this !== target
        };
        let moveFailed = false;
        const movedEditors = ( (new Set()));
        for (const { editor, options } of editors) {
            if (this.moveEditor(editor, target, options, internalOptions)) {
                movedEditors.add(editor);
            }
            else {
                moveFailed = true;
            }
        }
        if (internalOptions.skipTitleUpdate) {
            target.titleControl.openEditors(Array.from(movedEditors));
            this.titleControl.closeEditors(Array.from(movedEditors));
        }
        return !moveFailed;
    }
    moveEditor(editor, target, options, internalOptions) {
        if (this === target) {
            this.doMoveEditorInsideGroup(editor, options);
            return true;
        }
        else {
            return this.doMoveOrCopyEditorAcrossGroups(editor, target, options, { ...internalOptions, keepCopy: false });
        }
    }
    doMoveEditorInsideGroup(candidate, options) {
        const moveToIndex = options ? options.index : undefined;
        if (typeof moveToIndex !== 'number') {
            return;
        }
        const currentIndex = this.model.indexOf(candidate);
        const editor = this.model.getEditorByIndex(currentIndex);
        if (!editor) {
            return;
        }
        if (currentIndex !== moveToIndex) {
            const oldStickyCount = this.model.stickyCount;
            this.model.moveEditor(editor, moveToIndex);
            this.model.pin(editor);
            this.titleControl.moveEditor(editor, currentIndex, moveToIndex, oldStickyCount !== this.model.stickyCount);
            this.titleControl.pinEditor(editor);
        }
        if (options?.sticky) {
            this.stickEditor(editor);
        }
    }
    doMoveOrCopyEditorAcrossGroups(editor, target, openOptions, internalOptions) {
        const keepCopy = internalOptions?.keepCopy;
        if (!keepCopy || editor.hasCapability(8 ) ) {
            const canMoveVeto = editor.canMove(this.id, target.id);
            if (typeof canMoveVeto === 'string') {
                this.dialogService.error(canMoveVeto, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_29__.localize)(10154, "Try saving or reverting the editor first and then try again.")));
                return false;
            }
        }
        const options = (0,_editor_js__WEBPACK_IMPORTED_MODULE_35__.fillActiveEditorViewState)(this, editor, {
            ...openOptions,
            pinned: true,
            sticky: openOptions?.sticky ?? (!keepCopy && this.model.isSticky(editor))
        });
        if (!keepCopy) {
            this._onWillMoveEditor.fire({
                groupId: this.id,
                editor,
                target: target.id
            });
        }
        target.doOpenEditor(keepCopy ? editor.copy() : editor, options, internalOptions);
        if (!keepCopy) {
            this.doCloseEditor(editor, true , { ...internalOptions, context: _common_editor_js__WEBPACK_IMPORTED_MODULE_3__.EditorCloseContext.MOVE });
        }
        return true;
    }
    copyEditors(editors, target) {
        const internalOptions = {
            skipTitleUpdate: this !== target
        };
        for (const { editor, options } of editors) {
            this.copyEditor(editor, target, options, internalOptions);
        }
        if (internalOptions.skipTitleUpdate) {
            const copiedEditors = ( (editors.map(({ editor }) => editor)));
            target.titleControl.openEditors(copiedEditors);
        }
    }
    copyEditor(editor, target, options, internalOptions) {
        if (this === target) {
            this.doMoveEditorInsideGroup(editor, options);
        }
        else {
            this.doMoveOrCopyEditorAcrossGroups(editor, target, options, { ...internalOptions, keepCopy: true });
        }
    }
    async closeEditor(editor = this.activeEditor || undefined, options) {
        return this.doCloseEditorWithConfirmationHandling(editor, options);
    }
    async doCloseEditorWithConfirmationHandling(editor = this.activeEditor || undefined, options, internalOptions) {
        if (!editor) {
            return false;
        }
        const veto = await this.handleCloseConfirmation([editor]);
        if (veto) {
            return false;
        }
        this.doCloseEditor(editor, options?.preserveFocus, internalOptions);
        return true;
    }
    doCloseEditor(editor, preserveFocus = (this.groupsView.activeGroup !== this), internalOptions) {
        if (!internalOptions?.skipTitleUpdate) {
            this.titleControl.beforeCloseEditor(editor);
        }
        if (this.model.isActive(editor)) {
            this.doCloseActiveEditor(preserveFocus, internalOptions);
        }
        else {
            this.doCloseInactiveEditor(editor, internalOptions);
        }
        if (!internalOptions?.skipTitleUpdate) {
            this.titleControl.closeEditor(editor);
        }
    }
    doCloseActiveEditor(preserveFocus = (this.groupsView.activeGroup !== this), internalOptions) {
        const editorToClose = this.activeEditor;
        const restoreFocus = !preserveFocus && this.shouldRestoreFocus(this.element);
        const closeEmptyGroup = this.groupsView.partOptions.closeEmptyGroups;
        if (closeEmptyGroup && this.active && this.count === 1) {
            const mostRecentlyActiveGroups = this.groupsView.getGroups(1 );
            const nextActiveGroup = mostRecentlyActiveGroups[1];
            if (nextActiveGroup) {
                if (restoreFocus) {
                    nextActiveGroup.focus();
                }
                else {
                    this.groupsView.activateGroup(nextActiveGroup, true);
                }
            }
        }
        if (editorToClose) {
            this.model.closeEditor(editorToClose, internalOptions?.context);
        }
        const nextActiveEditor = this.model.activeEditor;
        if (nextActiveEditor) {
            let activation = undefined;
            if (preserveFocus && this.groupsView.activeGroup !== this) {
                activation = _platform_editor_common_editor_js__WEBPACK_IMPORTED_MODULE_48__.EditorActivation.PRESERVE;
            }
            const options = {
                preserveFocus,
                activation,
                ignoreError: internalOptions?.fromError
            };
            const internalEditorOpenOptions = {
                preserveWindowOrder: true
            };
            this.doOpenEditor(nextActiveEditor, options, internalEditorOpenOptions);
        }
        else {
            if (editorToClose) {
                this.editorPane.closeEditor(editorToClose);
            }
            if (restoreFocus && !closeEmptyGroup) {
                this.focus();
            }
            this._onDidActiveEditorChange.fire({ editor: undefined });
            if (closeEmptyGroup) {
                this.groupsView.removeGroup(this, preserveFocus);
            }
        }
    }
    shouldRestoreFocus(target) {
        const activeElement = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.getActiveElement)();
        if (activeElement === target.ownerDocument.body) {
            return true;
        }
        return (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.isAncestor)(activeElement, target);
    }
    doCloseInactiveEditor(editor, internalOptions) {
        this.model.closeEditor(editor, internalOptions?.context);
    }
    async handleCloseConfirmation(editors) {
        if (!editors.length) {
            return false;
        }
        const editor = editors.shift();
        let handleCloseConfirmationPromise = this.mapEditorToPendingConfirmation.get(editor);
        if (!handleCloseConfirmationPromise) {
            handleCloseConfirmationPromise = this.doHandleCloseConfirmation(editor);
            this.mapEditorToPendingConfirmation.set(editor, handleCloseConfirmationPromise);
        }
        let veto;
        try {
            veto = await handleCloseConfirmationPromise;
        }
        finally {
            this.mapEditorToPendingConfirmation.delete(editor);
        }
        if (veto) {
            return veto;
        }
        return this.handleCloseConfirmation(editors);
    }
    async doHandleCloseConfirmation(editor, options) {
        if (!this.shouldConfirmClose(editor)) {
            return false;
        }
        if (editor instanceof _common_editor_sideBySideEditorInput_js__WEBPACK_IMPORTED_MODULE_5__.SideBySideEditorInput && this.model.contains(editor.primary)) {
            return false;
        }
        if (( (this.editorPartsView.groups.some(groupView => {
            if (groupView === this) {
                return false;
            }
            const otherGroup = groupView;
            if (otherGroup.contains(editor, { supportSideBySide: _common_editor_js__WEBPACK_IMPORTED_MODULE_3__.SideBySideEditor.BOTH })) {
                return true;
            }
            if (editor instanceof _common_editor_sideBySideEditorInput_js__WEBPACK_IMPORTED_MODULE_5__.SideBySideEditorInput && otherGroup.contains(editor.primary)) {
                return true;
            }
            return false;
        })))) {
            return false;
        }
        let confirmation = 2 ;
        let saveReason = 1 ;
        let autoSave = false;
        if (!editor.hasCapability(4 ) && !options?.skipAutoSave && !editor.closeHandler) {
            if (this.filesConfigurationService.getAutoSaveMode(editor).mode === 3 ) {
                autoSave = true;
                confirmation = 0 ;
                saveReason = 3 ;
            }
            else if ((_base_common_platform_js__WEBPACK_IMPORTED_MODULE_53__.isNative && (_base_common_platform_js__WEBPACK_IMPORTED_MODULE_53__.isWindows || _base_common_platform_js__WEBPACK_IMPORTED_MODULE_53__.isLinux)) && this.filesConfigurationService.getAutoSaveMode(editor).mode === 4 ) {
                autoSave = true;
                confirmation = 0 ;
                saveReason = 4 ;
            }
        }
        if (!autoSave) {
            if (!this.activeEditor || !this.activeEditor.matches(editor)) {
                await this.doOpenEditor(editor);
            }
            await this.hostService.focus((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.getWindow)(this.element));
            if (typeof editor.closeHandler?.confirm === 'function') {
                confirmation = await editor.closeHandler.confirm([{ editor, groupId: this.id }]);
            }
            else {
                let name;
                if (editor instanceof _common_editor_sideBySideEditorInput_js__WEBPACK_IMPORTED_MODULE_5__.SideBySideEditorInput) {
                    name = editor.primary.getName();
                }
                else {
                    name = editor.getName();
                }
                confirmation = await this.fileDialogService.showSaveConfirm([name]);
            }
        }
        if (!editor.closeHandler && !this.shouldConfirmClose(editor)) {
            return confirmation === 2  ? true : false;
        }
        switch (confirmation) {
            case 0 : {
                const result = await editor.save(this.id, { reason: saveReason });
                if (!result && autoSave) {
                    return this.doHandleCloseConfirmation(editor, { skipAutoSave: true });
                }
                return editor.isDirty();
            }
            case 1 :
                try {
                    await editor.revert(this.id);
                    return editor.isDirty();
                }
                catch (error) {
                    this.logService.error(error);
                    await editor.revert(this.id, { soft: true });
                    return editor.isDirty();
                }
            case 2 :
                return true;
        }
    }
    shouldConfirmClose(editor) {
        if (editor.closeHandler) {
            return editor.closeHandler.showConfirm();
        }
        return editor.isDirty() && !editor.isSaving();
    }
    async closeEditors(args, options) {
        if (this.isEmpty) {
            return true;
        }
        const editors = this.doGetEditorsToClose(args);
        const veto = await this.handleCloseConfirmation(editors.slice(0));
        if (veto) {
            return false;
        }
        this.doCloseEditors(editors, options);
        return true;
    }
    doGetEditorsToClose(args) {
        if (Array.isArray(args)) {
            return args;
        }
        const filter = args;
        const hasDirection = typeof filter.direction === 'number';
        let editorsToClose = this.model.getEditors(hasDirection ? 1  : 0 , filter);
        if (filter.savedOnly) {
            editorsToClose = editorsToClose.filter(editor => !editor.isDirty() || editor.isSaving());
        }
        else if (hasDirection && filter.except) {
            editorsToClose = ((filter.direction === 0) ) ?
                editorsToClose.slice(0, this.model.indexOf(filter.except, editorsToClose)) :
                editorsToClose.slice(this.model.indexOf(filter.except, editorsToClose) + 1);
        }
        else if (filter.except) {
            editorsToClose = editorsToClose.filter(editor => filter.except && !editor.matches(filter.except));
        }
        return editorsToClose;
    }
    doCloseEditors(editors, options) {
        let closeActiveEditor = false;
        for (const editor of editors) {
            if (!this.isActive(editor)) {
                this.doCloseInactiveEditor(editor);
            }
            else {
                closeActiveEditor = true;
            }
        }
        if (closeActiveEditor) {
            this.doCloseActiveEditor(options?.preserveFocus);
        }
        if (editors.length) {
            this.titleControl.closeEditors(editors);
        }
    }
    async closeAllEditors(options) {
        if (this.isEmpty) {
            if (this.groupsView.partOptions.closeEmptyGroups) {
                this.groupsView.removeGroup(this);
            }
            return true;
        }
        let editors = this.model.getEditors(0 , options);
        if (options?.excludeConfirming) {
            editors = editors.filter(editor => !this.shouldConfirmClose(editor));
        }
        const veto = await this.handleCloseConfirmation(editors);
        if (veto) {
            return false;
        }
        this.doCloseAllEditors(options);
        return true;
    }
    doCloseAllEditors(options) {
        let editors = this.model.getEditors(1 , options);
        if (options?.excludeConfirming) {
            editors = editors.filter(editor => !this.shouldConfirmClose(editor));
        }
        const editorsToClose = [];
        for (const editor of editors) {
            if (!this.isActive(editor)) {
                this.doCloseInactiveEditor(editor);
            }
            editorsToClose.push(editor);
        }
        if (this.activeEditor && editorsToClose.includes(this.activeEditor)) {
            this.doCloseActiveEditor();
        }
        if (editorsToClose.length) {
            this.titleControl.closeEditors(editorsToClose);
        }
    }
    async replaceEditors(editors) {
        let activeReplacement;
        const inactiveReplacements = [];
        for (let { editor, replacement, forceReplaceDirty, options } of editors) {
            const index = this.getIndexOfEditor(editor);
            if (index >= 0) {
                const isActiveEditor = this.isActive(editor);
                if (options) {
                    options.index = index;
                }
                else {
                    options = { index };
                }
                options.inactive = !isActiveEditor;
                options.pinned = options.pinned ?? true;
                const editorToReplace = { editor, replacement, forceReplaceDirty, options };
                if (isActiveEditor) {
                    activeReplacement = editorToReplace;
                }
                else {
                    inactiveReplacements.push(editorToReplace);
                }
            }
        }
        for (const { editor, replacement, forceReplaceDirty, options } of inactiveReplacements) {
            await this.doOpenEditor(replacement, options);
            if (!editor.matches(replacement)) {
                let closed = false;
                if (forceReplaceDirty) {
                    this.doCloseEditor(editor, true, { context: _common_editor_js__WEBPACK_IMPORTED_MODULE_3__.EditorCloseContext.REPLACE });
                    closed = true;
                }
                else {
                    closed = await this.doCloseEditorWithConfirmationHandling(editor, { preserveFocus: true }, { context: _common_editor_js__WEBPACK_IMPORTED_MODULE_3__.EditorCloseContext.REPLACE });
                }
                if (!closed) {
                    return;
                }
            }
        }
        if (activeReplacement) {
            const openEditorResult = this.doOpenEditor(activeReplacement.replacement, activeReplacement.options);
            if (!activeReplacement.editor.matches(activeReplacement.replacement)) {
                if (activeReplacement.forceReplaceDirty) {
                    this.doCloseEditor(activeReplacement.editor, true, { context: _common_editor_js__WEBPACK_IMPORTED_MODULE_3__.EditorCloseContext.REPLACE });
                }
                else {
                    await this.doCloseEditorWithConfirmationHandling(activeReplacement.editor, { preserveFocus: true }, { context: _common_editor_js__WEBPACK_IMPORTED_MODULE_3__.EditorCloseContext.REPLACE });
                }
            }
            await openEditorResult;
        }
    }
    get isLocked() {
        return this.model.isLocked;
    }
    lock(locked) {
        this.model.lock(locked);
    }
    createEditorActions(disposables) {
        const primary = [];
        const secondary = [];
        let onDidChange;
        const activeEditorPane = this.activeEditorPane;
        if (activeEditorPane instanceof _editorPane_js__WEBPACK_IMPORTED_MODULE_59__.EditorPane) {
            const editorScopedContextKeyService = activeEditorPane.scopedContextKeyService ?? this.scopedContextKeyService;
            const editorTitleMenu = disposables.add(this.menuService.createMenu(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_38__.MenuId.EditorTitle, editorScopedContextKeyService, { emitEventsForSubmenuChanges: true, eventDebounceDelay: 0 }));
            onDidChange = editorTitleMenu.onDidChange;
            const shouldInlineGroup = (action, group) => group === 'navigation' && action.actions.length <= 1;
            (0,_platform_actions_browser_menuEntryActionViewItem_js__WEBPACK_IMPORTED_MODULE_41__.createAndFillInActionBarActions)(editorTitleMenu, { arg: this.resourceContext.get(), shouldForwardArgs: true }, { primary, secondary }, 'navigation', shouldInlineGroup);
        }
        else {
            const _onDidChange = disposables.add(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_6__.Emitter())));
            onDidChange = _onDidChange.event;
            disposables.add(this.onDidActiveEditorChange(() => _onDidChange.fire()));
        }
        return { actions: { primary, secondary }, onDidChange };
    }
    updateStyles() {
        const isEmpty = this.isEmpty;
        if (isEmpty) {
            this.element.style.backgroundColor = this.getColor(_common_theme_js__WEBPACK_IMPORTED_MODULE_25__.EDITOR_GROUP_EMPTY_BACKGROUND) || '';
        }
        else {
            this.element.style.backgroundColor = '';
        }
        const borderColor = this.getColor(_common_theme_js__WEBPACK_IMPORTED_MODULE_25__.EDITOR_GROUP_HEADER_BORDER) || this.getColor(_platform_theme_common_colors_baseColors_js__WEBPACK_IMPORTED_MODULE_15__.contrastBorder);
        if (!isEmpty && borderColor) {
            this.titleContainer.classList.add('title-border-bottom');
            this.titleContainer.style.setProperty('--title-border-bottom-color', borderColor);
        }
        else {
            this.titleContainer.classList.remove('title-border-bottom');
            this.titleContainer.style.removeProperty('--title-border-bottom-color');
        }
        const { showTabs } = this.groupsView.partOptions;
        this.titleContainer.style.backgroundColor = this.getColor(showTabs === 'multiple' ? _common_theme_js__WEBPACK_IMPORTED_MODULE_25__.EDITOR_GROUP_HEADER_TABS_BACKGROUND : _common_theme_js__WEBPACK_IMPORTED_MODULE_25__.EDITOR_GROUP_HEADER_NO_TABS_BACKGROUND) || '';
        this.editorContainer.style.backgroundColor = this.getColor(_platform_theme_common_colors_editorColors_js__WEBPACK_IMPORTED_MODULE_17__.editorBackground) || '';
    }
    get minimumWidth() { return this.editorPane.minimumWidth; }
    get minimumHeight() { return this.editorPane.minimumHeight; }
    get maximumWidth() { return this.editorPane.maximumWidth; }
    get maximumHeight() { return this.editorPane.maximumHeight; }
    get proportionalLayout() {
        if (!this.lastLayout) {
            return true;
        }
        return !(this.lastLayout.width === this.minimumWidth || this.lastLayout.height === this.minimumHeight);
    }
    layout(width, height, top, left) {
        this.lastLayout = { width, height, top, left };
        this.element.classList.toggle('max-height-478px', height <= 478);
        const titleControlSize = this.titleControl.layout({
            container: ( (new _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.Dimension(width, height))),
            available: ( (new _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.Dimension(width, height - this.editorPane.minimumHeight)))
        });
        this.progressBar.getContainer().style.top = `${Math.max(this.titleHeight.offset - 2, 0)}px`;
        const editorHeight = Math.max(0, height - titleControlSize.height);
        this.editorContainer.style.height = `${editorHeight}px`;
        this.editorPane.layout({ width, height: editorHeight, top: top + titleControlSize.height, left });
    }
    relayout() {
        if (this.lastLayout) {
            const { width, height, top, left } = this.lastLayout;
            this.layout(width, height, top, left);
        }
    }
    setBoundarySashes(sashes) {
        this.editorPane.setBoundarySashes(sashes);
    }
    toJSON() {
        return this.model.serialize();
    }
    dispose() {
        this._disposed = true;
        this._onWillDispose.fire();
        super.dispose();
    }
};
EditorGroupView = EditorGroupView_1 = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_7__.IInstantiationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_10__.IContextKeyService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_13__.IThemeService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, _platform_telemetry_common_telemetry_service_js__WEBPACK_IMPORTED_MODULE_32__.ITelemetryService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, _platform_keybinding_common_keybinding_service_js__WEBPACK_IMPORTED_MODULE_37__.IKeybindingService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(11, _platform_actions_common_actions_service_js__WEBPACK_IMPORTED_MODULE_39__.IMenuService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(12, _platform_contextview_browser_contextView_service_js__WEBPACK_IMPORTED_MODULE_42__.IContextMenuService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(13, _platform_dialogs_common_dialogs_service_js__WEBPACK_IMPORTED_MODULE_49__.IFileDialogService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(14, _services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_43__.IEditorService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(15, _services_filesConfiguration_common_filesConfigurationService_service_js__WEBPACK_IMPORTED_MODULE_50__.IFilesConfigurationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(16, _platform_uriIdentity_common_uriIdentity_service_js__WEBPACK_IMPORTED_MODULE_52__.IUriIdentityService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(17, _platform_log_common_log_service_js__WEBPACK_IMPORTED_MODULE_54__.ILogService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(18, _services_editor_common_editorResolverService_service_js__WEBPACK_IMPORTED_MODULE_60__.IEditorResolverService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(19, _services_host_browser_host_service_js__WEBPACK_IMPORTED_MODULE_61__.IHostService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(20, _platform_dialogs_common_dialogs_service_js__WEBPACK_IMPORTED_MODULE_49__.IDialogService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(21, _platform_files_common_files_service_js__WEBPACK_IMPORTED_MODULE_63__.IFileService)))
], EditorGroupView)));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorGroupWatermark.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorGroupWatermark.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EditorGroupWatermark: () => (/* binding */ EditorGroupWatermark)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _base_common_platform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../base/common/platform.js */ "./node_modules/vscode/vscode/src/vs/base/common/platform.js");
/* harmony import */ var _platform_keybinding_common_keybinding_service_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../platform/keybinding/common/keybinding.service.js */ "./node_modules/vscode/vscode/src/vs/platform/keybinding/common/keybinding.service.js");
/* harmony import */ var _platform_workspace_common_workspace_service_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../platform/workspace/common/workspace.service.js */ "./node_modules/vscode/vscode/src/vs/platform/workspace/common/workspace.service.js");
/* harmony import */ var _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../platform/configuration/common/configuration.service.js */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../base/browser/dom.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var _base_browser_ui_keybindingLabel_keybindingLabel_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../base/browser/ui/keybindingLabel/keybindingLabel.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/keybindingLabel/keybindingLabel.js");
/* harmony import */ var _platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../platform/commands/common/commands.js */ "./node_modules/vscode/vscode/src/vs/platform/commands/common/commands.js");
/* harmony import */ var _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../platform/contextkey/common/contextkey.js */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.js");
/* harmony import */ var _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../platform/contextkey/common/contextkey.service.js */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var _platform_theme_browser_defaultStyles_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../platform/theme/browser/defaultStyles.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/browser/defaultStyles.js");
/* harmony import */ var _platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../platform/theme/common/colorUtils.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colorUtils.js");
/* harmony import */ var _platform_theme_common_colors_baseColors_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/baseColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/baseColors.js");
/* harmony import */ var _platform_theme_common_colors_chartsColors_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/chartsColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/chartsColors.js");
/* harmony import */ var _platform_theme_common_colors_editorColors_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/editorColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/editorColors.js");
/* harmony import */ var _platform_theme_common_colors_inputColors_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/inputColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/inputColors.js");
/* harmony import */ var _platform_theme_common_colors_listColors_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/listColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/listColors.js");
/* harmony import */ var _platform_theme_common_colors_menuColors_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/menuColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/menuColors.js");
/* harmony import */ var _platform_theme_common_colors_minimapColors_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/minimapColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/minimapColors.js");
/* harmony import */ var _platform_theme_common_colors_miscColors_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/miscColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/miscColors.js");
/* harmony import */ var _platform_theme_common_colors_quickpickColors_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/quickpickColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/quickpickColors.js");
/* harmony import */ var _platform_theme_common_colors_searchColors_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/searchColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/searchColors.js");
























(0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_13__.registerColor)('editorWatermark.foreground', { dark: ( ((0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_13__.transparent)(_platform_theme_common_colors_editorColors_js__WEBPACK_IMPORTED_MODULE_16__.editorForeground, 0.6))), light: ( ((0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_13__.transparent)(_platform_theme_common_colors_editorColors_js__WEBPACK_IMPORTED_MODULE_16__.editorForeground, 0.68))), hcDark: _platform_theme_common_colors_editorColors_js__WEBPACK_IMPORTED_MODULE_16__.editorForeground, hcLight: _platform_theme_common_colors_editorColors_js__WEBPACK_IMPORTED_MODULE_16__.editorForeground }, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(11422, 'Foreground color for the labels in the editor watermark.')));
const showCommands = { text: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(11423, "Show All Commands")), id: 'workbench.action.showCommands' };
const quickAccess = { text: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(11424, "Go to File")), id: 'workbench.action.quickOpen' };
const openFileNonMacOnly = { text: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(11425, "Open File")), id: 'workbench.action.files.openFile', mac: false };
const openFolderNonMacOnly = { text: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(11426, "Open Folder")), id: 'workbench.action.files.openFolder', mac: false };
const openFileOrFolderMacOnly = { text: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(11427, "Open File or Folder")), id: 'workbench.action.files.openFileFolder', mac: true };
const openRecent = { text: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(11428, "Open Recent")), id: 'workbench.action.openRecent' };
const newUntitledFileMacOnly = { text: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(11429, "New Untitled Text File")), id: 'workbench.action.files.newUntitledFile', mac: true };
const findInFiles = { text: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(11430, "Find in Files")), id: 'workbench.action.findInFiles' };
const toggleTerminal = { text: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(11431, "Toggle Terminal")), id: 'workbench.action.terminal.toggleTerminal', when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_10__.ContextKeyExpr.equals('terminalProcessSupported', true))) };
const startDebugging = { text: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(11432, "Start Debugging")), id: 'workbench.action.debug.start', when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_10__.ContextKeyExpr.equals('terminalProcessSupported', true))) };
const toggleFullscreen = { text: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(11433, "Toggle Full Screen")), id: 'workbench.action.toggleFullScreen' };
const showSettings = { text: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(11434, "Show Settings")), id: 'workbench.action.openSettings' };
const noFolderEntries = [
    showCommands,
    openFileNonMacOnly,
    openFolderNonMacOnly,
    openFileOrFolderMacOnly,
    openRecent,
    newUntitledFileMacOnly
];
const folderEntries = [
    showCommands,
    quickAccess,
    findInFiles,
    startDebugging,
    toggleTerminal,
    toggleFullscreen,
    showSettings
];
let EditorGroupWatermark = class EditorGroupWatermark extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.Disposable {
    constructor(container, keybindingService, contextService, contextKeyService, configurationService) {
        super();
        this.keybindingService = keybindingService;
        this.contextService = contextService;
        this.contextKeyService = contextKeyService;
        this.configurationService = configurationService;
        this.transientDisposables = this._register(( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.DisposableStore())));
        this.enabled = false;
        this.keybindingLabels = ( (new Set()));
        const elements = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_7__.h)('.editor-group-watermark', [
            (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_7__.h)('.letterpress'),
            (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_7__.h)('.shortcuts@shortcuts'),
        ]);
        (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_7__.append)(container, elements.root);
        this.shortcuts = elements.shortcuts;
        this.registerListeners();
        this.workbenchState = contextService.getWorkbenchState();
        this.render();
    }
    registerListeners() {
        this._register(this.configurationService.onDidChangeConfiguration(e => {
            if (e.affectsConfiguration('workbench.tips.enabled')) {
                this.render();
            }
        }));
        this._register(this.contextService.onDidChangeWorkbenchState(workbenchState => {
            if (this.workbenchState === workbenchState) {
                return;
            }
            this.workbenchState = workbenchState;
            this.render();
        }));
        const allEntriesWhenClauses = ( ([...noFolderEntries, ...folderEntries].filter(entry => entry.when !== undefined).map(entry => entry.when)));
        const allKeys = ( (new Set()));
        allEntriesWhenClauses.forEach(when => ( (when.keys())).forEach(key => allKeys.add(key)));
        this._register(this.contextKeyService.onDidChangeContext(e => {
            if (e.affectsSome(allKeys)) {
                this.render();
            }
        }));
    }
    render() {
        const enabled = this.configurationService.getValue('workbench.tips.enabled');
        if (enabled === this.enabled) {
            return;
        }
        this.enabled = enabled;
        this.clear();
        if (!enabled) {
            return;
        }
        const box = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_7__.append)(this.shortcuts, (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_7__.$)('.watermark-box'));
        const folder = this.workbenchState !== 1 ;
        const selected = (folder ? folderEntries : noFolderEntries)
            .filter(entry => !('when' in entry) || this.contextKeyService.contextMatchesRules(entry.when))
            .filter(entry => !('mac' in entry) || entry.mac === (_base_common_platform_js__WEBPACK_IMPORTED_MODULE_3__.isMacintosh && !_base_common_platform_js__WEBPACK_IMPORTED_MODULE_3__.isWeb))
            .filter(entry => !!_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_9__.CommandsRegistry.getCommand(entry.id))
            .filter(entry => !!this.keybindingService.lookupKeybinding(entry.id));
        const update = () => {
            (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_7__.clearNode)(box);
            this.keybindingLabels.forEach(label => label.dispose());
            this.keybindingLabels.clear();
            for (const entry of selected) {
                const keys = this.keybindingService.lookupKeybinding(entry.id);
                if (!keys) {
                    continue;
                }
                const dl = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_7__.append)(box, (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_7__.$)('dl'));
                const dt = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_7__.append)(dl, (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_7__.$)('dt'));
                dt.textContent = entry.text;
                const dd = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_7__.append)(dl, (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_7__.$)('dd'));
                const label = ( (new _base_browser_ui_keybindingLabel_keybindingLabel_js__WEBPACK_IMPORTED_MODULE_8__.KeybindingLabel(
                    dd,
                    _base_common_platform_js__WEBPACK_IMPORTED_MODULE_3__.OS,
                    { renderUnboundKeybindings: true, ..._platform_theme_browser_defaultStyles_js__WEBPACK_IMPORTED_MODULE_12__.defaultKeybindingLabelStyles }
                )));
                label.set(keys);
                this.keybindingLabels.add(label);
            }
        };
        update();
        this.transientDisposables.add(this.keybindingService.onDidUpdateKeybindings(update));
    }
    clear() {
        (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_7__.clearNode)(this.shortcuts);
        this.transientDisposables.clear();
    }
    dispose() {
        super.dispose();
        this.clear();
        this.keybindingLabels.forEach(label => label.dispose());
    }
};
EditorGroupWatermark = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _platform_keybinding_common_keybinding_service_js__WEBPACK_IMPORTED_MODULE_4__.IKeybindingService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_workspace_common_workspace_service_js__WEBPACK_IMPORTED_MODULE_5__.IWorkspaceContextService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_11__.IContextKeyService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_6__.IConfigurationService)))
], EditorGroupWatermark)));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorPanes.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorPanes.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EditorPanes: () => (/* binding */ EditorPanes)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../base/common/event.js */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var _base_common_severity_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../base/common/severity.js */ "./node_modules/vscode/vscode/src/vs/base/common/severity.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _common_editor_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../common/editor.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor.js");
/* harmony import */ var _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../base/browser/dom.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var _platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../platform/registry/common/platform.js */ "./node_modules/vscode/vscode/src/vs/platform/registry/common/platform.js");
/* harmony import */ var _services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../services/layout/browser/layoutService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/layout/browser/layoutService.service.js");
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../platform/instantiation/common/instantiation.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var _platform_progress_common_progress_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../platform/progress/common/progress.js */ "./node_modules/vscode/vscode/src/vs/platform/progress/common/progress.js");
/* harmony import */ var _platform_progress_common_progress_service_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../platform/progress/common/progress.service.js */ "./node_modules/vscode/vscode/src/vs/platform/progress/common/progress.service.js");
/* harmony import */ var _editor_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./editor.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editor.js");
/* harmony import */ var _base_common_types_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../base/common/types.js */ "./node_modules/vscode/vscode/src/vs/base/common/types.js");
/* harmony import */ var _platform_workspace_common_workspaceTrust_service_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../platform/workspace/common/workspaceTrust.service.js */ "./node_modules/vscode/vscode/src/vs/platform/workspace/common/workspaceTrust.service.js");
/* harmony import */ var _editorPlaceholder_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./editorPlaceholder.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorPlaceholder.js");
/* harmony import */ var _platform_editor_common_editor_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../platform/editor/common/editor.js */ "./node_modules/vscode/vscode/src/vs/platform/editor/common/editor.js");
/* harmony import */ var _base_common_errors_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../base/common/errors.js */ "./node_modules/vscode/vscode/src/vs/base/common/errors.js");
/* harmony import */ var _base_common_errorMessage_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../base/common/errorMessage.js */ "./node_modules/vscode/vscode/src/vs/base/common/errorMessage.js");
/* harmony import */ var _platform_log_common_log_service_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../platform/log/common/log.service.js */ "./node_modules/vscode/vscode/src/vs/platform/log/common/log.service.js");
/* harmony import */ var _platform_dialogs_common_dialogs_service_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../platform/dialogs/common/dialogs.service.js */ "./node_modules/vscode/vscode/src/vs/platform/dialogs/common/dialogs.service.js");
/* harmony import */ var _services_host_browser_host_service_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../services/host/browser/host.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/host/browser/host.service.js");






















let EditorPanes = class EditorPanes extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__.Disposable {
    get minimumWidth() { return this._activeEditorPane?.minimumWidth ?? _editor_js__WEBPACK_IMPORTED_MODULE_12__.DEFAULT_EDITOR_MIN_DIMENSIONS.width; }
    get minimumHeight() { return this._activeEditorPane?.minimumHeight ?? _editor_js__WEBPACK_IMPORTED_MODULE_12__.DEFAULT_EDITOR_MIN_DIMENSIONS.height; }
    get maximumWidth() { return this._activeEditorPane?.maximumWidth ?? _editor_js__WEBPACK_IMPORTED_MODULE_12__.DEFAULT_EDITOR_MAX_DIMENSIONS.width; }
    get maximumHeight() { return this._activeEditorPane?.maximumHeight ?? _editor_js__WEBPACK_IMPORTED_MODULE_12__.DEFAULT_EDITOR_MAX_DIMENSIONS.height; }
    get activeEditorPane() { return this._activeEditorPane; }
    constructor(editorGroupParent, editorPanesParent, groupView, layoutService, instantiationService, editorProgressService, workspaceTrustService, logService, dialogService, hostService) {
        super();
        this.editorGroupParent = editorGroupParent;
        this.editorPanesParent = editorPanesParent;
        this.groupView = groupView;
        this.layoutService = layoutService;
        this.instantiationService = instantiationService;
        this.editorProgressService = editorProgressService;
        this.workspaceTrustService = workspaceTrustService;
        this.logService = logService;
        this.dialogService = dialogService;
        this.hostService = hostService;
        this._onDidFocus = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_2__.Emitter())));
        this.onDidFocus = this._onDidFocus.event;
        this._onDidChangeSizeConstraints = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_2__.Emitter())));
        this.onDidChangeSizeConstraints = this._onDidChangeSizeConstraints.event;
        this._activeEditorPane = null;
        this.editorPanes = [];
        this.mapEditorPaneToPendingSetInput = ( (new Map()));
        this.activeEditorPaneDisposables = this._register(( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__.DisposableStore())));
        this.editorOperation = this._register(( (new _platform_progress_common_progress_js__WEBPACK_IMPORTED_MODULE_10__.LongRunningOperation(this.editorProgressService))));
        this.editorPanesRegistry = ( (_platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_7__.Registry.as(_common_editor_js__WEBPACK_IMPORTED_MODULE_5__.EditorExtensions.EditorPane)));
        this.registerListeners();
    }
    registerListeners() {
        this._register(this.workspaceTrustService.onDidChangeTrust(() => this.onDidChangeWorkspaceTrust()));
    }
    onDidChangeWorkspaceTrust() {
        const editor = this._activeEditorPane?.input;
        const options = this._activeEditorPane?.options;
        if (editor?.hasCapability(16 )) {
            this.groupView.openEditor(editor, options);
        }
    }
    async openEditor(editor, options, internalOptions, context = Object.create(null)) {
        try {
            return await this.doOpenEditor(this.getEditorPaneDescriptor(editor), editor, options, internalOptions, context);
        }
        catch (error) {
            if (options?.ignoreError) {
                return { error };
            }
            return this.doShowError(error, editor, options, internalOptions, context);
        }
    }
    async doShowError(error, editor, options, internalOptions, context) {
        this.logService.error(error);
        let errorHandled = false;
        if (options?.source === _platform_editor_common_editor_js__WEBPACK_IMPORTED_MODULE_16__.EditorOpenSource.USER && (!(0,_common_editor_js__WEBPACK_IMPORTED_MODULE_5__.isEditorOpenError)(error) || error.allowDialog)) {
            errorHandled = await this.doShowErrorDialog(error, editor);
        }
        if (errorHandled) {
            return { error };
        }
        const editorPlaceholderOptions = { ...options };
        if (!(0,_base_common_errors_js__WEBPACK_IMPORTED_MODULE_17__.isCancellationError)(error)) {
            editorPlaceholderOptions.error = error;
        }
        return {
            ...(await this.doOpenEditor(_editorPlaceholder_js__WEBPACK_IMPORTED_MODULE_15__.ErrorPlaceholderEditor.DESCRIPTOR, editor, editorPlaceholderOptions, internalOptions, context)),
            error
        };
    }
    async doShowErrorDialog(error, editor) {
        let severity = _base_common_severity_js__WEBPACK_IMPORTED_MODULE_3__["default"].Error;
        let message = undefined;
        let detail = (0,_base_common_errorMessage_js__WEBPACK_IMPORTED_MODULE_18__.toErrorMessage)(error);
        let errorActions = undefined;
        if ((0,_common_editor_js__WEBPACK_IMPORTED_MODULE_5__.isEditorOpenError)(error)) {
            errorActions = error.actions;
            severity = error.forceSeverity ?? _base_common_severity_js__WEBPACK_IMPORTED_MODULE_3__["default"].Error;
            if (error.forceMessage) {
                message = error.message;
                detail = undefined;
            }
        }
        if (!message) {
            message = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(11420, "Unable to open '{0}'", editor.getName()));
        }
        const buttons = [];
        if (errorActions && errorActions.length > 0) {
            for (const errorAction of errorActions) {
                buttons.push({
                    label: errorAction.label,
                    run: () => errorAction
                });
            }
        }
        else {
            buttons.push({
                label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(11421, "&&OK")),
                run: () => undefined
            });
        }
        let cancelButton = undefined;
        if (buttons.length === 1) {
            cancelButton = {
                run: () => {
                    errorHandled = true;
                    return undefined;
                }
            };
        }
        let errorHandled = false;
        const { result } = await this.dialogService.prompt({
            type: severity,
            message,
            detail,
            buttons,
            cancelButton
        });
        if (result) {
            const errorActionResult = result.run();
            if (errorActionResult instanceof Promise) {
                errorActionResult.catch(error => this.dialogService.error((0,_base_common_errorMessage_js__WEBPACK_IMPORTED_MODULE_18__.toErrorMessage)(error)));
            }
            errorHandled = true;
        }
        return errorHandled;
    }
    async doOpenEditor(descriptor, editor, options, internalOptions, context = Object.create(null)) {
        const pane = this.doShowEditorPane(descriptor);
        const activeElement = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_6__.getActiveElement)();
        const { changed, cancelled } = await this.doSetInput(pane, editor, options, context);
        if (!cancelled) {
            const focus = !options || !options.preserveFocus;
            if (focus && this.shouldRestoreFocus(activeElement)) {
                pane.focus();
            }
            else if (!internalOptions?.preserveWindowOrder) {
                this.hostService.moveTop((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_6__.getWindowById)(this.groupView.windowId, true).window);
            }
        }
        return { pane, changed, cancelled };
    }
    shouldRestoreFocus(expectedActiveElement) {
        if (!this.layoutService.isRestored()) {
            return true;
        }
        if (!expectedActiveElement) {
            return true;
        }
        const activeElement = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_6__.getActiveElement)();
        if (!activeElement || activeElement === expectedActiveElement.ownerDocument.body) {
            return true;
        }
        const same = expectedActiveElement === activeElement;
        if (same) {
            return true;
        }
        if (!(0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_6__.isEditableElement)(activeElement)) {
            return true;
        }
        if ((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_6__.isAncestor)(activeElement, this.editorGroupParent)) {
            return true;
        }
        return false;
    }
    getEditorPaneDescriptor(editor) {
        if (editor.hasCapability(16 ) && !this.workspaceTrustService.isWorkspaceTrusted()) {
            return _editorPlaceholder_js__WEBPACK_IMPORTED_MODULE_15__.WorkspaceTrustRequiredPlaceholderEditor.DESCRIPTOR;
        }
        return (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_13__.assertIsDefined)(this.editorPanesRegistry.getEditorPane(editor));
    }
    doShowEditorPane(descriptor) {
        if (this._activeEditorPane && descriptor.describes(this._activeEditorPane)) {
            return this._activeEditorPane;
        }
        this.doHideActiveEditorPane();
        const editorPane = this.doCreateEditorPane(descriptor);
        this.doSetActiveEditorPane(editorPane);
        const container = (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_13__.assertIsDefined)(editorPane.getContainer());
        this.editorPanesParent.appendChild(container);
        (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_6__.show)(container);
        editorPane.setVisible(true);
        if (this.pagePosition) {
            editorPane.layout(( (new _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_6__.Dimension(this.pagePosition.width, this.pagePosition.height))), { top: this.pagePosition.top, left: this.pagePosition.left });
        }
        if (this.boundarySashes) {
            editorPane.setBoundarySashes(this.boundarySashes);
        }
        return editorPane;
    }
    doCreateEditorPane(descriptor) {
        const editorPane = this.doInstantiateEditorPane(descriptor);
        if (!editorPane.getContainer()) {
            const editorPaneContainer = document.createElement('div');
            editorPaneContainer.classList.add('editor-instance');
            this.editorPanesParent.appendChild(editorPaneContainer);
            editorPane.create(editorPaneContainer);
        }
        return editorPane;
    }
    doInstantiateEditorPane(descriptor) {
        const existingEditorPane = this.editorPanes.find(editorPane => descriptor.describes(editorPane));
        if (existingEditorPane) {
            return existingEditorPane;
        }
        const editorPane = this._register(descriptor.instantiate(this.instantiationService, this.groupView));
        this.editorPanes.push(editorPane);
        return editorPane;
    }
    doSetActiveEditorPane(editorPane) {
        this._activeEditorPane = editorPane;
        this.activeEditorPaneDisposables.clear();
        if (editorPane) {
            this.activeEditorPaneDisposables.add(editorPane.onDidChangeSizeConstraints(e => this._onDidChangeSizeConstraints.fire(e)));
            this.activeEditorPaneDisposables.add(editorPane.onDidFocus(() => this._onDidFocus.fire()));
        }
        this._onDidChangeSizeConstraints.fire(undefined);
    }
    async doSetInput(editorPane, editor, options, context) {
        let inputMatches = editorPane.input?.matches(editor);
        if (inputMatches && !options?.forceReload) {
            if (( (this.mapEditorPaneToPendingSetInput.has(editorPane)))) {
                await this.mapEditorPaneToPendingSetInput.get(editorPane);
            }
            inputMatches = editorPane.input?.matches(editor);
            if (inputMatches) {
                editorPane.setOptions(options);
            }
            return { changed: false, cancelled: !inputMatches };
        }
        const operation = this.editorOperation.start(this.layoutService.isRestored() ? 800 : 3200);
        let cancelled = false;
        try {
            editorPane.clearInput();
            const pendingSetInput = editorPane.setInput(editor, options, context, operation.token);
            this.mapEditorPaneToPendingSetInput.set(editorPane, pendingSetInput);
            await pendingSetInput;
            if (!operation.isCurrent()) {
                cancelled = true;
            }
        }
        catch (error) {
            if (!operation.isCurrent()) {
                cancelled = true;
            }
            else {
                throw error;
            }
        }
        finally {
            if (operation.isCurrent()) {
                this.mapEditorPaneToPendingSetInput.delete(editorPane);
            }
            operation.stop();
        }
        return { changed: !inputMatches, cancelled };
    }
    doHideActiveEditorPane() {
        if (!this._activeEditorPane) {
            return;
        }
        this.editorOperation.stop();
        this.safeRun(() => this._activeEditorPane?.clearInput());
        this.safeRun(() => this._activeEditorPane?.setVisible(false));
        this.mapEditorPaneToPendingSetInput.delete(this._activeEditorPane);
        const editorPaneContainer = this._activeEditorPane.getContainer();
        if (editorPaneContainer) {
            editorPaneContainer.remove();
            (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_6__.hide)(editorPaneContainer);
        }
        this.doSetActiveEditorPane(null);
    }
    closeEditor(editor) {
        if (this._activeEditorPane?.input && editor.matches(this._activeEditorPane.input)) {
            this.doHideActiveEditorPane();
        }
    }
    setVisible(visible) {
        this.safeRun(() => this._activeEditorPane?.setVisible(visible));
    }
    layout(pagePosition) {
        this.pagePosition = pagePosition;
        this.safeRun(() => this._activeEditorPane?.layout(( (new _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_6__.Dimension(pagePosition.width, pagePosition.height))), pagePosition));
    }
    setBoundarySashes(sashes) {
        this.boundarySashes = sashes;
        this.safeRun(() => this._activeEditorPane?.setBoundarySashes(sashes));
    }
    safeRun(fn) {
        try {
            fn();
        }
        catch (error) {
            this.logService.error(error);
        }
    }
};
EditorPanes = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_8__.IWorkbenchLayoutService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_9__.IInstantiationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _platform_progress_common_progress_service_js__WEBPACK_IMPORTED_MODULE_11__.IEditorProgressService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _platform_workspace_common_workspaceTrust_service_js__WEBPACK_IMPORTED_MODULE_14__.IWorkspaceTrustManagementService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, _platform_log_common_log_service_js__WEBPACK_IMPORTED_MODULE_19__.ILogService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, _platform_dialogs_common_dialogs_service_js__WEBPACK_IMPORTED_MODULE_20__.IDialogService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, _services_host_browser_host_service_js__WEBPACK_IMPORTED_MODULE_21__.IHostService)))
], EditorPanes)));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorPlaceholder.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorPlaceholder.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EditorPlaceholder: () => (/* binding */ EditorPlaceholder),
/* harmony export */   ErrorPlaceholderEditor: () => (/* binding */ ErrorPlaceholderEditor),
/* harmony export */   WorkspaceTrustRequiredPlaceholderEditor: () => (/* binding */ WorkspaceTrustRequiredPlaceholderEditor)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _media_editorplaceholder_css_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./media/editorplaceholder.css.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/media/editorplaceholder.css.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../base/common/strings.js */ "./node_modules/vscode/vscode/src/vs/base/common/strings.js");
/* harmony import */ var _base_common_severity_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../base/common/severity.js */ "./node_modules/vscode/vscode/src/vs/base/common/severity.js");
/* harmony import */ var _common_editor_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../common/editor.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor.js");
/* harmony import */ var _editorPane_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./editorPane.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorPane.js");
/* harmony import */ var _platform_telemetry_common_telemetry_service_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../platform/telemetry/common/telemetry.service.js */ "./node_modules/vscode/vscode/src/vs/platform/telemetry/common/telemetry.service.js");
/* harmony import */ var _base_browser_ui_scrollbar_scrollableElement_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../base/browser/ui/scrollbar/scrollableElement.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/scrollbar/scrollableElement.js");
/* harmony import */ var _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../platform/theme/common/themeService.service.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.service.js");
/* harmony import */ var _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../base/browser/dom.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _platform_storage_common_storage_service_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../platform/storage/common/storage.service.js */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var _base_common_types_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../base/common/types.js */ "./node_modules/vscode/vscode/src/vs/base/common/types.js");
/* harmony import */ var _platform_commands_common_commands_service_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../platform/commands/common/commands.service.js */ "./node_modules/vscode/vscode/src/vs/platform/commands/common/commands.service.js");
/* harmony import */ var _platform_workspace_common_workspace_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../platform/workspace/common/workspace.js */ "./node_modules/vscode/vscode/src/vs/platform/workspace/common/workspace.js");
/* harmony import */ var _platform_workspace_common_workspace_service_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../platform/workspace/common/workspace.service.js */ "./node_modules/vscode/vscode/src/vs/platform/workspace/common/workspace.service.js");
/* harmony import */ var _platform_editor_common_editor_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../platform/editor/common/editor.js */ "./node_modules/vscode/vscode/src/vs/platform/editor/common/editor.js");
/* harmony import */ var _editor_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../editor.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/editor.js");
/* harmony import */ var _base_browser_ui_button_button_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../base/browser/ui/button/button.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/button/button.js");
/* harmony import */ var _platform_theme_browser_defaultStyles_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../platform/theme/browser/defaultStyles.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/browser/defaultStyles.js");
/* harmony import */ var _base_browser_ui_iconLabel_simpleIconLabel_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../base/browser/ui/iconLabel/simpleIconLabel.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/iconLabel/simpleIconLabel.js");
/* harmony import */ var _platform_files_common_files_service_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../platform/files/common/files.service.js */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.service.js");
/* harmony import */ var _base_common_errorMessage_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../base/common/errorMessage.js */ "./node_modules/vscode/vscode/src/vs/base/common/errorMessage.js");
/* harmony import */ var _platform_dialogs_common_dialogs_service_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../platform/dialogs/common/dialogs.service.js */ "./node_modules/vscode/vscode/src/vs/platform/dialogs/common/dialogs.service.js");

























var EditorPlaceholder_1, WorkspaceTrustRequiredPlaceholderEditor_1, ErrorPlaceholderEditor_1;
let EditorPlaceholder = class EditorPlaceholder extends _editorPane_js__WEBPACK_IMPORTED_MODULE_6__.EditorPane {
    static { EditorPlaceholder_1 = this; }
    static { this.PLACEHOLDER_LABEL_MAX_LENGTH = 1024; }
    constructor(id, group, telemetryService, themeService, storageService) {
        super(id, group, telemetryService, themeService, storageService);
        this.inputDisposable = this._register(( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_11__.MutableDisposable())));
    }
    createEditor(parent) {
        this.container = document.createElement('div');
        this.container.className = 'monaco-editor-pane-placeholder';
        this.container.style.outline = 'none';
        this.container.tabIndex = 0;
        this.scrollbar = this._register(( (new _base_browser_ui_scrollbar_scrollableElement_js__WEBPACK_IMPORTED_MODULE_8__.DomScrollableElement(
            this.container,
            { horizontal: 1 , vertical: 1  }
        ))));
        parent.appendChild(this.scrollbar.getDomNode());
    }
    async setInput(input, options, context, token) {
        await super.setInput(input, options, context, token);
        if (token.isCancellationRequested) {
            return;
        }
        this.inputDisposable.value = await this.renderInput(input, options);
    }
    async renderInput(input, options) {
        const [container, scrollbar] = (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_13__.assertAllDefined)(this.container, this.scrollbar);
        (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_10__.clearNode)(container);
        const disposables = ( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_11__.DisposableStore()));
        const { icon, label, actions } = await this.getContents(input, options, disposables);
        const truncatedLabel = (0,_base_common_strings_js__WEBPACK_IMPORTED_MODULE_3__.truncate)(label, EditorPlaceholder_1.PLACEHOLDER_LABEL_MAX_LENGTH);
        const iconContainer = container.appendChild((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_10__.$)('.editor-placeholder-icon-container'));
        const iconWidget = disposables.add(( (new _base_browser_ui_iconLabel_simpleIconLabel_js__WEBPACK_IMPORTED_MODULE_21__.SimpleIconLabel(iconContainer))));
        iconWidget.text = icon;
        const labelContainer = container.appendChild((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_10__.$)('.editor-placeholder-label-container'));
        const labelWidget = document.createElement('span');
        labelWidget.textContent = truncatedLabel;
        labelContainer.appendChild(labelWidget);
        container.setAttribute('aria-label', `${(0,_editor_js__WEBPACK_IMPORTED_MODULE_18__.computeEditorAriaLabel)(input, undefined, this.group, undefined)}, ${truncatedLabel}`);
        if (actions.length) {
            const actionsContainer = container.appendChild((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_10__.$)('.editor-placeholder-buttons-container'));
            const buttons = disposables.add(( (new _base_browser_ui_button_button_js__WEBPACK_IMPORTED_MODULE_19__.ButtonBar(actionsContainer))));
            for (let i = 0; i < actions.length; i++) {
                const button = disposables.add(buttons.addButton({
                    ..._platform_theme_browser_defaultStyles_js__WEBPACK_IMPORTED_MODULE_20__.defaultButtonStyles,
                    secondary: i !== 0
                }));
                button.label = actions[i].label;
                disposables.add(button.onDidClick(e => {
                    if (e) {
                        _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_10__.EventHelper.stop(e, true);
                    }
                    actions[i].run();
                }));
            }
        }
        scrollbar.scanDomNode();
        return disposables;
    }
    clearInput() {
        if (this.container) {
            (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_10__.clearNode)(this.container);
        }
        this.inputDisposable.clear();
        super.clearInput();
    }
    layout(dimension) {
        const [container, scrollbar] = (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_13__.assertAllDefined)(this.container, this.scrollbar);
        (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_10__.size)(container, dimension.width, dimension.height);
        scrollbar.scanDomNode();
        container.classList.toggle('max-height-200px', dimension.height <= 200);
    }
    focus() {
        super.focus();
        this.container?.focus();
    }
    dispose() {
        this.container?.remove();
        super.dispose();
    }
};
EditorPlaceholder = EditorPlaceholder_1 = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_telemetry_common_telemetry_service_js__WEBPACK_IMPORTED_MODULE_7__.ITelemetryService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_9__.IThemeService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _platform_storage_common_storage_service_js__WEBPACK_IMPORTED_MODULE_12__.IStorageService)))
], EditorPlaceholder)));
let WorkspaceTrustRequiredPlaceholderEditor = class WorkspaceTrustRequiredPlaceholderEditor extends EditorPlaceholder {
    static { WorkspaceTrustRequiredPlaceholderEditor_1 = this; }
    static { this.ID = 'workbench.editors.workspaceTrustRequiredEditor'; }
    static { this.LABEL = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11697, "Workspace Trust Required")); }
    static { this.DESCRIPTOR = _editor_js__WEBPACK_IMPORTED_MODULE_18__.EditorPaneDescriptor.create(WorkspaceTrustRequiredPlaceholderEditor_1, this.ID, this.LABEL); }
    constructor(group, telemetryService, themeService, commandService, workspaceService, storageService) {
        super(WorkspaceTrustRequiredPlaceholderEditor_1.ID, group, telemetryService, themeService, storageService);
        this.commandService = commandService;
        this.workspaceService = workspaceService;
    }
    getTitle() {
        return WorkspaceTrustRequiredPlaceholderEditor_1.LABEL;
    }
    async getContents() {
        return {
            icon: '$(workspace-untrusted)',
            label: (0,_platform_workspace_common_workspace_js__WEBPACK_IMPORTED_MODULE_15__.isSingleFolderWorkspaceIdentifier)((0,_platform_workspace_common_workspace_js__WEBPACK_IMPORTED_MODULE_15__.toWorkspaceIdentifier)(this.workspaceService.getWorkspace())) ?
                ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(
                    11698,
                    "The file is not displayed in the editor because trust has not been granted to the folder."
                )) :
                ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(
                    11699,
                    "The file is not displayed in the editor because trust has not been granted to the workspace."
                )),
            actions: [
                {
                    label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11700, "Manage Workspace Trust")),
                    run: () => this.commandService.executeCommand('workbench.trust.manage')
                }
            ]
        };
    }
};
WorkspaceTrustRequiredPlaceholderEditor = WorkspaceTrustRequiredPlaceholderEditor_1 = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _platform_telemetry_common_telemetry_service_js__WEBPACK_IMPORTED_MODULE_7__.ITelemetryService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_9__.IThemeService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _platform_commands_common_commands_service_js__WEBPACK_IMPORTED_MODULE_14__.ICommandService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _platform_workspace_common_workspace_service_js__WEBPACK_IMPORTED_MODULE_16__.IWorkspaceContextService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _platform_storage_common_storage_service_js__WEBPACK_IMPORTED_MODULE_12__.IStorageService)))
], WorkspaceTrustRequiredPlaceholderEditor)));
let ErrorPlaceholderEditor = class ErrorPlaceholderEditor extends EditorPlaceholder {
    static { ErrorPlaceholderEditor_1 = this; }
    static { this.ID = 'workbench.editors.errorEditor'; }
    static { this.LABEL = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11701, "Error Editor")); }
    static { this.DESCRIPTOR = _editor_js__WEBPACK_IMPORTED_MODULE_18__.EditorPaneDescriptor.create(ErrorPlaceholderEditor_1, this.ID, this.LABEL); }
    constructor(group, telemetryService, themeService, storageService, fileService, dialogService) {
        super(ErrorPlaceholderEditor_1.ID, group, telemetryService, themeService, storageService);
        this.fileService = fileService;
        this.dialogService = dialogService;
    }
    async getContents(input, options, disposables) {
        const resource = input.resource;
        const error = options.error;
        const isFileNotFound = error?.fileOperationResult === 1 ;
        let label;
        if (isFileNotFound) {
            label = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11702, "The editor could not be opened because the file was not found."));
        }
        else if ((0,_common_editor_js__WEBPACK_IMPORTED_MODULE_5__.isEditorOpenError)(error) && error.forceMessage) {
            label = error.message;
        }
        else if (error) {
            label = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(
                11703,
                "The editor could not be opened due to an unexpected error: {0}",
                (0,_base_common_strings_js__WEBPACK_IMPORTED_MODULE_3__.truncateMiddle)((0,_base_common_errorMessage_js__WEBPACK_IMPORTED_MODULE_23__.toErrorMessage)(error), EditorPlaceholder.PLACEHOLDER_LABEL_MAX_LENGTH / 2)
            ));
        }
        else {
            label = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11704, "The editor could not be opened due to an unexpected error."));
        }
        let icon = '$(error)';
        if ((0,_common_editor_js__WEBPACK_IMPORTED_MODULE_5__.isEditorOpenError)(error)) {
            if (error.forceSeverity === _base_common_severity_js__WEBPACK_IMPORTED_MODULE_4__["default"].Info) {
                icon = '$(info)';
            }
            else if (error.forceSeverity === _base_common_severity_js__WEBPACK_IMPORTED_MODULE_4__["default"].Warning) {
                icon = '$(warning)';
            }
        }
        let actions = undefined;
        if ((0,_common_editor_js__WEBPACK_IMPORTED_MODULE_5__.isEditorOpenError)(error) && error.actions.length > 0) {
            actions = ( (error.actions.map(action => {
                return {
                    label: action.label,
                    run: () => {
                        const result = action.run();
                        if (result instanceof Promise) {
                            result.catch(error => this.dialogService.error((0,_base_common_errorMessage_js__WEBPACK_IMPORTED_MODULE_23__.toErrorMessage)(error)));
                        }
                    }
                };
            })));
        }
        else {
            actions = [
                {
                    label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11705, "Try Again")),
                    run: () => this.group.openEditor(input, { ...options, source: _platform_editor_common_editor_js__WEBPACK_IMPORTED_MODULE_17__.EditorOpenSource.USER  })
                }
            ];
        }
        if (isFileNotFound && resource && this.fileService.hasProvider(resource)) {
            disposables.add(this.fileService.onDidFilesChange(e => {
                if (e.contains(resource, 1 , 0 )) {
                    this.group.openEditor(input, options);
                }
            }));
        }
        return { icon, label, actions: actions ?? [] };
    }
};
ErrorPlaceholderEditor = ErrorPlaceholderEditor_1 = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _platform_telemetry_common_telemetry_service_js__WEBPACK_IMPORTED_MODULE_7__.ITelemetryService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_9__.IThemeService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _platform_storage_common_storage_service_js__WEBPACK_IMPORTED_MODULE_12__.IStorageService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _platform_files_common_files_service_js__WEBPACK_IMPORTED_MODULE_22__.IFileService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _platform_dialogs_common_dialogs_service_js__WEBPACK_IMPORTED_MODULE_24__.IDialogService)))
], ErrorPlaceholderEditor)));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorStatus.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorStatus.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChangeEOLAction: () => (/* binding */ ChangeEOLAction),
/* harmony export */   ChangeEncodingAction: () => (/* binding */ ChangeEncodingAction),
/* harmony export */   ChangeLanguageAction: () => (/* binding */ ChangeLanguageAction),
/* harmony export */   EditorStatusContribution: () => (/* binding */ EditorStatusContribution),
/* harmony export */   ShowLanguageExtensionsAction: () => (/* binding */ ShowLanguageExtensionsAction)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _media_editorstatus_css_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./media/editorstatus.css.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/media/editorstatus.css.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../base/browser/dom.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../base/common/strings.js */ "./node_modules/vscode/vscode/src/vs/base/common/strings.js");
/* harmony import */ var _base_common_resources_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../base/common/resources.js */ "./node_modules/vscode/vscode/src/vs/base/common/resources.js");
/* harmony import */ var _base_common_types_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../base/common/types.js */ "./node_modules/vscode/vscode/src/vs/base/common/types.js");
/* harmony import */ var _base_common_uri_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../base/common/uri.js */ "./node_modules/vscode/vscode/src/vs/base/common/uri.js");
/* harmony import */ var _base_common_actions_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../base/common/actions.js */ "./node_modules/vscode/vscode/src/vs/base/common/actions.js");
/* harmony import */ var _base_common_platform_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../base/common/platform.js */ "./node_modules/vscode/vscode/src/vs/base/common/platform.js");
/* harmony import */ var _services_untitled_common_untitledTextEditorInput_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../services/untitled/common/untitledTextEditorInput.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/untitled/common/untitledTextEditorInput.js");
/* harmony import */ var _common_editor_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../common/editor.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _editor_contrib_linesOperations_browser_linesOperations_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../editor/contrib/linesOperations/browser/linesOperations.js */ "./node_modules/vscode/vscode/src/vs/editor/contrib/linesOperations/browser/linesOperations.js");
/* harmony import */ var _editor_contrib_indentation_browser_indentation_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../editor/contrib/indentation/browser/indentation.js */ "./node_modules/vscode/vscode/src/vs/editor/contrib/indentation/browser/indentation.js");
/* harmony import */ var _binaryEditor_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./binaryEditor.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/binaryEditor.js");
/* harmony import */ var _binaryDiffEditor_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./binaryDiffEditor.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/binaryDiffEditor.js");
/* harmony import */ var _services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../services/editor/common/editorService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");
/* harmony import */ var _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../platform/files/common/files.js */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.js");
/* harmony import */ var _platform_files_common_files_service_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../platform/files/common/files.service.js */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.service.js");
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../platform/instantiation/common/instantiation.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var _editor_common_languages_language_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../editor/common/languages/language.js */ "./node_modules/vscode/vscode/src/vs/editor/common/languages/language.js");
/* harmony import */ var _editor_common_core_range_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../editor/common/core/range.js */ "./node_modules/vscode/vscode/src/vs/editor/common/core/range.js");
/* harmony import */ var _editor_common_core_selection_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../editor/common/core/selection.js */ "./node_modules/vscode/vscode/src/vs/editor/common/core/selection.js");
/* harmony import */ var _platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../platform/commands/common/commands.js */ "./node_modules/vscode/vscode/src/vs/platform/commands/common/commands.js");
/* harmony import */ var _platform_commands_common_commands_service_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../../platform/commands/common/commands.service.js */ "./node_modules/vscode/vscode/src/vs/platform/commands/common/commands.service.js");
/* harmony import */ var _platform_extensionManagement_common_extensionManagement_service_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../../platform/extensionManagement/common/extensionManagement.service.js */ "./node_modules/vscode/vscode/src/vs/platform/extensionManagement/common/extensionManagement.service.js");
/* harmony import */ var _services_textfile_common_textfiles_service_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../services/textfile/common/textfiles.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/textfile/common/textfiles.service.js");
/* harmony import */ var _services_textfile_common_encoding_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../services/textfile/common/encoding.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/textfile/common/encoding.js");
/* harmony import */ var _editor_common_services_textResourceConfiguration_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../../editor/common/services/textResourceConfiguration.js */ "./node_modules/vscode/vscode/src/vs/editor/common/services/textResourceConfiguration.js");
/* harmony import */ var _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../../platform/configuration/common/configuration.service.js */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var _base_common_objects_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../../../base/common/objects.js */ "./node_modules/vscode/vscode/src/vs/base/common/objects.js");
/* harmony import */ var _editor_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../../../editor/browser/editorBrowser.js */ "./node_modules/vscode/vscode/src/vs/editor/browser/editorBrowser.js");
/* harmony import */ var _base_common_network_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../../../base/common/network.js */ "./node_modules/vscode/vscode/src/vs/base/common/network.js");
/* harmony import */ var _services_preferences_common_preferences_service_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../../services/preferences/common/preferences.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/preferences/common/preferences.service.js");
/* harmony import */ var _platform_quickinput_common_quickInput_service_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../../../platform/quickinput/common/quickInput.service.js */ "./node_modules/vscode/vscode/src/vs/platform/quickinput/common/quickInput.service.js");
/* harmony import */ var _editor_common_services_getIconClasses_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../../../editor/common/services/getIconClasses.js */ "./node_modules/vscode/vscode/src/vs/editor/common/services/getIconClasses.js");
/* harmony import */ var _base_common_async_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../../../base/common/async.js */ "./node_modules/vscode/vscode/src/vs/base/common/async.js");
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../../../base/common/event.js */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var _services_statusbar_browser_statusbar_service_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../../../services/statusbar/browser/statusbar.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/statusbar/browser/statusbar.service.js");
/* harmony import */ var _platform_markers_common_markers_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../../../../platform/markers/common/markers.js */ "./node_modules/vscode/vscode/src/vs/platform/markers/common/markers.js");
/* harmony import */ var _platform_markers_common_markers_service_js__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../../../../platform/markers/common/markers.service.js */ "./node_modules/vscode/vscode/src/vs/platform/markers/common/markers.service.js");
/* harmony import */ var _platform_telemetry_common_telemetry_service_js__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../../../../platform/telemetry/common/telemetry.service.js */ "./node_modules/vscode/vscode/src/vs/platform/telemetry/common/telemetry.service.js");
/* harmony import */ var _common_editor_sideBySideEditorInput_js__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../../../common/editor/sideBySideEditorInput.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/sideBySideEditorInput.js");
/* harmony import */ var _services_languageDetection_common_languageDetectionWorkerService_js__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../../../services/languageDetection/common/languageDetectionWorkerService.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/languageDetection/common/languageDetectionWorkerService.js");
/* harmony import */ var _services_languageDetection_common_languageDetectionWorkerService_service_js__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../../../services/languageDetection/common/languageDetectionWorkerService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/languageDetection/common/languageDetectionWorkerService.service.js");
/* harmony import */ var _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ../../../../platform/contextkey/common/contextkey.js */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.js");
/* harmony import */ var _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ../../../../platform/actions/common/actions.js */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var _base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ../../../../base/common/keyCodes.js */ "./node_modules/vscode/vscode/src/vs/base/common/keyCodes.js");
/* harmony import */ var _editor_browser_config_tabFocus_js__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ../../../../editor/browser/config/tabFocus.js */ "./node_modules/vscode/vscode/src/vs/editor/browser/config/tabFocus.js");
/* harmony import */ var _services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ../../../services/editor/common/editorGroupsService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorGroupsService.service.js");



















































var ShowLanguageExtensionsAction_1;
class SideBySideEditorEncodingSupport {
    constructor(primary, secondary) {
        this.primary = primary;
        this.secondary = secondary;
    }
    getEncoding() {
        return this.primary.getEncoding();
    }
    async setEncoding(encoding, mode) {
        await _base_common_async_js__WEBPACK_IMPORTED_MODULE_37__.Promises.settled(( ([this.primary, this.secondary].map(editor => editor.setEncoding(encoding, mode)))));
    }
}
class SideBySideEditorLanguageSupport {
    constructor(primary, secondary) {
        this.primary = primary;
        this.secondary = secondary;
    }
    setLanguageId(languageId, source) {
        [this.primary, this.secondary].forEach(editor => editor.setLanguageId(languageId, source));
    }
}
function toEditorWithEncodingSupport(input) {
    if (input instanceof _services_untitled_common_untitledTextEditorInput_js__WEBPACK_IMPORTED_MODULE_10__.UntitledTextEditorInput) {
        return input;
    }
    if (input instanceof _common_editor_sideBySideEditorInput_js__WEBPACK_IMPORTED_MODULE_43__.SideBySideEditorInput) {
        const primaryEncodingSupport = toEditorWithEncodingSupport(input.primary);
        const secondaryEncodingSupport = toEditorWithEncodingSupport(input.secondary);
        if (primaryEncodingSupport && secondaryEncodingSupport) {
            return (
                 (new SideBySideEditorEncodingSupport(primaryEncodingSupport, secondaryEncodingSupport))
            );
        }
        return primaryEncodingSupport;
    }
    const encodingSupport = input;
    if ((0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_6__.areFunctions)(encodingSupport.setEncoding, encodingSupport.getEncoding)) {
        return encodingSupport;
    }
    return null;
}
function toEditorWithLanguageSupport(input) {
    if (input instanceof _services_untitled_common_untitledTextEditorInput_js__WEBPACK_IMPORTED_MODULE_10__.UntitledTextEditorInput) {
        return input;
    }
    if (input instanceof _common_editor_sideBySideEditorInput_js__WEBPACK_IMPORTED_MODULE_43__.SideBySideEditorInput) {
        const primaryLanguageSupport = toEditorWithLanguageSupport(input.primary);
        const secondaryLanguageSupport = toEditorWithLanguageSupport(input.secondary);
        if (primaryLanguageSupport && secondaryLanguageSupport) {
            return (
                 (new SideBySideEditorLanguageSupport(primaryLanguageSupport, secondaryLanguageSupport))
            );
        }
        return primaryLanguageSupport;
    }
    const languageSupport = input;
    if (typeof languageSupport.setLanguageId === 'function') {
        return languageSupport;
    }
    return null;
}
class StateChange {
    constructor() {
        this.indentation = false;
        this.selectionStatus = false;
        this.languageId = false;
        this.languageStatus = false;
        this.encoding = false;
        this.EOL = false;
        this.tabFocusMode = false;
        this.columnSelectionMode = false;
        this.metadata = false;
    }
    combine(other) {
        this.indentation = this.indentation || other.indentation;
        this.selectionStatus = this.selectionStatus || other.selectionStatus;
        this.languageId = this.languageId || other.languageId;
        this.languageStatus = this.languageStatus || other.languageStatus;
        this.encoding = this.encoding || other.encoding;
        this.EOL = this.EOL || other.EOL;
        this.tabFocusMode = this.tabFocusMode || other.tabFocusMode;
        this.columnSelectionMode = this.columnSelectionMode || other.columnSelectionMode;
        this.metadata = this.metadata || other.metadata;
    }
    hasChanges() {
        return this.indentation
            || this.selectionStatus
            || this.languageId
            || this.languageStatus
            || this.encoding
            || this.EOL
            || this.tabFocusMode
            || this.columnSelectionMode
            || this.metadata;
    }
}
class State {
    get selectionStatus() { return this._selectionStatus; }
    get languageId() { return this._languageId; }
    get encoding() { return this._encoding; }
    get EOL() { return this._EOL; }
    get indentation() { return this._indentation; }
    get tabFocusMode() { return this._tabFocusMode; }
    get columnSelectionMode() { return this._columnSelectionMode; }
    get metadata() { return this._metadata; }
    update(update) {
        const change = ( (new StateChange()));
        switch (update.type) {
            case 'selectionStatus':
                if (this._selectionStatus !== update.selectionStatus) {
                    this._selectionStatus = update.selectionStatus;
                    change.selectionStatus = true;
                }
                break;
            case 'indentation':
                if (this._indentation !== update.indentation) {
                    this._indentation = update.indentation;
                    change.indentation = true;
                }
                break;
            case 'languageId':
                if (this._languageId !== update.languageId) {
                    this._languageId = update.languageId;
                    change.languageId = true;
                }
                break;
            case 'encoding':
                if (this._encoding !== update.encoding) {
                    this._encoding = update.encoding;
                    change.encoding = true;
                }
                break;
            case 'EOL':
                if (this._EOL !== update.EOL) {
                    this._EOL = update.EOL;
                    change.EOL = true;
                }
                break;
            case 'tabFocusMode':
                if (this._tabFocusMode !== update.tabFocusMode) {
                    this._tabFocusMode = update.tabFocusMode;
                    change.tabFocusMode = true;
                }
                break;
            case 'columnSelectionMode':
                if (this._columnSelectionMode !== update.columnSelectionMode) {
                    this._columnSelectionMode = update.columnSelectionMode;
                    change.columnSelectionMode = true;
                }
                break;
            case 'metadata':
                if (this._metadata !== update.metadata) {
                    this._metadata = update.metadata;
                    change.metadata = true;
                }
                break;
        }
        return change;
    }
}
let TabFocusMode = class TabFocusMode extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_12__.Disposable {
    constructor(configurationService) {
        super();
        this.configurationService = configurationService;
        this._onDidChange = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_38__.Emitter())));
        this.onDidChange = this._onDidChange.event;
        this.registerListeners();
        const tabFocusModeConfig = configurationService.getValue('editor.tabFocusMode') === true ? true : false;
        _editor_browser_config_tabFocus_js__WEBPACK_IMPORTED_MODULE_49__.TabFocus.setTabFocusMode(tabFocusModeConfig);
    }
    registerListeners() {
        this._register(_editor_browser_config_tabFocus_js__WEBPACK_IMPORTED_MODULE_49__.TabFocus.onDidChangeTabFocus(tabFocusMode => this._onDidChange.fire(tabFocusMode)));
        this._register(this.configurationService.onDidChangeConfiguration(e => {
            if (e.affectsConfiguration('editor.tabFocusMode')) {
                const tabFocusModeConfig = this.configurationService.getValue('editor.tabFocusMode') === true ? true : false;
                _editor_browser_config_tabFocus_js__WEBPACK_IMPORTED_MODULE_49__.TabFocus.setTabFocusMode(tabFocusModeConfig);
                this._onDidChange.fire(tabFocusModeConfig);
            }
        }));
    }
};
TabFocusMode = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_30__.IConfigurationService)))
], TabFocusMode)));
const nlsSingleSelectionRange = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9775, "Ln {0}, Col {1} ({2} selected)"));
const nlsSingleSelection = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9776, "Ln {0}, Col {1}"));
const nlsMultiSelectionRange = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9777, "{0} selections ({1} characters selected)"));
const nlsMultiSelection = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9778, "{0} selections"));
const nlsEOLLF = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9779, "LF"));
const nlsEOLCRLF = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9780, "CRLF"));
let EditorStatus = class EditorStatus extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_12__.Disposable {
    constructor(targetWindowId, editorService, quickInputService, languageService, textFileService, statusbarService, instantiationService, configurationService) {
        super();
        this.targetWindowId = targetWindowId;
        this.editorService = editorService;
        this.quickInputService = quickInputService;
        this.languageService = languageService;
        this.textFileService = textFileService;
        this.statusbarService = statusbarService;
        this.instantiationService = instantiationService;
        this.configurationService = configurationService;
        this.tabFocusModeElement = this._register(( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_12__.MutableDisposable())));
        this.columnSelectionModeElement = this._register(( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_12__.MutableDisposable())));
        this.indentationElement = this._register(( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_12__.MutableDisposable())));
        this.selectionElement = this._register(( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_12__.MutableDisposable())));
        this.encodingElement = this._register(( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_12__.MutableDisposable())));
        this.eolElement = this._register(( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_12__.MutableDisposable())));
        this.languageElement = this._register(( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_12__.MutableDisposable())));
        this.metadataElement = this._register(( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_12__.MutableDisposable())));
        this.currentMarkerStatus = this._register(this.instantiationService.createInstance(ShowCurrentMarkerInStatusbarContribution));
        this.tabFocusMode = this._register(this.instantiationService.createInstance(TabFocusMode));
        this.state = ( (new State()));
        this.toRender = undefined;
        this.activeEditorListeners = this._register(( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_12__.DisposableStore())));
        this.delayedRender = this._register(( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_12__.MutableDisposable())));
        this.registerCommands();
        this.registerListeners();
    }
    registerListeners() {
        this._register(this.editorService.onDidActiveEditorChange(() => this.updateStatusBar()));
        this._register(this.textFileService.untitled.onDidChangeEncoding(model => this.onResourceEncodingChange(model.resource)));
        this._register(this.textFileService.files.onDidChangeEncoding(model => this.onResourceEncodingChange((model.resource))));
        this._register(_base_common_event_js__WEBPACK_IMPORTED_MODULE_38__.Event.runAndSubscribe(this.tabFocusMode.onDidChange, (tabFocusMode) => {
            if (tabFocusMode !== undefined) {
                this.onTabFocusModeChange(tabFocusMode);
            }
            else {
                this.onTabFocusModeChange(this.configurationService.getValue('editor.tabFocusMode'));
            }
        }));
    }
    registerCommands() {
        this._register(_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_24__.CommandsRegistry.registerCommand({ id: `changeEditorIndentation${this.targetWindowId}`, handler: () => this.showIndentationPicker() }));
    }
    async showIndentationPicker() {
        const activeTextEditorControl = (0,_editor_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_32__.getCodeEditor)(this.editorService.activeTextEditorControl);
        if (!activeTextEditorControl) {
            return this.quickInputService.pick([{ label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9781, "No text editor active at this time")) }]);
        }
        if (this.editorService.activeEditor?.isReadonly()) {
            return this.quickInputService.pick([{ label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9782, "The active code editor is read-only.")) }]);
        }
        const picks = ( ([
            (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_6__.assertIsDefined)(activeTextEditorControl.getAction(_editor_contrib_indentation_browser_indentation_js__WEBPACK_IMPORTED_MODULE_14__.IndentUsingSpaces.ID)),
            (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_6__.assertIsDefined)(activeTextEditorControl.getAction(_editor_contrib_indentation_browser_indentation_js__WEBPACK_IMPORTED_MODULE_14__.IndentUsingTabs.ID)),
            (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_6__.assertIsDefined)(activeTextEditorControl.getAction(_editor_contrib_indentation_browser_indentation_js__WEBPACK_IMPORTED_MODULE_14__.ChangeTabDisplaySize.ID)),
            (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_6__.assertIsDefined)(activeTextEditorControl.getAction(_editor_contrib_indentation_browser_indentation_js__WEBPACK_IMPORTED_MODULE_14__.DetectIndentation.ID)),
            (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_6__.assertIsDefined)(activeTextEditorControl.getAction(_editor_contrib_indentation_browser_indentation_js__WEBPACK_IMPORTED_MODULE_14__.IndentationToSpacesAction.ID)),
            (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_6__.assertIsDefined)(activeTextEditorControl.getAction(_editor_contrib_indentation_browser_indentation_js__WEBPACK_IMPORTED_MODULE_14__.IndentationToTabsAction.ID)),
            (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_6__.assertIsDefined)(activeTextEditorControl.getAction(_editor_contrib_linesOperations_browser_linesOperations_js__WEBPACK_IMPORTED_MODULE_13__.TrimTrailingWhitespaceAction.ID))
        ].map((a) => {
            return {
                id: a.id,
                label: a.label,
                detail: (_base_common_platform_js__WEBPACK_IMPORTED_MODULE_9__.Language.isDefaultVariant() || a.label === a.alias) ? undefined : a.alias,
                run: () => {
                    activeTextEditorControl.focus();
                    a.run();
                }
            };
        })));
        picks.splice(3, 0, { type: 'separator', label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9783, "convert file")) });
        picks.unshift({ type: 'separator', label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9784, "change view")) });
        const action = await this.quickInputService.pick(picks, { placeHolder: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9785, "Select Action")), matchOnDetail: true });
        return action?.run();
    }
    updateTabFocusModeElement(visible) {
        if (visible) {
            if (!this.tabFocusModeElement.value) {
                const text = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9786, "Tab Moves Focus"));
                this.tabFocusModeElement.value = this.statusbarService.addEntry({
                    name: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9787, "Accessibility Mode")),
                    text,
                    ariaLabel: text,
                    tooltip: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9788, "Disable Accessibility Mode")),
                    command: 'editor.action.toggleTabFocusMode',
                    kind: 'prominent'
                }, 'status.editor.tabFocusMode', 1 , 100.7);
            }
        }
        else {
            this.tabFocusModeElement.clear();
        }
    }
    updateColumnSelectionModeElement(visible) {
        if (visible) {
            if (!this.columnSelectionModeElement.value) {
                const text = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9789, "Column Selection"));
                this.columnSelectionModeElement.value = this.statusbarService.addEntry({
                    name: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9790, "Column Selection Mode")),
                    text,
                    ariaLabel: text,
                    tooltip: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9791, "Disable Column Selection Mode")),
                    command: 'editor.action.toggleColumnSelection',
                    kind: 'prominent'
                }, 'status.editor.columnSelectionMode', 1 , 100.8);
            }
        }
        else {
            this.columnSelectionModeElement.clear();
        }
    }
    updateSelectionElement(text) {
        if (!text) {
            this.selectionElement.clear();
            return;
        }
        const editorURI = (0,_editor_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_32__.getCodeEditor)(this.editorService.activeTextEditorControl)?.getModel()?.uri;
        if (editorURI?.scheme === _base_common_network_js__WEBPACK_IMPORTED_MODULE_33__.Schemas.vscodeNotebookCell) {
            this.selectionElement.clear();
            return;
        }
        const props = {
            name: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9792, "Editor Selection")),
            text,
            ariaLabel: text,
            tooltip: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9793, "Go to Line/Column")),
            command: 'workbench.action.gotoLine'
        };
        this.updateElement(this.selectionElement, props, 'status.editor.selection', 1 , 100.5);
    }
    updateIndentationElement(text) {
        if (!text) {
            this.indentationElement.clear();
            return;
        }
        const editorURI = (0,_editor_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_32__.getCodeEditor)(this.editorService.activeTextEditorControl)?.getModel()?.uri;
        if (editorURI?.scheme === _base_common_network_js__WEBPACK_IMPORTED_MODULE_33__.Schemas.vscodeNotebookCell) {
            this.indentationElement.clear();
            return;
        }
        const props = {
            name: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9794, "Editor Indentation")),
            text,
            ariaLabel: text,
            tooltip: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9795, "Select Indentation")),
            command: `changeEditorIndentation${this.targetWindowId}`
        };
        this.updateElement(this.indentationElement, props, 'status.editor.indentation', 1 , 100.4);
    }
    updateEncodingElement(text) {
        if (!text) {
            this.encodingElement.clear();
            return;
        }
        const props = {
            name: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9796, "Editor Encoding")),
            text,
            ariaLabel: text,
            tooltip: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9797, "Select Encoding")),
            command: 'workbench.action.editor.changeEncoding'
        };
        this.updateElement(this.encodingElement, props, 'status.editor.encoding', 1 , 100.3);
    }
    updateEOLElement(text) {
        if (!text) {
            this.eolElement.clear();
            return;
        }
        const props = {
            name: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9798, "Editor End of Line")),
            text,
            ariaLabel: text,
            tooltip: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9799, "Select End of Line Sequence")),
            command: 'workbench.action.editor.changeEOL'
        };
        this.updateElement(this.eolElement, props, 'status.editor.eol', 1 , 100.2);
    }
    updateLanguageIdElement(text) {
        if (!text) {
            this.languageElement.clear();
            return;
        }
        const props = {
            name: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9800, "Editor Language")),
            text,
            ariaLabel: text,
            tooltip: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9801, "Select Language Mode")),
            command: 'workbench.action.editor.changeLanguageMode'
        };
        this.updateElement(this.languageElement, props, 'status.editor.mode', 1 , 100.1);
    }
    updateMetadataElement(text) {
        if (!text) {
            this.metadataElement.clear();
            return;
        }
        const props = {
            name: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9802, "File Information")),
            text,
            ariaLabel: text,
            tooltip: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9803, "File Information"))
        };
        this.updateElement(this.metadataElement, props, 'status.editor.info', 1 , 100);
    }
    updateElement(element, props, id, alignment, priority) {
        if (!element.value) {
            element.value = this.statusbarService.addEntry(props, id, alignment, priority);
        }
        else {
            element.value.update(props);
        }
    }
    updateState(update) {
        const changed = this.state.update(update);
        if (!changed.hasChanges()) {
            return;
        }
        if (!this.toRender) {
            this.toRender = changed;
            this.delayedRender.value = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.runAtThisOrScheduleAtNextAnimationFrame)((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.getWindowById)(this.targetWindowId, true).window, () => {
                this.delayedRender.clear();
                const toRender = this.toRender;
                this.toRender = undefined;
                if (toRender) {
                    this.doRenderNow();
                }
            });
        }
        else {
            this.toRender.combine(changed);
        }
    }
    doRenderNow() {
        this.updateTabFocusModeElement(!!this.state.tabFocusMode);
        this.updateColumnSelectionModeElement(!!this.state.columnSelectionMode);
        this.updateIndentationElement(this.state.indentation);
        this.updateSelectionElement(this.state.selectionStatus);
        this.updateEncodingElement(this.state.encoding);
        this.updateEOLElement(this.state.EOL ? this.state.EOL === '\r\n' ? nlsEOLCRLF : nlsEOLLF : undefined);
        this.updateLanguageIdElement(this.state.languageId);
        this.updateMetadataElement(this.state.metadata);
    }
    getSelectionLabel(info) {
        if (!info || !info.selections) {
            return undefined;
        }
        if (info.selections.length === 1) {
            if (info.charactersSelected) {
                return (0,_base_common_strings_js__WEBPACK_IMPORTED_MODULE_4__.format)(nlsSingleSelectionRange, info.selections[0].positionLineNumber, info.selections[0].positionColumn, info.charactersSelected);
            }
            return (0,_base_common_strings_js__WEBPACK_IMPORTED_MODULE_4__.format)(nlsSingleSelection, info.selections[0].positionLineNumber, info.selections[0].positionColumn);
        }
        if (info.charactersSelected) {
            return (0,_base_common_strings_js__WEBPACK_IMPORTED_MODULE_4__.format)(nlsMultiSelectionRange, info.selections.length, info.charactersSelected);
        }
        if (info.selections.length > 0) {
            return (0,_base_common_strings_js__WEBPACK_IMPORTED_MODULE_4__.format)(nlsMultiSelection, info.selections.length);
        }
        return undefined;
    }
    updateStatusBar() {
        const activeInput = this.editorService.activeEditor;
        const activeEditorPane = this.editorService.activeEditorPane;
        const activeCodeEditor = activeEditorPane ? (0,_editor_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_32__.getCodeEditor)(activeEditorPane.getControl()) ?? undefined : undefined;
        this.onColumnSelectionModeChange(activeCodeEditor);
        this.onSelectionChange(activeCodeEditor);
        this.onLanguageChange(activeCodeEditor, activeInput);
        this.onEOLChange(activeCodeEditor);
        this.onEncodingChange(activeEditorPane, activeCodeEditor);
        this.onIndentationChange(activeCodeEditor);
        this.onMetadataChange(activeEditorPane);
        this.currentMarkerStatus.update(activeCodeEditor);
        this.activeEditorListeners.clear();
        if (activeEditorPane) {
            this.activeEditorListeners.add(activeEditorPane.onDidChangeControl(() => {
                this.updateStatusBar();
            }));
        }
        if (activeCodeEditor) {
            this.activeEditorListeners.add(activeCodeEditor.onDidChangeConfiguration((event) => {
                if (event.hasChanged(22 )) {
                    this.onColumnSelectionModeChange(activeCodeEditor);
                }
            }));
            this.activeEditorListeners.add(_base_common_event_js__WEBPACK_IMPORTED_MODULE_38__.Event.defer(activeCodeEditor.onDidChangeCursorPosition)(() => {
                this.onSelectionChange(activeCodeEditor);
                this.currentMarkerStatus.update(activeCodeEditor);
            }));
            this.activeEditorListeners.add(activeCodeEditor.onDidChangeModelLanguage(() => {
                this.onLanguageChange(activeCodeEditor, activeInput);
            }));
            this.activeEditorListeners.add(_base_common_event_js__WEBPACK_IMPORTED_MODULE_38__.Event.accumulate(activeCodeEditor.onDidChangeModelContent)(e => {
                this.onEOLChange(activeCodeEditor);
                this.currentMarkerStatus.update(activeCodeEditor);
                const selections = activeCodeEditor.getSelections();
                if (selections) {
                    for (const inner of e) {
                        for (const change of inner.changes) {
                            if (( (selections.some(selection => _editor_common_core_range_js__WEBPACK_IMPORTED_MODULE_22__.Range.areIntersecting(selection, change.range))))) {
                                this.onSelectionChange(activeCodeEditor);
                                break;
                            }
                        }
                    }
                }
            }));
            this.activeEditorListeners.add(activeCodeEditor.onDidChangeModelOptions(() => {
                this.onIndentationChange(activeCodeEditor);
            }));
        }
        else if (activeEditorPane instanceof _binaryEditor_js__WEBPACK_IMPORTED_MODULE_15__.BaseBinaryResourceEditor || activeEditorPane instanceof _binaryDiffEditor_js__WEBPACK_IMPORTED_MODULE_16__.BinaryResourceDiffEditor) {
            const binaryEditors = [];
            if (activeEditorPane instanceof _binaryDiffEditor_js__WEBPACK_IMPORTED_MODULE_16__.BinaryResourceDiffEditor) {
                const primary = activeEditorPane.getPrimaryEditorPane();
                if (primary instanceof _binaryEditor_js__WEBPACK_IMPORTED_MODULE_15__.BaseBinaryResourceEditor) {
                    binaryEditors.push(primary);
                }
                const secondary = activeEditorPane.getSecondaryEditorPane();
                if (secondary instanceof _binaryEditor_js__WEBPACK_IMPORTED_MODULE_15__.BaseBinaryResourceEditor) {
                    binaryEditors.push(secondary);
                }
            }
            else {
                binaryEditors.push(activeEditorPane);
            }
            for (const editor of binaryEditors) {
                this.activeEditorListeners.add(editor.onDidChangeMetadata(() => {
                    this.onMetadataChange(activeEditorPane);
                }));
                this.activeEditorListeners.add(editor.onDidOpenInPlace(() => {
                    this.updateStatusBar();
                }));
            }
        }
    }
    onLanguageChange(editorWidget, editorInput) {
        const info = { type: 'languageId', languageId: undefined };
        if (editorWidget && editorInput && toEditorWithLanguageSupport(editorInput)) {
            const textModel = editorWidget.getModel();
            if (textModel) {
                const languageId = textModel.getLanguageId();
                info.languageId = this.languageService.getLanguageName(languageId) ?? undefined;
            }
        }
        this.updateState(info);
    }
    onIndentationChange(editorWidget) {
        const update = { type: 'indentation', indentation: undefined };
        if (editorWidget) {
            const model = editorWidget.getModel();
            if (model) {
                const modelOpts = model.getOptions();
                update.indentation = (modelOpts.insertSpaces
                    ? modelOpts.tabSize === modelOpts.indentSize
                        ? ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9804, "Spaces: {0}", modelOpts.indentSize))
                        : ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(
                    9805,
                    "Spaces: {0} (Tab Size: {1})",
                    modelOpts.indentSize,
                    modelOpts.tabSize
                ))
                    : ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9806, "Tab Size: {0}", modelOpts.tabSize)));
            }
        }
        this.updateState(update);
    }
    onMetadataChange(editor) {
        const update = { type: 'metadata', metadata: undefined };
        if (editor instanceof _binaryEditor_js__WEBPACK_IMPORTED_MODULE_15__.BaseBinaryResourceEditor || editor instanceof _binaryDiffEditor_js__WEBPACK_IMPORTED_MODULE_16__.BinaryResourceDiffEditor) {
            update.metadata = editor.getMetadata();
        }
        this.updateState(update);
    }
    onColumnSelectionModeChange(editorWidget) {
        const info = { type: 'columnSelectionMode', columnSelectionMode: false };
        if (editorWidget?.getOption(22 )) {
            info.columnSelectionMode = true;
        }
        this.updateState(info);
    }
    onSelectionChange(editorWidget) {
        const info = Object.create(null);
        if (editorWidget) {
            info.selections = editorWidget.getSelections() || [];
            info.charactersSelected = 0;
            const textModel = editorWidget.getModel();
            if (textModel) {
                for (const selection of info.selections) {
                    if (typeof info.charactersSelected !== 'number') {
                        info.charactersSelected = 0;
                    }
                    info.charactersSelected += textModel.getCharacterCountInRange(selection);
                }
            }
            if (info.selections.length === 1) {
                const editorPosition = editorWidget.getPosition();
                const selectionClone = ( (new _editor_common_core_selection_js__WEBPACK_IMPORTED_MODULE_23__.Selection(
                    info.selections[0].selectionStartLineNumber,
                    info.selections[0].selectionStartColumn,
                    info.selections[0].positionLineNumber,
                    editorPosition ? editorWidget.getStatusbarColumn(editorPosition) : info.selections[0].positionColumn
                )));
                info.selections[0] = selectionClone;
            }
        }
        this.updateState({ type: 'selectionStatus', selectionStatus: this.getSelectionLabel(info) });
    }
    onEOLChange(editorWidget) {
        const info = { type: 'EOL', EOL: undefined };
        if (editorWidget && !editorWidget.getOption(94 )) {
            const codeEditorModel = editorWidget.getModel();
            if (codeEditorModel) {
                info.EOL = codeEditorModel.getEOL();
            }
        }
        this.updateState(info);
    }
    onEncodingChange(editor, editorWidget) {
        if (editor && !this.isActiveEditor(editor)) {
            return;
        }
        const info = { type: 'encoding', encoding: undefined };
        if (editor && editorWidget?.hasModel()) {
            const encodingSupport = editor.input ? toEditorWithEncodingSupport(editor.input) : null;
            if (encodingSupport) {
                const rawEncoding = encodingSupport.getEncoding();
                const encodingInfo = typeof rawEncoding === 'string' ? _services_textfile_common_encoding_js__WEBPACK_IMPORTED_MODULE_28__.SUPPORTED_ENCODINGS[rawEncoding] : undefined;
                if (encodingInfo) {
                    info.encoding = encodingInfo.labelShort;
                }
                else {
                    info.encoding = rawEncoding;
                }
            }
        }
        this.updateState(info);
    }
    onResourceEncodingChange(resource) {
        const activeEditorPane = this.editorService.activeEditorPane;
        if (activeEditorPane) {
            const activeResource = _common_editor_js__WEBPACK_IMPORTED_MODULE_11__.EditorResourceAccessor.getCanonicalUri(activeEditorPane.input, { supportSideBySide: _common_editor_js__WEBPACK_IMPORTED_MODULE_11__.SideBySideEditor.PRIMARY });
            if (activeResource && (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_5__.isEqual)(activeResource, resource)) {
                const activeCodeEditor = (0,_editor_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_32__.getCodeEditor)(activeEditorPane.getControl()) ?? undefined;
                return this.onEncodingChange(activeEditorPane, activeCodeEditor);
            }
        }
    }
    onTabFocusModeChange(tabFocusMode) {
        const info = { type: 'tabFocusMode', tabFocusMode };
        this.updateState(info);
    }
    isActiveEditor(control) {
        const activeEditorPane = this.editorService.activeEditorPane;
        return !!activeEditorPane && activeEditorPane === control;
    }
};
EditorStatus = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_17__.IEditorService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_quickinput_common_quickInput_service_js__WEBPACK_IMPORTED_MODULE_35__.IQuickInputService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _editor_common_languages_language_js__WEBPACK_IMPORTED_MODULE_21__.ILanguageService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _services_textfile_common_textfiles_service_js__WEBPACK_IMPORTED_MODULE_27__.ITextFileService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _services_statusbar_browser_statusbar_service_js__WEBPACK_IMPORTED_MODULE_39__.IStatusbarService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_20__.IInstantiationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_30__.IConfigurationService)))
], EditorStatus)));
let EditorStatusContribution = class EditorStatusContribution extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_12__.Disposable {
    static { this.ID = 'workbench.contrib.editorStatus'; }
    constructor(editorGroupService) {
        super();
        this.editorGroupService = editorGroupService;
        for (const part of editorGroupService.parts) {
            this.createEditorStatus(part);
        }
        this._register(editorGroupService.onDidCreateAuxiliaryEditorPart(part => this.createEditorStatus(part)));
    }
    createEditorStatus(part) {
        const disposables = ( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_12__.DisposableStore()));
        _base_common_event_js__WEBPACK_IMPORTED_MODULE_38__.Event.once(part.onWillDispose)(() => disposables.dispose());
        const scopedInstantiationService = this.editorGroupService.getScopedInstantiationService(part);
        disposables.add(scopedInstantiationService.createInstance(EditorStatus, part.windowId));
    }
};
EditorStatusContribution = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, _services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_50__.IEditorGroupsService)))
], EditorStatusContribution)));
let ShowCurrentMarkerInStatusbarContribution = class ShowCurrentMarkerInStatusbarContribution extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_12__.Disposable {
    constructor(statusbarService, markerService, configurationService) {
        super();
        this.statusbarService = statusbarService;
        this.markerService = markerService;
        this.configurationService = configurationService;
        this.editor = undefined;
        this.markers = [];
        this.currentMarker = null;
        this.statusBarEntryAccessor = this._register(( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_12__.MutableDisposable())));
        this._register(markerService.onMarkerChanged(changedResources => this.onMarkerChanged(changedResources)));
        this._register(_base_common_event_js__WEBPACK_IMPORTED_MODULE_38__.Event.filter(configurationService.onDidChangeConfiguration, e => e.affectsConfiguration('problems.showCurrentInStatus'))(() => this.updateStatus()));
    }
    update(editor) {
        this.editor = editor;
        this.updateMarkers();
        this.updateStatus();
    }
    updateStatus() {
        const previousMarker = this.currentMarker;
        this.currentMarker = this.getMarker();
        if (this.hasToUpdateStatus(previousMarker, this.currentMarker)) {
            if (this.currentMarker) {
                const line = (0,_base_common_strings_js__WEBPACK_IMPORTED_MODULE_4__.splitLines)(this.currentMarker.message)[0];
                const text = `${this.getType(this.currentMarker)} ${line}`;
                if (!this.statusBarEntryAccessor.value) {
                    this.statusBarEntryAccessor.value = this.statusbarService.addEntry({ name: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9807, "Current Problem")), text: '', ariaLabel: '' }, 'statusbar.currentProblem', 0 );
                }
                this.statusBarEntryAccessor.value.update({ name: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9807, "Current Problem")), text, ariaLabel: text });
            }
            else {
                this.statusBarEntryAccessor.clear();
            }
        }
    }
    hasToUpdateStatus(previousMarker, currentMarker) {
        if (!currentMarker) {
            return true;
        }
        if (!previousMarker) {
            return true;
        }
        return _platform_markers_common_markers_js__WEBPACK_IMPORTED_MODULE_40__.IMarkerData.makeKey(previousMarker) !== _platform_markers_common_markers_js__WEBPACK_IMPORTED_MODULE_40__.IMarkerData.makeKey(currentMarker);
    }
    getType(marker) {
        switch (marker.severity) {
            case _platform_markers_common_markers_js__WEBPACK_IMPORTED_MODULE_40__.MarkerSeverity.Error: return '$(error)';
            case _platform_markers_common_markers_js__WEBPACK_IMPORTED_MODULE_40__.MarkerSeverity.Warning: return '$(warning)';
            case _platform_markers_common_markers_js__WEBPACK_IMPORTED_MODULE_40__.MarkerSeverity.Info: return '$(info)';
        }
        return '';
    }
    getMarker() {
        if (!this.configurationService.getValue('problems.showCurrentInStatus')) {
            return null;
        }
        if (!this.editor) {
            return null;
        }
        const model = this.editor.getModel();
        if (!model) {
            return null;
        }
        const position = this.editor.getPosition();
        if (!position) {
            return null;
        }
        return this.markers.find(marker => _editor_common_core_range_js__WEBPACK_IMPORTED_MODULE_22__.Range.containsPosition(marker, position)) || null;
    }
    onMarkerChanged(changedResources) {
        if (!this.editor) {
            return;
        }
        const model = this.editor.getModel();
        if (!model) {
            return;
        }
        if (model && !( (changedResources.some(r => (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_5__.isEqual)(model.uri, r))))) {
            return;
        }
        this.updateMarkers();
    }
    updateMarkers() {
        if (!this.editor) {
            return;
        }
        const model = this.editor.getModel();
        if (!model) {
            return;
        }
        if (model) {
            this.markers = this.markerService.read({
                resource: model.uri,
                severities: _platform_markers_common_markers_js__WEBPACK_IMPORTED_MODULE_40__.MarkerSeverity.Error | _platform_markers_common_markers_js__WEBPACK_IMPORTED_MODULE_40__.MarkerSeverity.Warning | _platform_markers_common_markers_js__WEBPACK_IMPORTED_MODULE_40__.MarkerSeverity.Info
            });
            this.markers.sort(this.compareMarker);
        }
        else {
            this.markers = [];
        }
        this.updateStatus();
    }
    compareMarker(a, b) {
        let res = (0,_base_common_strings_js__WEBPACK_IMPORTED_MODULE_4__.compare)(( (a.resource.toString())), ( (b.resource.toString())));
        if (res === 0) {
            res = _platform_markers_common_markers_js__WEBPACK_IMPORTED_MODULE_40__.MarkerSeverity.compare(a.severity, b.severity);
        }
        if (res === 0) {
            res = _editor_common_core_range_js__WEBPACK_IMPORTED_MODULE_22__.Range.compareRangesUsingStarts(a, b);
        }
        return res;
    }
};
ShowCurrentMarkerInStatusbarContribution = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, _services_statusbar_browser_statusbar_service_js__WEBPACK_IMPORTED_MODULE_39__.IStatusbarService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _platform_markers_common_markers_service_js__WEBPACK_IMPORTED_MODULE_41__.IMarkerService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_30__.IConfigurationService)))
], ShowCurrentMarkerInStatusbarContribution)));
let ShowLanguageExtensionsAction = class ShowLanguageExtensionsAction extends _base_common_actions_js__WEBPACK_IMPORTED_MODULE_8__.Action {
    static { ShowLanguageExtensionsAction_1 = this; }
    static { this.ID = 'workbench.action.showLanguageExtensions'; }
    constructor(fileExtension, commandService, galleryService) {
        super(ShowLanguageExtensionsAction_1.ID, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9808, "Search Marketplace Extensions for '{0}'...", fileExtension)));
        this.fileExtension = fileExtension;
        this.commandService = commandService;
        this.enabled = galleryService.isEnabled();
    }
    async run() {
        await this.commandService.executeCommand('workbench.extensions.action.showExtensionsForLanguage', this.fileExtension);
    }
};
ShowLanguageExtensionsAction = ShowLanguageExtensionsAction_1 = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _platform_commands_common_commands_service_js__WEBPACK_IMPORTED_MODULE_25__.ICommandService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_extensionManagement_common_extensionManagement_service_js__WEBPACK_IMPORTED_MODULE_26__.IExtensionGalleryService)))
], ShowLanguageExtensionsAction)));
class ChangeLanguageAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_47__.Action2 {
    static { this.ID = 'workbench.action.editor.changeLanguageMode'; }
    constructor() {
        super({
            id: ChangeLanguageAction.ID,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize2)(9809, 'Change Language Mode')),
            f1: true,
            keybinding: {
                weight: 200 ,
                primary: (0,_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_48__.KeyChord)(2048  | 41 , 43 )
            },
            precondition: _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_46__.ContextKeyExpr.not('notebookEditorFocused'),
            metadata: {
                description: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9810, "Change the language mode of the active text editor.")),
                args: [
                    {
                        name: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9811, "The name of the language mode to change to.")),
                        constraint: (value) => typeof value === 'string',
                    }
                ]
            }
        });
    }
    async run(accessor, languageMode) {
        const quickInputService = accessor.get(_platform_quickinput_common_quickInput_service_js__WEBPACK_IMPORTED_MODULE_35__.IQuickInputService);
        const editorService = accessor.get(_services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_17__.IEditorService);
        const languageService = accessor.get(_editor_common_languages_language_js__WEBPACK_IMPORTED_MODULE_21__.ILanguageService);
        const languageDetectionService = accessor.get(_services_languageDetection_common_languageDetectionWorkerService_service_js__WEBPACK_IMPORTED_MODULE_45__.ILanguageDetectionService);
        const textFileService = accessor.get(_services_textfile_common_textfiles_service_js__WEBPACK_IMPORTED_MODULE_27__.ITextFileService);
        const preferencesService = accessor.get(_services_preferences_common_preferences_service_js__WEBPACK_IMPORTED_MODULE_34__.IPreferencesService);
        const instantiationService = accessor.get(_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_20__.IInstantiationService);
        const configurationService = accessor.get(_platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_30__.IConfigurationService);
        const telemetryService = accessor.get(_platform_telemetry_common_telemetry_service_js__WEBPACK_IMPORTED_MODULE_42__.ITelemetryService);
        const activeTextEditorControl = (0,_editor_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_32__.getCodeEditor)(editorService.activeTextEditorControl);
        if (!activeTextEditorControl) {
            await quickInputService.pick([{ label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9781, "No text editor active at this time")) }]);
            return;
        }
        const textModel = activeTextEditorControl.getModel();
        const resource = _common_editor_js__WEBPACK_IMPORTED_MODULE_11__.EditorResourceAccessor.getOriginalUri(editorService.activeEditor, { supportSideBySide: _common_editor_js__WEBPACK_IMPORTED_MODULE_11__.SideBySideEditor.PRIMARY });
        let currentLanguageName;
        let currentLanguageId;
        if (textModel) {
            currentLanguageId = textModel.getLanguageId();
            currentLanguageName = languageService.getLanguageName(currentLanguageId) ?? undefined;
        }
        let hasLanguageSupport = !!resource;
        if (resource?.scheme === _base_common_network_js__WEBPACK_IMPORTED_MODULE_33__.Schemas.untitled && !textFileService.untitled.get(resource)?.hasAssociatedFilePath) {
            hasLanguageSupport = false;
        }
        const languages = languageService.getSortedRegisteredLanguageNames();
        const picks = ( (languages
            .map(({ languageName, languageId }) => {
            const extensions = languageService.getExtensions(languageId).join(' ');
            let description;
            if (currentLanguageName === languageName) {
                description = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9812, "({0}) - Configured Language", languageId));
            }
            else {
                description = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9813, "({0})", languageId));
            }
            return {
                label: languageName,
                meta: extensions,
                iconClasses: (0,_editor_common_services_getIconClasses_js__WEBPACK_IMPORTED_MODULE_36__.getIconClassesForLanguageId)(languageId),
                description
            };
        })));
        picks.unshift({ type: 'separator', label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9814, "languages (identifier)")) });
        let configureLanguageAssociations;
        let configureLanguageSettings;
        let galleryAction;
        if (hasLanguageSupport && resource) {
            const ext = (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_5__.extname)(resource) || (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_5__.basename)(resource);
            galleryAction = instantiationService.createInstance(ShowLanguageExtensionsAction, ext);
            if (galleryAction.enabled) {
                picks.unshift(galleryAction);
            }
            configureLanguageSettings = { label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9815, "Configure '{0}' language based settings...", currentLanguageName)) };
            picks.unshift(configureLanguageSettings);
            configureLanguageAssociations = { label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9816, "Configure File Association for '{0}'...", ext)) };
            picks.unshift(configureLanguageAssociations);
        }
        const autoDetectLanguage = {
            label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9817, "Auto Detect"))
        };
        picks.unshift(autoDetectLanguage);
        const pick = typeof languageMode === 'string' ? { label: languageMode } : await quickInputService.pick(picks, { placeHolder: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9818, "Select Language Mode")), matchOnDescription: true });
        if (!pick) {
            return;
        }
        if (pick === galleryAction) {
            galleryAction.run();
            return;
        }
        if (pick === configureLanguageAssociations) {
            if (resource) {
                this.configureFileAssociation(resource, languageService, quickInputService, configurationService);
            }
            return;
        }
        if (pick === configureLanguageSettings) {
            preferencesService.openUserSettings({ jsonEditor: true, revealSetting: { key: `[${currentLanguageId ?? null}]`, edit: true } });
            return;
        }
        const activeEditor = editorService.activeEditor;
        if (activeEditor) {
            const languageSupport = toEditorWithLanguageSupport(activeEditor);
            if (languageSupport) {
                let languageSelection;
                let detectedLanguage;
                if (pick === autoDetectLanguage) {
                    if (textModel) {
                        const resource = _common_editor_js__WEBPACK_IMPORTED_MODULE_11__.EditorResourceAccessor.getOriginalUri(activeEditor, { supportSideBySide: _common_editor_js__WEBPACK_IMPORTED_MODULE_11__.SideBySideEditor.PRIMARY });
                        if (resource) {
                            let languageId = languageService.guessLanguageIdByFilepathOrFirstLine(resource, textModel.getLineContent(1)) ?? undefined;
                            if (!languageId || languageId === 'unknown') {
                                detectedLanguage = await languageDetectionService.detectLanguage(resource);
                                languageId = detectedLanguage;
                            }
                            if (languageId) {
                                languageSelection = languageService.createById(languageId);
                            }
                        }
                    }
                }
                else {
                    const languageId = languageService.getLanguageIdByLanguageName(pick.label);
                    languageSelection = languageService.createById(languageId);
                    if (resource) {
                        languageDetectionService.detectLanguage(resource).then(detectedLanguageId => {
                            const chosenLanguageId = languageService.getLanguageIdByLanguageName(pick.label) || 'unknown';
                            if (detectedLanguageId === currentLanguageId && currentLanguageId !== chosenLanguageId) {
                                const modelPreference = configurationService.getValue('workbench.editor.preferHistoryBasedLanguageDetection') ? 'history' : 'classic';
                                telemetryService.publicLog2(_services_languageDetection_common_languageDetectionWorkerService_js__WEBPACK_IMPORTED_MODULE_44__.AutomaticLanguageDetectionLikelyWrongId, {
                                    currentLanguageId: currentLanguageName ?? 'unknown',
                                    nextLanguageId: pick.label,
                                    lineCount: textModel?.getLineCount() ?? -1,
                                    modelPreference,
                                });
                            }
                        });
                    }
                }
                if (typeof languageSelection !== 'undefined') {
                    languageSupport.setLanguageId(languageSelection.languageId, ChangeLanguageAction.ID);
                    if (resource?.scheme === _base_common_network_js__WEBPACK_IMPORTED_MODULE_33__.Schemas.untitled) {
                        const modelPreference = configurationService.getValue('workbench.editor.preferHistoryBasedLanguageDetection') ? 'history' : 'classic';
                        telemetryService.publicLog2('setUntitledDocumentLanguage', {
                            to: languageSelection.languageId,
                            from: currentLanguageId ?? 'none',
                            modelPreference,
                        });
                    }
                }
            }
            activeTextEditorControl.focus();
        }
    }
    configureFileAssociation(resource, languageService, quickInputService, configurationService) {
        const extension = (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_5__.extname)(resource);
        const base = (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_5__.basename)(resource);
        const currentAssociation = languageService.guessLanguageIdByFilepathOrFirstLine(_base_common_uri_js__WEBPACK_IMPORTED_MODULE_7__.URI.file(base));
        const languages = languageService.getSortedRegisteredLanguageNames();
        const picks = ( (languages.map(({ languageName, languageId }) => {
            return {
                id: languageId,
                label: languageName,
                iconClasses: (0,_editor_common_services_getIconClasses_js__WEBPACK_IMPORTED_MODULE_36__.getIconClassesForLanguageId)(languageId),
                description: (languageId === currentAssociation) ? ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9819, "Current Association")) : undefined
            };
        })));
        setTimeout(async () => {
            const language = await quickInputService.pick(picks, { placeHolder: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9820, "Select Language Mode to Associate with '{0}'", extension || base)) });
            if (language) {
                const fileAssociationsConfig = configurationService.inspect(_platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_18__.FILES_ASSOCIATIONS_CONFIG);
                let associationKey;
                if (extension && base[0] !== '.') {
                    associationKey = `*${extension}`;
                }
                else {
                    associationKey = base;
                }
                let target = 2 ;
                if (fileAssociationsConfig.workspaceValue && !!fileAssociationsConfig.workspaceValue[associationKey]) {
                    target = 5 ;
                }
                const currentAssociations = (0,_base_common_objects_js__WEBPACK_IMPORTED_MODULE_31__.deepClone)(((target === 5) ) ? fileAssociationsConfig.workspaceValue : fileAssociationsConfig.userValue) || Object.create(null);
                currentAssociations[associationKey] = language.id;
                configurationService.updateValue(_platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_18__.FILES_ASSOCIATIONS_CONFIG, currentAssociations, target);
            }
        }, 50 );
    }
}
class ChangeEOLAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_47__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.editor.changeEOL',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize2)(9821, 'Change End of Line Sequence')),
            f1: true
        });
    }
    async run(accessor) {
        const editorService = accessor.get(_services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_17__.IEditorService);
        const quickInputService = accessor.get(_platform_quickinput_common_quickInput_service_js__WEBPACK_IMPORTED_MODULE_35__.IQuickInputService);
        const activeTextEditorControl = (0,_editor_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_32__.getCodeEditor)(editorService.activeTextEditorControl);
        if (!activeTextEditorControl) {
            await quickInputService.pick([{ label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9781, "No text editor active at this time")) }]);
            return;
        }
        if (editorService.activeEditor?.isReadonly()) {
            await quickInputService.pick([{ label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9782, "The active code editor is read-only.")) }]);
            return;
        }
        let textModel = activeTextEditorControl.getModel();
        const EOLOptions = [
            { label: nlsEOLLF, eol: 0  },
            { label: nlsEOLCRLF, eol: 1  },
        ];
        const selectedIndex = (textModel?.getEOL() === '\n') ? 0 : 1;
        const eol = await quickInputService.pick(EOLOptions, { placeHolder: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9822, "Select End of Line Sequence")), activeItem: EOLOptions[selectedIndex] });
        if (eol) {
            const activeCodeEditor = (0,_editor_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_32__.getCodeEditor)(editorService.activeTextEditorControl);
            if (activeCodeEditor?.hasModel() && !editorService.activeEditor?.isReadonly()) {
                textModel = activeCodeEditor.getModel();
                textModel.pushStackElement();
                textModel.pushEOL(eol.eol);
                textModel.pushStackElement();
            }
        }
        activeTextEditorControl.focus();
    }
}
class ChangeEncodingAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_47__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.editor.changeEncoding',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize2)(9823, 'Change File Encoding')),
            f1: true
        });
    }
    async run(accessor) {
        const editorService = accessor.get(_services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_17__.IEditorService);
        const quickInputService = accessor.get(_platform_quickinput_common_quickInput_service_js__WEBPACK_IMPORTED_MODULE_35__.IQuickInputService);
        const fileService = accessor.get(_platform_files_common_files_service_js__WEBPACK_IMPORTED_MODULE_19__.IFileService);
        const textFileService = accessor.get(_services_textfile_common_textfiles_service_js__WEBPACK_IMPORTED_MODULE_27__.ITextFileService);
        const textResourceConfigurationService = accessor.get(_editor_common_services_textResourceConfiguration_js__WEBPACK_IMPORTED_MODULE_29__.ITextResourceConfigurationService);
        const activeTextEditorControl = (0,_editor_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_32__.getCodeEditor)(editorService.activeTextEditorControl);
        if (!activeTextEditorControl) {
            await quickInputService.pick([{ label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9781, "No text editor active at this time")) }]);
            return;
        }
        const activeEditorPane = editorService.activeEditorPane;
        if (!activeEditorPane) {
            await quickInputService.pick([{ label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9781, "No text editor active at this time")) }]);
            return;
        }
        const encodingSupport = toEditorWithEncodingSupport(activeEditorPane.input);
        if (!encodingSupport) {
            await quickInputService.pick([{ label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9824, "No file active at this time")) }]);
            return;
        }
        const saveWithEncodingPick = { label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9825, "Save with Encoding")) };
        const reopenWithEncodingPick = { label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9826, "Reopen with Encoding")) };
        if (!_base_common_platform_js__WEBPACK_IMPORTED_MODULE_9__.Language.isDefaultVariant()) {
            const saveWithEncodingAlias = 'Save with Encoding';
            if (saveWithEncodingAlias !== saveWithEncodingPick.label) {
                saveWithEncodingPick.detail = saveWithEncodingAlias;
            }
            const reopenWithEncodingAlias = 'Reopen with Encoding';
            if (reopenWithEncodingAlias !== reopenWithEncodingPick.label) {
                reopenWithEncodingPick.detail = reopenWithEncodingAlias;
            }
        }
        let action;
        if (encodingSupport instanceof _services_untitled_common_untitledTextEditorInput_js__WEBPACK_IMPORTED_MODULE_10__.UntitledTextEditorInput) {
            action = saveWithEncodingPick;
        }
        else if (activeEditorPane.input.isReadonly()) {
            action = reopenWithEncodingPick;
        }
        else {
            action = await quickInputService.pick([reopenWithEncodingPick, saveWithEncodingPick], { placeHolder: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9785, "Select Action")), matchOnDetail: true });
        }
        if (!action) {
            return;
        }
        await (0,_base_common_async_js__WEBPACK_IMPORTED_MODULE_37__.timeout)(50);
        const resource = _common_editor_js__WEBPACK_IMPORTED_MODULE_11__.EditorResourceAccessor.getOriginalUri(activeEditorPane.input, { supportSideBySide: _common_editor_js__WEBPACK_IMPORTED_MODULE_11__.SideBySideEditor.PRIMARY });
        if (!resource || (!fileService.hasProvider(resource) && resource.scheme !== _base_common_network_js__WEBPACK_IMPORTED_MODULE_33__.Schemas.untitled)) {
            return;
        }
        let guessedEncoding = undefined;
        if (fileService.hasProvider(resource)) {
            const content = await textFileService.readStream(resource, {
                autoGuessEncoding: true,
                candidateGuessEncodings: textResourceConfigurationService.getValue(resource, 'files.candidateGuessEncodings')
            });
            guessedEncoding = content.encoding;
        }
        const isReopenWithEncoding = (action === reopenWithEncodingPick);
        const configuredEncoding = textResourceConfigurationService.getValue(resource, 'files.encoding');
        let directMatchIndex;
        let aliasMatchIndex;
        const picks = ( (( (Object.keys(_services_textfile_common_encoding_js__WEBPACK_IMPORTED_MODULE_28__.SUPPORTED_ENCODINGS)))
            .sort((k1, k2) => {
            if (k1 === configuredEncoding) {
                return -1;
            }
            else if (k2 === configuredEncoding) {
                return 1;
            }
            return _services_textfile_common_encoding_js__WEBPACK_IMPORTED_MODULE_28__.SUPPORTED_ENCODINGS[k1].order - _services_textfile_common_encoding_js__WEBPACK_IMPORTED_MODULE_28__.SUPPORTED_ENCODINGS[k2].order;
        })
            .filter(k => {
            if (k === guessedEncoding && guessedEncoding !== configuredEncoding) {
                return false;
            }
            return !isReopenWithEncoding || !_services_textfile_common_encoding_js__WEBPACK_IMPORTED_MODULE_28__.SUPPORTED_ENCODINGS[k].encodeOnly;
        })
            .map((key, index) => {
            if (key === encodingSupport.getEncoding()) {
                directMatchIndex = index;
            }
            else if (_services_textfile_common_encoding_js__WEBPACK_IMPORTED_MODULE_28__.SUPPORTED_ENCODINGS[key].alias === encodingSupport.getEncoding()) {
                aliasMatchIndex = index;
            }
            return { id: key, label: _services_textfile_common_encoding_js__WEBPACK_IMPORTED_MODULE_28__.SUPPORTED_ENCODINGS[key].labelLong, description: key };
        })));
        const items = picks.slice();
        if (guessedEncoding && configuredEncoding !== guessedEncoding && _services_textfile_common_encoding_js__WEBPACK_IMPORTED_MODULE_28__.SUPPORTED_ENCODINGS[guessedEncoding]) {
            picks.unshift({ type: 'separator' });
            picks.unshift({ id: guessedEncoding, label: _services_textfile_common_encoding_js__WEBPACK_IMPORTED_MODULE_28__.SUPPORTED_ENCODINGS[guessedEncoding].labelLong, description: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9827, "Guessed from content")) });
        }
        const encoding = await quickInputService.pick(picks, {
            placeHolder: isReopenWithEncoding ? ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9828, "Select File Encoding to Reopen File")) : ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(9829, "Select File Encoding to Save with")),
            activeItem: items[typeof directMatchIndex === 'number' ? directMatchIndex : typeof aliasMatchIndex === 'number' ? aliasMatchIndex : -1]
        });
        if (!encoding) {
            return;
        }
        if (!editorService.activeEditorPane) {
            return;
        }
        const activeEncodingSupport = toEditorWithEncodingSupport(editorService.activeEditorPane.input);
        if (typeof encoding.id !== 'undefined' && activeEncodingSupport) {
            await activeEncodingSupport.setEncoding(encoding.id, isReopenWithEncoding ? 1  : 0 );
        }
        activeTextEditorControl.focus();
    }
}



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorTabsControl.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorTabsControl.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EditorCommandsContextActionRunner: () => (/* binding */ EditorCommandsContextActionRunner),
/* harmony export */   EditorTabsControl: () => (/* binding */ EditorTabsControl)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _media_editortabscontrol_css_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./media/editortabscontrol.css.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/media/editortabscontrol.css.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _base_browser_dnd_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../base/browser/dnd.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dnd.js");
/* harmony import */ var _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../base/browser/dom.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var _base_browser_mouseEvent_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../base/browser/mouseEvent.js */ "./node_modules/vscode/vscode/src/vs/base/browser/mouseEvent.js");
/* harmony import */ var _base_browser_ui_actionbar_actionbar_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../base/browser/ui/actionbar/actionbar.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/actionbar/actionbar.js");
/* harmony import */ var _base_common_actions_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../base/common/actions.js */ "./node_modules/vscode/vscode/src/vs/base/common/actions.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _platform_actions_browser_menuEntryActionViewItem_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../platform/actions/browser/menuEntryActionViewItem.js */ "./node_modules/vscode/vscode/src/vs/platform/actions/browser/menuEntryActionViewItem.js");
/* harmony import */ var _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../platform/actions/common/actions.js */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../platform/contextkey/common/contextkey.service.js */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var _platform_contextview_browser_contextView_service_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../platform/contextview/browser/contextView.service.js */ "./node_modules/vscode/vscode/src/vs/platform/contextview/browser/contextView.service.js");
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../platform/instantiation/common/instantiation.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var _platform_keybinding_common_keybinding_service_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../platform/keybinding/common/keybinding.service.js */ "./node_modules/vscode/vscode/src/vs/platform/keybinding/common/keybinding.service.js");
/* harmony import */ var _platform_notification_common_notification_service_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../platform/notification/common/notification.service.js */ "./node_modules/vscode/vscode/src/vs/platform/notification/common/notification.service.js");
/* harmony import */ var _platform_quickinput_common_quickInput_service_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../platform/quickinput/common/quickInput.service.js */ "./node_modules/vscode/vscode/src/vs/platform/quickinput/common/quickInput.service.js");
/* harmony import */ var _platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../platform/theme/common/colorUtils.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colorUtils.js");
/* harmony import */ var _platform_theme_common_colors_baseColors_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/baseColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/baseColors.js");
/* harmony import */ var _platform_theme_common_colors_chartsColors_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/chartsColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/chartsColors.js");
/* harmony import */ var _platform_theme_common_colors_editorColors_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/editorColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/editorColors.js");
/* harmony import */ var _platform_theme_common_colors_inputColors_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/inputColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/inputColors.js");
/* harmony import */ var _platform_theme_common_colors_listColors_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/listColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/listColors.js");
/* harmony import */ var _platform_theme_common_colors_menuColors_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/menuColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/menuColors.js");
/* harmony import */ var _platform_theme_common_colors_minimapColors_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/minimapColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/minimapColors.js");
/* harmony import */ var _platform_theme_common_colors_miscColors_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/miscColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/miscColors.js");
/* harmony import */ var _platform_theme_common_colors_quickpickColors_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/quickpickColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/quickpickColors.js");
/* harmony import */ var _platform_theme_common_colors_searchColors_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/searchColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/searchColors.js");
/* harmony import */ var _platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../../platform/theme/common/themeService.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.js");
/* harmony import */ var _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../../platform/theme/common/themeService.service.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.service.js");
/* harmony import */ var _dnd_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../dnd.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/dnd.js");
/* harmony import */ var _editorPane_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./editorPane.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorPane.js");
/* harmony import */ var _common_editor_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../../common/editor.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor.js");
/* harmony import */ var _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../../common/contextkeys.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/contextkeys.js");
/* harmony import */ var _base_common_types_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../../../base/common/types.js */ "./node_modules/vscode/vscode/src/vs/base/common/types.js");
/* harmony import */ var _base_browser_browser_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../../../base/browser/browser.js */ "./node_modules/vscode/vscode/src/vs/base/browser/browser.js");
/* harmony import */ var _base_common_errors_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../../../base/common/errors.js */ "./node_modules/vscode/vscode/src/vs/base/common/errors.js");
/* harmony import */ var _common_editor_sideBySideEditorInput_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../../common/editor/sideBySideEditorInput.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/sideBySideEditorInput.js");
/* harmony import */ var _platform_actions_browser_toolbar_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../../../platform/actions/browser/toolbar.js */ "./node_modules/vscode/vscode/src/vs/platform/actions/browser/toolbar.js");
/* harmony import */ var _platform_dnd_browser_dnd_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../../../../platform/dnd/browser/dnd.js */ "./node_modules/vscode/vscode/src/vs/platform/dnd/browser/dnd.js");
/* harmony import */ var _services_editor_common_editorResolverService_service_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../../../services/editor/common/editorResolverService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorResolverService.service.js");
/* harmony import */ var _editorCommands_js__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./editorCommands.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorCommands.js");
/* harmony import */ var _base_common_platform_js__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../../../../base/common/platform.js */ "./node_modules/vscode/vscode/src/vs/base/common/platform.js");
/* harmony import */ var _services_host_browser_host_service_js__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../../../services/host/browser/host.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/host/browser/host.service.js");
/* harmony import */ var _platform_instantiation_common_serviceCollection_js__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../../../../platform/instantiation/common/serviceCollection.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/serviceCollection.js");
/* harmony import */ var _base_browser_ui_hover_hoverDelegateFactory_js__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../../../../base/browser/ui/hover/hoverDelegateFactory.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/hover/hoverDelegateFactory.js");
/* harmony import */ var _base_common_htmlContent_js__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ../../../../base/common/htmlContent.js */ "./node_modules/vscode/vscode/src/vs/base/common/htmlContent.js");















































var EditorTabsControl_1;
class EditorCommandsContextActionRunner extends _base_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.ActionRunner {
    constructor(context) {
        super();
        this.context = context;
    }
    run(action, context) {
        let mergedContext = this.context;
        if (context?.preserveFocus) {
            mergedContext = {
                ...this.context,
                preserveFocus: true
            };
        }
        return super.run(action, mergedContext);
    }
}
let EditorTabsControl = class EditorTabsControl extends _platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_28__.Themable {
    static { EditorTabsControl_1 = this; }
    static { this.EDITOR_TAB_HEIGHT = {
        normal: 35,
        compact: 22
    }; }
    constructor(parent, editorPartsView, groupsView, groupView, tabsModel, contextMenuService, instantiationService, contextKeyService, keybindingService, notificationService, quickInputService, themeService, editorResolverService, hostService) {
        super(themeService);
        this.parent = parent;
        this.editorPartsView = editorPartsView;
        this.groupsView = groupsView;
        this.groupView = groupView;
        this.tabsModel = tabsModel;
        this.contextMenuService = contextMenuService;
        this.instantiationService = instantiationService;
        this.contextKeyService = contextKeyService;
        this.keybindingService = keybindingService;
        this.notificationService = notificationService;
        this.quickInputService = quickInputService;
        this.editorResolverService = editorResolverService;
        this.hostService = hostService;
        this.editorTransfer = _platform_dnd_browser_dnd_js__WEBPACK_IMPORTED_MODULE_39__.LocalSelectionTransfer.getInstance();
        this.groupTransfer = _platform_dnd_browser_dnd_js__WEBPACK_IMPORTED_MODULE_39__.LocalSelectionTransfer.getInstance();
        this.treeItemsTransfer = _platform_dnd_browser_dnd_js__WEBPACK_IMPORTED_MODULE_39__.LocalSelectionTransfer.getInstance();
        this.editorActionsToolbarDisposables = this._register(( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_8__.DisposableStore())));
        this.editorActionsDisposables = this._register(( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_8__.DisposableStore())));
        this.contextMenuContextKeyService = this._register(this.contextKeyService.createScoped(parent));
        const scopedInstantiationService = this._register(this.instantiationService.createChild(( (new _platform_instantiation_common_serviceCollection_js__WEBPACK_IMPORTED_MODULE_44__.ServiceCollection([_platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_11__.IContextKeyService, this.contextMenuContextKeyService])))));
        this.resourceContext = this._register(scopedInstantiationService.createInstance(_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_33__.ResourceContextKey));
        this.editorPinnedContext = _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_33__.ActiveEditorPinnedContext.bindTo(this.contextMenuContextKeyService);
        this.editorIsFirstContext = _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_33__.ActiveEditorFirstInGroupContext.bindTo(this.contextMenuContextKeyService);
        this.editorIsLastContext = _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_33__.ActiveEditorLastInGroupContext.bindTo(this.contextMenuContextKeyService);
        this.editorStickyContext = _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_33__.ActiveEditorStickyContext.bindTo(this.contextMenuContextKeyService);
        this.editorAvailableEditorIds = _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_33__.ActiveEditorAvailableEditorIdsContext.bindTo(this.contextMenuContextKeyService);
        this.editorCanSplitInGroupContext = _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_33__.ActiveEditorCanSplitInGroupContext.bindTo(this.contextMenuContextKeyService);
        this.sideBySideEditorContext = _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_33__.SideBySideEditorActiveContext.bindTo(this.contextMenuContextKeyService);
        this.groupLockedContext = _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_33__.ActiveEditorGroupLockedContext.bindTo(this.contextMenuContextKeyService);
        this.renderDropdownAsChildElement = false;
        this.tabsHoverDelegate = (0,_base_browser_ui_hover_hoverDelegateFactory_js__WEBPACK_IMPORTED_MODULE_45__.getDefaultHoverDelegate)('mouse');
        this.create(parent);
    }
    create(parent) {
        this.updateTabHeight();
    }
    get editorActionsEnabled() {
        return this.groupsView.partOptions.editorActionsLocation === 'default' && this.groupsView.partOptions.showTabs !== 'none';
    }
    createEditorActionsToolBar(parent, classes) {
        this.editorActionsToolbarContainer = document.createElement('div');
        this.editorActionsToolbarContainer.classList.add(...classes);
        parent.appendChild(this.editorActionsToolbarContainer);
        this.handleEditorActionToolBarVisibility(this.editorActionsToolbarContainer);
    }
    handleEditorActionToolBarVisibility(container) {
        const editorActionsEnabled = this.editorActionsEnabled;
        const editorActionsVisible = !!this.editorActionsToolbar;
        if (editorActionsEnabled && !editorActionsVisible) {
            this.doCreateEditorActionsToolBar(container);
        }
        else if (!editorActionsEnabled && editorActionsVisible) {
            this.editorActionsToolbar?.getElement().remove();
            this.editorActionsToolbar = undefined;
            this.editorActionsToolbarDisposables.clear();
            this.editorActionsDisposables.clear();
        }
        container.classList.toggle('hidden', !editorActionsEnabled);
    }
    doCreateEditorActionsToolBar(container) {
        const context = { groupId: this.groupView.id };
        this.editorActionsToolbar = this.editorActionsToolbarDisposables.add(this.instantiationService.createInstance(_platform_actions_browser_toolbar_js__WEBPACK_IMPORTED_MODULE_38__.WorkbenchToolBar, container, {
            actionViewItemProvider: (action, options) => this.actionViewItemProvider(action, options),
            orientation: 0 ,
            ariaLabel: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(6914, "Editor actions")),
            getKeyBinding: action => this.getKeybinding(action),
            actionRunner: this.editorActionsToolbarDisposables.add(( (new EditorCommandsContextActionRunner(context)))),
            anchorAlignmentProvider: () => 1 ,
            renderDropdownAsChildElement: this.renderDropdownAsChildElement,
            telemetrySource: 'editorPart',
            resetMenu: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_10__.MenuId.EditorTitle,
            overflowBehavior: { maxItems: 9, exempted: _editorCommands_js__WEBPACK_IMPORTED_MODULE_41__.EDITOR_CORE_NAVIGATION_COMMANDS },
            highlightToggledItems: true
        }));
        this.editorActionsToolbar.context = context;
        this.editorActionsToolbarDisposables.add(this.editorActionsToolbar.actionRunner.onDidRun(e => {
            if (e.error && !(0,_base_common_errors_js__WEBPACK_IMPORTED_MODULE_36__.isCancellationError)(e.error)) {
                this.notificationService.error(e.error);
            }
        }));
    }
    actionViewItemProvider(action, options) {
        const activeEditorPane = this.groupView.activeEditorPane;
        if (activeEditorPane instanceof _editorPane_js__WEBPACK_IMPORTED_MODULE_31__.EditorPane) {
            const result = activeEditorPane.getActionViewItem(action, options);
            if (result) {
                return result;
            }
        }
        return (0,_platform_actions_browser_menuEntryActionViewItem_js__WEBPACK_IMPORTED_MODULE_9__.createActionViewItem)(this.instantiationService, action, { ...options, menuAsChild: this.renderDropdownAsChildElement });
    }
    updateEditorActionsToolbar() {
        if (!this.editorActionsEnabled) {
            return;
        }
        this.editorActionsDisposables.clear();
        const editorActions = this.groupView.createEditorActions(this.editorActionsDisposables);
        this.editorActionsDisposables.add(editorActions.onDidChange(() => this.updateEditorActionsToolbar()));
        const editorActionsToolbar = (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_34__.assertIsDefined)(this.editorActionsToolbar);
        const { primary, secondary } = this.prepareEditorActions(editorActions.actions);
        editorActionsToolbar.setActions((0,_base_browser_ui_actionbar_actionbar_js__WEBPACK_IMPORTED_MODULE_6__.prepareActions)(primary), (0,_base_browser_ui_actionbar_actionbar_js__WEBPACK_IMPORTED_MODULE_6__.prepareActions)(secondary));
    }
    getEditorPaneAwareContextKeyService() {
        return this.groupView.activeEditorPane?.scopedContextKeyService ?? this.contextKeyService;
    }
    clearEditorActionsToolbar() {
        if (!this.editorActionsEnabled) {
            return;
        }
        const editorActionsToolbar = (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_34__.assertIsDefined)(this.editorActionsToolbar);
        editorActionsToolbar.setActions([], []);
    }
    onGroupDragStart(e, element) {
        if (e.target !== element) {
            return false;
        }
        const isNewWindowOperation = this.isNewWindowOperation(e);
        this.groupTransfer.setData([( (new _dnd_js__WEBPACK_IMPORTED_MODULE_30__.DraggedEditorGroupIdentifier(this.groupView.id)))], _dnd_js__WEBPACK_IMPORTED_MODULE_30__.DraggedEditorGroupIdentifier.prototype);
        if (e.dataTransfer) {
            e.dataTransfer.effectAllowed = 'copyMove';
        }
        let hasDataTransfer = false;
        if (this.groupsView.partOptions.showTabs === 'multiple') {
            hasDataTransfer = this.doFillResourceDataTransfers(this.groupView.getEditors(1 ), e, isNewWindowOperation);
        }
        else {
            if (this.groupView.activeEditor) {
                hasDataTransfer = this.doFillResourceDataTransfers([this.groupView.activeEditor], e, isNewWindowOperation);
            }
        }
        if (!hasDataTransfer && _base_browser_browser_js__WEBPACK_IMPORTED_MODULE_35__.isFirefox) {
            e.dataTransfer?.setData(_base_browser_dnd_js__WEBPACK_IMPORTED_MODULE_3__.DataTransfers.TEXT, String(this.groupView.label));
        }
        if (this.groupView.activeEditor) {
            let label = this.groupView.activeEditor.getName();
            if (this.groupsView.partOptions.showTabs === 'multiple' && this.groupView.count > 1) {
                label = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(6915, "{0} (+{1})", label, this.groupView.count - 1));
            }
            (0,_base_browser_dnd_js__WEBPACK_IMPORTED_MODULE_3__.applyDragImage)(e, label, 'monaco-editor-group-drag-image', this.getColor(_platform_theme_common_colors_listColors_js__WEBPACK_IMPORTED_MODULE_22__.listActiveSelectionBackground), this.getColor(_platform_theme_common_colors_listColors_js__WEBPACK_IMPORTED_MODULE_22__.listActiveSelectionForeground));
        }
        return isNewWindowOperation;
    }
    async onGroupDragEnd(e, previousDragEvent, element, isNewWindowOperation) {
        this.groupTransfer.clearData(_dnd_js__WEBPACK_IMPORTED_MODULE_30__.DraggedEditorGroupIdentifier.prototype);
        if (e.target !== element ||
            !isNewWindowOperation ||
            (0,_dnd_js__WEBPACK_IMPORTED_MODULE_30__.isWindowDraggedOver)()) {
            return;
        }
        const auxiliaryEditorPart = await this.maybeCreateAuxiliaryEditorPartAt(e, element);
        if (!auxiliaryEditorPart) {
            return;
        }
        const targetGroup = auxiliaryEditorPart.activeGroup;
        this.groupsView.mergeGroup(this.groupView, targetGroup.id, {
            mode: this.isMoveOperation(previousDragEvent ?? e, targetGroup.id) ? 1  : 0
        });
        targetGroup.focus();
    }
    async maybeCreateAuxiliaryEditorPartAt(e, offsetElement) {
        const { point, display } = (await this.hostService.getCursorScreenPoint()) ?? { point: { x: e.screenX, y: e.screenY } };
        const window = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_4__.getActiveWindow)();
        if (window.document.visibilityState === 'visible' && window.document.hasFocus()) {
            if (point.x >= window.screenX && point.x <= window.screenX + window.outerWidth && point.y >= window.screenY && point.y <= window.screenY + window.outerHeight) {
                return;
            }
        }
        const offsetX = offsetElement.offsetWidth / 2;
        const offsetY = 30  + offsetElement.offsetHeight / 2;
        const bounds = {
            x: point.x - offsetX,
            y: point.y - offsetY
        };
        if (display) {
            if (bounds.x < display.x) {
                bounds.x = display.x;
            }
            if (bounds.y < display.y) {
                bounds.y = display.y;
            }
        }
        return this.editorPartsView.createAuxiliaryEditorPart({ bounds });
    }
    isNewWindowOperation(e) {
        if (this.groupsView.partOptions.dragToOpenWindow) {
            return !e.altKey;
        }
        return e.altKey;
    }
    isMoveOperation(e, sourceGroup, sourceEditor) {
        if (sourceEditor?.hasCapability(8 )) {
            return true;
        }
        const isCopy = (e.ctrlKey && !_base_common_platform_js__WEBPACK_IMPORTED_MODULE_42__.isMacintosh) || (e.altKey && _base_common_platform_js__WEBPACK_IMPORTED_MODULE_42__.isMacintosh);
        return (!isCopy || sourceGroup === this.groupView.id);
    }
    doFillResourceDataTransfers(editors, e, disableStandardTransfer) {
        if (editors.length) {
            this.instantiationService.invokeFunction(_dnd_js__WEBPACK_IMPORTED_MODULE_30__.fillEditorsDragData, ( (editors.map(editor => ({ editor, groupId: this.groupView.id })))), e, { disableStandardTransfer });
            return true;
        }
        return false;
    }
    onTabContextMenu(editor, e, node) {
        this.resourceContext.set(_common_editor_js__WEBPACK_IMPORTED_MODULE_32__.EditorResourceAccessor.getOriginalUri(editor, { supportSideBySide: _common_editor_js__WEBPACK_IMPORTED_MODULE_32__.SideBySideEditor.PRIMARY }));
        this.editorPinnedContext.set(this.tabsModel.isPinned(editor));
        this.editorIsFirstContext.set(this.tabsModel.isFirst(editor));
        this.editorIsLastContext.set(this.tabsModel.isLast(editor));
        this.editorStickyContext.set(this.tabsModel.isSticky(editor));
        this.groupLockedContext.set(this.tabsModel.isLocked);
        this.editorCanSplitInGroupContext.set(editor.hasCapability(32 ));
        this.sideBySideEditorContext.set(editor.typeId === _common_editor_sideBySideEditorInput_js__WEBPACK_IMPORTED_MODULE_37__.SideBySideEditorInput.ID);
        (0,_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_33__.applyAvailableEditorIds)(this.editorAvailableEditorIds, editor, this.editorResolverService);
        let anchor = node;
        if ((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_4__.isMouseEvent)(e)) {
            anchor = ( (new _base_browser_mouseEvent_js__WEBPACK_IMPORTED_MODULE_5__.StandardMouseEvent((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_4__.getWindow)(node), e)));
        }
        this.contextMenuService.showContextMenu({
            getAnchor: () => anchor,
            menuId: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_10__.MenuId.EditorTitleContext,
            menuActionOptions: { shouldForwardArgs: true, arg: this.resourceContext.get() },
            contextKeyService: this.contextMenuContextKeyService,
            getActionsContext: () => ({ groupId: this.groupView.id, editorIndex: this.groupView.getIndexOfEditor(editor) }),
            getKeyBinding: action => this.keybindingService.lookupKeybinding(action.id, this.contextMenuContextKeyService),
            onHide: () => this.groupsView.activeGroup.focus()
        });
    }
    getKeybinding(action) {
        return this.keybindingService.lookupKeybinding(action.id, this.getEditorPaneAwareContextKeyService());
    }
    getKeybindingLabel(action) {
        const keybinding = this.getKeybinding(action);
        return keybinding ? keybinding.getLabel() ?? undefined : undefined;
    }
    get tabHeight() {
        return this.groupsView.partOptions.tabHeight !== 'compact' ? EditorTabsControl_1.EDITOR_TAB_HEIGHT.normal : EditorTabsControl_1.EDITOR_TAB_HEIGHT.compact;
    }
    getHoverTitle(editor) {
        const title = editor.getTitle(2 );
        if (!this.tabsModel.isPinned(editor)) {
            return {
                markdown: ( (new _base_common_htmlContent_js__WEBPACK_IMPORTED_MODULE_46__.MarkdownString('', { supportThemeIcons: true, isTrusted: true }))).
                    appendText(title).
                    appendMarkdown(' (_preview_ [$(gear)](command:workbench.action.openSettings?%5B%22workbench.editor.enablePreview%22%5D "Configure Preview Mode"))'),
                markdownNotSupportedFallback: title + ' (preview)'
            };
        }
        return title;
    }
    getHoverDelegate() {
        return this.tabsHoverDelegate;
    }
    updateTabHeight() {
        this.parent.style.setProperty('--editor-group-tab-height', `${this.tabHeight}px`);
    }
    updateOptions(oldOptions, newOptions) {
        if (oldOptions.tabHeight !== newOptions.tabHeight) {
            this.updateTabHeight();
        }
        if (oldOptions.editorActionsLocation !== newOptions.editorActionsLocation ||
            oldOptions.showTabs !== newOptions.showTabs) {
            if (this.editorActionsToolbarContainer) {
                this.handleEditorActionToolBarVisibility(this.editorActionsToolbarContainer);
                this.updateEditorActionsToolbar();
            }
        }
    }
};
EditorTabsControl = EditorTabsControl_1 = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _platform_contextview_browser_contextView_service_js__WEBPACK_IMPORTED_MODULE_12__.IContextMenuService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_13__.IInstantiationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_11__.IContextKeyService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, _platform_keybinding_common_keybinding_service_js__WEBPACK_IMPORTED_MODULE_14__.IKeybindingService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, _platform_notification_common_notification_service_js__WEBPACK_IMPORTED_MODULE_15__.INotificationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, _platform_quickinput_common_quickInput_service_js__WEBPACK_IMPORTED_MODULE_16__.IQuickInputService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(11, _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_29__.IThemeService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(12, _services_editor_common_editorResolverService_service_js__WEBPACK_IMPORTED_MODULE_40__.IEditorResolverService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(13, _services_host_browser_host_service_js__WEBPACK_IMPORTED_MODULE_43__.IHostService)))
], EditorTabsControl)));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorTitleControl.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorTitleControl.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EditorTitleControl: () => (/* binding */ EditorTitleControl)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _media_editortitlecontrol_css_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./media/editortitlecontrol.css.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/media/editortitlecontrol.css.js");
/* harmony import */ var _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../base/browser/dom.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../platform/instantiation/common/instantiation.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var _platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../platform/theme/common/themeService.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.js");
/* harmony import */ var _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../platform/theme/common/themeService.service.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.service.js");
/* harmony import */ var _breadcrumbsControl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./breadcrumbsControl.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/breadcrumbsControl.js");
/* harmony import */ var _multiEditorTabsControl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./multiEditorTabsControl.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/multiEditorTabsControl.js");
/* harmony import */ var _singleEditorTabsControl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./singleEditorTabsControl.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/singleEditorTabsControl.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _multiRowEditorTabsControl_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./multiRowEditorTabsControl.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/multiRowEditorTabsControl.js");
/* harmony import */ var _noEditorTabsControl_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./noEditorTabsControl.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/noEditorTabsControl.js");












let EditorTitleControl = class EditorTitleControl extends _platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_4__.Themable {
    get breadcrumbsControl() { return this.breadcrumbsControlFactory?.control; }
    constructor(parent, editorPartsView, groupsView, groupView, model, instantiationService, themeService) {
        super(themeService);
        this.parent = parent;
        this.editorPartsView = editorPartsView;
        this.groupsView = groupsView;
        this.groupView = groupView;
        this.model = model;
        this.instantiationService = instantiationService;
        this.editorTabsControlDisposable = this._register(( new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_9__.DisposableStore()));
        this.breadcrumbsControlDisposables = this._register(( new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_9__.DisposableStore()));
        this.editorTabsControl = this.createEditorTabsControl();
        this.breadcrumbsControlFactory = this.createBreadcrumbsControl();
    }
    createEditorTabsControl() {
        let tabsControlType;
        switch (this.groupsView.partOptions.showTabs) {
            case 'none':
                tabsControlType = _noEditorTabsControl_js__WEBPACK_IMPORTED_MODULE_11__.NoEditorTabsControl;
                break;
            case 'single':
                tabsControlType = _singleEditorTabsControl_js__WEBPACK_IMPORTED_MODULE_8__.SingleEditorTabsControl;
                break;
            case 'multiple':
            default:
                tabsControlType = this.groupsView.partOptions.pinnedTabsOnSeparateRow ? _multiRowEditorTabsControl_js__WEBPACK_IMPORTED_MODULE_10__.MultiRowEditorControl : _multiEditorTabsControl_js__WEBPACK_IMPORTED_MODULE_7__.MultiEditorTabsControl;
                break;
        }
        const control = this.instantiationService.createInstance(tabsControlType, this.parent, this.editorPartsView, this.groupsView, this.groupView, this.model);
        return this.editorTabsControlDisposable.add(control);
    }
    createBreadcrumbsControl() {
        if (this.groupsView.partOptions.showTabs === 'single') {
            return undefined;
        }
        const breadcrumbsContainer = document.createElement('div');
        breadcrumbsContainer.classList.add('breadcrumbs-below-tabs');
        this.parent.appendChild(breadcrumbsContainer);
        const breadcrumbsControlFactory = this.breadcrumbsControlDisposables.add(this.instantiationService.createInstance(_breadcrumbsControl_js__WEBPACK_IMPORTED_MODULE_6__.BreadcrumbsControlFactory, breadcrumbsContainer, this.groupView, {
            showFileIcons: true,
            showSymbolIcons: true,
            showDecorationColors: false,
            showPlaceholder: true
        }));
        this.breadcrumbsControlDisposables.add(breadcrumbsControlFactory.onDidEnablementChange(() => this.groupView.relayout()));
        this.breadcrumbsControlDisposables.add(breadcrumbsControlFactory.onDidVisibilityChange(() => this.groupView.relayout()));
        return breadcrumbsControlFactory;
    }
    openEditor(editor, options) {
        const didChange = this.editorTabsControl.openEditor(editor, options);
        this.handleOpenedEditors(didChange);
    }
    openEditors(editors) {
        const didChange = this.editorTabsControl.openEditors(editors);
        this.handleOpenedEditors(didChange);
    }
    handleOpenedEditors(didChange) {
        if (didChange) {
            this.breadcrumbsControl?.update();
        }
        else {
            this.breadcrumbsControl?.revealLast();
        }
    }
    beforeCloseEditor(editor) {
        return this.editorTabsControl.beforeCloseEditor(editor);
    }
    closeEditor(editor) {
        this.editorTabsControl.closeEditor(editor);
        this.handleClosedEditors();
    }
    closeEditors(editors) {
        this.editorTabsControl.closeEditors(editors);
        this.handleClosedEditors();
    }
    handleClosedEditors() {
        if (!this.groupView.activeEditor) {
            this.breadcrumbsControl?.update();
        }
    }
    moveEditor(editor, fromIndex, targetIndex, stickyStateChange) {
        return this.editorTabsControl.moveEditor(editor, fromIndex, targetIndex, stickyStateChange);
    }
    pinEditor(editor) {
        return this.editorTabsControl.pinEditor(editor);
    }
    stickEditor(editor) {
        return this.editorTabsControl.stickEditor(editor);
    }
    unstickEditor(editor) {
        return this.editorTabsControl.unstickEditor(editor);
    }
    setActive(isActive) {
        return this.editorTabsControl.setActive(isActive);
    }
    updateEditorSelections() {
        this.editorTabsControl.updateEditorSelections();
    }
    updateEditorLabel(editor) {
        return this.editorTabsControl.updateEditorLabel(editor);
    }
    updateEditorDirty(editor) {
        return this.editorTabsControl.updateEditorDirty(editor);
    }
    updateOptions(oldOptions, newOptions) {
        if (oldOptions.showTabs !== newOptions.showTabs ||
            (newOptions.showTabs !== 'single' && oldOptions.pinnedTabsOnSeparateRow !== newOptions.pinnedTabsOnSeparateRow)) {
            this.editorTabsControlDisposable.clear();
            this.breadcrumbsControlDisposables.clear();
            (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.clearNode)(this.parent);
            this.editorTabsControl = this.createEditorTabsControl();
            this.breadcrumbsControlFactory = this.createBreadcrumbsControl();
        }
        else {
            this.editorTabsControl.updateOptions(oldOptions, newOptions);
        }
    }
    layout(dimensions) {
        const tabsControlDimension = this.editorTabsControl.layout(dimensions);
        let breadcrumbsControlDimension = undefined;
        if (this.breadcrumbsControl?.isHidden() === false) {
            breadcrumbsControlDimension = ( new _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.Dimension(dimensions.container.width, _breadcrumbsControl_js__WEBPACK_IMPORTED_MODULE_6__.BreadcrumbsControl.HEIGHT));
            this.breadcrumbsControl.layout(breadcrumbsControlDimension);
        }
        return ( new _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.Dimension(
            dimensions.container.width,
            tabsControlDimension.height + (breadcrumbsControlDimension ? breadcrumbsControlDimension.height : 0)
        ));
    }
    getHeight() {
        const tabsControlHeight = this.editorTabsControl.getHeight();
        const breadcrumbsControlHeight = this.breadcrumbsControl?.isHidden() === false ? _breadcrumbsControl_js__WEBPACK_IMPORTED_MODULE_6__.BreadcrumbsControl.HEIGHT : 0;
        return {
            total: tabsControlHeight + breadcrumbsControlHeight,
            offset: tabsControlHeight
        };
    }
};
EditorTitleControl = ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_3__.IInstantiationService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_5__.IThemeService))
], EditorTitleControl));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/media/breadcrumbscontrol.css.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/media/breadcrumbscontrol.css.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ css),
/* harmony export */   "default": () => (/* binding */ css)
/* harmony export */ });
/* harmony import */ var _external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../external/rollup-plugin-styles/dist/runtime/inject-css.js */ "./node_modules/vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js");

var css = ".monaco-workbench .part.editor>.content .editor-group-container .breadcrumbs-control.hidden{display:none}.monaco-workbench .part.editor>.content .editor-group-container .breadcrumbs-control .monaco-breadcrumb-item.focused .hint-more,.monaco-workbench .part.editor>.content .editor-group-container .breadcrumbs-control .monaco-breadcrumb-item.focused .monaco-icon-label,.monaco-workbench .part.editor>.content .editor-group-container .breadcrumbs-control .monaco-breadcrumb-item.selected .hint-more,.monaco-workbench .part.editor>.content .editor-group-container .breadcrumbs-control .monaco-breadcrumb-item.selected .monaco-icon-label{text-decoration-line:underline}.monaco-workbench .monaco-breadcrumb-item.shows-symbol-icon .codicon[class*=codicon-symbol-]{padding-right:6px}.monaco-workbench .monaco-breadcrumbs-picker .arrow{border-style:solid;position:absolute;width:0}.monaco-workbench .monaco-breadcrumbs-picker .picker-item{flex:1;line-height:22px}.monaco-workbench .monaco-breadcrumbs-picker .highlighting-tree{display:flex;flex-direction:column;height:100%;overflow:hidden}.monaco-workbench .monaco-breadcrumbs-picker .highlighting-tree>.input{box-sizing:border-box;height:36px;padding:5px 9px;position:relative}.monaco-workbench .monaco-breadcrumbs-picker .highlighting-tree>.tree{height:calc(100% - 36px)}.monaco-workbench .monaco-breadcrumbs-picker .highlighting-tree.inactive>.input{display:none}.monaco-workbench .monaco-breadcrumbs-picker .highlighting-tree.inactive>.tree{height:100%}.monaco-workbench .monaco-breadcrumbs-picker .highlighting-tree .monaco-highlighted-label .highlight{font-weight:700}";
(0,_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__["default"])(css,{});



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/media/editorgroupview.css.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/media/editorgroupview.css.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ css),
/* harmony export */   "default": () => (/* binding */ css)
/* harmony export */ });
/* harmony import */ var _external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../external/rollup-plugin-styles/dist/runtime/inject-css.js */ "./node_modules/vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js");

var css = ".monaco-workbench .part.editor>.content .editor-group-container{height:100%}.monaco-workbench .part.editor>.content .editor-group-container.empty{opacity:.5}.monaco-workbench .part.editor>.content .editor-group-container.empty.active,.monaco-workbench .part.editor>.content .editor-group-container.empty.dragged-over{opacity:1}.monaco-workbench .part.editor>.content:not(.empty) .editor-group-container.empty.active:focus{outline:1px solid var(--vscode-editorGroup-focusedEmptyBorder);outline-offset:-2px}.monaco-workbench .part.editor>.content.empty .editor-group-container.empty.active:focus{outline:none}.monaco-workbench .part.editor>.content .editor-group-container>.editor-group-watermark{align-items:center;display:flex;flex-direction:column;height:100%;justify-content:center;margin:auto;max-width:290px}.monaco-workbench .part.editor>.content .editor-group-container:not(.empty)>.editor-group-watermark{display:none}.monaco-workbench .part.editor>.content.auxiliary .editor-group-container.empty>.editor-group-watermark,.monaco-workbench .part.editor>.content:not(.empty) .editor-group-container.empty>.editor-group-watermark{height:calc(100% - 70px);max-width:200px}.monaco-workbench .part.editor>.content .editor-group-container>.editor-group-watermark>.letterpress{aspect-ratio:1/1;background-image:url(\"data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjYwIDI2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWw6c3BhY2U9InByZXNlcnZlIiBzdHlsZT0iZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEuNDE0MjEiPjxnIG9wYWNpdHk9Ii4xIj48cGF0aCBkPSJNMjU5Ljk5NiAyNDIuMDAySC0uMDAzVjE4aDI2MHYyMjRaTTUuOTk3IDI0LjAwNnYyMTEuOTkxaDI0OFYyNC4wMDZoLTI0OFoiLz48cGF0aCBkPSJNNzcgMjJoMTh2MjE2SDc3ek0xMTIgNDJoNzB2MThoLTcwek0xMTIgMTgyaDcwdjE4aC03MHpNMTI5LjQ5OCA3N2g4OHYxOGgtODh6TTEyOS40OTggMTEyaDg4djE4aC04OHpNMTI5LjQ5OCAxNDdoODh2MThoLTg4eiIvPjwvZz48L3N2Zz4=\");background-position-x:center;background-repeat:no-repeat;background-size:contain;max-height:100%;width:100%}.monaco-workbench.vs-dark .part.editor>.content .editor-group-container .editor-group-watermark>.letterpress{background-image:url(\"data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjYwIDI2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWw6c3BhY2U9InByZXNlcnZlIiBzdHlsZT0iZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEuNDE0MjEiPjxnIG9wYWNpdHk9Ii4zIj48cGF0aCBkPSJNMjU5Ljk5NiAyNDIuMDAySC0uMDAzVjE4aDI2MHYyMjRaTTUuOTk3IDI0LjAwNnYyMTEuOTkxaDI0OFYyNC4wMDZoLTI0OFoiLz48cGF0aCBkPSJNNzcgMjJoMTh2MjE2SDc3ek0xMTIgNDJoNzB2MThoLTcwek0xMTIgMTgyaDcwdjE4aC03MHpNMTI5LjQ5OCA3N2g4OHYxOGgtODh6TTEyOS40OTggMTEyaDg4djE4aC04OHpNMTI5LjQ5OCAxNDdoODh2MThoLTg4eiIvPjwvZz48L3N2Zz4=\")}.monaco-workbench.hc-light .part.editor>.content .editor-group-container .editor-group-watermark>.letterpress{background-image:url(\"data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjYwIDI2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWw6c3BhY2U9InByZXNlcnZlIiBzdHlsZT0iZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEuNDE0MjEiPjxnIGZpbGw9IiNkOWQ5ZDkiPjxwYXRoIGQ9Ik0yNTkuOTk2IDI0Mi4wMDJILS4wMDNWMThoMjYwdjIyNFpNNS45OTcgMjQuMDA2djIxMS45OTFoMjQ4VjI0LjAwNmgtMjQ4WiIvPjxwYXRoIGQ9Ik03NyAyMmgxOHYyMTZINzd6TTExMiA0Mmg3MHYxOGgtNzB6TTExMiAxODJoNzB2MThoLTcwek0xMjkuNDk4IDc3aDg4djE4aC04OHpNMTI5LjQ5OCAxMTJoODh2MThoLTg4ek0xMjkuNDk4IDE0N2g4OHYxOGgtODh6Ii8+PC9nPjwvc3ZnPg==\")}.monaco-workbench.hc-black .part.editor>.content .editor-group-container .editor-group-watermark>.letterpress{background-image:url(\"data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjYwIDI2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWw6c3BhY2U9InByZXNlcnZlIiBzdHlsZT0iZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEuNDE0MjEiPjxnIGZpbGw9IiMzQzNDM0MiPjxwYXRoIGQ9Ik0yNTkuOTk2IDI0Mi4wMDJILS4wMDNWMThoMjYwdjIyNFpNNS45OTcgMjQuMDA2djIxMS45OTFoMjQ4VjI0LjAwNmgtMjQ4WiIvPjxwYXRoIGQ9Ik03NyAyMmgxOHYyMTZINzd6TTExMiA0Mmg3MHYxOGgtNzB6TTExMiAxODJoNzB2MThoLTcwek0xMjkuNDk4IDc3aDg4djE4aC04OHpNMTI5LjQ5OCAxMTJoODh2MThoLTg4ek0xMjkuNDk4IDE0N2g4OHYxOGgtODh6Ii8+PC9nPjwvc3ZnPg==\")}.monaco-workbench .part.editor>.content .editor-group-container.max-height-478px>.editor-group-watermark>.shortcuts,.monaco-workbench .part.editor>.content.auxiliary .editor-group-container>.editor-group-watermark>.shortcuts,.monaco-workbench .part.editor>.content:not(.empty) .editor-group-container>.editor-group-watermark>.shortcuts{display:none}.monaco-workbench .part.editor>.content .editor-group-container>.editor-group-watermark>.shortcuts>.watermark-box{border-collapse:separate;border-spacing:11px 17px;display:inline-table}.monaco-workbench .part.editor>.content .editor-group-container>.editor-group-watermark>.shortcuts dl{color:var(--vscode-editorWatermark-foreground);cursor:default;display:table-row;opacity:.8}.monaco-workbench .part.editor>.content .editor-group-container>.editor-group-watermark>.shortcuts dt{letter-spacing:.04em;text-align:right}.monaco-workbench .part.editor>.content .editor-group-container>.editor-group-watermark>.shortcuts dd{text-align:left}.monaco-workbench .part.editor>.content .editor-group-container>.editor-group-watermark>.shortcuts dd,.monaco-workbench .part.editor>.content .editor-group-container>.editor-group-watermark>.shortcuts dt{display:table-cell;vertical-align:middle}.monaco-workbench .part.editor>.content .editor-group-container>.title{box-sizing:border-box;overflow:hidden;position:relative}.monaco-workbench .part.editor>.content .editor-group-container>.title:not(.tabs){display:flex;flex-wrap:nowrap}.monaco-workbench .part.editor>.content .editor-group-container>.title.title-border-bottom:after{background-color:var(--title-border-bottom-color);bottom:0;content:\"\";height:1px;left:0;pointer-events:none;position:absolute;width:100%;z-index:9}.monaco-workbench .part.editor>.content .editor-group-container.empty>.title{display:none}.monaco-workbench .part.editor>.content .editor-group-container>.editor-group-container-toolbar{display:none;height:35px}.monaco-workbench .part.editor>.content .editor-group-container.empty.locked>.editor-group-container-toolbar,.monaco-workbench .part.editor>.content.auxiliary .editor-group-container.empty>.editor-group-container-toolbar,.monaco-workbench .part.editor>.content:not(.empty) .editor-group-container.empty>.editor-group-container-toolbar{display:block}.monaco-workbench .part.editor>.content .editor-group-container>.editor-group-container-toolbar .actions-container{justify-content:flex-end}.monaco-workbench .part.editor>.content .editor-group-container>.editor-group-container-toolbar .action-item{margin-right:4px}.monaco-workbench .part.editor>.content .editor-group-container.empty>.editor-container{display:none}.monaco-workbench .part.editor>.content .editor-group-container>.editor-container>.editor-instance{height:100%}.monaco-workbench .part.editor>.content .grid-view-container{height:100%;width:100%}";
(0,_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__["default"])(css,{});



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/media/editorplaceholder.css.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/media/editorplaceholder.css.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ css),
/* harmony export */   "default": () => (/* binding */ css)
/* harmony export */ });
/* harmony import */ var _external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../external/rollup-plugin-styles/dist/runtime/inject-css.js */ "./node_modules/vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js");

var css = ".monaco-editor-pane-placeholder{align-items:center;box-sizing:border-box;display:flex;flex-direction:column;gap:10px;justify-content:center;padding:0 16px}.monaco-editor-pane-placeholder:focus{outline:none!important}.monaco-editor-pane-placeholder .editor-placeholder-icon-container .codicon{font-size:48px!important}.monaco-editor-pane-placeholder .editor-placeholder-icon-container .codicon.codicon-error{color:var(--vscode-editorError-foreground)}.monaco-editor-pane-placeholder .editor-placeholder-icon-container .codicon.codicon-warning{color:var(--vscode-editorWarning-foreground)}.monaco-editor-pane-placeholder .editor-placeholder-icon-container .codicon.codicon-info,.monaco-editor-pane-placeholder .editor-placeholder-icon-container .codicon.codicon-workspace-untrusted{color:var(--vscode-editorInfo-foreground)}.monaco-editor-pane-placeholder.max-height-200px .editor-placeholder-icon-container{display:none}.monaco-editor-pane-placeholder .editor-placeholder-label-container{font-size:14px;max-width:450px;text-align:center;user-select:text;-webkit-user-select:text;word-break:break-word}.monaco-editor-pane-placeholder .editor-placeholder-buttons-container{display:flex}.monaco-editor-pane-placeholder .editor-placeholder-buttons-container>.monaco-button{font-size:14px;margin:4px 5px;outline-offset:2px!important;padding:6px 11px;width:fit-content}";
(0,_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__["default"])(css,{});



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/media/editorstatus.css.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/media/editorstatus.css.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ css),
/* harmony export */   "default": () => (/* binding */ css)
/* harmony export */ });
/* harmony import */ var _external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../external/rollup-plugin-styles/dist/runtime/inject-css.js */ "./node_modules/vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js");

var css = ".monaco-workbench .screen-reader-detected-explanation{cursor:default;padding:1em;right:6px;top:30px;width:420px}.monaco-workbench .screen-reader-detected-explanation .cancel{border:none;cursor:pointer;height:22px;padding:.5em;position:absolute;right:0;top:0;width:22px}.monaco-workbench .screen-reader-detected-explanation h2{font-size:1.8em;font-weight:400;margin:0;padding:0}.monaco-workbench .screen-reader-detected-explanation p{font-size:1.2em}.monaco-workbench .screen-reader-detected-explanation hr{border:0;height:2px}.monaco-workbench .screen-reader-detected-explanation .buttons{display:flex}.monaco-workbench .screen-reader-detected-explanation .buttons a{font-size:13px;margin-right:5px;max-width:fit-content;padding-left:12px;padding-right:12px}";
(0,_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__["default"])(css,{});



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/media/editortabscontrol.css.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/media/editortabscontrol.css.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ css),
/* harmony export */   "default": () => (/* binding */ css)
/* harmony export */ });
/* harmony import */ var _external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../external/rollup-plugin-styles/dist/runtime/inject-css.js */ "./node_modules/vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js");

var css = ".monaco-workbench .part.editor>.content .editor-group-container>.title{cursor:pointer}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab .tab-label,.monaco-workbench .part.editor>.content .editor-group-container>.title .title-label{flex:1}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab .tab-label .label-name,.monaco-workbench .part.editor>.content .editor-group-container>.title .title-label .label-name{white-space:nowrap}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab .tab-label a,.monaco-workbench .part.editor>.content .editor-group-container>.title .title-label a{font-size:13px}.monaco-workbench .part.editor>.content .editor-group-container>.title .monaco-icon-label:before,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab .monaco-icon-label:before,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab .tab-label a,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab .tab-label span,.monaco-workbench .part.editor>.content .editor-group-container>.title .title-label a,.monaco-workbench .part.editor>.content .editor-group-container>.title .title-label h2{cursor:pointer}.monaco-workbench .part.editor>.content .editor-group-container>.title .monaco-icon-label:before{height:var(--editor-group-tab-height)}.monaco-workbench .part.editor>.content .editor-group-container>.title.breadcrumbs .monaco-icon-label:after,.monaco-workbench .part.editor>.content .editor-group-container>.title.tabs .monaco-icon-label:after{margin-right:0}.monaco-editor-group-drag-image{border-radius:10px;display:inline-block;font-size:12px;max-width:120px;overflow:hidden;padding:1px 7px;position:absolute;text-overflow:ellipsis;white-space:nowrap}";
(0,_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__["default"])(css,{});



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/media/editortitlecontrol.css.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/media/editortitlecontrol.css.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ css),
/* harmony export */   "default": () => (/* binding */ css)
/* harmony export */ });
/* harmony import */ var _external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../external/rollup-plugin-styles/dist/runtime/inject-css.js */ "./node_modules/vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js");

var css = ".monaco-workbench .part.editor>.content .editor-group-container>.title .breadcrumbs-below-tabs .breadcrumbs-control{cursor:default;flex:1 100%;height:22px}.monaco-workbench .part.editor>.content .editor-group-container>.title .breadcrumbs-below-tabs .breadcrumbs-control .monaco-icon-label{height:22px;line-height:22px}.monaco-workbench .part.editor>.content .editor-group-container>.title .breadcrumbs-below-tabs .breadcrumbs-control .monaco-icon-label:before{height:22px}.monaco-workbench .part.editor>.content .editor-group-container>.title .breadcrumbs-below-tabs .breadcrumbs-control .outline-element-icon{height:22px;line-height:22px;padding-right:3px}.monaco-workbench .part.editor>.content .editor-group-container>.title .breadcrumbs-below-tabs .breadcrumbs-control .monaco-breadcrumb-item{max-width:80%}.monaco-workbench .part.editor>.content .editor-group-container>.title .breadcrumbs-below-tabs .breadcrumbs-control .monaco-breadcrumb-item:before{align-items:center;display:flex;height:22px;justify-content:center;width:16px}.monaco-workbench .part.editor>.content .editor-group-container>.title .breadcrumbs-below-tabs .breadcrumbs-control .monaco-breadcrumb-item:last-child{padding-right:8px}.monaco-workbench .part.editor>.content .editor-group-container>.title .breadcrumbs-below-tabs .breadcrumbs-control .monaco-breadcrumb-item:last-child .codicon:last-child{display:none}";
(0,_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__["default"])(css,{});



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/media/multieditortabscontrol.css.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/media/multieditortabscontrol.css.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ css),
/* harmony export */   "default": () => (/* binding */ css)
/* harmony export */ });
/* harmony import */ var _external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../external/rollup-plugin-styles/dist/runtime/inject-css.js */ "./node_modules/vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js");

var css = ".monaco-workbench .part.editor>.content .editor-group-container>.title>.tabs-and-actions-container{display:flex;position:relative}.monaco-workbench .part.editor>.content .editor-group-container>.title>.tabs-and-actions-container.empty{display:none}.monaco-workbench .part.editor>.content .editor-group-container>.title>.tabs-and-actions-container.tabs-border-bottom:after{background-color:var(--tabs-border-bottom-color);bottom:0;content:\"\";height:1px;left:0;pointer-events:none;position:absolute;width:100%;z-index:9}.monaco-workbench .part.editor>.content .editor-group-container>.title>.tabs-and-actions-container>.monaco-scrollable-element{flex:1}.monaco-workbench .part.editor>.content .editor-group-container>.title>.tabs-and-actions-container>.monaco-scrollable-element .scrollbar{cursor:default;z-index:11}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container{display:flex;height:var(--editor-group-tab-height);scrollbar-width:none}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container.scroll{overflow:scroll!important}.monaco-workbench .part.editor>.content .editor-group-container>.title>.tabs-and-actions-container.wrapping .tabs-container{flex-wrap:wrap;height:auto}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container::-webkit-scrollbar{display:none}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab{background-color:var(--vscode-tab-unfocusedInactiveBackground);box-sizing:border-box;cursor:pointer;display:flex;height:var(--editor-group-tab-height);padding-left:10px;position:relative;white-space:nowrap}.monaco-workbench .part.editor>.content .editor-group-container.active>.title .tabs-container>.tab{background-color:var(--vscode-tab-inactiveBackground)}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.active{background-color:var(--vscode-tab-unfocusedActiveBackground)}.monaco-workbench .part.editor>.content .editor-group-container.active>.title .tabs-container>.tab.active{background-color:var(--vscode-tab-activeBackground)}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab{color:var(--vscode-tab-unfocusedInactiveForeground)}.monaco-workbench .part.editor>.content .editor-group-container.active>.title .tabs-container>.tab{color:var(--vscode-tab-inactiveForeground)}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.active{color:var(--vscode-tab-unfocusedActiveForeground)}.monaco-workbench .part.editor>.content .editor-group-container.active>.title .tabs-container>.tab.active{color:var(--vscode-tab-activeForeground)}.monaco-workbench .part.editor>.content .editor-group-container.active>.title .tabs-container>.tab.selected:not(.active){background-color:var(--vscode-tab-selectedBackground);color:var(--vscode-tab-selectedForeground)}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab:not(.active){box-shadow:none}.monaco-workbench .part.editor>.content .editor-group-container>.title>.tabs-and-actions-container.wrapping .tabs-container>.tab:last-child{margin-right:var(--last-tab-margin-right)}.monaco-workbench .part.editor>.content .editor-group-container>.title>.tabs-and-actions-container.wrapping .tabs-container>.tab.last-in-row:not(:last-child){border-right:0!important}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-fixed.has-icon.close-action-off:not(.sticky-compact),.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-fixed.has-icon.tab-actions-right,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-shrink.has-icon.close-action-off:not(.sticky-compact),.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-shrink.has-icon.tab-actions-right{padding-left:5px}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-fit{flex-shrink:0;min-width:fit-content;width:120px}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-fixed{flex:1 0 0;max-width:var(--tab-sizing-current-width,var(--tab-sizing-fixed-max-width,160px));min-width:var(--tab-sizing-current-width,var(--tab-sizing-fixed-min-width,50px))}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-fixed.last-in-row{min-width:calc(var(--tab-sizing-current-width, var(--tab-sizing-fixed-min-width, 50px)) - 1px)}.monaco-workbench .part.editor>.content .editor-group-container>.title>.tabs-and-actions-container.wrapping .tabs-container>.tab.sizing-fit.last-in-row:not(:last-child){flex-grow:1}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-shrink{flex-basis:0;flex-grow:1;max-width:fit-content;min-width:80px}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-fit.sticky-compact,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-fit.sticky-shrink,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-fixed.sticky-compact,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-fixed.sticky-shrink,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-shrink.sticky-compact,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-shrink.sticky-shrink{flex-basis:0;flex-grow:0;position:sticky;z-index:8}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-fit.sticky-compact,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-fixed.sticky-compact,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-shrink.sticky-compact{max-width:38px;min-width:38px;width:38px}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-fit.sticky-shrink,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-fixed.sticky-shrink,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-shrink.sticky-shrink{max-width:80px;min-width:80px;width:80px}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container.disable-sticky-tabs>.tab.sizing-fit.sticky-compact,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container.disable-sticky-tabs>.tab.sizing-fit.sticky-shrink,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container.disable-sticky-tabs>.tab.sizing-fixed.sticky-compact,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container.disable-sticky-tabs>.tab.sizing-fixed.sticky-shrink,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container.disable-sticky-tabs>.tab.sizing-shrink.sticky-compact,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container.disable-sticky-tabs>.tab.sizing-shrink.sticky-shrink{left:unset!important;position:relative;z-index:unset}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab .tab-fade-hider{display:none}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-fixed.close-action-off .tab-fade-hider,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-fixed.tab-actions-left .tab-fade-hider,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-shrink.close-action-off .tab-fade-hider,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-shrink.tab-actions-left .tab-fade-hider{display:flex;flex:0;width:5px}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-fixed.tab-actions-left,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-shrink.tab-actions-left{min-width:80px;padding-right:5px}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.tab-actions-left:not(.sticky-compact){flex-direction:row-reverse;padding-left:0;padding-right:10px}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab>.tab-border-bottom-container,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab>.tab-border-top-container{display:none}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.active.tab-border-top>.tab-border-top-container,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.dirty-border-top>.tab-border-top-container,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.selected.tab-border-top>.tab-border-top-container,.monaco-workbench .part.editor>.content .editor-group-container>.title.two-tab-bars .tabs-and-actions-container:not(:first-child) .tabs-container>.tab.active.tab-border-bottom>.tab-border-bottom-container,.monaco-workbench .part.editor>.content .editor-group-container>.title:not(.two-tab-bars) .tabs-container>.tab.active.tab-border-bottom>.tab-border-bottom-container{display:block;left:0;pointer-events:none;position:absolute;width:100%}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.active.tab-border-top>.tab-border-top-container,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.selected.tab-border-top>.tab-border-top-container{background-color:var(--tab-border-top-color);height:1px;top:0;z-index:6}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.active.tab-border-bottom>.tab-border-bottom-container{background-color:var(--tab-border-bottom-color);bottom:0;height:1px;z-index:10}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.dirty-border-top>.tab-border-top-container{background-color:var(--tab-dirty-border-top-color);height:2px;top:0;z-index:6}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab .tab-label{line-height:var(--editor-group-tab-height);margin-bottom:auto;margin-top:auto}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-fixed .tab-label,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-shrink .tab-label{position:relative}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-fixed>.tab-label>.monaco-icon-label-container:after,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-shrink>.tab-label>.monaco-icon-label-container:after{bottom:1px;content:\"\";height:calc(100% - 2px);opacity:1;padding:0;position:absolute;right:0;top:1px;width:5px}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-fixed:focus>.tab-label>.monaco-icon-label-container:after,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-shrink:focus>.tab-label>.monaco-icon-label-container:after{opacity:0}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-fixed>.tab-label.tab-label-has-badge:after,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-shrink:not(.tab-actions-left):not(.close-action-off) .tab-label,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-shrink>.tab-label.tab-label-has-badge:after{padding-right:5px}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sticky-compact:not(.has-icon) .monaco-icon-label{text-align:center}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-fit .monaco-icon-label,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-fit .monaco-icon-label>.monaco-icon-label-container{overflow-x:visible}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-fixed>.monaco-icon-label>.monaco-icon-label-container,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-shrink>.monaco-icon-label>.monaco-icon-label-container{flex:none;text-overflow:clip}.monaco-workbench.hc-black .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-fixed>.monaco-icon-label>.monaco-icon-label-container,.monaco-workbench.hc-black .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-shrink>.monaco-icon-label>.monaco-icon-label-container,.monaco-workbench.hc-light .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-fixed>.monaco-icon-label>.monaco-icon-label-container,.monaco-workbench.hc-light .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-shrink>.monaco-icon-label>.monaco-icon-label-container{text-overflow:ellipsis}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab>.tab-actions{margin-bottom:auto;margin-top:auto;width:28px}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab>.tab-actions>.monaco-action-bar{width:28px}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.tab-actions-right.sizing-fixed>.tab-actions,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.tab-actions-right.sizing-shrink>.tab-actions{flex:0;overflow:hidden}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.dirty.tab-actions-right.sizing-fixed>.tab-actions,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.dirty.tab-actions-right.sizing-shrink>.tab-actions,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sticky.tab-actions-right.sizing-fixed>.tab-actions,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sticky.tab-actions-right.sizing-shrink>.tab-actions,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.tab-actions-right.sizing-fixed:hover>.tab-actions,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.tab-actions-right.sizing-fixed>.tab-actions:focus-within,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.tab-actions-right.sizing-shrink:hover>.tab-actions,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.tab-actions-right.sizing-shrink>.tab-actions:focus-within{overflow:visible}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.close-action-off:not(.dirty)>.tab-actions,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sticky-compact>.tab-actions{display:none}.monaco-workbench .part.editor>.content .editor-group-container.active>.title .tabs-container>.tab.active:hover>.tab-actions .action-label,.monaco-workbench .part.editor>.content .editor-group-container.active>.title .tabs-container>.tab.active>.tab-actions .action-label,.monaco-workbench .part.editor>.content .editor-group-container.active>.title .tabs-container>.tab.dirty>.tab-actions .action-label,.monaco-workbench .part.editor>.content .editor-group-container.active>.title .tabs-container>.tab.sticky:not(.pinned-action-off)>.tab-actions .action-label,.monaco-workbench .part.editor>.content .editor-group-container.active>.title .tabs-container>.tab:hover>.tab-actions .action-label,.monaco-workbench .part.editor>.content .editor-group-container.active>.title .tabs-container>.tab>.tab-actions .action-label:focus{opacity:1}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab>.tab-actions .actions-container{justify-content:center}.monaco-workbench .part.editor>.content .editor-group-container.active>.title .tabs-container>.tab>.tab-actions .action-label.codicon{color:inherit;font-size:16px;height:16px;padding:2px;width:16px}.monaco-workbench .part.editor>.content .editor-group-container.active>.title .tabs-container>.tab.sticky.dirty>.tab-actions .action-label:not(:hover):before,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sticky.dirty>.tab-actions .action-label:not(:hover):before{content:var(--vscode-icon-pinned-dirty-content);font-family:var(--vscode-icon-pinned-dirty-font-family)}.monaco-workbench .part.editor>.content .editor-group-container.active>.title .tabs-container>.tab.dirty>.tab-actions .action-label:not(:hover):before,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.dirty>.tab-actions .action-label:not(:hover):before{content:var(--vscode-icon-circle-filled-content);font-family:var(--vscode-icon-circle-filled-font-family)}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.active:hover>.tab-actions .action-label,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.active>.tab-actions .action-label,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.dirty>.tab-actions .action-label,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sticky:not(.pinned-action-off)>.tab-actions .action-label,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab:hover>.tab-actions .action-label{opacity:.5}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab>.tab-actions .action-label{opacity:0}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.close-action-off{padding-right:10px}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-fixed.close-action-off:not(.sticky-compact),.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.sizing-shrink.close-action-off:not(.sticky-compact){padding-right:5px}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.close-action-off.dirty-border-top>.tab-actions{display:none}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.close-action-off.dirty:not(.dirty-border-top):not(.sticky-compact){padding-right:0}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.close-action-off>.tab-actions{pointer-events:none}.monaco-workbench .part.editor>.content .editor-group-container>.title .editor-actions{cursor:default;flex:initial;height:var(--editor-group-tab-height);padding:0 8px 0 4px}.monaco-workbench .part.editor>.content .editor-group-container>.title .editor-actions.hidden{display:none}.monaco-workbench .part.editor>.content .editor-group-container>.title .editor-actions .action-item{margin-right:4px}.monaco-workbench .part.editor>.content .editor-group-container>.title>.tabs-and-actions-container.wrapping .editor-actions{bottom:0;position:absolute;right:0}.monaco-workbench .part.editor>.content .editor-group-container>.title.two-tab-bars>.tabs-and-actions-container:first-child .editor-actions{display:none}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.drop-target-left:after,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.drop-target-right:before{background-color:var(--vscode-tab-dragAndDropBorder);content:\"\";height:100%;pointer-events:none;position:absolute;top:0;width:1px;z-index:11}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.drop-target-right:before{left:0}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.drop-target-left:after{right:-1px}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.last-in-row.drop-target-left:not(:last-child):after{right:0}.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.last-in-row+.tab.drop-target-right:before,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab.last-in-row.drop-target-left:after,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab:first-child.drop-target-right:before,.monaco-workbench .part.editor>.content .editor-group-container>.title .tabs-container>.tab:last-child.drop-target-left:after{width:2px}";
(0,_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__["default"])(css,{});



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/media/singleeditortabscontrol.css.js":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/media/singleeditortabscontrol.css.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ css),
/* harmony export */   "default": () => (/* binding */ css)
/* harmony export */ });
/* harmony import */ var _external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../external/rollup-plugin-styles/dist/runtime/inject-css.js */ "./node_modules/vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js");

var css = ".monaco-workbench .part.editor>.content .editor-group-container>.title>.label-container{align-items:center;display:flex;flex:auto;height:var(--editor-group-tab-height);justify-content:flex-start;overflow:hidden}.monaco-workbench .part.editor>.content .editor-group-container>.title>.label-container>.title-label{line-height:var(--editor-group-tab-height);overflow:hidden;padding-left:20px;position:relative;text-overflow:ellipsis}.monaco-workbench .part.editor>.content .editor-group-container>.title>.label-container>.title-label>.monaco-icon-label-container{flex:initial}.monaco-workbench .part.editor>.content .editor-group-container>.title.breadcrumbs .single-tab.title-label{flex:none}.monaco-workbench .part.editor>.content .editor-group-container>.title.breadcrumbs .breadcrumbs-control{flex:1 50%;margin-left:.45em;overflow:hidden}.monaco-workbench .part.editor>.content .editor-group-container>.title.breadcrumbs .breadcrumbs-control .monaco-breadcrumb-item{font-size:.9em}.monaco-workbench .part.editor>.content .editor-group-container>.title.breadcrumbs .breadcrumbs-control.preview .monaco-breadcrumb-item{font-style:italic}.monaco-workbench .part.editor>.content .editor-group-container>.title.breadcrumbs .breadcrumbs-control .monaco-breadcrumb-item:before{background-image:none;content:\"/\";height:inherit;opacity:1;width:inherit}.monaco-workbench .part.editor>.content .editor-group-container>.title.breadcrumbs .breadcrumbs-control.backslash-path .monaco-breadcrumb-item:before{content:\"\\\\\"}.monaco-workbench .part.editor>.content .editor-group-container>.title.breadcrumbs .breadcrumbs-control .monaco-breadcrumb-item.root_folder+.monaco-breadcrumb-item:before,.monaco-workbench .part.editor>.content .editor-group-container>.title.breadcrumbs .breadcrumbs-control .monaco-breadcrumb-item.root_folder:before,.monaco-workbench .part.editor>.content .editor-group-container>.title.breadcrumbs .breadcrumbs-control.relative-path .monaco-breadcrumb-item:nth-child(2):before,.monaco-workbench.windows .part.editor>.content .editor-group-container>.title.breadcrumbs .breadcrumbs-control .monaco-breadcrumb-item:nth-child(2):before{display:none}.monaco-workbench .part.editor>.content .editor-group-container>.title.breadcrumbs .breadcrumbs-control .monaco-breadcrumb-item.root_folder:after{content:\"\\00a0\\00a0\";padding:0}.monaco-workbench .part.editor>.content .editor-group-container>.title.breadcrumbs .breadcrumbs-control .monaco-breadcrumb-item:last-child{padding-right:4px}.monaco-workbench .part.editor>.content .editor-group-container>.title.breadcrumbs .breadcrumbs-control .monaco-breadcrumb-item .codicon[class*=codicon-symbol-]{padding:0 1px}.monaco-workbench .part.editor>.content .editor-group-container>.title.breadcrumbs .breadcrumbs-control .monaco-breadcrumb-item .codicon:last-child{display:none}.monaco-workbench .part.editor>.content .editor-group-container>.title.breadcrumbs .breadcrumbs-control .monaco-icon-label:before{height:18px;padding-right:2px}.monaco-workbench .part.editor>.content .editor-group-container>.title>.title-actions{display:flex;flex:initial;height:var(--editor-group-tab-height);opacity:.5;padding-right:8px}.monaco-workbench .part.editor>.content .editor-group-container>.title>.title-actions.hidden{display:none}.monaco-workbench .part.editor>.content .editor-group-container>.title>.title-actions .action-item{margin-right:4px}.monaco-workbench .part.editor>.content .editor-group-container.active>.title>.title-actions{opacity:1}";
(0,_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__["default"])(css,{});



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/multiEditorTabsControl.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/multiEditorTabsControl.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MultiEditorTabsControl: () => (/* binding */ MultiEditorTabsControl)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _media_multieditortabscontrol_css_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./media/multieditortabscontrol.css.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/media/multieditortabscontrol.css.js");
/* harmony import */ var _base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../base/common/platform.js */ "./node_modules/vscode/vscode/src/vs/base/common/platform.js");
/* harmony import */ var _base_common_labels_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../base/common/labels.js */ "./node_modules/vscode/vscode/src/vs/base/common/labels.js");
/* harmony import */ var _common_editor_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../common/editor.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor.js");
/* harmony import */ var _editor_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../editor.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/editor.js");
/* harmony import */ var _base_browser_keyboardEvent_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../base/browser/keyboardEvent.js */ "./node_modules/vscode/vscode/src/vs/base/browser/keyboardEvent.js");
/* harmony import */ var _base_browser_touch_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../base/browser/touch.js */ "./node_modules/vscode/vscode/src/vs/base/browser/touch.js");
/* harmony import */ var _labels_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../labels.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/labels.js");
/* harmony import */ var _base_browser_ui_actionbar_actionbar_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../base/browser/ui/actionbar/actionbar.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/actionbar/actionbar.js");
/* harmony import */ var _platform_contextview_browser_contextView_service_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../platform/contextview/browser/contextView.service.js */ "./node_modules/vscode/vscode/src/vs/platform/contextview/browser/contextView.service.js");
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../platform/instantiation/common/instantiation.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var _platform_keybinding_common_keybinding_service_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../platform/keybinding/common/keybinding.service.js */ "./node_modules/vscode/vscode/src/vs/platform/keybinding/common/keybinding.service.js");
/* harmony import */ var _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../platform/contextkey/common/contextkey.service.js */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../platform/actions/common/actions.js */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var _editorTabsControl_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./editorTabsControl.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorTabsControl.js");
/* harmony import */ var _platform_quickinput_common_quickInput_service_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../platform/quickinput/common/quickInput.service.js */ "./node_modules/vscode/vscode/src/vs/platform/quickinput/common/quickInput.service.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _base_browser_ui_scrollbar_scrollableElement_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../base/browser/ui/scrollbar/scrollableElement.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/scrollbar/scrollableElement.js");
/* harmony import */ var _base_common_map_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../base/common/map.js */ "./node_modules/vscode/vscode/src/vs/base/common/map.js");
/* harmony import */ var _platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../platform/theme/common/themeService.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.js");
/* harmony import */ var _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../platform/theme/common/themeService.service.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.service.js");
/* harmony import */ var _common_theme_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../common/theme.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/theme.js");
/* harmony import */ var _platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../platform/theme/common/colorUtils.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colorUtils.js");
/* harmony import */ var _platform_theme_common_colors_baseColors_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/baseColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/baseColors.js");
/* harmony import */ var _platform_theme_common_colors_chartsColors_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/chartsColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/chartsColors.js");
/* harmony import */ var _platform_theme_common_colors_editorColors_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/editorColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/editorColors.js");
/* harmony import */ var _platform_theme_common_colors_inputColors_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/inputColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/inputColors.js");
/* harmony import */ var _platform_theme_common_colors_listColors_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/listColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/listColors.js");
/* harmony import */ var _platform_theme_common_colors_menuColors_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/menuColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/menuColors.js");
/* harmony import */ var _platform_theme_common_colors_minimapColors_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/minimapColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/minimapColors.js");
/* harmony import */ var _platform_theme_common_colors_miscColors_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/miscColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/miscColors.js");
/* harmony import */ var _platform_theme_common_colors_quickpickColors_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/quickpickColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/quickpickColors.js");
/* harmony import */ var _platform_theme_common_colors_searchColors_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/searchColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/searchColors.js");
/* harmony import */ var _dnd_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../dnd.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/dnd.js");
/* harmony import */ var _platform_notification_common_notification_service_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../../../platform/notification/common/notification.service.js */ "./node_modules/vscode/vscode/src/vs/platform/notification/common/notification.service.js");
/* harmony import */ var _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../../../base/browser/dom.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _editorActions_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./editorActions.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorActions.js");
/* harmony import */ var _base_common_types_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../../../../base/common/types.js */ "./node_modules/vscode/vscode/src/vs/base/common/types.js");
/* harmony import */ var _services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../../../services/editor/common/editorService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");
/* harmony import */ var _base_common_resources_js__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../../../../base/common/resources.js */ "./node_modules/vscode/vscode/src/vs/base/common/resources.js");
/* harmony import */ var _base_common_async_js__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../../../../base/common/async.js */ "./node_modules/vscode/vscode/src/vs/base/common/async.js");
/* harmony import */ var _services_path_common_pathService_service_js__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../../../services/path/common/pathService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/path/common/pathService.service.js");
/* harmony import */ var _base_common_path_js__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../../../../base/common/path.js */ "./node_modules/vscode/vscode/src/vs/base/common/path.js");
/* harmony import */ var _base_common_arrays_js__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../../../../base/common/arrays.js */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var _platform_theme_common_theme_js__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ../../../../platform/theme/common/theme.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/theme.js");
/* harmony import */ var _base_browser_browser_js__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ../../../../base/browser/browser.js */ "./node_modules/vscode/vscode/src/vs/base/browser/browser.js");
/* harmony import */ var _base_common_objects_js__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ../../../../base/common/objects.js */ "./node_modules/vscode/vscode/src/vs/base/common/objects.js");
/* harmony import */ var _platform_editor_common_editor_js__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ../../../../platform/editor/common/editor.js */ "./node_modules/vscode/vscode/src/vs/platform/editor/common/editor.js");
/* harmony import */ var _editorCommands_js__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./editorCommands.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorCommands.js");
/* harmony import */ var _base_browser_mouseEvent_js__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ../../../../base/browser/mouseEvent.js */ "./node_modules/vscode/vscode/src/vs/base/browser/mouseEvent.js");
/* harmony import */ var _editor_common_services_treeViewsDndService_js__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ../../../../editor/common/services/treeViewsDndService.js */ "./node_modules/vscode/vscode/src/vs/editor/common/services/treeViewsDndService.js");
/* harmony import */ var _editor_common_services_treeViewsDnd_js__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ../../../../editor/common/services/treeViewsDnd.js */ "./node_modules/vscode/vscode/src/vs/editor/common/services/treeViewsDnd.js");
/* harmony import */ var _services_editor_common_editorResolverService_service_js__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ../../../services/editor/common/editorResolverService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorResolverService.service.js");
/* harmony import */ var _common_editor_filteredEditorGroupModel_js__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ../../../common/editor/filteredEditorGroupModel.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/filteredEditorGroupModel.js");
/* harmony import */ var _services_host_browser_host_service_js__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ../../../services/host/browser/host.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/host/browser/host.service.js");
/* harmony import */ var _base_common_errors_js__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ../../../../base/common/errors.js */ "./node_modules/vscode/vscode/src/vs/base/common/errors.js");
/* harmony import */ var _base_browser_dnd_js__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ../../../../base/browser/dnd.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dnd.js");



























































var MultiEditorTabsControl_1;
let MultiEditorTabsControl = class MultiEditorTabsControl extends _editorTabsControl_js__WEBPACK_IMPORTED_MODULE_15__.EditorTabsControl {
    static { MultiEditorTabsControl_1 = this; }
    static { this.SCROLLBAR_SIZES = {
        default: 3,
        large: 10
    }; }
    static { this.TAB_WIDTH = {
        compact: 38,
        shrink: 80,
        fit: 120
    }; }
    static { this.DRAG_OVER_OPEN_TAB_THRESHOLD = 1500; }
    static { this.MOUSE_WHEEL_EVENT_THRESHOLD = 150; }
    static { this.MOUSE_WHEEL_DISTANCE_THRESHOLD = 1.5; }
    constructor(parent, editorPartsView, groupsView, groupView, tabsModel, contextMenuService, instantiationService, contextKeyService, keybindingService, notificationService, quickInputService, themeService, editorService, pathService, treeViewsDragAndDropService, editorResolverService, hostService) {
        super(parent, editorPartsView, groupsView, groupView, tabsModel, contextMenuService, instantiationService, contextKeyService, keybindingService, notificationService, quickInputService, themeService, editorResolverService, hostService);
        this.editorService = editorService;
        this.pathService = pathService;
        this.treeViewsDragAndDropService = treeViewsDragAndDropService;
        this.closeEditorAction = this._register(this.instantiationService.createInstance(_editorActions_js__WEBPACK_IMPORTED_MODULE_38__.CloseEditorTabAction, _editorActions_js__WEBPACK_IMPORTED_MODULE_38__.CloseEditorTabAction.ID, _editorActions_js__WEBPACK_IMPORTED_MODULE_38__.CloseEditorTabAction.LABEL));
        this.unpinEditorAction = this._register(this.instantiationService.createInstance(_editorActions_js__WEBPACK_IMPORTED_MODULE_38__.UnpinEditorAction, _editorActions_js__WEBPACK_IMPORTED_MODULE_38__.UnpinEditorAction.ID, _editorActions_js__WEBPACK_IMPORTED_MODULE_38__.UnpinEditorAction.LABEL));
        this.tabResourceLabels = this._register(this.instantiationService.createInstance(_labels_js__WEBPACK_IMPORTED_MODULE_8__.ResourceLabels, _labels_js__WEBPACK_IMPORTED_MODULE_8__.DEFAULT_LABELS_CONTAINER));
        this.tabLabels = [];
        this.tabActionBars = [];
        this.tabDisposables = [];
        this.dimensions = {
            container: _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.Dimension.None,
            available: _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.Dimension.None
        };
        this.layoutScheduler = this._register(( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_17__.MutableDisposable())));
        this.path = _base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.isWindows ? _base_common_path_js__WEBPACK_IMPORTED_MODULE_44__.win32 : _base_common_path_js__WEBPACK_IMPORTED_MODULE_44__.posix;
        this.lastMouseWheelEventTime = 0;
        this.isMouseOverTabs = false;
        this.updateEditorLabelScheduler = this._register(( (new _base_common_async_js__WEBPACK_IMPORTED_MODULE_42__.RunOnceScheduler(() => this.doUpdateEditorLabels(), 0))));
        (async () => this.path = await this.pathService.path)();
        this._register(this.tabResourceLabels.onDidChangeDecorations(() => this.doHandleDecorationsChange()));
    }
    create(parent) {
        super.create(parent);
        this.titleContainer = parent;
        this.tabsAndActionsContainer = document.createElement('div');
        this.tabsAndActionsContainer.classList.add('tabs-and-actions-container');
        this.titleContainer.appendChild(this.tabsAndActionsContainer);
        this.tabsContainer = document.createElement('div');
        this.tabsContainer.setAttribute('role', 'tablist');
        this.tabsContainer.draggable = true;
        this.tabsContainer.classList.add('tabs-container');
        this._register(_base_browser_touch_js__WEBPACK_IMPORTED_MODULE_7__.Gesture.addTarget(this.tabsContainer));
        this.tabSizingFixedDisposables = this._register(( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_17__.DisposableStore())));
        this.updateTabSizing(false);
        this.tabsScrollbar = this.createTabsScrollbar(this.tabsContainer);
        this.tabsAndActionsContainer.appendChild(this.tabsScrollbar.getDomNode());
        this.registerTabsContainerListeners(this.tabsContainer, this.tabsScrollbar);
        this.createEditorActionsToolBar(this.tabsAndActionsContainer, ['editor-actions']);
        this.updateTabsControlVisibility();
    }
    createTabsScrollbar(scrollable) {
        const tabsScrollbar = this._register(( (new _base_browser_ui_scrollbar_scrollableElement_js__WEBPACK_IMPORTED_MODULE_18__.ScrollableElement(scrollable, {
            horizontal: 1 ,
            horizontalScrollbarSize: this.getTabsScrollbarSizing(),
            vertical: 2 ,
            scrollYToX: true,
            useShadows: false
        }))));
        this._register(tabsScrollbar.onScroll(e => {
            if (e.scrollLeftChanged) {
                scrollable.scrollLeft = e.scrollLeft;
            }
        }));
        return tabsScrollbar;
    }
    updateTabsScrollbarSizing() {
        this.tabsScrollbar?.updateOptions({
            horizontalScrollbarSize: this.getTabsScrollbarSizing()
        });
    }
    updateTabSizing(fromEvent) {
        const [tabsContainer, tabSizingFixedDisposables] = (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_39__.assertAllDefined)(this.tabsContainer, this.tabSizingFixedDisposables);
        tabSizingFixedDisposables.clear();
        const options = this.groupsView.partOptions;
        if (options.tabSizing === 'fixed') {
            tabsContainer.style.setProperty('--tab-sizing-fixed-min-width', `${options.tabSizingFixedMinWidth}px`);
            tabsContainer.style.setProperty('--tab-sizing-fixed-max-width', `${options.tabSizingFixedMaxWidth}px`);
            tabSizingFixedDisposables.add((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.addDisposableListener)(tabsContainer, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.EventType.MOUSE_ENTER, () => {
                this.isMouseOverTabs = true;
            }));
            tabSizingFixedDisposables.add((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.addDisposableListener)(tabsContainer, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.EventType.MOUSE_LEAVE, () => {
                this.isMouseOverTabs = false;
                this.updateTabsFixedWidth(false);
            }));
        }
        else if (fromEvent) {
            tabsContainer.style.removeProperty('--tab-sizing-fixed-min-width');
            tabsContainer.style.removeProperty('--tab-sizing-fixed-max-width');
            this.updateTabsFixedWidth(false);
        }
    }
    updateTabsFixedWidth(fixed) {
        this.forEachTab((editor, tabIndex, tabContainer) => {
            if (fixed) {
                const { width } = tabContainer.getBoundingClientRect();
                tabContainer.style.setProperty('--tab-sizing-current-width', `${width}px`);
            }
            else {
                tabContainer.style.removeProperty('--tab-sizing-current-width');
            }
        });
    }
    getTabsScrollbarSizing() {
        if (this.groupsView.partOptions.titleScrollbarSizing !== 'large') {
            return MultiEditorTabsControl_1.SCROLLBAR_SIZES.default;
        }
        return MultiEditorTabsControl_1.SCROLLBAR_SIZES.large;
    }
    registerTabsContainerListeners(tabsContainer, tabsScrollbar) {
        this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.addDisposableListener)(tabsContainer, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.EventType.SCROLL, () => {
            if (tabsContainer.classList.contains('scroll')) {
                tabsScrollbar.setScrollPosition({
                    scrollLeft: tabsContainer.scrollLeft
                });
            }
        }));
        for (const eventType of [_base_browser_touch_js__WEBPACK_IMPORTED_MODULE_7__.EventType.Tap, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.EventType.DBLCLICK]) {
            this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.addDisposableListener)(tabsContainer, eventType, (e) => {
                if (eventType === _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.EventType.DBLCLICK) {
                    if (e.target !== tabsContainer) {
                        return;
                    }
                }
                else {
                    if (e.tapCount !== 2) {
                        return;
                    }
                    if (e.initialTarget !== tabsContainer) {
                        return;
                    }
                }
                _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.EventHelper.stop(e);
                this.editorService.openEditor({
                    resource: undefined,
                    options: {
                        pinned: true,
                        index: this.groupView.count,
                        override: _common_editor_js__WEBPACK_IMPORTED_MODULE_4__.DEFAULT_EDITOR_ASSOCIATION.id
                    }
                }, this.groupView.id);
            }));
        }
        this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.addDisposableListener)(tabsContainer, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.EventType.MOUSE_DOWN, e => {
            if (e.button === 1) {
                e.preventDefault();
            }
        }));
        if (_base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.isLinux) {
            this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.addDisposableListener)(tabsContainer, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.EventType.MOUSE_UP, e => {
                if (e.button === 1) {
                    e.preventDefault();
                }
            }));
        }
        let lastDragEvent = undefined;
        let isNewWindowOperation = false;
        this._register(( (new _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.DragAndDropObserver(tabsContainer, {
            onDragStart: e => {
                isNewWindowOperation = this.onGroupDragStart(e, tabsContainer);
            },
            onDrag: e => {
                lastDragEvent = e;
            },
            onDragEnter: e => {
                tabsContainer.classList.add('scroll');
                if (e.target !== tabsContainer) {
                    return;
                }
                if (!this.isSupportedDropTransfer(e)) {
                    if (e.dataTransfer) {
                        e.dataTransfer.dropEffect = 'none';
                    }
                    return;
                }
                if (!this.editorTransfer.hasData(_dnd_js__WEBPACK_IMPORTED_MODULE_34__.DraggedEditorIdentifier.prototype)) {
                    if (e.dataTransfer) {
                        e.dataTransfer.dropEffect = 'copy';
                    }
                }
                this.updateDropFeedback(tabsContainer, true, e);
            },
            onDragLeave: e => {
                this.updateDropFeedback(tabsContainer, false, e);
                tabsContainer.classList.remove('scroll');
            },
            onDragEnd: e => {
                this.updateDropFeedback(tabsContainer, false, e);
                tabsContainer.classList.remove('scroll');
                this.onGroupDragEnd(e, lastDragEvent, tabsContainer, isNewWindowOperation);
            },
            onDrop: e => {
                this.updateDropFeedback(tabsContainer, false, e);
                tabsContainer.classList.remove('scroll');
                if (e.target === tabsContainer) {
                    const isGroupTransfer = this.groupTransfer.hasData(_dnd_js__WEBPACK_IMPORTED_MODULE_34__.DraggedEditorGroupIdentifier.prototype);
                    this.onDrop(e, isGroupTransfer ? this.groupView.count : this.tabsModel.count, tabsContainer);
                }
            }
        }))));
        this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.addDisposableListener)(tabsContainer, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.EventType.MOUSE_WHEEL, (e) => {
            const activeEditor = this.groupView.activeEditor;
            if (!activeEditor || this.groupView.count < 2) {
                return;
            }
            if (this.groupsView.partOptions.scrollToSwitchTabs === true) {
                if (e.shiftKey) {
                    return;
                }
            }
            else {
                if (!e.shiftKey) {
                    return;
                }
            }
            const now = Date.now();
            if (now - this.lastMouseWheelEventTime < MultiEditorTabsControl_1.MOUSE_WHEEL_EVENT_THRESHOLD - 2 * (Math.abs(e.deltaX) + Math.abs(e.deltaY))) {
                return;
            }
            this.lastMouseWheelEventTime = now;
            let tabSwitchDirection;
            if (e.deltaX + e.deltaY < -MultiEditorTabsControl_1.MOUSE_WHEEL_DISTANCE_THRESHOLD) {
                tabSwitchDirection = -1;
            }
            else if (e.deltaX + e.deltaY > MultiEditorTabsControl_1.MOUSE_WHEEL_DISTANCE_THRESHOLD) {
                tabSwitchDirection = 1;
            }
            else {
                return;
            }
            const nextEditor = this.groupView.getEditorByIndex(this.groupView.getIndexOfEditor(activeEditor) + tabSwitchDirection);
            if (!nextEditor) {
                return;
            }
            this.groupView.openEditor(nextEditor);
            _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.EventHelper.stop(e, true);
        }));
        const showContextMenu = (e) => {
            _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.EventHelper.stop(e);
            let anchor = tabsContainer;
            if ((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.isMouseEvent)(e)) {
                anchor = ( (new _base_browser_mouseEvent_js__WEBPACK_IMPORTED_MODULE_51__.StandardMouseEvent((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.getWindow)(this.parent), e)));
            }
            this.contextMenuService.showContextMenu({
                getAnchor: () => anchor,
                menuId: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_14__.MenuId.EditorTabsBarContext,
                contextKeyService: this.contextKeyService,
                menuActionOptions: { shouldForwardArgs: true },
                getActionsContext: () => ({ groupId: this.groupView.id }),
                getKeyBinding: action => this.getKeybinding(action),
                onHide: () => this.groupView.focus()
            });
        };
        this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.addDisposableListener)(tabsContainer, _base_browser_touch_js__WEBPACK_IMPORTED_MODULE_7__.EventType.Contextmenu, e => showContextMenu(e)));
        this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.addDisposableListener)(tabsContainer, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.EventType.CONTEXT_MENU, e => showContextMenu(e)));
    }
    doHandleDecorationsChange() {
        this.layout(this.dimensions);
    }
    updateEditorActionsToolbar() {
        super.updateEditorActionsToolbar();
        this.layout(this.dimensions);
    }
    openEditor(editor, options) {
        const changed = this.handleOpenedEditors();
        if (options?.focusTabControl) {
            this.withTab(editor, (editor, tabIndex, tabContainer) => tabContainer.focus());
        }
        return changed;
    }
    openEditors(editors) {
        return this.handleOpenedEditors();
    }
    handleOpenedEditors() {
        this.updateTabsControlVisibility();
        const [tabsContainer, tabsScrollbar] = (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_39__.assertAllDefined)(this.tabsContainer, this.tabsScrollbar);
        for (let i = tabsContainer.children.length; i < this.tabsModel.count; i++) {
            tabsContainer.appendChild(this.createTab(i, tabsContainer, tabsScrollbar));
        }
        const activeEditorChanged = this.didActiveEditorChange();
        const oldActiveTabLabel = this.activeTabLabel;
        const oldTabLabelsLength = this.tabLabels.length;
        this.computeTabLabels();
        let didChange = false;
        if (activeEditorChanged ||
            oldTabLabelsLength !== this.tabLabels.length ||
            !this.equalsEditorInputLabel(oldActiveTabLabel, this.activeTabLabel)
        ) {
            this.redraw({ forceRevealActiveTab: true });
            didChange = true;
        }
        else {
            this.layout(this.dimensions, { forceRevealActiveTab: true });
        }
        return didChange;
    }
    didActiveEditorChange() {
        if (!this.activeTabLabel?.editor && this.tabsModel.activeEditor ||
            this.activeTabLabel?.editor && !this.tabsModel.activeEditor ||
            (!this.activeTabLabel?.editor || !this.tabsModel.isActive(this.activeTabLabel.editor))
        ) {
            return true;
        }
        return false;
    }
    equalsEditorInputLabel(labelA, labelB) {
        if (labelA === labelB) {
            return true;
        }
        if (!labelA || !labelB) {
            return false;
        }
        return labelA.name === labelB.name &&
            labelA.description === labelB.description &&
            labelA.forceDescription === labelB.forceDescription &&
            labelA.title === labelB.title &&
            labelA.ariaLabel === labelB.ariaLabel;
    }
    beforeCloseEditor(editor) {
        if (this.isMouseOverTabs && this.groupsView.partOptions.tabSizing === 'fixed') {
            const closingLastTab = this.tabsModel.isLast(editor);
            this.updateTabsFixedWidth(!closingLastTab);
        }
    }
    closeEditor(editor) {
        this.handleClosedEditors();
    }
    closeEditors(editors) {
        this.handleClosedEditors();
    }
    handleClosedEditors() {
        if (this.tabsModel.count) {
            const tabsContainer = (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_39__.assertIsDefined)(this.tabsContainer);
            while (tabsContainer.children.length > this.tabsModel.count) {
                tabsContainer.lastChild?.remove();
                (0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_17__.dispose)(this.tabDisposables.pop());
            }
            this.computeTabLabels();
            this.redraw({ forceRevealActiveTab: true });
        }
        else {
            if (this.tabsContainer) {
                (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.clearNode)(this.tabsContainer);
            }
            this.tabDisposables = (0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_17__.dispose)(this.tabDisposables);
            this.tabResourceLabels.clear();
            this.tabLabels = [];
            this.activeTabLabel = undefined;
            this.tabActionBars = [];
            this.clearEditorActionsToolbar();
            this.updateTabsControlVisibility();
        }
    }
    moveEditor(editor, fromTabIndex, targeTabIndex) {
        const editorLabel = this.tabLabels[fromTabIndex];
        this.tabLabels.splice(fromTabIndex, 1);
        this.tabLabels.splice(targeTabIndex, 0, editorLabel);
        this.forEachTab((editor, tabIndex, tabContainer, tabLabelWidget, tabLabel, tabActionBar) => {
            this.redrawTab(editor, tabIndex, tabContainer, tabLabelWidget, tabLabel, tabActionBar);
        }, Math.min(fromTabIndex, targeTabIndex),
        Math.max(fromTabIndex, targeTabIndex)
        );
        this.layout(this.dimensions, { forceRevealActiveTab: true });
    }
    pinEditor(editor) {
        this.withTab(editor, (editor, tabIndex, tabContainer, tabLabelWidget, tabLabel) => this.redrawTabLabel(editor, tabIndex, tabContainer, tabLabelWidget, tabLabel));
    }
    stickEditor(editor) {
        this.doHandleStickyEditorChange(editor);
    }
    unstickEditor(editor) {
        this.doHandleStickyEditorChange(editor);
    }
    doHandleStickyEditorChange(editor) {
        this.withTab(editor, (editor, tabIndex, tabContainer, tabLabelWidget, tabLabel, tabActionBar) => this.redrawTab(editor, tabIndex, tabContainer, tabLabelWidget, tabLabel, tabActionBar));
        this.forEachTab((editor, tabIndex, tabContainer, tabLabelWidget, tabLabel) => {
            this.redrawTabBorders(tabIndex, tabContainer);
        });
        this.layout(this.dimensions, { forceRevealActiveTab: true });
    }
    setActive(isGroupActive) {
        this.forEachTab((editor, tabIndex, tabContainer, tabLabelWidget, tabLabel, tabActionBar) => {
            this.redrawTabSelectedActiveAndDirty(isGroupActive, editor, tabContainer, tabActionBar);
        });
        this.updateEditorActionsToolbar();
        this.layout(this.dimensions, { forceRevealActiveTab: true });
    }
    updateEditorSelections() {
        this.forEachTab((editor, tabIndex, tabContainer, tabLabelWidget, tabLabel, tabActionBar) => {
            this.redrawTabSelectedActiveAndDirty(this.groupsView.activeGroup === this.groupView, editor, tabContainer, tabActionBar);
        });
    }
    updateEditorLabel(editor) {
        this.updateEditorLabelScheduler.schedule();
    }
    doUpdateEditorLabels() {
        this.computeTabLabels();
        this.forEachTab((editor, tabIndex, tabContainer, tabLabelWidget, tabLabel) => {
            this.redrawTabLabel(editor, tabIndex, tabContainer, tabLabelWidget, tabLabel);
        });
        this.layout(this.dimensions);
    }
    updateEditorDirty(editor) {
        this.withTab(editor, (editor, tabIndex, tabContainer, tabLabelWidget, tabLabel, tabActionBar) => this.redrawTabSelectedActiveAndDirty(this.groupsView.activeGroup === this.groupView, editor, tabContainer, tabActionBar));
    }
    updateOptions(oldOptions, newOptions) {
        super.updateOptions(oldOptions, newOptions);
        if (oldOptions.labelFormat !== newOptions.labelFormat) {
            this.computeTabLabels();
        }
        if (oldOptions.titleScrollbarSizing !== newOptions.titleScrollbarSizing) {
            this.updateTabsScrollbarSizing();
        }
        if (oldOptions.alwaysShowEditorActions !== newOptions.alwaysShowEditorActions) {
            this.updateEditorActionsToolbar();
        }
        if (oldOptions.tabSizingFixedMinWidth !== newOptions.tabSizingFixedMinWidth ||
            oldOptions.tabSizingFixedMaxWidth !== newOptions.tabSizingFixedMaxWidth ||
            oldOptions.tabSizing !== newOptions.tabSizing) {
            this.updateTabSizing(true);
        }
        if (oldOptions.labelFormat !== newOptions.labelFormat ||
            oldOptions.tabActionLocation !== newOptions.tabActionLocation ||
            oldOptions.tabActionCloseVisibility !== newOptions.tabActionCloseVisibility ||
            oldOptions.tabActionUnpinVisibility !== newOptions.tabActionUnpinVisibility ||
            oldOptions.tabSizing !== newOptions.tabSizing ||
            oldOptions.pinnedTabSizing !== newOptions.pinnedTabSizing ||
            oldOptions.showIcons !== newOptions.showIcons ||
            oldOptions.hasIcons !== newOptions.hasIcons ||
            oldOptions.highlightModifiedTabs !== newOptions.highlightModifiedTabs ||
            oldOptions.wrapTabs !== newOptions.wrapTabs ||
            !(0,_base_common_objects_js__WEBPACK_IMPORTED_MODULE_48__.equals)(oldOptions.decorations, newOptions.decorations)) {
            this.redraw();
        }
    }
    updateStyles() {
        this.redraw();
    }
    forEachTab(fn, fromTabIndex, toTabIndex) {
        this.tabsModel.getEditors(1 ).forEach((editor, tabIndex) => {
            if (typeof fromTabIndex === 'number' && fromTabIndex > tabIndex) {
                return;
            }
            if (typeof toTabIndex === 'number' && toTabIndex < tabIndex) {
                return;
            }
            this.doWithTab(tabIndex, editor, fn);
        });
    }
    withTab(editor, fn) {
        this.doWithTab(this.tabsModel.indexOf(editor), editor, fn);
    }
    doWithTab(tabIndex, editor, fn) {
        const tabsContainer = (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_39__.assertIsDefined)(this.tabsContainer);
        const tabContainer = tabsContainer.children[tabIndex];
        const tabResourceLabel = this.tabResourceLabels.get(tabIndex);
        const tabLabel = this.tabLabels[tabIndex];
        const tabActionBar = this.tabActionBars[tabIndex];
        if (tabContainer && tabResourceLabel && tabLabel) {
            fn(editor, tabIndex, tabContainer, tabResourceLabel, tabLabel, tabActionBar);
        }
    }
    createTab(tabIndex, tabsContainer, tabsScrollbar) {
        const tabContainer = document.createElement('div');
        tabContainer.draggable = true;
        tabContainer.setAttribute('role', 'tab');
        tabContainer.classList.add('tab');
        this._register(_base_browser_touch_js__WEBPACK_IMPORTED_MODULE_7__.Gesture.addTarget(tabContainer));
        const tabBorderTopContainer = document.createElement('div');
        tabBorderTopContainer.classList.add('tab-border-top-container');
        tabContainer.appendChild(tabBorderTopContainer);
        const editorLabel = this.tabResourceLabels.create(tabContainer, { hoverDelegate: this.getHoverDelegate() });
        const tabActionsContainer = document.createElement('div');
        tabActionsContainer.classList.add('tab-actions');
        tabContainer.appendChild(tabActionsContainer);
        const that = this;
        const tabActionRunner = ( (new _editorTabsControl_js__WEBPACK_IMPORTED_MODULE_15__.EditorCommandsContextActionRunner({
            groupId: this.groupView.id,
            get editorIndex() { return that.toEditorIndex(tabIndex); }
        })));
        const tabActionBar = ( (new _base_browser_ui_actionbar_actionbar_js__WEBPACK_IMPORTED_MODULE_9__.ActionBar(tabActionsContainer, { ariaLabel: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_37__.localize)(11724, "Tab actions")), actionRunner: tabActionRunner })));
        const tabActionListener = tabActionBar.onWillRun(e => {
            if (e.action.id === this.closeEditorAction.id) {
                this.blockRevealActiveTabOnce();
            }
        });
        const tabActionBarDisposable = (0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_17__.combinedDisposable)(tabActionBar, tabActionListener, (0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_17__.toDisposable)((0,_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_45__.insert)(this.tabActionBars, tabActionBar)));
        const tabShadowHider = document.createElement('div');
        tabShadowHider.classList.add('tab-fade-hider');
        tabContainer.appendChild(tabShadowHider);
        const tabBorderBottomContainer = document.createElement('div');
        tabBorderBottomContainer.classList.add('tab-border-bottom-container');
        tabContainer.appendChild(tabBorderBottomContainer);
        const eventsDisposable = this.registerTabListeners(tabContainer, tabIndex, tabsContainer, tabsScrollbar);
        this.tabDisposables.push((0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_17__.combinedDisposable)(eventsDisposable, tabActionBarDisposable, tabActionRunner, editorLabel));
        return tabContainer;
    }
    toEditorIndex(tabIndex) {
        const editor = (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_39__.assertIsDefined)(this.tabsModel.getEditorByIndex(tabIndex));
        return this.groupView.getIndexOfEditor(editor);
    }
    registerTabListeners(tab, tabIndex, tabsContainer, tabsScrollbar) {
        const disposables = ( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_17__.DisposableStore()));
        const handleClickOrTouch = async (e, preserveFocus) => {
            tab.blur();
            if ((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.isMouseEvent)(e) && (e.button !== 0  || ((_base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.isMacintosh && e.ctrlKey) ))) {
                if (e.button === 1) {
                    e.preventDefault();
                }
                return;
            }
            if (this.originatesFromTabActionBar(e)) {
                return;
            }
            const editor = this.tabsModel.getEditorByIndex(tabIndex);
            if (editor) {
                if (e.shiftKey) {
                    let anchor;
                    if (this.lastSingleSelectSelectedEditor && this.tabsModel.isSelected(this.lastSingleSelectSelectedEditor)) {
                        anchor = this.lastSingleSelectSelectedEditor;
                    }
                    else {
                        const activeEditor = (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_39__.assertIsDefined)(this.groupView.activeEditor);
                        this.lastSingleSelectSelectedEditor = activeEditor;
                        anchor = activeEditor;
                    }
                    await this.selectEditorsBetween(editor, anchor);
                }
                else if ((e.ctrlKey && !_base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.isMacintosh) || (e.metaKey && _base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.isMacintosh)) {
                    if (this.tabsModel.isSelected(editor)) {
                        await this.unselectEditor(editor);
                    }
                    else {
                        await this.selectEditor(editor);
                        this.lastSingleSelectSelectedEditor = editor;
                    }
                }
                else {
                    const inactiveSelection = this.tabsModel.isSelected(editor) ? this.groupView.selectedEditors.filter(e => !e.matches(editor)) : [];
                    await this.groupView.openEditor(editor, { preserveFocus, activation: _platform_editor_common_editor_js__WEBPACK_IMPORTED_MODULE_49__.EditorActivation.ACTIVATE }, { inactiveSelection, focusTabControl: true });
                }
            }
        };
        const showContextMenu = (e) => {
            _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.EventHelper.stop(e);
            const editor = this.tabsModel.getEditorByIndex(tabIndex);
            if (editor) {
                this.onTabContextMenu(editor, e, tab);
            }
        };
        disposables.add((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.addDisposableListener)(tab, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.EventType.MOUSE_DOWN, e => handleClickOrTouch(e, false)));
        disposables.add((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.addDisposableListener)(tab, _base_browser_touch_js__WEBPACK_IMPORTED_MODULE_7__.EventType.Tap, (e) => handleClickOrTouch(e, true)));
        disposables.add((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.addDisposableListener)(tab, _base_browser_touch_js__WEBPACK_IMPORTED_MODULE_7__.EventType.Change, (e) => {
            tabsScrollbar.setScrollPosition({ scrollLeft: tabsScrollbar.getScrollPosition().scrollLeft - e.translationX });
        }));
        disposables.add((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.addDisposableListener)(tab, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.EventType.MOUSE_UP, async (e) => {
            _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.EventHelper.stop(e);
            tab.blur();
            if ((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.isMouseEvent)(e) && (e.button !== 0  || ((_base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.isMacintosh && e.ctrlKey) ))) {
                return;
            }
            if (this.originatesFromTabActionBar(e)) {
                return;
            }
            const isCtrlCmd = (e.ctrlKey && !_base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.isMacintosh) || (e.metaKey && _base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.isMacintosh);
            if (!isCtrlCmd && !e.shiftKey && this.groupView.selectedEditors.length > 1) {
                await this.unselectAllEditors();
            }
        }));
        disposables.add((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.addDisposableListener)(tab, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.EventType.AUXCLICK, e => {
            if (e.button === 1 ) {
                _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.EventHelper.stop(e, true );
                const editor = this.tabsModel.getEditorByIndex(tabIndex);
                if (editor) {
                    if ((0,_common_editor_js__WEBPACK_IMPORTED_MODULE_4__.preventEditorClose)(this.tabsModel, editor, _common_editor_js__WEBPACK_IMPORTED_MODULE_4__.EditorCloseMethod.MOUSE, this.groupsView.partOptions)) {
                        return;
                    }
                    this.blockRevealActiveTabOnce();
                    this.closeEditorAction.run({ groupId: this.groupView.id, editorIndex: this.groupView.getIndexOfEditor(editor) });
                }
            }
        }));
        disposables.add((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.addDisposableListener)(tab, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.EventType.KEY_DOWN, e => {
            const event = ( (new _base_browser_keyboardEvent_js__WEBPACK_IMPORTED_MODULE_6__.StandardKeyboardEvent(e)));
            if (event.shiftKey && event.keyCode === 68 ) {
                showContextMenu(e);
            }
        }));
        disposables.add((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.addDisposableListener)(tab, _base_browser_touch_js__WEBPACK_IMPORTED_MODULE_7__.EventType.Contextmenu, (e) => {
            showContextMenu(e);
        }));
        disposables.add((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.addDisposableListener)(tab, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.EventType.KEY_UP, e => {
            const event = ( (new _base_browser_keyboardEvent_js__WEBPACK_IMPORTED_MODULE_6__.StandardKeyboardEvent(e)));
            let handled = false;
            if (event.equals(3 ) || event.equals(10 )) {
                handled = true;
                const editor = this.tabsModel.getEditorByIndex(tabIndex);
                if (editor) {
                    this.groupView.openEditor(editor);
                }
            }
            else if (( ([15 , 17 , 16 , 18 , 14 , 13 ].some(kb => event.equals(kb))))) {
                let editorIndex = this.toEditorIndex(tabIndex);
                if (event.equals(15 ) || event.equals(16 )) {
                    editorIndex = editorIndex - 1;
                }
                else if (event.equals(17 ) || event.equals(18 )) {
                    editorIndex = editorIndex + 1;
                }
                else if (event.equals(14 )) {
                    editorIndex = 0;
                }
                else {
                    editorIndex = this.groupView.count - 1;
                }
                const target = this.groupView.getEditorByIndex(editorIndex);
                if (target) {
                    handled = true;
                    this.groupView.openEditor(target, { preserveFocus: true }, { focusTabControl: true });
                }
            }
            if (handled) {
                _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.EventHelper.stop(e, true);
            }
            tabsScrollbar.setScrollPosition({
                scrollLeft: tabsContainer.scrollLeft
            });
        }));
        for (const eventType of [_base_browser_touch_js__WEBPACK_IMPORTED_MODULE_7__.EventType.Tap, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.EventType.DBLCLICK]) {
            disposables.add((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.addDisposableListener)(tab, eventType, (e) => {
                if (eventType === _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.EventType.DBLCLICK) {
                    _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.EventHelper.stop(e);
                }
                else if (e.tapCount !== 2) {
                    return;
                }
                const editor = this.tabsModel.getEditorByIndex(tabIndex);
                if (editor && this.tabsModel.isPinned(editor)) {
                    switch (this.groupsView.partOptions.doubleClickTabToToggleEditorGroupSizes) {
                        case 'maximize':
                            this.groupsView.toggleMaximizeGroup(this.groupView);
                            break;
                        case 'expand':
                            this.groupsView.toggleExpandGroup(this.groupView);
                            break;
                    }
                }
                else {
                    this.groupView.pinEditor(editor);
                }
            }));
        }
        disposables.add((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.addDisposableListener)(tab, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.EventType.CONTEXT_MENU, e => {
            _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.EventHelper.stop(e, true);
            const editor = this.tabsModel.getEditorByIndex(tabIndex);
            if (editor) {
                this.onTabContextMenu(editor, e, tab);
            }
        }, true ));
        let lastDragEvent = undefined;
        let isNewWindowOperation = false;
        disposables.add(( (new _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.DragAndDropObserver(tab, {
            onDragStart: e => {
                const editor = this.tabsModel.getEditorByIndex(tabIndex);
                if (!editor) {
                    return;
                }
                isNewWindowOperation = this.isNewWindowOperation(e);
                const selectedEditors = this.groupView.selectedEditors;
                this.editorTransfer.setData(( (selectedEditors.map(
                    e => ( (new _dnd_js__WEBPACK_IMPORTED_MODULE_34__.DraggedEditorIdentifier({ editor: e, groupId: this.groupView.id })))
                ))), _dnd_js__WEBPACK_IMPORTED_MODULE_34__.DraggedEditorIdentifier.prototype);
                if (e.dataTransfer) {
                    e.dataTransfer.effectAllowed = 'copyMove';
                    if (selectedEditors.length > 1) {
                        const label = `${editor.getName()} + ${selectedEditors.length - 1}`;
                        (0,_base_browser_dnd_js__WEBPACK_IMPORTED_MODULE_58__.applyDragImage)(e, label, 'monaco-editor-group-drag-image', this.getColor(_platform_theme_common_colors_listColors_js__WEBPACK_IMPORTED_MODULE_28__.listActiveSelectionBackground), this.getColor(_platform_theme_common_colors_listColors_js__WEBPACK_IMPORTED_MODULE_28__.listActiveSelectionForeground));
                    }
                    else {
                        e.dataTransfer.setDragImage(tab, 0, 0);
                    }
                }
                this.doFillResourceDataTransfers(selectedEditors, e, isNewWindowOperation);
                (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.scheduleAtNextAnimationFrame)((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.getWindow)(this.parent), () => this.updateDropFeedback(tab, false, e, tabIndex));
            },
            onDrag: e => {
                lastDragEvent = e;
            },
            onDragEnter: e => {
                if (!this.isSupportedDropTransfer(e)) {
                    if (e.dataTransfer) {
                        e.dataTransfer.dropEffect = 'none';
                    }
                    return;
                }
                if (!this.editorTransfer.hasData(_dnd_js__WEBPACK_IMPORTED_MODULE_34__.DraggedEditorIdentifier.prototype)) {
                    if (e.dataTransfer) {
                        e.dataTransfer.dropEffect = 'copy';
                    }
                }
                this.updateDropFeedback(tab, true, e, tabIndex);
            },
            onDragOver: (e, dragDuration) => {
                if (dragDuration >= MultiEditorTabsControl_1.DRAG_OVER_OPEN_TAB_THRESHOLD) {
                    const draggedOverTab = this.tabsModel.getEditorByIndex(tabIndex);
                    if (draggedOverTab && this.tabsModel.activeEditor !== draggedOverTab) {
                        this.groupView.openEditor(draggedOverTab, { preserveFocus: true });
                    }
                }
                this.updateDropFeedback(tab, true, e, tabIndex);
            },
            onDragEnd: async (e) => {
                this.updateDropFeedback(tab, false, e, tabIndex);
                const draggedEditors = this.editorTransfer.getData(_dnd_js__WEBPACK_IMPORTED_MODULE_34__.DraggedEditorIdentifier.prototype);
                this.editorTransfer.clearData(_dnd_js__WEBPACK_IMPORTED_MODULE_34__.DraggedEditorIdentifier.prototype);
                if (!isNewWindowOperation ||
                    (0,_dnd_js__WEBPACK_IMPORTED_MODULE_34__.isWindowDraggedOver)() ||
                    !draggedEditors ||
                    draggedEditors.length === 0) {
                    return;
                }
                const auxiliaryEditorPart = await this.maybeCreateAuxiliaryEditorPartAt(e, tab);
                if (!auxiliaryEditorPart) {
                    return;
                }
                const targetGroup = auxiliaryEditorPart.activeGroup;
                const editors = ( (draggedEditors.map(de => ({ editor: de.identifier.editor }))));
                if (this.isMoveOperation(lastDragEvent ?? e, targetGroup.id, draggedEditors[0].identifier.editor)) {
                    this.groupView.moveEditors(editors, targetGroup);
                }
                else {
                    this.groupView.copyEditors(editors, targetGroup);
                }
                targetGroup.focus();
            },
            onDrop: e => {
                this.updateDropFeedback(tab, false, e, tabIndex);
                let targetIndex = tabIndex;
                if (this.getTabDragOverLocation(e, tab) === 'right') {
                    targetIndex++;
                }
                this.onDrop(e, targetIndex, tabsContainer);
            }
        }))));
        return disposables;
    }
    isSupportedDropTransfer(e) {
        if (this.groupTransfer.hasData(_dnd_js__WEBPACK_IMPORTED_MODULE_34__.DraggedEditorGroupIdentifier.prototype)) {
            const data = this.groupTransfer.getData(_dnd_js__WEBPACK_IMPORTED_MODULE_34__.DraggedEditorGroupIdentifier.prototype);
            if (Array.isArray(data) && data.length > 0) {
                const group = data[0];
                if (group.identifier === this.groupView.id) {
                    return false;
                }
            }
            return true;
        }
        if (this.editorTransfer.hasData(_dnd_js__WEBPACK_IMPORTED_MODULE_34__.DraggedEditorIdentifier.prototype)) {
            return true;
        }
        if (e.dataTransfer && e.dataTransfer.types.length > 0) {
            return true;
        }
        return false;
    }
    updateDropFeedback(element, isDND, e, tabIndex) {
        const isTab = (typeof tabIndex === 'number');
        let dropTarget;
        if (isDND) {
            if (isTab) {
                dropTarget = this.computeDropTarget(e, tabIndex, element);
            }
            else {
                dropTarget = { leftElement: element.lastElementChild, rightElement: undefined };
            }
        }
        else {
            dropTarget = undefined;
        }
        this.updateDropTarget(dropTarget);
    }
    updateDropTarget(newTarget) {
        const oldTargets = this.dropTarget;
        if (oldTargets === newTarget || oldTargets && newTarget && oldTargets.leftElement === newTarget.leftElement && oldTargets.rightElement === newTarget.rightElement) {
            return;
        }
        const dropClassLeft = 'drop-target-left';
        const dropClassRight = 'drop-target-right';
        if (oldTargets) {
            oldTargets.leftElement?.classList.remove(dropClassLeft);
            oldTargets.rightElement?.classList.remove(dropClassRight);
        }
        if (newTarget) {
            newTarget.leftElement?.classList.add(dropClassLeft);
            newTarget.rightElement?.classList.add(dropClassRight);
        }
        this.dropTarget = newTarget;
    }
    getTabDragOverLocation(e, tab) {
        const rect = tab.getBoundingClientRect();
        const offsetXRelativeToParent = e.clientX - rect.left;
        return offsetXRelativeToParent <= rect.width / 2 ? 'left' : 'right';
    }
    computeDropTarget(e, tabIndex, targetTab) {
        const isLeftSideOfTab = this.getTabDragOverLocation(e, targetTab) === 'left';
        const isLastTab = tabIndex === this.tabsModel.count - 1;
        const isFirstTab = tabIndex === 0;
        if (isLeftSideOfTab && isFirstTab) {
            return { leftElement: undefined, rightElement: targetTab };
        }
        if (!isLeftSideOfTab && isLastTab) {
            return { leftElement: targetTab, rightElement: undefined };
        }
        const tabBefore = isLeftSideOfTab ? targetTab.previousElementSibling : targetTab;
        const tabAfter = isLeftSideOfTab ? targetTab : targetTab.nextElementSibling;
        return { leftElement: tabBefore, rightElement: tabAfter };
    }
    async selectEditor(editor) {
        if (this.groupView.isActive(editor)) {
            return;
        }
        await this.groupView.setSelection(editor, this.groupView.selectedEditors);
    }
    async selectEditorsBetween(target, anchor) {
        const editorIndex = this.groupView.getIndexOfEditor(target);
        if (editorIndex === -1) {
            throw ( (new _base_common_errors_js__WEBPACK_IMPORTED_MODULE_57__.BugIndicatingError()));
        }
        const anchorEditorIndex = this.groupView.getIndexOfEditor(anchor);
        if (anchorEditorIndex === -1) {
            throw ( (new _base_common_errors_js__WEBPACK_IMPORTED_MODULE_57__.BugIndicatingError()));
        }
        let selection = this.groupView.selectedEditors;
        let currentEditorIndex = anchorEditorIndex;
        while (currentEditorIndex >= 0 && currentEditorIndex <= this.groupView.count - 1) {
            currentEditorIndex = anchorEditorIndex < editorIndex ? currentEditorIndex - 1 : currentEditorIndex + 1;
            const currentEditor = this.groupView.getEditorByIndex(currentEditorIndex);
            if (!currentEditor) {
                break;
            }
            if (!this.groupView.isSelected(currentEditor)) {
                break;
            }
            selection = selection.filter(editor => !editor.matches(currentEditor));
        }
        const fromEditorIndex = anchorEditorIndex < editorIndex ? anchorEditorIndex : editorIndex;
        const toEditorIndex = anchorEditorIndex < editorIndex ? editorIndex : anchorEditorIndex;
        const editorsToSelect = this.groupView.getEditors(1 ).slice(fromEditorIndex, toEditorIndex + 1);
        for (const editor of editorsToSelect) {
            if (!this.groupView.isSelected(editor)) {
                selection.push(editor);
            }
        }
        const inactiveSelectedEditors = selection.filter(editor => !editor.matches(target));
        await this.groupView.setSelection(target, inactiveSelectedEditors);
    }
    async unselectEditor(editor) {
        const isUnselectingActiveEditor = this.groupView.isActive(editor);
        if (isUnselectingActiveEditor && this.groupView.selectedEditors.length === 1) {
            return;
        }
        let newActiveEditor = (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_39__.assertIsDefined)(this.groupView.activeEditor);
        if (isUnselectingActiveEditor) {
            const recentEditors = this.groupView.getEditors(0 );
            for (let i = 1; i < recentEditors.length; i++) {
                const recentEditor = recentEditors[i];
                if (this.groupView.isSelected(recentEditor)) {
                    newActiveEditor = recentEditor;
                    break;
                }
            }
        }
        const inactiveSelectedEditors = this.groupView.selectedEditors.filter(e => !e.matches(editor) && !e.matches(newActiveEditor));
        await this.groupView.setSelection(newActiveEditor, inactiveSelectedEditors);
    }
    async unselectAllEditors() {
        if (this.groupView.selectedEditors.length > 1) {
            const activeEditor = (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_39__.assertIsDefined)(this.groupView.activeEditor);
            await this.groupView.setSelection(activeEditor, []);
        }
    }
    computeTabLabels() {
        const { labelFormat } = this.groupsView.partOptions;
        const { verbosity, shortenDuplicates } = this.getLabelConfigFlags(labelFormat);
        const labels = [];
        let activeEditorTabIndex = -1;
        this.tabsModel.getEditors(1 ).forEach((editor, tabIndex) => {
            labels.push({
                editor,
                name: editor.getName(),
                description: editor.getDescription(verbosity),
                forceDescription: editor.hasCapability(64 ),
                title: editor.getTitle(2 ),
                ariaLabel: (0,_editor_js__WEBPACK_IMPORTED_MODULE_5__.computeEditorAriaLabel)(editor, tabIndex, this.groupView, this.editorPartsView.count)
            });
            if (editor === this.tabsModel.activeEditor) {
                activeEditorTabIndex = tabIndex;
            }
        });
        if (shortenDuplicates) {
            this.shortenTabLabels(labels);
        }
        this.tabLabels = labels;
        this.activeTabLabel = labels[activeEditorTabIndex];
    }
    shortenTabLabels(labels) {
        const mapNameToDuplicates = ( (new Map()));
        for (const label of labels) {
            if (typeof label.description === 'string') {
                (0,_base_common_map_js__WEBPACK_IMPORTED_MODULE_19__.getOrSet)(mapNameToDuplicates, label.name, []).push(label);
            }
            else {
                label.description = '';
            }
        }
        for (const [, duplicateLabels] of mapNameToDuplicates) {
            if (duplicateLabels.length === 1 && !duplicateLabels[0].forceDescription) {
                duplicateLabels[0].description = '';
                continue;
            }
            const mapDescriptionToDuplicates = ( (new Map()));
            for (const duplicateLabel of duplicateLabels) {
                (0,_base_common_map_js__WEBPACK_IMPORTED_MODULE_19__.getOrSet)(mapDescriptionToDuplicates, duplicateLabel.description, []).push(duplicateLabel);
            }
            let useLongDescriptions = false;
            for (const [, duplicateLabels] of mapDescriptionToDuplicates) {
                if (!useLongDescriptions && duplicateLabels.length > 1) {
                    const [first, ...rest] = ( (duplicateLabels.map(({ editor }) => editor.getDescription(2 ))));
                    useLongDescriptions = ( (rest.some(description => description !== first)));
                }
            }
            if (useLongDescriptions) {
                mapDescriptionToDuplicates.clear();
                for (const duplicateLabel of duplicateLabels) {
                    duplicateLabel.description = duplicateLabel.editor.getDescription(2 );
                    (0,_base_common_map_js__WEBPACK_IMPORTED_MODULE_19__.getOrSet)(mapDescriptionToDuplicates, duplicateLabel.description, []).push(duplicateLabel);
                }
            }
            const descriptions = [];
            for (const [description] of mapDescriptionToDuplicates) {
                descriptions.push(description);
            }
            if (descriptions.length === 1) {
                for (const label of mapDescriptionToDuplicates.get(descriptions[0]) || []) {
                    if (!label.forceDescription) {
                        label.description = '';
                    }
                }
                continue;
            }
            const shortenedDescriptions = (0,_base_common_labels_js__WEBPACK_IMPORTED_MODULE_3__.shorten)(descriptions, this.path.sep);
            descriptions.forEach((description, tabIndex) => {
                for (const label of mapDescriptionToDuplicates.get(description) || []) {
                    label.description = shortenedDescriptions[tabIndex];
                }
            });
        }
    }
    getLabelConfigFlags(value) {
        switch (value) {
            case 'short':
                return { verbosity: 0 , shortenDuplicates: false };
            case 'medium':
                return { verbosity: 1 , shortenDuplicates: false };
            case 'long':
                return { verbosity: 2 , shortenDuplicates: false };
            default:
                return { verbosity: 1 , shortenDuplicates: true };
        }
    }
    redraw(options) {
        if (this.tabsAndActionsContainer) {
            let tabsContainerBorderColor = this.getColor(_common_theme_js__WEBPACK_IMPORTED_MODULE_22__.EDITOR_GROUP_HEADER_TABS_BORDER);
            if (!tabsContainerBorderColor && (0,_platform_theme_common_theme_js__WEBPACK_IMPORTED_MODULE_46__.isHighContrast)(this.theme.type)) {
                tabsContainerBorderColor = this.getColor(_common_theme_js__WEBPACK_IMPORTED_MODULE_22__.TAB_BORDER) || this.getColor(_platform_theme_common_colors_baseColors_js__WEBPACK_IMPORTED_MODULE_24__.contrastBorder);
            }
            if (tabsContainerBorderColor) {
                this.tabsAndActionsContainer.classList.add('tabs-border-bottom');
                this.tabsAndActionsContainer.style.setProperty('--tabs-border-bottom-color', ( (tabsContainerBorderColor.toString())));
            }
            else {
                this.tabsAndActionsContainer.classList.remove('tabs-border-bottom');
                this.tabsAndActionsContainer.style.removeProperty('--tabs-border-bottom-color');
            }
        }
        this.forEachTab((editor, tabIndex, tabContainer, tabLabelWidget, tabLabel, tabActionBar) => {
            this.redrawTab(editor, tabIndex, tabContainer, tabLabelWidget, tabLabel, tabActionBar);
        });
        this.updateEditorActionsToolbar();
        this.layout(this.dimensions, options);
    }
    redrawTab(editor, tabIndex, tabContainer, tabLabelWidget, tabLabel, tabActionBar) {
        const isTabSticky = this.tabsModel.isSticky(tabIndex);
        const options = this.groupsView.partOptions;
        this.redrawTabLabel(editor, tabIndex, tabContainer, tabLabelWidget, tabLabel);
        const hasUnpinAction = isTabSticky && options.tabActionUnpinVisibility;
        const hasCloseAction = !hasUnpinAction && options.tabActionCloseVisibility;
        const hasAction = hasUnpinAction || hasCloseAction;
        let tabAction;
        if (hasAction) {
            tabAction = hasUnpinAction ? this.unpinEditorAction : this.closeEditorAction;
        }
        else {
            tabAction = isTabSticky ? this.unpinEditorAction : this.closeEditorAction;
        }
        if (!tabActionBar.hasAction(tabAction)) {
            if (!tabActionBar.isEmpty()) {
                tabActionBar.clear();
            }
            tabActionBar.push(tabAction, { icon: true, label: false, keybinding: this.getKeybindingLabel(tabAction) });
        }
        tabContainer.classList.toggle(`pinned-action-off`, isTabSticky && !hasUnpinAction);
        tabContainer.classList.toggle(`close-action-off`, !hasUnpinAction && !hasCloseAction);
        for (const option of ['left', 'right']) {
            tabContainer.classList.toggle(`tab-actions-${option}`, hasAction && options.tabActionLocation === option);
        }
        const tabSizing = isTabSticky && options.pinnedTabSizing === 'shrink' ? 'shrink'  : options.tabSizing;
        for (const option of ['fit', 'shrink', 'fixed']) {
            tabContainer.classList.toggle(`sizing-${option}`, tabSizing === option);
        }
        tabContainer.classList.toggle('has-icon', options.showIcons && options.hasIcons);
        tabContainer.classList.toggle('sticky', isTabSticky);
        for (const option of ['normal', 'compact', 'shrink']) {
            tabContainer.classList.toggle(`sticky-${option}`, isTabSticky && options.pinnedTabSizing === option);
        }
        if (!options.wrapTabs && isTabSticky && options.pinnedTabSizing !== 'normal') {
            let stickyTabWidth = 0;
            switch (options.pinnedTabSizing) {
                case 'compact':
                    stickyTabWidth = MultiEditorTabsControl_1.TAB_WIDTH.compact;
                    break;
                case 'shrink':
                    stickyTabWidth = MultiEditorTabsControl_1.TAB_WIDTH.shrink;
                    break;
            }
            tabContainer.style.left = `${tabIndex * stickyTabWidth}px`;
        }
        else {
            tabContainer.style.left = 'auto';
        }
        this.redrawTabBorders(tabIndex, tabContainer);
        this.redrawTabSelectedActiveAndDirty(this.groupsView.activeGroup === this.groupView, editor, tabContainer, tabActionBar);
    }
    redrawTabLabel(editor, tabIndex, tabContainer, tabLabelWidget, tabLabel) {
        const options = this.groupsView.partOptions;
        let name;
        let forceLabel = false;
        let fileDecorationBadges = Boolean(options.decorations?.badges);
        const fileDecorationColors = Boolean(options.decorations?.colors);
        let description;
        if (options.pinnedTabSizing === 'compact' && this.tabsModel.isSticky(tabIndex)) {
            const isShowingIcons = options.showIcons && options.hasIcons;
            name = isShowingIcons ? '' : tabLabel.name?.charAt(0).toUpperCase();
            description = '';
            forceLabel = true;
            fileDecorationBadges = false;
        }
        else {
            name = tabLabel.name;
            description = tabLabel.description || '';
        }
        if (tabLabel.ariaLabel) {
            tabContainer.setAttribute('aria-label', tabLabel.ariaLabel);
            tabContainer.setAttribute('aria-description', '');
        }
        tabLabelWidget.setResource({ name, description, resource: _common_editor_js__WEBPACK_IMPORTED_MODULE_4__.EditorResourceAccessor.getOriginalUri(editor, { supportSideBySide: _common_editor_js__WEBPACK_IMPORTED_MODULE_4__.SideBySideEditor.BOTH }) }, {
            title: this.getHoverTitle(editor),
            extraClasses: (0,_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_45__.coalesce)(['tab-label', fileDecorationBadges ? 'tab-label-has-badge' : undefined].concat(editor.getLabelExtraClasses())),
            italic: !this.tabsModel.isPinned(editor),
            forceLabel,
            fileDecorations: {
                colors: fileDecorationColors,
                badges: fileDecorationBadges
            },
            icon: editor.getIcon(),
            hideIcon: options.showIcons === false,
        });
        const resource = _common_editor_js__WEBPACK_IMPORTED_MODULE_4__.EditorResourceAccessor.getOriginalUri(editor, { supportSideBySide: _common_editor_js__WEBPACK_IMPORTED_MODULE_4__.SideBySideEditor.PRIMARY });
        if (resource) {
            tabContainer.setAttribute('data-resource-name', (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_41__.basenameOrAuthority)(resource));
        }
        else {
            tabContainer.removeAttribute('data-resource-name');
        }
    }
    redrawTabSelectedActiveAndDirty(isGroupActive, editor, tabContainer, tabActionBar) {
        const isTabActive = this.tabsModel.isActive(editor);
        const hasModifiedBorderTop = this.doRedrawTabDirty(isGroupActive, isTabActive, editor, tabContainer);
        this.doRedrawTabActive(isGroupActive, !hasModifiedBorderTop, editor, tabContainer, tabActionBar);
    }
    doRedrawTabActive(isGroupActive, allowBorderTop, editor, tabContainer, tabActionBar) {
        const isActive = this.tabsModel.isActive(editor);
        const isSelected = this.tabsModel.isSelected(editor);
        tabContainer.classList.toggle('active', isActive);
        tabContainer.classList.toggle('selected', isSelected);
        tabContainer.setAttribute('aria-selected', isActive ? 'true' : 'false');
        tabContainer.tabIndex = isActive ? 0 : -1;
        tabActionBar.setFocusable(isActive);
        if (isActive) {
            const activeTabBorderColorBottom = this.getColor(isGroupActive ? _common_theme_js__WEBPACK_IMPORTED_MODULE_22__.TAB_ACTIVE_BORDER : _common_theme_js__WEBPACK_IMPORTED_MODULE_22__.TAB_UNFOCUSED_ACTIVE_BORDER);
            tabContainer.classList.toggle('tab-border-bottom', !!activeTabBorderColorBottom);
            tabContainer.style.setProperty('--tab-border-bottom-color', activeTabBorderColorBottom ?? '');
        }
        let tabBorderColorTop = null;
        if (allowBorderTop) {
            if (isActive) {
                tabBorderColorTop = this.getColor(isGroupActive ? _common_theme_js__WEBPACK_IMPORTED_MODULE_22__.TAB_ACTIVE_BORDER_TOP : _common_theme_js__WEBPACK_IMPORTED_MODULE_22__.TAB_UNFOCUSED_ACTIVE_BORDER_TOP);
            }
            if (tabBorderColorTop === null && isSelected) {
                tabBorderColorTop = this.getColor(_common_theme_js__WEBPACK_IMPORTED_MODULE_22__.TAB_SELECTED_BORDER_TOP);
            }
        }
        tabContainer.classList.toggle('tab-border-top', !!tabBorderColorTop);
        tabContainer.style.setProperty('--tab-border-top-color', tabBorderColorTop ?? '');
    }
    doRedrawTabDirty(isGroupActive, isTabActive, editor, tabContainer) {
        let hasModifiedBorderColor = false;
        if (editor.isDirty() && !editor.isSaving()) {
            tabContainer.classList.add('dirty');
            if (this.groupsView.partOptions.highlightModifiedTabs) {
                let modifiedBorderColor;
                if (isGroupActive && isTabActive) {
                    modifiedBorderColor = this.getColor(_common_theme_js__WEBPACK_IMPORTED_MODULE_22__.TAB_ACTIVE_MODIFIED_BORDER);
                }
                else if (isGroupActive && !isTabActive) {
                    modifiedBorderColor = this.getColor(_common_theme_js__WEBPACK_IMPORTED_MODULE_22__.TAB_INACTIVE_MODIFIED_BORDER);
                }
                else if (!isGroupActive && isTabActive) {
                    modifiedBorderColor = this.getColor(_common_theme_js__WEBPACK_IMPORTED_MODULE_22__.TAB_UNFOCUSED_ACTIVE_MODIFIED_BORDER);
                }
                else {
                    modifiedBorderColor = this.getColor(_common_theme_js__WEBPACK_IMPORTED_MODULE_22__.TAB_UNFOCUSED_INACTIVE_MODIFIED_BORDER);
                }
                if (modifiedBorderColor) {
                    hasModifiedBorderColor = true;
                    tabContainer.classList.add('dirty-border-top');
                    tabContainer.style.setProperty('--tab-dirty-border-top-color', modifiedBorderColor);
                }
            }
            else {
                tabContainer.classList.remove('dirty-border-top');
                tabContainer.style.removeProperty('--tab-dirty-border-top-color');
            }
        }
        else {
            tabContainer.classList.remove('dirty', 'dirty-border-top');
            tabContainer.style.removeProperty('--tab-dirty-border-top-color');
        }
        return hasModifiedBorderColor;
    }
    redrawTabBorders(tabIndex, tabContainer) {
        const isTabSticky = this.tabsModel.isSticky(tabIndex);
        const isTabLastSticky = isTabSticky && this.tabsModel.stickyCount === tabIndex + 1;
        const showLastStickyTabBorderColor = this.tabsModel.stickyCount !== this.tabsModel.count;
        const borderRightColor = ((isTabLastSticky && showLastStickyTabBorderColor ? this.getColor(_common_theme_js__WEBPACK_IMPORTED_MODULE_22__.TAB_LAST_PINNED_BORDER) : undefined) || this.getColor(_common_theme_js__WEBPACK_IMPORTED_MODULE_22__.TAB_BORDER) || this.getColor(_platform_theme_common_colors_baseColors_js__WEBPACK_IMPORTED_MODULE_24__.contrastBorder));
        tabContainer.style.borderRight = borderRightColor ? `1px solid ${borderRightColor}` : '';
        tabContainer.style.outlineColor = this.getColor(_platform_theme_common_colors_baseColors_js__WEBPACK_IMPORTED_MODULE_24__.activeContrastBorder) || '';
    }
    prepareEditorActions(editorActions) {
        const isGroupActive = this.groupsView.activeGroup === this.groupView;
        if (isGroupActive) {
            return editorActions;
        }
        else {
            return {
                primary: this.groupsView.partOptions.alwaysShowEditorActions ? editorActions.primary : editorActions.primary.filter(action => action.id === _editorCommands_js__WEBPACK_IMPORTED_MODULE_50__.UNLOCK_GROUP_COMMAND_ID),
                secondary: editorActions.secondary
            };
        }
    }
    getHeight() {
        if (this.dimensions.used) {
            return this.dimensions.used.height;
        }
        else {
            return this.computeHeight();
        }
    }
    computeHeight() {
        let height;
        if (!this.visible) {
            height = 0;
        }
        else if (this.groupsView.partOptions.wrapTabs && this.tabsAndActionsContainer?.classList.contains('wrapping')) {
            height = this.tabsAndActionsContainer.offsetHeight;
        }
        else {
            height = this.tabHeight;
        }
        return height;
    }
    layout(dimensions, options) {
        Object.assign(this.dimensions, dimensions);
        if (this.visible) {
            if (!this.layoutScheduler.value) {
                const disposable = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.scheduleAtNextAnimationFrame)((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.getWindow)(this.parent), () => {
                    this.doLayout(this.dimensions, this.layoutScheduler.value?.options );
                    this.layoutScheduler.clear();
                });
                this.layoutScheduler.value = { options, dispose: () => disposable.dispose() };
            }
            if (options?.forceRevealActiveTab) {
                this.layoutScheduler.value.options = {
                    ...this.layoutScheduler.value.options,
                    forceRevealActiveTab: true
                };
            }
        }
        if (!this.dimensions.used) {
            this.dimensions.used = ( (new _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.Dimension(dimensions.container.width, this.computeHeight())));
        }
        return this.dimensions.used;
    }
    doLayout(dimensions, options) {
        if (dimensions.container !== _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.Dimension.None && dimensions.available !== _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.Dimension.None) {
            this.doLayoutTabs(dimensions, options);
        }
        const oldDimension = this.dimensions.used;
        const newDimension = this.dimensions.used = ( (new _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.Dimension(dimensions.container.width, this.computeHeight())));
        if (oldDimension && oldDimension.height !== newDimension.height) {
            this.groupView.relayout();
        }
    }
    doLayoutTabs(dimensions, options) {
        const tabsWrapMultiLine = this.doLayoutTabsWrapping(dimensions);
        if (!tabsWrapMultiLine) {
            this.doLayoutTabsNonWrapping(options);
        }
    }
    doLayoutTabsWrapping(dimensions) {
        const [tabsAndActionsContainer, tabsContainer, editorToolbarContainer, tabsScrollbar] = (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_39__.assertAllDefined)(this.tabsAndActionsContainer, this.tabsContainer, this.editorActionsToolbarContainer, this.tabsScrollbar);
        const didTabsWrapMultiLine = tabsAndActionsContainer.classList.contains('wrapping');
        let tabsWrapMultiLine = didTabsWrapMultiLine;
        function updateTabsWrapping(enabled) {
            tabsWrapMultiLine = enabled;
            tabsAndActionsContainer.classList.toggle('wrapping', tabsWrapMultiLine);
            tabsContainer.style.setProperty('--last-tab-margin-right', tabsWrapMultiLine ? `${editorToolbarContainer.offsetWidth}px` : '0');
            for (const tab of tabsContainer.children) {
                tab.classList.remove('last-in-row');
            }
        }
        if (this.groupsView.partOptions.wrapTabs) {
            const visibleTabsWidth = tabsContainer.offsetWidth;
            const allTabsWidth = tabsContainer.scrollWidth;
            const lastTabFitsWrapped = () => {
                const lastTab = this.getLastTab();
                if (!lastTab) {
                    return true;
                }
                const lastTabOverlapWithToolbarWidth = lastTab.offsetWidth + editorToolbarContainer.offsetWidth - dimensions.available.width;
                if (lastTabOverlapWithToolbarWidth > 1) {
                    return false;
                }
                return true;
            };
            if (tabsWrapMultiLine || (allTabsWidth > visibleTabsWidth && lastTabFitsWrapped())) {
                updateTabsWrapping(true);
            }
            if (tabsWrapMultiLine) {
                if ((tabsContainer.offsetHeight > dimensions.available.height) ||
                    (allTabsWidth === visibleTabsWidth && tabsContainer.offsetHeight === this.tabHeight) ||
                    (!lastTabFitsWrapped())
                ) {
                    updateTabsWrapping(false);
                }
            }
        }
        else if (didTabsWrapMultiLine) {
            updateTabsWrapping(false);
        }
        if (tabsWrapMultiLine && !didTabsWrapMultiLine) {
            const visibleTabsWidth = tabsContainer.offsetWidth;
            tabsScrollbar.setScrollDimensions({
                width: visibleTabsWidth,
                scrollWidth: visibleTabsWidth
            });
        }
        if (tabsWrapMultiLine) {
            const tabs = ( (new Map()));
            let currentTabsPosY = undefined;
            let lastTab = undefined;
            for (const child of tabsContainer.children) {
                const tab = child;
                const tabPosY = tab.offsetTop;
                if (tabPosY !== currentTabsPosY) {
                    currentTabsPosY = tabPosY;
                    if (lastTab) {
                        tabs.set(lastTab, true);
                    }
                }
                lastTab = tab;
                tabs.set(tab, false);
            }
            if (lastTab) {
                tabs.set(lastTab, true);
            }
            for (const [tab, lastInRow] of tabs) {
                tab.classList.toggle('last-in-row', lastInRow);
            }
        }
        return tabsWrapMultiLine;
    }
    doLayoutTabsNonWrapping(options) {
        const [tabsContainer, tabsScrollbar] = (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_39__.assertAllDefined)(this.tabsContainer, this.tabsScrollbar);
        const visibleTabsWidth = tabsContainer.offsetWidth;
        const allTabsWidth = tabsContainer.scrollWidth;
        let stickyTabsWidth = 0;
        if (this.tabsModel.stickyCount > 0) {
            let stickyTabWidth = 0;
            switch (this.groupsView.partOptions.pinnedTabSizing) {
                case 'compact':
                    stickyTabWidth = MultiEditorTabsControl_1.TAB_WIDTH.compact;
                    break;
                case 'shrink':
                    stickyTabWidth = MultiEditorTabsControl_1.TAB_WIDTH.shrink;
                    break;
            }
            stickyTabsWidth = this.tabsModel.stickyCount * stickyTabWidth;
        }
        const activeTabAndIndex = this.tabsModel.activeEditor ? this.getTabAndIndex(this.tabsModel.activeEditor) : undefined;
        const [activeTab, activeTabIndex] = activeTabAndIndex ?? [undefined, undefined];
        let activeTabPositionStatic = this.groupsView.partOptions.pinnedTabSizing !== 'normal' && typeof activeTabIndex === 'number' && this.tabsModel.isSticky(activeTabIndex);
        let availableTabsContainerWidth = visibleTabsWidth - stickyTabsWidth;
        if (this.tabsModel.stickyCount > 0 && availableTabsContainerWidth < MultiEditorTabsControl_1.TAB_WIDTH.fit) {
            tabsContainer.classList.add('disable-sticky-tabs');
            availableTabsContainerWidth = visibleTabsWidth;
            stickyTabsWidth = 0;
            activeTabPositionStatic = false;
        }
        else {
            tabsContainer.classList.remove('disable-sticky-tabs');
        }
        let activeTabPosX;
        let activeTabWidth;
        if (!this.blockRevealActiveTab && activeTab) {
            activeTabPosX = activeTab.offsetLeft;
            activeTabWidth = activeTab.offsetWidth;
        }
        const { width: oldVisibleTabsWidth, scrollWidth: oldAllTabsWidth } = tabsScrollbar.getScrollDimensions();
        tabsScrollbar.setScrollDimensions({
            width: visibleTabsWidth,
            scrollWidth: allTabsWidth
        });
        const dimensionsChanged = oldVisibleTabsWidth !== visibleTabsWidth || oldAllTabsWidth !== allTabsWidth;
        if (this.blockRevealActiveTab ||
            typeof activeTabPosX !== 'number' ||
            typeof activeTabWidth !== 'number' ||
            activeTabPositionStatic ||
            (!dimensionsChanged && !options?.forceRevealActiveTab)
        ) {
            this.blockRevealActiveTab = false;
            return;
        }
        const tabsContainerScrollPosX = tabsScrollbar.getScrollPosition().scrollLeft;
        const activeTabFits = activeTabWidth <= availableTabsContainerWidth;
        const adjustedActiveTabPosX = activeTabPosX - stickyTabsWidth;
        if (activeTabFits && tabsContainerScrollPosX + availableTabsContainerWidth < adjustedActiveTabPosX + activeTabWidth) {
            tabsScrollbar.setScrollPosition({
                scrollLeft: tabsContainerScrollPosX + (((adjustedActiveTabPosX + activeTabWidth)  - (tabsContainerScrollPosX + availableTabsContainerWidth)) )
            });
        }
        else if (tabsContainerScrollPosX > adjustedActiveTabPosX || !activeTabFits) {
            tabsScrollbar.setScrollPosition({
                scrollLeft: adjustedActiveTabPosX
            });
        }
    }
    updateTabsControlVisibility() {
        const tabsAndActionsContainer = (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_39__.assertIsDefined)(this.tabsAndActionsContainer);
        tabsAndActionsContainer.classList.toggle('empty', !this.visible);
        if (!this.visible && this.dimensions) {
            this.dimensions.used = undefined;
        }
    }
    get visible() {
        return this.tabsModel.count > 0;
    }
    getTabAndIndex(editor) {
        const tabIndex = this.tabsModel.indexOf(editor);
        const tab = this.getTabAtIndex(tabIndex);
        if (tab) {
            return [tab, tabIndex];
        }
        return undefined;
    }
    getTabAtIndex(tabIndex) {
        if (tabIndex >= 0) {
            const tabsContainer = (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_39__.assertIsDefined)(this.tabsContainer);
            return tabsContainer.children[tabIndex];
        }
        return undefined;
    }
    getLastTab() {
        return this.getTabAtIndex(this.tabsModel.count - 1);
    }
    blockRevealActiveTabOnce() {
        this.blockRevealActiveTab = true;
    }
    originatesFromTabActionBar(e) {
        let element;
        if ((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.isMouseEvent)(e)) {
            element = (e.target || e.srcElement);
        }
        else {
            element = e.initialTarget;
        }
        return !!(0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.findParentWithClass)(element, 'action-item', 'tab');
    }
    async onDrop(e, targetTabIndex, tabsContainer) {
        _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.EventHelper.stop(e, true);
        this.updateDropFeedback(tabsContainer, false, e, targetTabIndex);
        tabsContainer.classList.remove('scroll');
        let targetEditorIndex = this.tabsModel instanceof _common_editor_filteredEditorGroupModel_js__WEBPACK_IMPORTED_MODULE_55__.UnstickyEditorGroupModel ? targetTabIndex + this.groupView.stickyCount : targetTabIndex;
        const options = {
            sticky: this.tabsModel instanceof _common_editor_filteredEditorGroupModel_js__WEBPACK_IMPORTED_MODULE_55__.StickyEditorGroupModel && this.tabsModel.stickyCount === targetEditorIndex,
            index: targetEditorIndex
        };
        if (this.groupTransfer.hasData(_dnd_js__WEBPACK_IMPORTED_MODULE_34__.DraggedEditorGroupIdentifier.prototype)) {
            const data = this.groupTransfer.getData(_dnd_js__WEBPACK_IMPORTED_MODULE_34__.DraggedEditorGroupIdentifier.prototype);
            if (Array.isArray(data) && data.length > 0) {
                const sourceGroup = this.editorPartsView.getGroup(data[0].identifier);
                if (sourceGroup) {
                    const mergeGroupOptions = { index: targetEditorIndex };
                    if (!this.isMoveOperation(e, sourceGroup.id)) {
                        mergeGroupOptions.mode = 0 ;
                    }
                    this.groupsView.mergeGroup(sourceGroup, this.groupView, mergeGroupOptions);
                }
                this.groupView.focus();
                this.groupTransfer.clearData(_dnd_js__WEBPACK_IMPORTED_MODULE_34__.DraggedEditorGroupIdentifier.prototype);
            }
        }
        else if (this.editorTransfer.hasData(_dnd_js__WEBPACK_IMPORTED_MODULE_34__.DraggedEditorIdentifier.prototype)) {
            const data = this.editorTransfer.getData(_dnd_js__WEBPACK_IMPORTED_MODULE_34__.DraggedEditorIdentifier.prototype);
            if (Array.isArray(data) && data.length > 0) {
                const sourceGroup = this.editorPartsView.getGroup(data[0].identifier.groupId);
                if (sourceGroup) {
                    for (const de of data) {
                        const editor = de.identifier.editor;
                        if (sourceGroup.id !== de.identifier.groupId) {
                            continue;
                        }
                        const sourceEditorIndex = sourceGroup.getIndexOfEditor(editor);
                        if (sourceGroup === this.groupView && sourceEditorIndex < targetEditorIndex) {
                            targetEditorIndex--;
                        }
                        if (this.isMoveOperation(e, de.identifier.groupId, editor)) {
                            sourceGroup.moveEditor(editor, this.groupView, { ...options, index: targetEditorIndex });
                        }
                        else {
                            sourceGroup.copyEditor(editor, this.groupView, { ...options, index: targetEditorIndex });
                        }
                        targetEditorIndex++;
                    }
                }
            }
            this.groupView.focus();
            this.editorTransfer.clearData(_dnd_js__WEBPACK_IMPORTED_MODULE_34__.DraggedEditorIdentifier.prototype);
        }
        else if (this.treeItemsTransfer.hasData(_editor_common_services_treeViewsDnd_js__WEBPACK_IMPORTED_MODULE_53__.DraggedTreeItemsIdentifier.prototype)) {
            const data = this.treeItemsTransfer.getData(_editor_common_services_treeViewsDnd_js__WEBPACK_IMPORTED_MODULE_53__.DraggedTreeItemsIdentifier.prototype);
            if (Array.isArray(data) && data.length > 0) {
                const editors = [];
                for (const id of data) {
                    const dataTransferItem = await this.treeViewsDragAndDropService.removeDragOperationTransfer(id.identifier);
                    if (dataTransferItem) {
                        const treeDropData = await (0,_dnd_js__WEBPACK_IMPORTED_MODULE_34__.extractTreeDropData)(dataTransferItem);
                        editors.push(...( (treeDropData.map(
                            editor => ({ ...editor, options: { ...editor.options, pinned: true, index: targetEditorIndex } })
                        ))));
                    }
                }
                this.editorService.openEditors(editors, this.groupView, { validateTrust: true });
            }
            this.treeItemsTransfer.clearData(_editor_common_services_treeViewsDnd_js__WEBPACK_IMPORTED_MODULE_53__.DraggedTreeItemsIdentifier.prototype);
        }
        else {
            const dropHandler = this.instantiationService.createInstance(_dnd_js__WEBPACK_IMPORTED_MODULE_34__.ResourcesDropHandler, { allowWorkspaceOpen: false });
            dropHandler.handleDrop(e, (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_36__.getWindow)(this.parent), () => this.groupView, () => this.groupView.focus(), options);
        }
    }
    dispose() {
        super.dispose();
        this.tabDisposables = (0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_17__.dispose)(this.tabDisposables);
    }
};
MultiEditorTabsControl = MultiEditorTabsControl_1 = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _platform_contextview_browser_contextView_service_js__WEBPACK_IMPORTED_MODULE_10__.IContextMenuService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_11__.IInstantiationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_13__.IContextKeyService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, _platform_keybinding_common_keybinding_service_js__WEBPACK_IMPORTED_MODULE_12__.IKeybindingService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, _platform_notification_common_notification_service_js__WEBPACK_IMPORTED_MODULE_35__.INotificationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, _platform_quickinput_common_quickInput_service_js__WEBPACK_IMPORTED_MODULE_16__.IQuickInputService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(11, _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_21__.IThemeService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(12, _services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_40__.IEditorService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(13, _services_path_common_pathService_service_js__WEBPACK_IMPORTED_MODULE_43__.IPathService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(14, _editor_common_services_treeViewsDndService_js__WEBPACK_IMPORTED_MODULE_52__.ITreeViewsDnDService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(15, _services_editor_common_editorResolverService_service_js__WEBPACK_IMPORTED_MODULE_54__.IEditorResolverService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(16, _services_host_browser_host_service_js__WEBPACK_IMPORTED_MODULE_56__.IHostService)))
], MultiEditorTabsControl)));
(0,_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_20__.registerThemingParticipant)((theme, collector) => {
    const borderColor = theme.getColor(_common_theme_js__WEBPACK_IMPORTED_MODULE_22__.TAB_BORDER);
    if (borderColor) {
        collector.addRule(`
			.monaco-workbench .part.editor > .content .editor-group-container > .title > .tabs-and-actions-container.wrapping .tabs-container > .tab {
				border-bottom: 1px solid ${borderColor};
			}
		`);
    }
    const activeContrastBorderColor = theme.getColor(_platform_theme_common_colors_baseColors_js__WEBPACK_IMPORTED_MODULE_24__.activeContrastBorder);
    if (activeContrastBorderColor) {
        collector.addRule(`
			.monaco-workbench .part.editor > .content .editor-group-container.active > .title .tabs-container > .tab.active,
			.monaco-workbench .part.editor > .content .editor-group-container.active > .title .tabs-container > .tab.active:hover  {
				outline: 1px solid;
				outline-offset: -5px;
			}

			.monaco-workbench .part.editor > .content .editor-group-container > .title .tabs-container > .tab.selected:not(.active):not(:hover)  {
				outline: 1px dotted;
				outline-offset: -5px;
			}

			.monaco-workbench .part.editor > .content .editor-group-container.active > .title .tabs-container > .tab.active:focus {
				outline-style: dashed;
			}

			.monaco-workbench .part.editor > .content .editor-group-container > .title .tabs-container > .tab.active {
				outline: 1px dotted;
				outline-offset: -5px;
			}

			.monaco-workbench .part.editor > .content .editor-group-container > .title .tabs-container > .tab:hover  {
				outline: 1px dashed;
				outline-offset: -5px;
			}

			.monaco-workbench .part.editor > .content .editor-group-container > .title .tabs-container > .tab.active > .tab-actions .action-label,
			.monaco-workbench .part.editor > .content .editor-group-container > .title .tabs-container > .tab.active:hover > .tab-actions .action-label,
			.monaco-workbench .part.editor > .content .editor-group-container > .title .tabs-container > .tab.dirty > .tab-actions .action-label,
			.monaco-workbench .part.editor > .content .editor-group-container > .title .tabs-container > .tab.sticky > .tab-actions .action-label,
			.monaco-workbench .part.editor > .content .editor-group-container > .title .tabs-container > .tab:hover > .tab-actions .action-label {
				opacity: 1 !important;
			}
		`);
    }
    const contrastBorderColor = theme.getColor(_platform_theme_common_colors_baseColors_js__WEBPACK_IMPORTED_MODULE_24__.contrastBorder);
    if (contrastBorderColor) {
        collector.addRule(`
			.monaco-workbench .part.editor > .content .editor-group-container > .title .editor-actions {
				outline: 1px solid ${contrastBorderColor}
			}
		`);
    }
    const tabHoverBackground = theme.getColor(_common_theme_js__WEBPACK_IMPORTED_MODULE_22__.TAB_HOVER_BACKGROUND);
    if (tabHoverBackground) {
        collector.addRule(`
			.monaco-workbench .part.editor > .content .editor-group-container.active > .title .tabs-container > .tab:not(.selected):hover {
				background-color: ${tabHoverBackground} !important;
			}
		`);
    }
    const tabUnfocusedHoverBackground = theme.getColor(_common_theme_js__WEBPACK_IMPORTED_MODULE_22__.TAB_UNFOCUSED_HOVER_BACKGROUND);
    if (tabUnfocusedHoverBackground) {
        collector.addRule(`
			.monaco-workbench .part.editor > .content .editor-group-container > .title .tabs-container > .tab:not(.selected):hover  {
				background-color: ${tabUnfocusedHoverBackground} !important;
			}
		`);
    }
    const tabHoverForeground = theme.getColor(_common_theme_js__WEBPACK_IMPORTED_MODULE_22__.TAB_HOVER_FOREGROUND);
    if (tabHoverForeground) {
        collector.addRule(`
			.monaco-workbench .part.editor > .content .editor-group-container.active > .title .tabs-container > .tab:not(.selected):hover  {
				color: ${tabHoverForeground} !important;
			}
		`);
    }
    const tabUnfocusedHoverForeground = theme.getColor(_common_theme_js__WEBPACK_IMPORTED_MODULE_22__.TAB_UNFOCUSED_HOVER_FOREGROUND);
    if (tabUnfocusedHoverForeground) {
        collector.addRule(`
			.monaco-workbench .part.editor > .content .editor-group-container > .title .tabs-container > .tab:not(.selected):hover  {
				color: ${tabUnfocusedHoverForeground} !important;
			}
		`);
    }
    const tabHoverBorder = theme.getColor(_common_theme_js__WEBPACK_IMPORTED_MODULE_22__.TAB_HOVER_BORDER);
    if (tabHoverBorder) {
        collector.addRule(`
			.monaco-workbench .part.editor > .content .editor-group-container.active > .title .tabs-container > .tab:hover > .tab-border-bottom-container {
				display: block;
				position: absolute;
				left: 0;
				pointer-events: none;
				width: 100%;
				z-index: 10;
				bottom: 0;
				height: 1px;
				background-color: ${tabHoverBorder};
			}
		`);
    }
    const tabUnfocusedHoverBorder = theme.getColor(_common_theme_js__WEBPACK_IMPORTED_MODULE_22__.TAB_UNFOCUSED_HOVER_BORDER);
    if (tabUnfocusedHoverBorder) {
        collector.addRule(`
			.monaco-workbench .part.editor > .content .editor-group-container > .title .tabs-container > .tab:hover > .tab-border-bottom-container  {
				display: block;
				position: absolute;
				left: 0;
				pointer-events: none;
				width: 100%;
				z-index: 10;
				bottom: 0;
				height: 1px;
				background-color: ${tabUnfocusedHoverBorder};
			}
		`);
    }
    if (!(0,_platform_theme_common_theme_js__WEBPACK_IMPORTED_MODULE_46__.isHighContrast)(theme.type) && !_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_47__.isSafari && !activeContrastBorderColor) {
        const workbenchBackground = (0,_common_theme_js__WEBPACK_IMPORTED_MODULE_22__.WORKBENCH_BACKGROUND)(theme);
        const editorBackgroundColor = theme.getColor(_platform_theme_common_colors_editorColors_js__WEBPACK_IMPORTED_MODULE_26__.editorBackground);
        const editorGroupHeaderTabsBackground = theme.getColor(_common_theme_js__WEBPACK_IMPORTED_MODULE_22__.EDITOR_GROUP_HEADER_TABS_BACKGROUND);
        const editorDragAndDropBackground = theme.getColor(_common_theme_js__WEBPACK_IMPORTED_MODULE_22__.EDITOR_DRAG_AND_DROP_BACKGROUND);
        let adjustedTabBackground;
        if (editorGroupHeaderTabsBackground && editorBackgroundColor) {
            adjustedTabBackground = editorGroupHeaderTabsBackground.flatten(editorBackgroundColor, editorBackgroundColor, workbenchBackground);
        }
        let adjustedTabDragBackground;
        if (editorGroupHeaderTabsBackground && editorBackgroundColor && editorDragAndDropBackground && editorBackgroundColor) {
            adjustedTabDragBackground = editorGroupHeaderTabsBackground.flatten(editorBackgroundColor, editorDragAndDropBackground, editorBackgroundColor, workbenchBackground);
        }
        const makeTabHoverBackgroundRule = (color, colorDrag, hasFocus = false) => `
			.monaco-workbench .part.editor > .content:not(.dragged-over) .editor-group-container${hasFocus ? '.active' : ''} > .title .tabs-container > .tab.sizing-shrink:not(.dragged):not(.sticky-compact):hover > .tab-label > .monaco-icon-label-container::after,
			.monaco-workbench .part.editor > .content:not(.dragged-over) .editor-group-container${hasFocus ? '.active' : ''} > .title .tabs-container > .tab.sizing-fixed:not(.dragged):not(.sticky-compact):hover > .tab-label > .monaco-icon-label-container::after {
				background: linear-gradient(to left, ${color}, transparent) !important;
			}

			.monaco-workbench .part.editor > .content.dragged-over .editor-group-container${hasFocus ? '.active' : ''} > .title .tabs-container > .tab.sizing-shrink:not(.dragged):not(.sticky-compact):hover > .tab-label > .monaco-icon-label-container::after,
			.monaco-workbench .part.editor > .content.dragged-over .editor-group-container${hasFocus ? '.active' : ''} > .title .tabs-container > .tab.sizing-fixed:not(.dragged):not(.sticky-compact):hover > .tab-label > .monaco-icon-label-container::after {
				background: linear-gradient(to left, ${colorDrag}, transparent) !important;
			}
		`;
        if (tabHoverBackground && adjustedTabBackground && adjustedTabDragBackground) {
            const adjustedColor = tabHoverBackground.flatten(adjustedTabBackground);
            const adjustedColorDrag = tabHoverBackground.flatten(adjustedTabDragBackground);
            collector.addRule(makeTabHoverBackgroundRule(adjustedColor, adjustedColorDrag, true));
        }
        if (tabUnfocusedHoverBackground && adjustedTabBackground && adjustedTabDragBackground) {
            const adjustedColor = tabUnfocusedHoverBackground.flatten(adjustedTabBackground);
            const adjustedColorDrag = tabUnfocusedHoverBackground.flatten(adjustedTabDragBackground);
            collector.addRule(makeTabHoverBackgroundRule(adjustedColor, adjustedColorDrag));
        }
        if (editorDragAndDropBackground && adjustedTabDragBackground) {
            const adjustedColorDrag = editorDragAndDropBackground.flatten(adjustedTabDragBackground);
            collector.addRule(`
				.monaco-workbench .part.editor > .content.dragged-over .editor-group-container.active > .title .tabs-container > .tab.sizing-shrink.dragged-over:not(.active):not(.dragged):not(.sticky-compact) > .tab-label > .monaco-icon-label-container::after,
				.monaco-workbench .part.editor > .content.dragged-over .editor-group-container:not(.active) > .title .tabs-container > .tab.sizing-shrink.dragged-over:not(.dragged):not(.sticky-compact) > .tab-label > .monaco-icon-label-container::after,
				.monaco-workbench .part.editor > .content.dragged-over .editor-group-container.active > .title .tabs-container > .tab.sizing-fixed.dragged-over:not(.active):not(.dragged):not(.sticky-compact) > .tab-label > .monaco-icon-label-container::after,
				.monaco-workbench .part.editor > .content.dragged-over .editor-group-container:not(.active) > .title .tabs-container > .tab.sizing-fixed.dragged-over:not(.dragged):not(.sticky-compact) > .tab-label > .monaco-icon-label-container::after {
					background: linear-gradient(to left, ${adjustedColorDrag}, transparent) !important;
				}
		`);
        }
        const makeTabBackgroundRule = (color, colorDrag, focused, active) => `
				.monaco-workbench .part.editor > .content:not(.dragged-over) .editor-group-container${focused ? '.active' : ':not(.active)'} > .title .tabs-container > .tab.sizing-shrink${active ? '.active' : ''}:not(.dragged):not(.sticky-compact) > .tab-label > .monaco-icon-label-container::after,
				.monaco-workbench .part.editor > .content:not(.dragged-over) .editor-group-container${focused ? '.active' : ':not(.active)'} > .title .tabs-container > .tab.sizing-fixed${active ? '.active' : ''}:not(.dragged):not(.sticky-compact) > .tab-label > .monaco-icon-label-container::after {
					background: linear-gradient(to left, ${color}, transparent);
				}

				.monaco-workbench .part.editor > .content.dragged-over .editor-group-container${focused ? '.active' : ':not(.active)'} > .title .tabs-container > .tab.sizing-shrink${active ? '.active' : ''}:not(.dragged):not(.sticky-compact) > .tab-label > .monaco-icon-label-container::after,
				.monaco-workbench .part.editor > .content.dragged-over .editor-group-container${focused ? '.active' : ':not(.active)'} > .title .tabs-container > .tab.sizing-fixed${active ? '.active' : ''}:not(.dragged):not(.sticky-compact) > .tab-label > .monaco-icon-label-container::after {
					background: linear-gradient(to left, ${colorDrag}, transparent);
				}
		`;
        const tabActiveBackground = theme.getColor(_common_theme_js__WEBPACK_IMPORTED_MODULE_22__.TAB_ACTIVE_BACKGROUND);
        if (tabActiveBackground && adjustedTabBackground && adjustedTabDragBackground) {
            const adjustedColor = tabActiveBackground.flatten(adjustedTabBackground);
            const adjustedColorDrag = tabActiveBackground.flatten(adjustedTabDragBackground);
            collector.addRule(makeTabBackgroundRule(adjustedColor, adjustedColorDrag, true, true));
        }
        const tabUnfocusedActiveBackground = theme.getColor(_common_theme_js__WEBPACK_IMPORTED_MODULE_22__.TAB_UNFOCUSED_ACTIVE_BACKGROUND);
        if (tabUnfocusedActiveBackground && adjustedTabBackground && adjustedTabDragBackground) {
            const adjustedColor = tabUnfocusedActiveBackground.flatten(adjustedTabBackground);
            const adjustedColorDrag = tabUnfocusedActiveBackground.flatten(adjustedTabDragBackground);
            collector.addRule(makeTabBackgroundRule(adjustedColor, adjustedColorDrag, false, true));
        }
        const tabInactiveBackground = theme.getColor(_common_theme_js__WEBPACK_IMPORTED_MODULE_22__.TAB_INACTIVE_BACKGROUND);
        if (tabInactiveBackground && adjustedTabBackground && adjustedTabDragBackground) {
            const adjustedColor = tabInactiveBackground.flatten(adjustedTabBackground);
            const adjustedColorDrag = tabInactiveBackground.flatten(adjustedTabDragBackground);
            collector.addRule(makeTabBackgroundRule(adjustedColor, adjustedColorDrag, true, false));
        }
        const tabUnfocusedInactiveBackground = theme.getColor(_common_theme_js__WEBPACK_IMPORTED_MODULE_22__.TAB_UNFOCUSED_INACTIVE_BACKGROUND);
        if (tabUnfocusedInactiveBackground && adjustedTabBackground && adjustedTabDragBackground) {
            const adjustedColor = tabUnfocusedInactiveBackground.flatten(adjustedTabBackground);
            const adjustedColorDrag = tabUnfocusedInactiveBackground.flatten(adjustedTabDragBackground);
            collector.addRule(makeTabBackgroundRule(adjustedColor, adjustedColorDrag, false, false));
        }
    }
});



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/multiRowEditorTabsControl.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/multiRowEditorTabsControl.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MultiRowEditorControl: () => (/* binding */ MultiRowEditorControl)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../base/browser/dom.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../platform/instantiation/common/instantiation.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var _multiEditorTabsControl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./multiEditorTabsControl.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/multiEditorTabsControl.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _common_editor_filteredEditorGroupModel_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../common/editor/filteredEditorGroupModel.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/filteredEditorGroupModel.js");






let MultiRowEditorControl = class MultiRowEditorControl extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__.Disposable {
    constructor(parent, editorPartsView, groupsView, groupView, model, instantiationService) {
        super();
        this.parent = parent;
        this.groupsView = groupsView;
        this.groupView = groupView;
        this.model = model;
        this.instantiationService = instantiationService;
        const stickyModel = this._register(( new _common_editor_filteredEditorGroupModel_js__WEBPACK_IMPORTED_MODULE_5__.StickyEditorGroupModel(this.model)));
        const unstickyModel = this._register(( new _common_editor_filteredEditorGroupModel_js__WEBPACK_IMPORTED_MODULE_5__.UnstickyEditorGroupModel(this.model)));
        this.stickyEditorTabsControl = this._register(this.instantiationService.createInstance(_multiEditorTabsControl_js__WEBPACK_IMPORTED_MODULE_3__.MultiEditorTabsControl, this.parent, editorPartsView, this.groupsView, this.groupView, stickyModel));
        this.unstickyEditorTabsControl = this._register(this.instantiationService.createInstance(_multiEditorTabsControl_js__WEBPACK_IMPORTED_MODULE_3__.MultiEditorTabsControl, this.parent, editorPartsView, this.groupsView, this.groupView, unstickyModel));
        this.handleTabBarsStateChange();
    }
    handleTabBarsStateChange() {
        this.activeControl = this.model.activeEditor ? this.getEditorTabsController(this.model.activeEditor) : undefined;
        this.handleTabBarsLayoutChange();
    }
    handleTabBarsLayoutChange() {
        if (this.groupView.count === 0) {
            return;
        }
        const hadTwoTabBars = this.parent.classList.contains('two-tab-bars');
        const hasTwoTabBars = this.groupView.count !== this.groupView.stickyCount && this.groupView.stickyCount > 0;
        this.parent.classList.toggle('two-tab-bars', hasTwoTabBars);
        if (hadTwoTabBars !== hasTwoTabBars) {
            this.groupView.relayout();
        }
    }
    didActiveControlChange() {
        return this.activeControl !== (this.model.activeEditor ? this.getEditorTabsController(this.model.activeEditor) : undefined);
    }
    getEditorTabsController(editor) {
        return this.model.isSticky(editor) ? this.stickyEditorTabsControl : this.unstickyEditorTabsControl;
    }
    openEditor(editor, options) {
        const didActiveControlChange = this.didActiveControlChange();
        const didOpenEditorChange = this.getEditorTabsController(editor).openEditor(editor, options);
        const didChange = didOpenEditorChange || didActiveControlChange;
        if (didChange) {
            this.handleOpenedEditors();
        }
        return didChange;
    }
    openEditors(editors) {
        const stickyEditors = editors.filter(e => this.model.isSticky(e));
        const unstickyEditors = editors.filter(e => !this.model.isSticky(e));
        const didActiveControlChange = this.didActiveControlChange();
        const didChangeOpenEditorsSticky = this.stickyEditorTabsControl.openEditors(stickyEditors);
        const didChangeOpenEditorsUnSticky = this.unstickyEditorTabsControl.openEditors(unstickyEditors);
        const didChange = didChangeOpenEditorsSticky || didChangeOpenEditorsUnSticky || didActiveControlChange;
        if (didChange) {
            this.handleOpenedEditors();
        }
        return didChange;
    }
    handleOpenedEditors() {
        this.handleTabBarsStateChange();
    }
    beforeCloseEditor(editor) {
        this.getEditorTabsController(editor).beforeCloseEditor(editor);
    }
    closeEditor(editor) {
        this.stickyEditorTabsControl.closeEditor(editor);
        this.unstickyEditorTabsControl.closeEditor(editor);
        this.handleClosedEditors();
    }
    closeEditors(editors) {
        const stickyEditors = editors.filter(e => this.model.isSticky(e));
        const unstickyEditors = editors.filter(e => !this.model.isSticky(e));
        this.stickyEditorTabsControl.closeEditors(stickyEditors);
        this.unstickyEditorTabsControl.closeEditors(unstickyEditors);
        this.handleClosedEditors();
    }
    handleClosedEditors() {
        this.handleTabBarsStateChange();
    }
    moveEditor(editor, fromIndex, targetIndex, stickyStateChange) {
        if (stickyStateChange) {
            if (this.model.isSticky(editor)) {
                this.stickyEditorTabsControl.openEditor(editor);
                this.unstickyEditorTabsControl.closeEditor(editor);
            }
            else {
                this.stickyEditorTabsControl.closeEditor(editor);
                this.unstickyEditorTabsControl.openEditor(editor);
            }
            this.handleTabBarsStateChange();
        }
        else {
            if (this.model.isSticky(editor)) {
                this.stickyEditorTabsControl.moveEditor(editor, fromIndex, targetIndex, stickyStateChange);
            }
            else {
                this.unstickyEditorTabsControl.moveEditor(editor, fromIndex - this.model.stickyCount, targetIndex - this.model.stickyCount, stickyStateChange);
            }
        }
    }
    pinEditor(editor) {
        this.getEditorTabsController(editor).pinEditor(editor);
    }
    stickEditor(editor) {
        this.unstickyEditorTabsControl.closeEditor(editor);
        this.stickyEditorTabsControl.openEditor(editor);
        this.handleTabBarsStateChange();
    }
    unstickEditor(editor) {
        this.stickyEditorTabsControl.closeEditor(editor);
        this.unstickyEditorTabsControl.openEditor(editor);
        this.handleTabBarsStateChange();
    }
    setActive(isActive) {
        this.stickyEditorTabsControl.setActive(isActive);
        this.unstickyEditorTabsControl.setActive(isActive);
    }
    updateEditorSelections() {
        this.stickyEditorTabsControl.updateEditorSelections();
        this.unstickyEditorTabsControl.updateEditorSelections();
    }
    updateEditorLabel(editor) {
        this.getEditorTabsController(editor).updateEditorLabel(editor);
    }
    updateEditorDirty(editor) {
        this.getEditorTabsController(editor).updateEditorDirty(editor);
    }
    updateOptions(oldOptions, newOptions) {
        this.stickyEditorTabsControl.updateOptions(oldOptions, newOptions);
        this.unstickyEditorTabsControl.updateOptions(oldOptions, newOptions);
    }
    layout(dimensions) {
        const stickyDimensions = this.stickyEditorTabsControl.layout(dimensions);
        const unstickyAvailableDimensions = {
            container: dimensions.container,
            available: ( new _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.Dimension(
                dimensions.available.width,
                dimensions.available.height - stickyDimensions.height
            ))
        };
        const unstickyDimensions = this.unstickyEditorTabsControl.layout(unstickyAvailableDimensions);
        return ( new _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.Dimension(
            dimensions.container.width,
            stickyDimensions.height + unstickyDimensions.height
        ));
    }
    getHeight() {
        return this.stickyEditorTabsControl.getHeight() + this.unstickyEditorTabsControl.getHeight();
    }
    dispose() {
        this.parent.classList.toggle('two-tab-bars', false);
        super.dispose();
    }
};
MultiRowEditorControl = ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_2__.IInstantiationService))
], MultiRowEditorControl));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/noEditorTabsControl.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/noEditorTabsControl.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   NoEditorTabsControl: () => (/* binding */ NoEditorTabsControl)
/* harmony export */ });
/* harmony import */ var _media_singleeditortabscontrol_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./media/singleeditortabscontrol.css.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/media/singleeditortabscontrol.css.js");
/* harmony import */ var _editorTabsControl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editorTabsControl.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorTabsControl.js");
/* harmony import */ var _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../base/browser/dom.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");



class NoEditorTabsControl extends _editorTabsControl_js__WEBPACK_IMPORTED_MODULE_1__.EditorTabsControl {
    constructor() {
        super(...arguments);
        this.activeEditor = null;
    }
    prepareEditorActions(editorActions) {
        return {
            primary: [],
            secondary: []
        };
    }
    openEditor(editor) {
        return this.handleOpenedEditors();
    }
    openEditors(editors) {
        return this.handleOpenedEditors();
    }
    handleOpenedEditors() {
        const didChange = this.activeEditorChanged();
        this.activeEditor = this.tabsModel.activeEditor;
        return didChange;
    }
    activeEditorChanged() {
        if (!this.activeEditor && this.tabsModel.activeEditor ||
            this.activeEditor && !this.tabsModel.activeEditor ||
            (!this.activeEditor || !this.tabsModel.isActive(this.activeEditor))
        ) {
            return true;
        }
        return false;
    }
    beforeCloseEditor(editor) { }
    closeEditor(editor) {
        this.handleClosedEditors();
    }
    closeEditors(editors) {
        this.handleClosedEditors();
    }
    handleClosedEditors() {
        this.activeEditor = this.tabsModel.activeEditor;
    }
    moveEditor(editor, fromIndex, targetIndex) { }
    pinEditor(editor) { }
    stickEditor(editor) { }
    unstickEditor(editor) { }
    setActive(isActive) { }
    updateEditorSelections() { }
    updateEditorLabel(editor) { }
    updateEditorDirty(editor) { }
    getHeight() {
        return 0;
    }
    layout(dimensions) {
        return ( new _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.Dimension(dimensions.container.width, this.getHeight()));
    }
}



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/singleEditorTabsControl.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/singleEditorTabsControl.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SingleEditorTabsControl: () => (/* binding */ SingleEditorTabsControl)
/* harmony export */ });
/* harmony import */ var _media_singleeditortabscontrol_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./media/singleeditortabscontrol.css.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/media/singleeditortabscontrol.css.js");
/* harmony import */ var _common_editor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../common/editor.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor.js");
/* harmony import */ var _editorTabsControl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./editorTabsControl.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorTabsControl.js");
/* harmony import */ var _labels_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../labels.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/labels.js");
/* harmony import */ var _common_theme_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../common/theme.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/theme.js");
/* harmony import */ var _base_browser_touch_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../base/browser/touch.js */ "./node_modules/vscode/vscode/src/vs/base/browser/touch.js");
/* harmony import */ var _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../base/browser/dom.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var _editorCommands_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./editorCommands.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorCommands.js");
/* harmony import */ var _base_common_color_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../base/common/color.js */ "./node_modules/vscode/vscode/src/vs/base/common/color.js");
/* harmony import */ var _base_common_types_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../base/common/types.js */ "./node_modules/vscode/vscode/src/vs/base/common/types.js");
/* harmony import */ var _base_common_objects_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../base/common/objects.js */ "./node_modules/vscode/vscode/src/vs/base/common/objects.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _platform_theme_browser_defaultStyles_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../platform/theme/browser/defaultStyles.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/browser/defaultStyles.js");
/* harmony import */ var _breadcrumbsControl_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./breadcrumbsControl.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/breadcrumbsControl.js");














class SingleEditorTabsControl extends _editorTabsControl_js__WEBPACK_IMPORTED_MODULE_2__.EditorTabsControl {
    constructor() {
        super(...arguments);
        this.activeLabel = Object.create(null);
    }
    get breadcrumbsControl() { return this.breadcrumbsControlFactory?.control; }
    create(parent) {
        super.create(parent);
        const titleContainer = this.titleContainer = parent;
        titleContainer.draggable = true;
        this.registerContainerListeners(titleContainer);
        this._register(_base_browser_touch_js__WEBPACK_IMPORTED_MODULE_5__.Gesture.addTarget(titleContainer));
        const labelContainer = document.createElement('div');
        labelContainer.classList.add('label-container');
        titleContainer.appendChild(labelContainer);
        this.editorLabel = this._register(this.instantiationService.createInstance(_labels_js__WEBPACK_IMPORTED_MODULE_3__.ResourceLabel, labelContainer, { hoverDelegate: this.getHoverDelegate() })).element;
        this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_6__.addDisposableListener)(this.editorLabel.element, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_6__.EventType.CLICK, e => this.onTitleLabelClick(e)));
        this.breadcrumbsControlFactory = this._register(this.instantiationService.createInstance(_breadcrumbsControl_js__WEBPACK_IMPORTED_MODULE_13__.BreadcrumbsControlFactory, labelContainer, this.groupView, {
            showFileIcons: false,
            showSymbolIcons: true,
            showDecorationColors: false,
            widgetStyles: { ..._platform_theme_browser_defaultStyles_js__WEBPACK_IMPORTED_MODULE_12__.defaultBreadcrumbsWidgetStyles, breadcrumbsBackground: ( _base_common_color_js__WEBPACK_IMPORTED_MODULE_8__.Color.transparent.toString()) },
            showPlaceholder: false
        }));
        this._register(this.breadcrumbsControlFactory.onDidEnablementChange(() => this.handleBreadcrumbsEnablementChange()));
        titleContainer.classList.toggle('breadcrumbs', Boolean(this.breadcrumbsControl));
        this._register((0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_11__.toDisposable)(() => titleContainer.classList.remove('breadcrumbs')));
        this.createEditorActionsToolBar(titleContainer, ['title-actions']);
    }
    registerContainerListeners(titleContainer) {
        let lastDragEvent = undefined;
        let isNewWindowOperation = false;
        this._register(( new _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_6__.DragAndDropObserver(titleContainer, {
            onDragStart: e => { isNewWindowOperation = this.onGroupDragStart(e, titleContainer); },
            onDrag: e => { lastDragEvent = e; },
            onDragEnd: e => { this.onGroupDragEnd(e, lastDragEvent, titleContainer, isNewWindowOperation); },
        })));
        this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_6__.addDisposableListener)(titleContainer, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_6__.EventType.DBLCLICK, e => this.onTitleDoubleClick(e)));
        this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_6__.addDisposableListener)(titleContainer, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_6__.EventType.AUXCLICK, e => this.onTitleAuxClick(e)));
        this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_6__.addDisposableListener)(titleContainer, _base_browser_touch_js__WEBPACK_IMPORTED_MODULE_5__.EventType.Tap, (e) => this.onTitleTap(e)));
        for (const event of [_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_6__.EventType.CONTEXT_MENU, _base_browser_touch_js__WEBPACK_IMPORTED_MODULE_5__.EventType.Contextmenu]) {
            this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_6__.addDisposableListener)(titleContainer, event, e => {
                if (this.tabsModel.activeEditor) {
                    this.onTabContextMenu(this.tabsModel.activeEditor, e, titleContainer);
                }
            }));
        }
    }
    onTitleLabelClick(e) {
        _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_6__.EventHelper.stop(e, false);
        setTimeout(() => this.quickInputService.quickAccess.show());
    }
    onTitleDoubleClick(e) {
        _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_6__.EventHelper.stop(e);
        this.groupView.pinEditor();
    }
    onTitleAuxClick(e) {
        if (e.button === 1  && this.tabsModel.activeEditor) {
            _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_6__.EventHelper.stop(e, true );
            if (!(0,_common_editor_js__WEBPACK_IMPORTED_MODULE_1__.preventEditorClose)(this.tabsModel, this.tabsModel.activeEditor, _common_editor_js__WEBPACK_IMPORTED_MODULE_1__.EditorCloseMethod.MOUSE, this.groupsView.partOptions)) {
                this.groupView.closeEditor(this.tabsModel.activeEditor);
            }
        }
    }
    onTitleTap(e) {
        const target = e.initialTarget;
        if (!((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_6__.isHTMLElement)(target)) || !this.editorLabel || !(0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_6__.isAncestor)(target, this.editorLabel.element)) {
            return;
        }
        setTimeout(() => this.quickInputService.quickAccess.show(), 50);
    }
    openEditor(editor) {
        return this.doHandleOpenEditor();
    }
    openEditors(editors) {
        return this.doHandleOpenEditor();
    }
    doHandleOpenEditor() {
        const activeEditorChanged = this.ifActiveEditorChanged(() => this.redraw());
        if (!activeEditorChanged) {
            this.ifActiveEditorPropertiesChanged(() => this.redraw());
        }
        return activeEditorChanged;
    }
    beforeCloseEditor(editor) {
    }
    closeEditor(editor) {
        this.ifActiveEditorChanged(() => this.redraw());
    }
    closeEditors(editors) {
        this.ifActiveEditorChanged(() => this.redraw());
    }
    moveEditor(editor, fromIndex, targetIndex) {
        this.ifActiveEditorChanged(() => this.redraw());
    }
    pinEditor(editor) {
        this.ifEditorIsActive(editor, () => this.redraw());
    }
    stickEditor(editor) { }
    unstickEditor(editor) { }
    setActive(isActive) {
        this.redraw();
    }
    updateEditorSelections() { }
    updateEditorLabel(editor) {
        this.ifEditorIsActive(editor, () => this.redraw());
    }
    updateEditorDirty(editor) {
        this.ifEditorIsActive(editor, () => {
            const titleContainer = (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_9__.assertIsDefined)(this.titleContainer);
            if (editor.isDirty() && !editor.isSaving()) {
                titleContainer.classList.add('dirty');
            }
            else {
                titleContainer.classList.remove('dirty');
            }
        });
    }
    updateOptions(oldOptions, newOptions) {
        super.updateOptions(oldOptions, newOptions);
        if (oldOptions.labelFormat !== newOptions.labelFormat || !(0,_base_common_objects_js__WEBPACK_IMPORTED_MODULE_10__.equals)(oldOptions.decorations, newOptions.decorations)) {
            this.redraw();
        }
    }
    updateStyles() {
        this.redraw();
    }
    handleBreadcrumbsEnablementChange() {
        const titleContainer = (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_9__.assertIsDefined)(this.titleContainer);
        titleContainer.classList.toggle('breadcrumbs', Boolean(this.breadcrumbsControl));
        this.redraw();
    }
    ifActiveEditorChanged(fn) {
        if (!this.activeLabel.editor && this.tabsModel.activeEditor ||
            this.activeLabel.editor && !this.tabsModel.activeEditor ||
            (!this.activeLabel.editor || !this.tabsModel.isActive(this.activeLabel.editor))
        ) {
            fn();
            return true;
        }
        return false;
    }
    ifActiveEditorPropertiesChanged(fn) {
        if (!this.activeLabel.editor || !this.tabsModel.activeEditor) {
            return;
        }
        if (this.activeLabel.pinned !== this.tabsModel.isPinned(this.tabsModel.activeEditor)) {
            fn();
        }
    }
    ifEditorIsActive(editor, fn) {
        if (this.tabsModel.isActive(editor)) {
            fn();
        }
    }
    redraw() {
        const editor = this.tabsModel.activeEditor ?? undefined;
        const options = this.groupsView.partOptions;
        const isEditorPinned = editor ? this.tabsModel.isPinned(editor) : false;
        const isGroupActive = this.groupsView.activeGroup === this.groupView;
        this.activeLabel = { editor, pinned: isEditorPinned };
        if (this.breadcrumbsControl) {
            if (isGroupActive) {
                this.breadcrumbsControl.update();
                this.breadcrumbsControl.domNode.classList.toggle('preview', !isEditorPinned);
            }
            else {
                this.breadcrumbsControl.hide();
            }
        }
        const [titleContainer, editorLabel] = (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_9__.assertAllDefined)(this.titleContainer, this.editorLabel);
        if (!editor) {
            titleContainer.classList.remove('dirty');
            editorLabel.clear();
            this.clearEditorActionsToolbar();
        }
        else {
            this.updateEditorDirty(editor);
            const { labelFormat } = this.groupsView.partOptions;
            let description;
            if (this.breadcrumbsControl && !this.breadcrumbsControl.isHidden()) {
                description = '';
            }
            else if (labelFormat === 'default' && !isGroupActive) {
                description = '';
            }
            else {
                description = editor.getDescription(this.getVerbosity(labelFormat)) || '';
            }
            editorLabel.setResource({
                resource: _common_editor_js__WEBPACK_IMPORTED_MODULE_1__.EditorResourceAccessor.getOriginalUri(editor, { supportSideBySide: _common_editor_js__WEBPACK_IMPORTED_MODULE_1__.SideBySideEditor.BOTH }),
                name: editor.getName(),
                description
            }, {
                title: this.getHoverTitle(editor),
                italic: !isEditorPinned,
                extraClasses: ['single-tab', 'title-label'].concat(editor.getLabelExtraClasses()),
                fileDecorations: {
                    colors: Boolean(options.decorations?.colors),
                    badges: Boolean(options.decorations?.badges)
                },
                icon: editor.getIcon(),
                hideIcon: options.showIcons === false,
            });
            if (isGroupActive) {
                titleContainer.style.color = this.getColor(_common_theme_js__WEBPACK_IMPORTED_MODULE_4__.TAB_ACTIVE_FOREGROUND) || '';
            }
            else {
                titleContainer.style.color = this.getColor(_common_theme_js__WEBPACK_IMPORTED_MODULE_4__.TAB_UNFOCUSED_ACTIVE_FOREGROUND) || '';
            }
            this.updateEditorActionsToolbar();
        }
    }
    getVerbosity(style) {
        switch (style) {
            case 'short': return 0 ;
            case 'long': return 2 ;
            default: return 1 ;
        }
    }
    prepareEditorActions(editorActions) {
        const isGroupActive = this.groupsView.activeGroup === this.groupView;
        if (isGroupActive) {
            return editorActions;
        }
        else {
            return {
                primary: this.groupsView.partOptions.alwaysShowEditorActions ? editorActions.primary : editorActions.primary.filter(action => action.id === _editorCommands_js__WEBPACK_IMPORTED_MODULE_7__.CLOSE_EDITOR_COMMAND_ID || action.id === _editorCommands_js__WEBPACK_IMPORTED_MODULE_7__.UNLOCK_GROUP_COMMAND_ID),
                secondary: editorActions.secondary
            };
        }
    }
    getHeight() {
        return this.tabHeight;
    }
    layout(dimensions) {
        this.breadcrumbsControl?.layout(undefined);
        return ( new _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_6__.Dimension(dimensions.container.width, this.getHeight()));
    }
}



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/textCodeEditor.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/textCodeEditor.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AbstractTextCodeEditor: () => (/* binding */ AbstractTextCodeEditor)
/* harmony export */ });
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _base_common_types_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../base/common/types.js */ "./node_modules/vscode/vscode/src/vs/base/common/types.js");
/* harmony import */ var _common_editor_editorOptions_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../common/editor/editorOptions.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/editorOptions.js");
/* harmony import */ var _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../platform/contextkey/common/contextkey.service.js */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var _base_common_resources_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../base/common/resources.js */ "./node_modules/vscode/vscode/src/vs/base/common/resources.js");
/* harmony import */ var _editor_browser_widget_codeEditor_codeEditorWidget_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../editor/browser/widget/codeEditor/codeEditorWidget.js */ "./node_modules/vscode/vscode/src/vs/editor/browser/widget/codeEditor/codeEditorWidget.js");
/* harmony import */ var _override_vs_workbench_browser_parts_editor_textEditor_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../../override/vs/workbench/browser/parts/editor/textEditor.js */ "./node_modules/vscode/override/vs/workbench/browser/parts/editor/textEditor.js");
/* harmony import */ var _textEditor_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./textEditor.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/textEditor.js");








class AbstractTextCodeEditor extends _textEditor_js__WEBPACK_IMPORTED_MODULE_7__.AbstractTextEditor {
    constructor() {
        super(...arguments);
        this.editorControl = undefined;
    }
    get scopedContextKeyService() {
        return this.editorControl?.invokeWithinContext(accessor => accessor.get(_platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_3__.IContextKeyService));
    }
    getTitle() {
        if (this.input) {
            return this.input.getName();
        }
        return ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(10944, "Text Editor"));
    }
    createEditorControl(parent, initialOptions) {
        this.editorControl = this._register(this.instantiationService.createInstance(_editor_browser_widget_codeEditor_codeEditorWidget_js__WEBPACK_IMPORTED_MODULE_5__.CodeEditorWidget, parent, initialOptions, this.getCodeEditorWidgetOptions()));
    }
    getCodeEditorWidgetOptions() {
        return Object.create(null);
    }
    updateEditorControlOptions(options) {
        this.editorControl?.updateOptions(options);
    }
    getMainControl() {
        return this.editorControl;
    }
    getControl() {
        return this.editorControl;
    }
    computeEditorViewState(resource) {
        if (!this.editorControl) {
            return undefined;
        }
        const model = this.editorControl.getModel();
        if (!model) {
            return undefined;
        }
        const modelUri = model.uri;
        if (!modelUri) {
            return undefined;
        }
        if (!(0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_4__.isEqual)(modelUri, resource)) {
            return undefined;
        }
        return this.editorControl.saveViewState() ?? undefined;
    }
    setOptions(options) {
        super.setOptions(options);
        if (options) {
            (0,_common_editor_editorOptions_js__WEBPACK_IMPORTED_MODULE_2__.applyTextEditorOptions)(options, (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_1__.assertIsDefined)(this.editorControl), 0 );
        }
    }
    focus() {
        super.focus();
        this.editorControl?.focus();
    }
    hasFocus() {
        return this.editorControl?.hasTextFocus() || super.hasFocus();
    }
    setEditorVisible(visible) {
        super.setEditorVisible(visible);
        if (visible) {
            this.editorControl?.onVisible();
        }
        else {
            this.editorControl?.onHide();
        }
    }
    layout(dimension) {
        this.editorControl?.layout(dimension);
    }
}



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/textResourceEditor.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/textResourceEditor.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AbstractTextResourceEditor: () => (/* binding */ AbstractTextResourceEditor),
/* harmony export */   TextResourceEditor: () => (/* binding */ TextResourceEditor)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _base_common_types_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../base/common/types.js */ "./node_modules/vscode/vscode/src/vs/base/common/types.js");
/* harmony import */ var _common_editor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../common/editor.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor.js");
/* harmony import */ var _common_editor_editorOptions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../common/editor/editorOptions.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/editorOptions.js");
/* harmony import */ var _common_editor_textResourceEditorInput_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../common/editor/textResourceEditorInput.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/textResourceEditorInput.js");
/* harmony import */ var _common_editor_textEditorModel_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../common/editor/textEditorModel.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/textEditorModel.js");
/* harmony import */ var _services_untitled_common_untitledTextEditorInput_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/untitled/common/untitledTextEditorInput.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/untitled/common/untitledTextEditorInput.js");
/* harmony import */ var _textCodeEditor_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./textCodeEditor.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/textCodeEditor.js");
/* harmony import */ var _platform_telemetry_common_telemetry_service_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../platform/telemetry/common/telemetry.service.js */ "./node_modules/vscode/vscode/src/vs/platform/telemetry/common/telemetry.service.js");
/* harmony import */ var _platform_storage_common_storage_service_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../platform/storage/common/storage.service.js */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var _editor_common_services_textResourceConfiguration_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../editor/common/services/textResourceConfiguration.js */ "./node_modules/vscode/vscode/src/vs/editor/common/services/textResourceConfiguration.js");
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../platform/instantiation/common/instantiation.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../platform/theme/common/themeService.service.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.service.js");
/* harmony import */ var _services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../services/editor/common/editorGroupsService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorGroupsService.service.js");
/* harmony import */ var _services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../services/editor/common/editorService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");
/* harmony import */ var _editor_common_services_model_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../editor/common/services/model.js */ "./node_modules/vscode/vscode/src/vs/editor/common/services/model.js");
/* harmony import */ var _editor_common_languages_language_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../editor/common/languages/language.js */ "./node_modules/vscode/vscode/src/vs/editor/common/languages/language.js");
/* harmony import */ var _editor_common_languages_modesRegistry_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../editor/common/languages/modesRegistry.js */ "./node_modules/vscode/vscode/src/vs/editor/common/languages/modesRegistry.js");
/* harmony import */ var _platform_files_common_files_service_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../platform/files/common/files.service.js */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.service.js");



















var TextResourceEditor_1;
let AbstractTextResourceEditor = class AbstractTextResourceEditor extends _textCodeEditor_js__WEBPACK_IMPORTED_MODULE_7__.AbstractTextCodeEditor {
    constructor(id, group, telemetryService, instantiationService, storageService, textResourceConfigurationService, themeService, editorGroupService, editorService, fileService) {
        super(id, group, telemetryService, instantiationService, storageService, textResourceConfigurationService, themeService, editorService, editorGroupService, fileService);
    }
    async setInput(input, options, context, token) {
        await super.setInput(input, options, context, token);
        const resolvedModel = await input.resolve();
        if (token.isCancellationRequested) {
            return undefined;
        }
        if (!(resolvedModel instanceof _common_editor_textEditorModel_js__WEBPACK_IMPORTED_MODULE_5__.BaseTextEditorModel)) {
            throw ( new Error('Unable to open file as text'));
        }
        const control = (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_1__.assertIsDefined)(this.editorControl);
        const textEditorModel = resolvedModel.textEditorModel;
        control.setModel(textEditorModel);
        if (!(0,_common_editor_js__WEBPACK_IMPORTED_MODULE_2__.isTextEditorViewState)(options?.viewState)) {
            const editorViewState = this.loadEditorViewState(input, context);
            if (editorViewState) {
                if (options?.selection) {
                    editorViewState.cursorState = [];
                }
                control.restoreViewState(editorViewState);
            }
        }
        if (options) {
            (0,_common_editor_editorOptions_js__WEBPACK_IMPORTED_MODULE_3__.applyTextEditorOptions)(options, control, 1 );
        }
        control.updateOptions(this.getReadonlyConfiguration(resolvedModel.isReadonly()));
    }
    revealLastLine() {
        const control = this.editorControl;
        if (!control) {
            return;
        }
        const model = control.getModel();
        if (model) {
            const lastLine = model.getLineCount();
            control.revealPosition({ lineNumber: lastLine, column: model.getLineMaxColumn(lastLine) }, 0 );
        }
    }
    clearInput() {
        super.clearInput();
        this.editorControl?.setModel(null);
    }
    tracksEditorViewState(input) {
        return input instanceof _services_untitled_common_untitledTextEditorInput_js__WEBPACK_IMPORTED_MODULE_6__.UntitledTextEditorInput || input instanceof _common_editor_textResourceEditorInput_js__WEBPACK_IMPORTED_MODULE_4__.TextResourceEditorInput;
    }
};
AbstractTextResourceEditor = ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_telemetry_common_telemetry_service_js__WEBPACK_IMPORTED_MODULE_8__.ITelemetryService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_11__.IInstantiationService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _platform_storage_common_storage_service_js__WEBPACK_IMPORTED_MODULE_9__.IStorageService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _editor_common_services_textResourceConfiguration_js__WEBPACK_IMPORTED_MODULE_10__.ITextResourceConfigurationService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_12__.IThemeService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, _services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_13__.IEditorGroupsService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, _services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_14__.IEditorService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, _platform_files_common_files_service_js__WEBPACK_IMPORTED_MODULE_18__.IFileService))
], AbstractTextResourceEditor));
let TextResourceEditor = class TextResourceEditor extends AbstractTextResourceEditor {
    static { TextResourceEditor_1 = this; }
    static { this.ID = 'workbench.editors.textResourceEditor'; }
    constructor(group, telemetryService, instantiationService, storageService, textResourceConfigurationService, themeService, editorService, editorGroupService, modelService, languageService, fileService) {
        super(TextResourceEditor_1.ID, group, telemetryService, instantiationService, storageService, textResourceConfigurationService, themeService, editorGroupService, editorService, fileService);
        this.modelService = modelService;
        this.languageService = languageService;
    }
    createEditorControl(parent, configuration) {
        super.createEditorControl(parent, configuration);
        const control = this.editorControl;
        if (control) {
            this._register(control.onDidPaste(e => this.onDidEditorPaste(e, control)));
        }
    }
    onDidEditorPaste(e, codeEditor) {
        if (this.input instanceof _services_untitled_common_untitledTextEditorInput_js__WEBPACK_IMPORTED_MODULE_6__.UntitledTextEditorInput && this.input.hasLanguageSetExplicitly) {
            return;
        }
        if (e.range.startLineNumber !== 1 || e.range.startColumn !== 1) {
            return;
        }
        if (codeEditor.getOption(94 )) {
            return;
        }
        const textModel = codeEditor.getModel();
        if (!textModel) {
            return;
        }
        const pasteIsWholeContents = textModel.getLineCount() === e.range.endLineNumber && textModel.getLineMaxColumn(e.range.endLineNumber) === e.range.endColumn;
        if (!pasteIsWholeContents) {
            return;
        }
        const currentLanguageId = textModel.getLanguageId();
        if (currentLanguageId !== _editor_common_languages_modesRegistry_js__WEBPACK_IMPORTED_MODULE_17__.PLAINTEXT_LANGUAGE_ID) {
            return;
        }
        let candidateLanguage = undefined;
        if (e.languageId) {
            candidateLanguage = { id: e.languageId, source: 'event' };
        }
        else {
            const guess = this.languageService.guessLanguageIdByFilepathOrFirstLine(textModel.uri, textModel.getLineContent(1).substr(0, 1000 )) ?? undefined;
            if (guess) {
                candidateLanguage = { id: guess, source: 'guess' };
            }
        }
        if (candidateLanguage && candidateLanguage.id !== _editor_common_languages_modesRegistry_js__WEBPACK_IMPORTED_MODULE_17__.PLAINTEXT_LANGUAGE_ID) {
            if (this.input instanceof _services_untitled_common_untitledTextEditorInput_js__WEBPACK_IMPORTED_MODULE_6__.UntitledTextEditorInput && candidateLanguage.source === 'event') {
                this.input.setLanguageId(candidateLanguage.id);
            }
            else {
                textModel.setLanguage(this.languageService.createById(candidateLanguage.id));
            }
            const opts = this.modelService.getCreationOptions(textModel.getLanguageId(), textModel.uri, textModel.isForSimpleWidget);
            textModel.detectIndentation(opts.insertSpaces, opts.tabSize);
        }
    }
};
TextResourceEditor = TextResourceEditor_1 = ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _platform_telemetry_common_telemetry_service_js__WEBPACK_IMPORTED_MODULE_8__.ITelemetryService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_11__.IInstantiationService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _platform_storage_common_storage_service_js__WEBPACK_IMPORTED_MODULE_9__.IStorageService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _editor_common_services_textResourceConfiguration_js__WEBPACK_IMPORTED_MODULE_10__.ITextResourceConfigurationService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_12__.IThemeService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_14__.IEditorService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, _services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_13__.IEditorGroupsService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, _editor_common_services_model_js__WEBPACK_IMPORTED_MODULE_15__.IModelService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, _editor_common_languages_language_js__WEBPACK_IMPORTED_MODULE_16__.ILanguageService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, _platform_files_common_files_service_js__WEBPACK_IMPORTED_MODULE_18__.IFileService))
], TextResourceEditor));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/globalCompositeBar.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/globalCompositeBar.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AccountsActivityActionViewItem: () => (/* binding */ AccountsActivityActionViewItem),
/* harmony export */   GlobalActivityActionViewItem: () => (/* binding */ GlobalActivityActionViewItem),
/* harmony export */   GlobalCompositeBar: () => (/* binding */ GlobalCompositeBar),
/* harmony export */   SimpleAccountActivityActionViewItem: () => (/* binding */ SimpleAccountActivityActionViewItem),
/* harmony export */   SimpleGlobalActivityActionViewItem: () => (/* binding */ SimpleGlobalActivityActionViewItem),
/* harmony export */   isAccountsActionVisible: () => (/* binding */ isAccountsActionVisible)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _base_browser_ui_actionbar_actionbar_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../base/browser/ui/actionbar/actionbar.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/actionbar/actionbar.js");
/* harmony import */ var _common_activity_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/activity.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/activity.js");
/* harmony import */ var _services_activity_common_activity_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/activity/common/activity.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/activity/common/activity.js");
/* harmony import */ var _services_activity_common_activity_service_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/activity/common/activity.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/activity/common/activity.service.js");
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../platform/instantiation/common/instantiation.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../platform/theme/common/themeService.service.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.service.js");
/* harmony import */ var _platform_storage_common_storage_service_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../platform/storage/common/storage.service.js */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var _services_extensions_common_extensions_service_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../services/extensions/common/extensions.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/extensions/common/extensions.service.js");
/* harmony import */ var _compositeBarActions_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./compositeBarActions.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/compositeBarActions.js");
/* harmony import */ var _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../base/common/codicons.js */ "./node_modules/vscode/vscode/src/vs/base/common/codicons.js");
/* harmony import */ var _base_common_themables_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../base/common/themables.js */ "./node_modules/vscode/vscode/src/vs/base/common/themables.js");
/* harmony import */ var _platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../platform/theme/common/iconRegistry.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/iconRegistry.js");
/* harmony import */ var _base_common_actions_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../base/common/actions.js */ "./node_modules/vscode/vscode/src/vs/base/common/actions.js");
/* harmony import */ var _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../platform/actions/common/actions.js */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var _platform_actions_common_actions_service_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../platform/actions/common/actions.service.js */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.service.js");
/* harmony import */ var _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../base/browser/dom.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var _base_browser_keyboardEvent_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../base/browser/keyboardEvent.js */ "./node_modules/vscode/vscode/src/vs/base/browser/keyboardEvent.js");
/* harmony import */ var _base_browser_mouseEvent_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../base/browser/mouseEvent.js */ "./node_modules/vscode/vscode/src/vs/base/browser/mouseEvent.js");
/* harmony import */ var _base_browser_touch_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../base/browser/touch.js */ "./node_modules/vscode/vscode/src/vs/base/browser/touch.js");
/* harmony import */ var _base_common_lazy_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../base/common/lazy.js */ "./node_modules/vscode/vscode/src/vs/base/common/lazy.js");
/* harmony import */ var _platform_actions_browser_menuEntryActionViewItem_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../platform/actions/browser/menuEntryActionViewItem.js */ "./node_modules/vscode/vscode/src/vs/platform/actions/browser/menuEntryActionViewItem.js");
/* harmony import */ var _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../platform/configuration/common/configuration.service.js */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../platform/contextkey/common/contextkey.service.js */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var _platform_contextview_browser_contextView_service_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../platform/contextview/browser/contextView.service.js */ "./node_modules/vscode/vscode/src/vs/platform/contextview/browser/contextView.service.js");
/* harmony import */ var _platform_keybinding_common_keybinding_service_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../platform/keybinding/common/keybinding.service.js */ "./node_modules/vscode/vscode/src/vs/platform/keybinding/common/keybinding.service.js");
/* harmony import */ var _platform_log_common_log_service_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../platform/log/common/log.service.js */ "./node_modules/vscode/vscode/src/vs/platform/log/common/log.service.js");
/* harmony import */ var _platform_product_common_productService_service_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../platform/product/common/productService.service.js */ "./node_modules/vscode/vscode/src/vs/platform/product/common/productService.service.js");
/* harmony import */ var _platform_secrets_common_secrets_service_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../platform/secrets/common/secrets.service.js */ "./node_modules/vscode/vscode/src/vs/platform/secrets/common/secrets.service.js");
/* harmony import */ var _services_authentication_browser_authenticationService_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../services/authentication/browser/authenticationService.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/authentication/browser/authenticationService.js");
/* harmony import */ var _services_authentication_common_authentication_service_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../services/authentication/common/authentication.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/authentication/common/authentication.service.js");
/* harmony import */ var _services_environment_common_environmentService_service_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../services/environment/common/environmentService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/environment/common/environmentService.service.js");
/* harmony import */ var _platform_hover_browser_hover_service_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../../platform/hover/browser/hover.service.js */ "./node_modules/vscode/vscode/src/vs/platform/hover/browser/hover.service.js");
/* harmony import */ var _services_lifecycle_common_lifecycle_service_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../services/lifecycle/common/lifecycle.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/lifecycle/common/lifecycle.service.js");
/* harmony import */ var _services_userDataProfile_common_userDataProfile_service_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../services/userDataProfile/common/userDataProfile.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/userDataProfile/common/userDataProfile.service.js");
/* harmony import */ var _services_userDataProfile_common_userDataProfileIcons_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../services/userDataProfile/common/userDataProfileIcons.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/userDataProfile/common/userDataProfileIcons.js");
/* harmony import */ var _base_common_types_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../../base/common/types.js */ "./node_modules/vscode/vscode/src/vs/base/common/types.js");
/* harmony import */ var _common_theme_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../../common/theme.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/theme.js");
/* harmony import */ var _platform_commands_common_commands_service_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../../../platform/commands/common/commands.service.js */ "./node_modules/vscode/vscode/src/vs/platform/commands/common/commands.service.js");









































var GlobalCompositeBar_1;
let GlobalCompositeBar = class GlobalCompositeBar extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_7__.Disposable {
    static { GlobalCompositeBar_1 = this; }
    static { this.ACCOUNTS_ACTION_INDEX = 0; }
    static { this.ACCOUNTS_ICON = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_14__.registerIcon)('accounts-view-bar-icon', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_12__.Codicon.account, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(6904, "Accounts icon in the view bar."))); }
    constructor(contextMenuActionsProvider, colors, activityHoverOptions, configurationService, instantiationService, storageService, extensionService) {
        super();
        this.contextMenuActionsProvider = contextMenuActionsProvider;
        this.colors = colors;
        this.activityHoverOptions = activityHoverOptions;
        this.instantiationService = instantiationService;
        this.storageService = storageService;
        this.extensionService = extensionService;
        this.globalActivityAction = this._register(( (new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_15__.Action(_common_activity_js__WEBPACK_IMPORTED_MODULE_3__.GLOBAL_ACTIVITY_ID))));
        this.accountAction = this._register(( (new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_15__.Action(_common_activity_js__WEBPACK_IMPORTED_MODULE_3__.ACCOUNTS_ACTIVITY_ID))));
        this.element = document.createElement('div');
        const contextMenuAlignmentOptions = () => ({
            anchorAlignment: configurationService.getValue('workbench.sideBar.location') === 'left' ? 1  : 0 ,
            anchorAxisAlignment: 1
        });
        this.globalActivityActionBar = this._register(( (new _base_browser_ui_actionbar_actionbar_js__WEBPACK_IMPORTED_MODULE_2__.ActionBar(this.element, {
            actionViewItemProvider: (action, options) => {
                if (action.id === _common_activity_js__WEBPACK_IMPORTED_MODULE_3__.GLOBAL_ACTIVITY_ID) {
                    return this.instantiationService.createInstance(GlobalActivityActionViewItem, this.contextMenuActionsProvider, { ...options, colors: this.colors, hoverOptions: this.activityHoverOptions }, contextMenuAlignmentOptions);
                }
                if (action.id === _common_activity_js__WEBPACK_IMPORTED_MODULE_3__.ACCOUNTS_ACTIVITY_ID) {
                    return this.instantiationService.createInstance(AccountsActivityActionViewItem, this.contextMenuActionsProvider, {
                        ...options,
                        colors: this.colors,
                        hoverOptions: this.activityHoverOptions
                    }, contextMenuAlignmentOptions, (actions) => {
                        actions.unshift(...[
                            (0,_base_common_actions_js__WEBPACK_IMPORTED_MODULE_15__.toAction)({ id: 'hideAccounts', label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(6905, "Hide Accounts")), run: () => setAccountsActionVisible(storageService, false) }),
                            ( (new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_15__.Separator()))
                        ]);
                    });
                }
                throw ( (new Error(`No view item for action '${action.id}'`)));
            },
            orientation: 1 ,
            ariaLabel: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(6906, "Manage")),
            preventLoopNavigation: true
        }))));
        if (this.accountsVisibilityPreference) {
            this.globalActivityActionBar.push(this.accountAction, { index: GlobalCompositeBar_1.ACCOUNTS_ACTION_INDEX });
        }
        this.globalActivityActionBar.push(this.globalActivityAction);
        this.registerListeners();
    }
    registerListeners() {
        this.extensionService.whenInstalledExtensionsRegistered().then(() => {
            if (!this._store.isDisposed) {
                this._register(this.storageService.onDidChangeValue(0 , AccountsActivityActionViewItem.ACCOUNTS_VISIBILITY_PREFERENCE_KEY, this._store)(() => this.toggleAccountsActivity()));
            }
        });
    }
    create(parent) {
        parent.appendChild(this.element);
    }
    focus() {
        this.globalActivityActionBar.focus(true);
    }
    size() {
        return this.globalActivityActionBar.viewItems.length;
    }
    getContextMenuActions() {
        return [(0,_base_common_actions_js__WEBPACK_IMPORTED_MODULE_15__.toAction)({ id: 'toggleAccountsVisibility', label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(6907, "Accounts")), checked: this.accountsVisibilityPreference, run: () => this.accountsVisibilityPreference = !this.accountsVisibilityPreference })];
    }
    toggleAccountsActivity() {
        if (this.globalActivityActionBar.length() === 2 && this.accountsVisibilityPreference) {
            return;
        }
        if (this.globalActivityActionBar.length() === 2) {
            this.globalActivityActionBar.pull(GlobalCompositeBar_1.ACCOUNTS_ACTION_INDEX);
        }
        else {
            this.globalActivityActionBar.push(this.accountAction, { index: GlobalCompositeBar_1.ACCOUNTS_ACTION_INDEX });
        }
    }
    get accountsVisibilityPreference() {
        return isAccountsActionVisible(this.storageService);
    }
    set accountsVisibilityPreference(value) {
        setAccountsActionVisible(this.storageService, value);
    }
};
GlobalCompositeBar = GlobalCompositeBar_1 = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_24__.IConfigurationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_6__.IInstantiationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _platform_storage_common_storage_service_js__WEBPACK_IMPORTED_MODULE_9__.IStorageService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _services_extensions_common_extensions_service_js__WEBPACK_IMPORTED_MODULE_10__.IExtensionService)))
], GlobalCompositeBar)));
let AbstractGlobalActivityActionViewItem = class AbstractGlobalActivityActionViewItem extends _compositeBarActions_js__WEBPACK_IMPORTED_MODULE_11__.CompositeBarActionViewItem {
    constructor(menuId, action, options, contextMenuActionsProvider, contextMenuAlignmentOptions, themeService, hoverService, menuService, contextMenuService, contextKeyService, configurationService, keybindingService, activityService) {
        super(action, { draggable: false, icon: true, hasPopup: true, ...options }, () => true, themeService, hoverService, configurationService, keybindingService);
        this.menuId = menuId;
        this.contextMenuActionsProvider = contextMenuActionsProvider;
        this.contextMenuAlignmentOptions = contextMenuAlignmentOptions;
        this.menuService = menuService;
        this.contextMenuService = contextMenuService;
        this.contextKeyService = contextKeyService;
        this.activityService = activityService;
        this.updateItemActivity();
        this._register(this.activityService.onDidChangeActivity(viewContainerOrAction => {
            if ((0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_38__.isString)(viewContainerOrAction) && viewContainerOrAction === this.compositeBarActionItem.id) {
                this.updateItemActivity();
            }
        }));
    }
    updateItemActivity() {
        const activities = this.activityService.getActivity(this.compositeBarActionItem.id);
        let activity = activities[0];
        if (activity) {
            const { badge, priority } = activity;
            if (badge instanceof _services_activity_common_activity_js__WEBPACK_IMPORTED_MODULE_4__.NumberBadge && activities.length > 1) {
                const cumulativeNumberBadge = this.getCumulativeNumberBadge(activities, priority ?? 0);
                activity = { badge: cumulativeNumberBadge };
            }
        }
        this.action.activity = activity;
    }
    getCumulativeNumberBadge(activityCache, priority) {
        const numberActivities = activityCache.filter(activity => activity.badge instanceof _services_activity_common_activity_js__WEBPACK_IMPORTED_MODULE_4__.NumberBadge && (activity.priority ?? 0) === priority);
        const number = numberActivities.reduce((result, activity) => { return result + activity.badge.number; }, 0);
        const descriptorFn = () => {
            return numberActivities.reduce((result, activity, index) => {
                result = result + activity.badge.getDescription();
                if (index < numberActivities.length - 1) {
                    result = `${result}\n`;
                }
                return result;
            }, '');
        };
        return (
             (new _services_activity_common_activity_js__WEBPACK_IMPORTED_MODULE_4__.NumberBadge(number, descriptorFn))
        );
    }
    render(container) {
        super.render(container);
        this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_18__.addDisposableListener)(this.container, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_18__.EventType.MOUSE_DOWN, async (e) => {
            _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_18__.EventHelper.stop(e, true);
            const isLeftClick = e?.button !== 2;
            if (isLeftClick) {
                this.run();
            }
        }));
        this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_18__.addDisposableListener)(this.container, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_18__.EventType.CONTEXT_MENU, async (e) => {
            e.stopPropagation();
            const disposables = ( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_7__.DisposableStore()));
            const actions = await this.resolveContextMenuActions(disposables);
            const event = ( (new _base_browser_mouseEvent_js__WEBPACK_IMPORTED_MODULE_20__.StandardMouseEvent((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_18__.getWindow)(this.container), e)));
            this.contextMenuService.showContextMenu({
                getAnchor: () => event,
                getActions: () => actions,
                onHide: () => disposables.dispose()
            });
        }));
        this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_18__.addDisposableListener)(this.container, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_18__.EventType.KEY_UP, (e) => {
            const event = ( (new _base_browser_keyboardEvent_js__WEBPACK_IMPORTED_MODULE_19__.StandardKeyboardEvent(e)));
            if (event.equals(3 ) || event.equals(10 )) {
                _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_18__.EventHelper.stop(e, true);
                this.run();
            }
        }));
        this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_18__.addDisposableListener)(this.container, _base_browser_touch_js__WEBPACK_IMPORTED_MODULE_21__.EventType.Tap, (e) => {
            _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_18__.EventHelper.stop(e, true);
            this.run();
        }));
    }
    async resolveContextMenuActions(disposables) {
        return this.contextMenuActionsProvider();
    }
    async run() {
        const disposables = ( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_7__.DisposableStore()));
        const menu = disposables.add(this.menuService.createMenu(this.menuId, this.contextKeyService));
        const actions = await this.resolveMainMenuActions(menu, disposables);
        const { anchorAlignment, anchorAxisAlignment } = this.contextMenuAlignmentOptions() ?? { anchorAlignment: undefined, anchorAxisAlignment: undefined };
        this.contextMenuService.showContextMenu({
            getAnchor: () => this.label,
            anchorAlignment,
            anchorAxisAlignment,
            getActions: () => actions,
            onHide: () => disposables.dispose(),
            menuActionOptions: { renderShortTitle: true },
        });
    }
    async resolveMainMenuActions(menu, _disposable) {
        const actions = [];
        (0,_platform_actions_browser_menuEntryActionViewItem_js__WEBPACK_IMPORTED_MODULE_23__.createAndFillInActionBarActions)(menu, { renderShortTitle: true }, { primary: [], secondary: actions });
        return actions;
    }
};
AbstractGlobalActivityActionViewItem = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_8__.IThemeService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _platform_hover_browser_hover_service_js__WEBPACK_IMPORTED_MODULE_34__.IHoverService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, _platform_actions_common_actions_service_js__WEBPACK_IMPORTED_MODULE_17__.IMenuService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, _platform_contextview_browser_contextView_service_js__WEBPACK_IMPORTED_MODULE_26__.IContextMenuService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_25__.IContextKeyService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_24__.IConfigurationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(11, _platform_keybinding_common_keybinding_service_js__WEBPACK_IMPORTED_MODULE_27__.IKeybindingService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(12, _services_activity_common_activity_service_js__WEBPACK_IMPORTED_MODULE_5__.IActivityService)))
], AbstractGlobalActivityActionViewItem)));
let AccountsActivityActionViewItem = class AccountsActivityActionViewItem extends AbstractGlobalActivityActionViewItem {
    static { this.ACCOUNTS_VISIBILITY_PREFERENCE_KEY = 'workbench.activity.showAccounts'; }
    constructor(contextMenuActionsProvider, options, contextMenuAlignmentOptions, fillContextMenuActions, themeService, lifecycleService, hoverService, contextMenuService, menuService, contextKeyService, authenticationService, environmentService, productService, configurationService, keybindingService, secretStorageService, logService, activityService, instantiationService, commandService) {
        const action = instantiationService.createInstance(_compositeBarActions_js__WEBPACK_IMPORTED_MODULE_11__.CompositeBarAction, {
            id: _common_activity_js__WEBPACK_IMPORTED_MODULE_3__.ACCOUNTS_ACTIVITY_ID,
            name: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(6907, "Accounts")),
            classNames: _base_common_themables_js__WEBPACK_IMPORTED_MODULE_13__.ThemeIcon.asClassNameArray(GlobalCompositeBar.ACCOUNTS_ICON)
        });
        super(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_16__.MenuId.AccountsContext, action, options, contextMenuActionsProvider, contextMenuAlignmentOptions, themeService, hoverService, menuService, contextMenuService, contextKeyService, configurationService, keybindingService, activityService);
        this.fillContextMenuActions = fillContextMenuActions;
        this.lifecycleService = lifecycleService;
        this.authenticationService = authenticationService;
        this.productService = productService;
        this.secretStorageService = secretStorageService;
        this.logService = logService;
        this.commandService = commandService;
        this.groupedAccounts = ( (new Map()));
        this.problematicProviders = ( (new Set()));
        this.initialized = false;
        this.sessionFromEmbedder = ( (new _base_common_lazy_js__WEBPACK_IMPORTED_MODULE_22__.Lazy(
            () => (0,_services_authentication_browser_authenticationService_js__WEBPACK_IMPORTED_MODULE_31__.getCurrentAuthenticationSessionInfo)(this.secretStorageService, this.productService)
        )));
        this._register(action);
        this.registerListeners();
        this.initialize();
    }
    registerListeners() {
        this._register(this.authenticationService.onDidRegisterAuthenticationProvider(async (e) => {
            await this.addAccountsFromProvider(e.id);
        }));
        this._register(this.authenticationService.onDidUnregisterAuthenticationProvider((e) => {
            this.groupedAccounts.delete(e.id);
            this.problematicProviders.delete(e.id);
        }));
        this._register(this.authenticationService.onDidChangeSessions(async (e) => {
            if (e.event.removed) {
                for (const removed of e.event.removed) {
                    this.removeAccount(e.providerId, removed.account);
                }
            }
            for (const changed of [...(e.event.changed ?? []), ...(e.event.added ?? [])]) {
                try {
                    await this.addOrUpdateAccount(e.providerId, changed.account);
                }
                catch (e) {
                    this.logService.error(e);
                }
            }
        }));
    }
    async initialize() {
        await this.lifecycleService.when(3 );
        if (this._store.isDisposed) {
            return;
        }
        const disposable = this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_18__.runWhenWindowIdle)((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_18__.getWindow)(this.element), async () => {
            await this.doInitialize();
            disposable.dispose();
        }));
    }
    async doInitialize() {
        const providerIds = this.authenticationService.getProviderIds();
        const results = await Promise.allSettled(( (providerIds.map(providerId => this.addAccountsFromProvider(providerId)))));
        for (const result of results) {
            if (result.status === 'rejected') {
                this.logService.error(result.reason);
            }
        }
        this.initialized = true;
    }
    async resolveMainMenuActions(accountsMenu, disposables) {
        await super.resolveMainMenuActions(accountsMenu, disposables);
        const providers = this.authenticationService.getProviderIds();
        const otherCommands = accountsMenu.getActions();
        let menus = [];
        for (const providerId of providers) {
            if (!this.initialized) {
                const noAccountsAvailableAction = disposables.add(( (new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_15__.Action('noAccountsAvailable', ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(6908, "Loading...")), undefined, false))));
                menus.push(noAccountsAvailableAction);
                break;
            }
            const providerLabel = this.authenticationService.getProvider(providerId).label;
            const accounts = this.groupedAccounts.get(providerId);
            if (!accounts) {
                if (( (this.problematicProviders.has(providerId)))) {
                    const providerUnavailableAction = disposables.add(( (new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_15__.Action('providerUnavailable', ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(6909, '{0} is currently unavailable', providerLabel)), undefined, false))));
                    menus.push(providerUnavailableAction);
                    try {
                        await this.addAccountsFromProvider(providerId);
                    }
                    catch (e) {
                        this.logService.error(e);
                    }
                }
                continue;
            }
            for (const account of accounts) {
                const manageExtensionsAction = (0,_base_common_actions_js__WEBPACK_IMPORTED_MODULE_15__.toAction)({
                    id: `configureSessions${account.label}`,
                    label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(6910, "Manage Trusted Extensions")),
                    enabled: true,
                    run: () => this.commandService.executeCommand('_manageTrustedExtensionsForAccount', { providerId, accountLabel: account.label })
                });
                const providerSubMenuActions = [manageExtensionsAction];
                if (account.canSignOut) {
                    providerSubMenuActions.push((0,_base_common_actions_js__WEBPACK_IMPORTED_MODULE_15__.toAction)({
                        id: 'signOut',
                        label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(6911, "Sign Out")),
                        enabled: true,
                        run: () => this.commandService.executeCommand('_signOutOfAccount', { providerId, accountLabel: account.label })
                    }));
                }
                const providerSubMenu = ( (new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_15__.SubmenuAction(
                    'activitybar.submenu',
                    `${account.label} (${providerLabel})`,
                    providerSubMenuActions
                )));
                menus.push(providerSubMenu);
            }
        }
        if (providers.length && !menus.length) {
            const noAccountsAvailableAction = disposables.add(( (new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_15__.Action('noAccountsAvailable', ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(6912, "You are not signed in to any accounts")), undefined, false))));
            menus.push(noAccountsAvailableAction);
        }
        if (menus.length && otherCommands.length) {
            menus.push(( (new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_15__.Separator())));
        }
        otherCommands.forEach((group, i) => {
            const actions = group[1];
            menus = menus.concat(actions);
            if (i !== otherCommands.length - 1) {
                menus.push(( (new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_15__.Separator())));
            }
        });
        return menus;
    }
    async resolveContextMenuActions(disposables) {
        const actions = await super.resolveContextMenuActions(disposables);
        this.fillContextMenuActions(actions);
        return actions;
    }
    async addOrUpdateAccount(providerId, account) {
        let accounts = this.groupedAccounts.get(providerId);
        if (!accounts) {
            accounts = [];
            this.groupedAccounts.set(providerId, accounts);
        }
        const sessionFromEmbedder = await this.sessionFromEmbedder.value;
        let canSignOut = true;
        if (sessionFromEmbedder
            && !sessionFromEmbedder.canSignOut
            && ( ((await this.authenticationService.getSessions(providerId))
                .some(s => s.id === sessionFromEmbedder.id
                && s.account.id === account.id)))) {
            canSignOut = false;
        }
        const existingAccount = accounts.find(a => a.label === account.label);
        if (existingAccount) {
            if (!canSignOut) {
                existingAccount.canSignOut = canSignOut;
            }
        }
        else {
            accounts.push({ ...account, canSignOut });
        }
    }
    removeAccount(providerId, account) {
        const accounts = this.groupedAccounts.get(providerId);
        if (!accounts) {
            return;
        }
        const index = accounts.findIndex(a => a.id === account.id);
        if (index === -1) {
            return;
        }
        accounts.splice(index, 1);
        if (accounts.length === 0) {
            this.groupedAccounts.delete(providerId);
        }
    }
    async addAccountsFromProvider(providerId) {
        try {
            const sessions = await this.authenticationService.getSessions(providerId);
            this.problematicProviders.delete(providerId);
            for (const session of sessions) {
                try {
                    await this.addOrUpdateAccount(providerId, session.account);
                }
                catch (e) {
                    this.logService.error(e);
                }
            }
        }
        catch (e) {
            this.logService.error(e);
            this.problematicProviders.add(providerId);
        }
    }
};
AccountsActivityActionViewItem = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_8__.IThemeService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _services_lifecycle_common_lifecycle_service_js__WEBPACK_IMPORTED_MODULE_35__.ILifecycleService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _platform_hover_browser_hover_service_js__WEBPACK_IMPORTED_MODULE_34__.IHoverService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, _platform_contextview_browser_contextView_service_js__WEBPACK_IMPORTED_MODULE_26__.IContextMenuService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, _platform_actions_common_actions_service_js__WEBPACK_IMPORTED_MODULE_17__.IMenuService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_25__.IContextKeyService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, _services_authentication_common_authentication_service_js__WEBPACK_IMPORTED_MODULE_32__.IAuthenticationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(11, _services_environment_common_environmentService_service_js__WEBPACK_IMPORTED_MODULE_33__.IWorkbenchEnvironmentService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(12, _platform_product_common_productService_service_js__WEBPACK_IMPORTED_MODULE_29__.IProductService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(13, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_24__.IConfigurationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(14, _platform_keybinding_common_keybinding_service_js__WEBPACK_IMPORTED_MODULE_27__.IKeybindingService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(15, _platform_secrets_common_secrets_service_js__WEBPACK_IMPORTED_MODULE_30__.ISecretStorageService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(16, _platform_log_common_log_service_js__WEBPACK_IMPORTED_MODULE_28__.ILogService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(17, _services_activity_common_activity_service_js__WEBPACK_IMPORTED_MODULE_5__.IActivityService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(18, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_6__.IInstantiationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(19, _platform_commands_common_commands_service_js__WEBPACK_IMPORTED_MODULE_40__.ICommandService)))
], AccountsActivityActionViewItem)));
let GlobalActivityActionViewItem = class GlobalActivityActionViewItem extends AbstractGlobalActivityActionViewItem {
    constructor(contextMenuActionsProvider, options, contextMenuAlignmentOptions, userDataProfileService, themeService, hoverService, menuService, contextMenuService, contextKeyService, configurationService, environmentService, keybindingService, instantiationService, activityService) {
        const action = instantiationService.createInstance(_compositeBarActions_js__WEBPACK_IMPORTED_MODULE_11__.CompositeBarAction, {
            id: _common_activity_js__WEBPACK_IMPORTED_MODULE_3__.GLOBAL_ACTIVITY_ID,
            name: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(6906, "Manage")),
            classNames: _base_common_themables_js__WEBPACK_IMPORTED_MODULE_13__.ThemeIcon.asClassNameArray(userDataProfileService.currentProfile.icon ? _base_common_themables_js__WEBPACK_IMPORTED_MODULE_13__.ThemeIcon.fromId(userDataProfileService.currentProfile.icon) : _services_userDataProfile_common_userDataProfileIcons_js__WEBPACK_IMPORTED_MODULE_37__.DEFAULT_ICON)
        });
        super(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_16__.MenuId.GlobalActivity, action, options, contextMenuActionsProvider, contextMenuAlignmentOptions, themeService, hoverService, menuService, contextMenuService, contextKeyService, configurationService, keybindingService, activityService);
        this.userDataProfileService = userDataProfileService;
        this._register(action);
        this._register(this.userDataProfileService.onDidChangeCurrentProfile(e => {
            action.compositeBarActionItem = {
                ...action.compositeBarActionItem,
                classNames: _base_common_themables_js__WEBPACK_IMPORTED_MODULE_13__.ThemeIcon.asClassNameArray(userDataProfileService.currentProfile.icon ? _base_common_themables_js__WEBPACK_IMPORTED_MODULE_13__.ThemeIcon.fromId(userDataProfileService.currentProfile.icon) : _services_userDataProfile_common_userDataProfileIcons_js__WEBPACK_IMPORTED_MODULE_37__.DEFAULT_ICON)
            };
        }));
    }
    render(container) {
        super.render(container);
        this.profileBadge = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_18__.append)(container, (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_18__.$)('.profile-badge'));
        this.profileBadgeContent = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_18__.append)(this.profileBadge, (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_18__.$)('.profile-badge-content'));
        this.updateProfileBadge();
    }
    updateProfileBadge() {
        if (!this.profileBadge || !this.profileBadgeContent) {
            return;
        }
        (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_18__.clearNode)(this.profileBadgeContent);
        (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_18__.hide)(this.profileBadge);
        if (this.userDataProfileService.currentProfile.isDefault) {
            return;
        }
        if (this.userDataProfileService.currentProfile.icon && this.userDataProfileService.currentProfile.icon !== _services_userDataProfile_common_userDataProfileIcons_js__WEBPACK_IMPORTED_MODULE_37__.DEFAULT_ICON.id) {
            return;
        }
        if (this.action.activity) {
            return;
        }
        (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_18__.show)(this.profileBadge);
        this.profileBadgeContent.classList.add('profile-text-overlay');
        this.profileBadgeContent.textContent = this.userDataProfileService.currentProfile.name.substring(0, 2).toUpperCase();
    }
    updateActivity() {
        super.updateActivity();
        this.updateProfileBadge();
    }
    computeTitle() {
        return this.userDataProfileService.currentProfile.isDefault ? super.computeTitle() : ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(
            6913,
            "Manage {0} (Profile)",
            this.userDataProfileService.currentProfile.name
        ));
    }
};
GlobalActivityActionViewItem = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _services_userDataProfile_common_userDataProfile_service_js__WEBPACK_IMPORTED_MODULE_36__.IUserDataProfileService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_8__.IThemeService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _platform_hover_browser_hover_service_js__WEBPACK_IMPORTED_MODULE_34__.IHoverService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _platform_actions_common_actions_service_js__WEBPACK_IMPORTED_MODULE_17__.IMenuService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, _platform_contextview_browser_contextView_service_js__WEBPACK_IMPORTED_MODULE_26__.IContextMenuService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_25__.IContextKeyService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_24__.IConfigurationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, _services_environment_common_environmentService_service_js__WEBPACK_IMPORTED_MODULE_33__.IWorkbenchEnvironmentService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(11, _platform_keybinding_common_keybinding_service_js__WEBPACK_IMPORTED_MODULE_27__.IKeybindingService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(12, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_6__.IInstantiationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(13, _services_activity_common_activity_service_js__WEBPACK_IMPORTED_MODULE_5__.IActivityService)))
], GlobalActivityActionViewItem)));
let SimpleAccountActivityActionViewItem = class SimpleAccountActivityActionViewItem extends AccountsActivityActionViewItem {
    constructor(hoverOptions, options, themeService, lifecycleService, hoverService, contextMenuService, menuService, contextKeyService, authenticationService, environmentService, productService, configurationService, keybindingService, secretStorageService, storageService, logService, activityService, instantiationService, commandService) {
        super(() => simpleActivityContextMenuActions(storageService, true), {
            ...options,
            colors: theme => ({
                badgeBackground: theme.getColor(_common_theme_js__WEBPACK_IMPORTED_MODULE_39__.ACTIVITY_BAR_BADGE_BACKGROUND),
                badgeForeground: theme.getColor(_common_theme_js__WEBPACK_IMPORTED_MODULE_39__.ACTIVITY_BAR_BADGE_FOREGROUND),
            }),
            hoverOptions,
            compact: true,
        }, () => undefined, actions => actions, themeService, lifecycleService, hoverService, contextMenuService, menuService, contextKeyService, authenticationService, environmentService, productService, configurationService, keybindingService, secretStorageService, logService, activityService, instantiationService, commandService);
    }
};
SimpleAccountActivityActionViewItem = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_8__.IThemeService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _services_lifecycle_common_lifecycle_service_js__WEBPACK_IMPORTED_MODULE_35__.ILifecycleService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _platform_hover_browser_hover_service_js__WEBPACK_IMPORTED_MODULE_34__.IHoverService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _platform_contextview_browser_contextView_service_js__WEBPACK_IMPORTED_MODULE_26__.IContextMenuService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _platform_actions_common_actions_service_js__WEBPACK_IMPORTED_MODULE_17__.IMenuService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_25__.IContextKeyService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, _services_authentication_common_authentication_service_js__WEBPACK_IMPORTED_MODULE_32__.IAuthenticationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, _services_environment_common_environmentService_service_js__WEBPACK_IMPORTED_MODULE_33__.IWorkbenchEnvironmentService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, _platform_product_common_productService_service_js__WEBPACK_IMPORTED_MODULE_29__.IProductService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(11, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_24__.IConfigurationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(12, _platform_keybinding_common_keybinding_service_js__WEBPACK_IMPORTED_MODULE_27__.IKeybindingService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(13, _platform_secrets_common_secrets_service_js__WEBPACK_IMPORTED_MODULE_30__.ISecretStorageService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(14, _platform_storage_common_storage_service_js__WEBPACK_IMPORTED_MODULE_9__.IStorageService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(15, _platform_log_common_log_service_js__WEBPACK_IMPORTED_MODULE_28__.ILogService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(16, _services_activity_common_activity_service_js__WEBPACK_IMPORTED_MODULE_5__.IActivityService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(17, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_6__.IInstantiationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(18, _platform_commands_common_commands_service_js__WEBPACK_IMPORTED_MODULE_40__.ICommandService)))
], SimpleAccountActivityActionViewItem)));
let SimpleGlobalActivityActionViewItem = class SimpleGlobalActivityActionViewItem extends GlobalActivityActionViewItem {
    constructor(hoverOptions, options, userDataProfileService, themeService, hoverService, menuService, contextMenuService, contextKeyService, configurationService, environmentService, keybindingService, instantiationService, activityService, storageService) {
        super(() => simpleActivityContextMenuActions(storageService, false), {
            ...options,
            colors: theme => ({
                badgeBackground: theme.getColor(_common_theme_js__WEBPACK_IMPORTED_MODULE_39__.ACTIVITY_BAR_BADGE_BACKGROUND),
                badgeForeground: theme.getColor(_common_theme_js__WEBPACK_IMPORTED_MODULE_39__.ACTIVITY_BAR_BADGE_FOREGROUND),
            }),
            hoverOptions,
            compact: true,
        }, () => undefined, userDataProfileService, themeService, hoverService, menuService, contextMenuService, contextKeyService, configurationService, environmentService, keybindingService, instantiationService, activityService);
    }
};
SimpleGlobalActivityActionViewItem = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _services_userDataProfile_common_userDataProfile_service_js__WEBPACK_IMPORTED_MODULE_36__.IUserDataProfileService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_8__.IThemeService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _platform_hover_browser_hover_service_js__WEBPACK_IMPORTED_MODULE_34__.IHoverService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _platform_actions_common_actions_service_js__WEBPACK_IMPORTED_MODULE_17__.IMenuService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _platform_contextview_browser_contextView_service_js__WEBPACK_IMPORTED_MODULE_26__.IContextMenuService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_25__.IContextKeyService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_24__.IConfigurationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, _services_environment_common_environmentService_service_js__WEBPACK_IMPORTED_MODULE_33__.IWorkbenchEnvironmentService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, _platform_keybinding_common_keybinding_service_js__WEBPACK_IMPORTED_MODULE_27__.IKeybindingService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(11, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_6__.IInstantiationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(12, _services_activity_common_activity_service_js__WEBPACK_IMPORTED_MODULE_5__.IActivityService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(13, _platform_storage_common_storage_service_js__WEBPACK_IMPORTED_MODULE_9__.IStorageService)))
], SimpleGlobalActivityActionViewItem)));
function simpleActivityContextMenuActions(storageService, isAccount) {
    const currentElementContextMenuActions = [];
    if (isAccount) {
        currentElementContextMenuActions.push((0,_base_common_actions_js__WEBPACK_IMPORTED_MODULE_15__.toAction)({ id: 'hideAccounts', label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(6905, "Hide Accounts")), run: () => setAccountsActionVisible(storageService, false) }), ( (new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_15__.Separator())));
    }
    return [
        ...currentElementContextMenuActions,
        (0,_base_common_actions_js__WEBPACK_IMPORTED_MODULE_15__.toAction)({ id: 'toggle.hideAccounts', label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(6907, "Accounts")), checked: isAccountsActionVisible(storageService), run: () => setAccountsActionVisible(storageService, !isAccountsActionVisible(storageService)) }),
        (0,_base_common_actions_js__WEBPACK_IMPORTED_MODULE_15__.toAction)({ id: 'toggle.hideManage', label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(6906, "Manage")), checked: true, enabled: false, run: () => { throw ( (new Error('"Manage" can not be hidden'))); } })
    ];
}
function isAccountsActionVisible(storageService) {
    return storageService.getBoolean(AccountsActivityActionViewItem.ACCOUNTS_VISIBILITY_PREFERENCE_KEY, 0 , true);
}
function setAccountsActionVisible(storageService, visible) {
    storageService.store(AccountsActivityActionViewItem.ACCOUNTS_VISIBILITY_PREFERENCE_KEY, visible, 0 , 0 );
}



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/panel/media/panelpart.css.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/panel/media/panelpart.css.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ css),
/* harmony export */   "default": () => (/* binding */ css)
/* harmony export */ });
/* harmony import */ var _external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../external/rollup-plugin-styles/dist/runtime/inject-css.js */ "./node_modules/vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js");

var css = ".monaco-workbench.nopanel .part.panel{display:none!important;visibility:hidden!important}.monaco-workbench .part.panel.bottom .composite.title{border-top-style:solid;border-top-width:1px}.monaco-workbench.nomaineditorarea .part.panel.bottom .composite.title{border-top-width:0}.monaco-workbench .part.panel.top{border-bottom-style:solid;border-bottom-width:1px}.monaco-workbench.nomaineditorarea .part.panel.top{border-bottom-width:0}.monaco-workbench .part.panel.right{border-left-style:solid;border-left-width:1px}.monaco-workbench.nomaineditorarea .part.panel.right{border-left-width:0}.monaco-workbench .part.panel.left{border-right-style:solid;border-right-width:1px}.monaco-workbench.nomaineditorarea .part.panel.left{border-right-width:0}.monaco-workbench .part.panel>.content .monaco-editor,.monaco-workbench .part.panel>.content .monaco-editor .margin,.monaco-workbench .part.panel>.content .monaco-editor .monaco-editor-background{background-color:var(--vscode-panel-background)}.monaco-workbench .part.panel>.content .suggest-input-container .monaco-editor,.monaco-workbench .part.panel>.content .suggest-input-container .monaco-editor .margin,.monaco-workbench .part.panel>.content .suggest-input-container .monaco-editor .monaco-editor-background{background-color:inherit}.monaco-workbench .part.panel>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.checked.clicked:focus .active-item-indicator:before,.monaco-workbench .part.panel>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item.checked:not(:focus) .active-item-indicator:before{border-top-color:var(--vscode-panelTitle-activeBorder)!important}.monaco-workbench .part.panel>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:focus .action-label,.monaco-workbench .part.panel>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:hover .action-label{color:var(--vscode-panelTitle-activeForeground)!important}.monaco-workbench .part.panel .monaco-inputbox{border-color:var(--vscode-panelInput-border,transparent)!important}.monaco-workbench .part.panel>.title>.composite-bar-container>.composite-bar>.monaco-action-bar .action-item:focus{outline:none}.monaco-workbench .part.basepanel.right .global-actions .codicon-panel-maximize:before,.monaco-workbench .part.basepanel.right .global-actions .codicon-panel-restore:before,.monaco-workbench .part.basepanel.right .title-actions .codicon-split-horizontal:before{display:inline-block;transform:rotate(-90deg)}.monaco-workbench .part.basepanel.left .global-actions .codicon-panel-maximize:before,.monaco-workbench .part.basepanel.left .global-actions .codicon-panel-restore:before,.monaco-workbench .part.basepanel.left .title-actions .codicon-split-horizontal:before{display:inline-block;transform:rotate(90deg)}.monaco-workbench .part.basepanel.top .global-actions .codicon-panel-maximize:before,.monaco-workbench .part.basepanel.top .global-actions .codicon-panel-restore:before,.monaco-workbench .part.basepanel.top .title-actions .codicon-split-horizontal:before{display:inline-block;transform:rotate(180deg)}";
(0,_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__["default"])(css,{});



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/panel/panelActions.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/panel/panelActions.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MovePanelToSecondarySideBarAction: () => (/* binding */ MovePanelToSecondarySideBarAction),
/* harmony export */   MoveSecondarySideBarToPanelAction: () => (/* binding */ MoveSecondarySideBarToPanelAction),
/* harmony export */   TogglePanelAction: () => (/* binding */ TogglePanelAction)
/* harmony export */ });
/* harmony import */ var _media_panelpart_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./media/panelpart.css.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/panel/media/panelpart.css.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../platform/actions/common/actions.js */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../platform/action/common/actionCommonCategories.js */ "./node_modules/vscode/vscode/src/vs/platform/action/common/actionCommonCategories.js");
/* harmony import */ var _services_layout_browser_layoutService_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/layout/browser/layoutService.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/layout/browser/layoutService.js");
/* harmony import */ var _services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/layout/browser/layoutService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/layout/browser/layoutService.service.js");
/* harmony import */ var _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../common/contextkeys.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/contextkeys.js");
/* harmony import */ var _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../platform/contextkey/common/contextkey.js */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.js");
/* harmony import */ var _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../base/common/codicons.js */ "./node_modules/vscode/vscode/src/vs/base/common/codicons.js");
/* harmony import */ var _platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../platform/theme/common/iconRegistry.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/iconRegistry.js");
/* harmony import */ var _common_views_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../common/views.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/views.js");
/* harmony import */ var _common_views_service_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../common/views.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/views.service.js");
/* harmony import */ var _services_views_common_viewsService_service_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../services/views/common/viewsService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/views/common/viewsService.service.js");
/* harmony import */ var _services_panecomposite_browser_panecomposite_service_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../services/panecomposite/browser/panecomposite.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/panecomposite/browser/panecomposite.service.js");
/* harmony import */ var _platform_notification_common_notification_service_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../platform/notification/common/notification.service.js */ "./node_modules/vscode/vscode/src/vs/platform/notification/common/notification.service.js");















const maximizeIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_9__.registerIcon)('panel-maximize', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_8__.Codicon.chevronUp, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9410, 'Icon to maximize a panel.')));
const restoreIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_9__.registerIcon)('panel-restore', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_8__.Codicon.chevronDown, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9411, 'Icon to restore a panel.')));
const closeIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_9__.registerIcon)('panel-close', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_8__.Codicon.close, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9412, 'Icon to close a panel.')));
const panelIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_9__.registerIcon)('panel-layout-icon', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_8__.Codicon.layoutPanel, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9413, 'Icon to toggle the panel off when it is on.')));
const panelOffIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_9__.registerIcon)('panel-layout-icon-off', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_8__.Codicon.layoutPanelOff, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9414, 'Icon to toggle the panel on when it is off.')));
class TogglePanelAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.Action2 {
    static { this.ID = 'workbench.action.togglePanel'; }
    static { this.LABEL = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9415, "Toggle Panel Visibility")); }
    constructor() {
        super({
            id: TogglePanelAction.ID,
            title: TogglePanelAction.LABEL,
            toggled: {
                condition: _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_6__.PanelVisibleContext,
                title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9416, "Panel")),
                mnemonicTitle: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9417, "&&Panel")),
            },
            f1: true,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_3__.Categories.View,
            keybinding: { primary: 2048  | 40 , weight: 200  },
            menu: [
                {
                    id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuId.MenubarAppearanceMenu,
                    group: '2_workbench_layout',
                    order: 5
                }, {
                    id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuId.LayoutControlMenuSubmenu,
                    group: '0_workbench_layout',
                    order: 4
                },
            ]
        });
    }
    async run(accessor) {
        const layoutService = accessor.get(_services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_5__.IWorkbenchLayoutService);
        layoutService.setPartHidden(layoutService.isVisible("workbench.parts.panel" ), "workbench.parts.panel" );
    }
}
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.registerAction2)(TogglePanelAction);
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.registerAction2)(class extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.Action2 {
    static { this.ID = 'workbench.action.focusPanel'; }
    static { this.LABEL = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9418, "Focus into Panel")); }
    constructor() {
        super({
            id: 'workbench.action.focusPanel',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9418, "Focus into Panel")),
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_3__.Categories.View,
            f1: true,
        });
    }
    async run(accessor) {
        const layoutService = accessor.get(_services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_5__.IWorkbenchLayoutService);
        const paneCompositeService = accessor.get(_services_panecomposite_browser_panecomposite_service_js__WEBPACK_IMPORTED_MODULE_13__.IPaneCompositePartService);
        if (!layoutService.isVisible("workbench.parts.panel" )) {
            layoutService.setPartHidden(false, "workbench.parts.panel" );
        }
        const panel = paneCompositeService.getActivePaneComposite(1 );
        panel?.focus();
    }
});
const PositionPanelActionId = {
    LEFT: 'workbench.action.positionPanelLeft',
    RIGHT: 'workbench.action.positionPanelRight',
    BOTTOM: 'workbench.action.positionPanelBottom',
    TOP: 'workbench.action.positionPanelTop'
};
const AlignPanelActionId = {
    LEFT: 'workbench.action.alignPanelLeft',
    RIGHT: 'workbench.action.alignPanelRight',
    CENTER: 'workbench.action.alignPanelCenter',
    JUSTIFY: 'workbench.action.alignPanelJustify',
};
function createPanelActionConfig(id, title, shortLabel, value, when) {
    return {
        id,
        title,
        shortLabel,
        value,
        when,
    };
}
function createPositionPanelActionConfig(id, title, shortLabel, position) {
    return createPanelActionConfig(id, title, shortLabel, position, ( (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_6__.PanelPositionContext.notEqualsTo((0,_services_layout_browser_layoutService_js__WEBPACK_IMPORTED_MODULE_4__.positionToString)(position)))));
}
function createAlignmentPanelActionConfig(id, title, shortLabel, alignment) {
    return createPanelActionConfig(id, title, shortLabel, alignment, ( (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_6__.PanelAlignmentContext.notEqualsTo(alignment))));
}
const PositionPanelActionConfigs = [
    createPositionPanelActionConfig(PositionPanelActionId.TOP, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9419, "Move Panel To Top")), ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9420, "Top")), 3 ),
    createPositionPanelActionConfig(PositionPanelActionId.LEFT, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9421, "Move Panel Left")), ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9422, "Left")), 0 ),
    createPositionPanelActionConfig(PositionPanelActionId.RIGHT, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9423, "Move Panel Right")), ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9424, "Right")), 1 ),
    createPositionPanelActionConfig(PositionPanelActionId.BOTTOM, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9425, "Move Panel To Bottom")), ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9426, "Bottom")), 2 ),
];
const AlignPanelActionConfigs = [
    createAlignmentPanelActionConfig(AlignPanelActionId.LEFT, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9427, "Set Panel Alignment to Left")), ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9428, "Left")), 'left'),
    createAlignmentPanelActionConfig(AlignPanelActionId.RIGHT, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9429, "Set Panel Alignment to Right")), ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9430, "Right")), 'right'),
    createAlignmentPanelActionConfig(AlignPanelActionId.CENTER, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9431, "Set Panel Alignment to Center")), ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9432, "Center")), 'center'),
    createAlignmentPanelActionConfig(AlignPanelActionId.JUSTIFY, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9433, "Set Panel Alignment to Justify")), ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9434, "Justify")), 'justify'),
];
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuId.MenubarAppearanceMenu, {
    submenu: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuId.PanelPositionMenu,
    title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9435, "Panel Position")),
    group: '3_workbench_layout_move',
    order: 4
});
PositionPanelActionConfigs.forEach((positionPanelAction, index) => {
    const { id, title, shortLabel, value, when } = positionPanelAction;
    (0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.registerAction2)(class extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.Action2 {
        constructor() {
            super({
                id,
                title,
                category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_3__.Categories.View,
                f1: true
            });
        }
        run(accessor) {
            const layoutService = accessor.get(_services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_5__.IWorkbenchLayoutService);
            layoutService.setPanelPosition(value === undefined ? 2  : value);
        }
    });
    _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuId.PanelPositionMenu, {
        command: {
            id,
            title: shortLabel,
            toggled: ( (when.negate()))
        },
        order: 5 + index
    });
});
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuId.MenubarAppearanceMenu, {
    submenu: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuId.PanelAlignmentMenu,
    title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9436, "Align Panel")),
    group: '3_workbench_layout_move',
    order: 5
});
AlignPanelActionConfigs.forEach(alignPanelAction => {
    const { id, title, shortLabel, value, when } = alignPanelAction;
    (0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.registerAction2)(class extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.Action2 {
        constructor() {
            super({
                id,
                title,
                category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_3__.Categories.View,
                toggled: ( (when.negate())),
                f1: true
            });
        }
        run(accessor) {
            const layoutService = accessor.get(_services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_5__.IWorkbenchLayoutService);
            layoutService.setPanelAlignment(value === undefined ? 'center' : value);
        }
    });
    _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuId.PanelAlignmentMenu, {
        command: {
            id,
            title: shortLabel,
            toggled: ( (when.negate()))
        },
        order: 5
    });
});
class SwitchPanelViewAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.Action2 {
    constructor(id, title) {
        super({
            id,
            title,
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_3__.Categories.View,
            f1: true,
        });
    }
    async run(accessor, offset) {
        const paneCompositeService = accessor.get(_services_panecomposite_browser_panecomposite_service_js__WEBPACK_IMPORTED_MODULE_13__.IPaneCompositePartService);
        const pinnedPanels = paneCompositeService.getVisiblePaneCompositeIds(1 );
        const activePanel = paneCompositeService.getActivePaneComposite(1 );
        if (!activePanel) {
            return;
        }
        let targetPanelId;
        for (let i = 0; i < pinnedPanels.length; i++) {
            if (pinnedPanels[i] === activePanel.getId()) {
                targetPanelId = pinnedPanels[(i + pinnedPanels.length + offset) % pinnedPanels.length];
                break;
            }
        }
        if (typeof targetPanelId === 'string') {
            await paneCompositeService.openPaneComposite(targetPanelId, 1 , true);
        }
    }
}
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.registerAction2)(class extends SwitchPanelViewAction {
    constructor() {
        super('workbench.action.previousPanelView', ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9437, "Previous Panel View")));
    }
    run(accessor) {
        return super.run(accessor, -1);
    }
});
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.registerAction2)(class extends SwitchPanelViewAction {
    constructor() {
        super('workbench.action.nextPanelView', ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9438, "Next Panel View")));
    }
    run(accessor) {
        return super.run(accessor, 1);
    }
});
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.registerAction2)(class extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.toggleMaximizedPanel',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9439, 'Toggle Maximized Panel')),
            tooltip: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9440, "Maximize Panel Size")),
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_3__.Categories.View,
            f1: true,
            icon: maximizeIcon,
            precondition: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_7__.ContextKeyExpr.or(
                 (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_6__.PanelAlignmentContext.isEqualTo('center')),
                 (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_7__.ContextKeyExpr.and(
                     (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_6__.PanelPositionContext.notEqualsTo('bottom')),
                     (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_6__.PanelPositionContext.notEqualsTo('top'))
                ))
            ))),
            toggled: { condition: _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_6__.PanelMaximizedContext, icon: restoreIcon, tooltip: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9441, "Restore Panel Size")) },
            menu: [{
                    id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuId.PanelTitle,
                    group: 'navigation',
                    order: 1,
                    when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_7__.ContextKeyExpr.or(
                         (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_6__.PanelAlignmentContext.isEqualTo('center')),
                         (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_7__.ContextKeyExpr.and(
                             (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_6__.PanelPositionContext.notEqualsTo('bottom')),
                             (_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_6__.PanelPositionContext.notEqualsTo('top'))
                        ))
                    )))
                }]
        });
    }
    run(accessor) {
        const layoutService = accessor.get(_services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_5__.IWorkbenchLayoutService);
        const notificationService = accessor.get(_platform_notification_common_notification_service_js__WEBPACK_IMPORTED_MODULE_14__.INotificationService);
        if (layoutService.getPanelAlignment() !== 'center' && (0,_services_layout_browser_layoutService_js__WEBPACK_IMPORTED_MODULE_4__.isHorizontal)(layoutService.getPanelPosition())) {
            notificationService.warn(( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9442, "Maximizing the panel is only supported when it is center aligned.")));
            return;
        }
        if (!layoutService.isVisible("workbench.parts.panel" )) {
            layoutService.setPartHidden(false, "workbench.parts.panel" );
            if (!layoutService.isPanelMaximized()) {
                layoutService.toggleMaximizedPanel();
            }
        }
        else {
            layoutService.toggleMaximizedPanel();
        }
    }
});
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.registerAction2)(class extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.closePanel',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9443, 'Hide Panel')),
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_3__.Categories.View,
            icon: closeIcon,
            menu: [{
                    id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuId.CommandPalette,
                    when: _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_6__.PanelVisibleContext,
                }, {
                    id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuId.PanelTitle,
                    group: 'navigation',
                    order: 2
                }]
        });
    }
    run(accessor) {
        accessor.get(_services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_5__.IWorkbenchLayoutService).setPartHidden(true, "workbench.parts.panel" );
    }
});
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.registerAction2)(class extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.Action2 {
    constructor() {
        super({
            id: 'workbench.action.closeAuxiliaryBar',
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9444, 'Hide Secondary Side Bar')),
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_3__.Categories.View,
            icon: closeIcon,
            menu: [{
                    id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuId.CommandPalette,
                    when: _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_6__.AuxiliaryBarVisibleContext,
                }, {
                    id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuId.AuxiliaryBarTitle,
                    group: 'navigation',
                    order: 2,
                    when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_7__.ContextKeyExpr.notEquals(
                        `config.${"workbench.activityBar.location" }`,
                        "top"
                    )))
                }]
        });
    }
    run(accessor) {
        accessor.get(_services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_5__.IWorkbenchLayoutService).setPartHidden(true, "workbench.parts.auxiliarybar" );
    }
});
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuRegistry.appendMenuItems([
    {
        id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuId.LayoutControlMenu,
        item: {
            group: '0_workbench_toggles',
            command: {
                id: TogglePanelAction.ID,
                title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9445, "Toggle Panel")),
                icon: panelOffIcon,
                toggled: { condition: _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_6__.PanelVisibleContext, icon: panelIcon }
            },
            when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_7__.ContextKeyExpr.or(
                 (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_7__.ContextKeyExpr.equals('config.workbench.layoutControl.type', 'toggles')),
                 (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_7__.ContextKeyExpr.equals('config.workbench.layoutControl.type', 'both'))
            ))),
            order: 1
        }
    }, {
        id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.MenuId.ViewTitleContext,
        item: {
            group: '3_workbench_layout_move',
            command: {
                id: TogglePanelAction.ID,
                title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9446, 'Hide Panel')),
            },
            when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_7__.ContextKeyExpr.and(_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_6__.PanelVisibleContext,  (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_7__.ContextKeyExpr.equals(
                'viewLocation',
                (0,_common_views_js__WEBPACK_IMPORTED_MODULE_10__.ViewContainerLocationToString)(1 )
            ))))),
            order: 2
        }
    }
]);
class MoveViewsBetweenPanelsAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.Action2 {
    constructor(source, destination, desc) {
        super(desc);
        this.source = source;
        this.destination = destination;
    }
    run(accessor, ...args) {
        const viewDescriptorService = accessor.get(_common_views_service_js__WEBPACK_IMPORTED_MODULE_11__.IViewDescriptorService);
        const layoutService = accessor.get(_services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_5__.IWorkbenchLayoutService);
        const viewsService = accessor.get(_services_views_common_viewsService_service_js__WEBPACK_IMPORTED_MODULE_12__.IViewsService);
        const srcContainers = viewDescriptorService.getViewContainersByLocation(this.source);
        const destContainers = viewDescriptorService.getViewContainersByLocation(this.destination);
        if (srcContainers.length) {
            const activeViewContainer = viewsService.getVisibleViewContainer(this.source);
            srcContainers.forEach(viewContainer => viewDescriptorService.moveViewContainerToLocation(viewContainer, this.destination, undefined, this.desc.id));
            layoutService.setPartHidden(false, this.destination === 1  ? "workbench.parts.panel"  : "workbench.parts.auxiliarybar" );
            if (activeViewContainer && destContainers.length === 0) {
                viewsService.openViewContainer(activeViewContainer.id, true);
            }
        }
    }
}
class MovePanelToSidePanelAction extends MoveViewsBetweenPanelsAction {
    static { this.ID = 'workbench.action.movePanelToSidePanel'; }
    constructor() {
        super(1 , 2 , {
            id: MovePanelToSidePanelAction.ID,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9447, "Move Panel Views To Secondary Side Bar")),
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_3__.Categories.View,
            f1: false
        });
    }
}
class MovePanelToSecondarySideBarAction extends MoveViewsBetweenPanelsAction {
    static { this.ID = 'workbench.action.movePanelToSecondarySideBar'; }
    constructor() {
        super(1 , 2 , {
            id: MovePanelToSecondarySideBarAction.ID,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9447, "Move Panel Views To Secondary Side Bar")),
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_3__.Categories.View,
            f1: true
        });
    }
}
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.registerAction2)(MovePanelToSidePanelAction);
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.registerAction2)(MovePanelToSecondarySideBarAction);
class MoveSidePanelToPanelAction extends MoveViewsBetweenPanelsAction {
    static { this.ID = 'workbench.action.moveSidePanelToPanel'; }
    constructor() {
        super(2 , 1 , {
            id: MoveSidePanelToPanelAction.ID,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9448, "Move Secondary Side Bar Views To Panel")),
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_3__.Categories.View,
            f1: false
        });
    }
}
class MoveSecondarySideBarToPanelAction extends MoveViewsBetweenPanelsAction {
    static { this.ID = 'workbench.action.moveSecondarySideBarToPanel'; }
    constructor() {
        super(2 , 1 , {
            id: MoveSecondarySideBarToPanelAction.ID,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(9448, "Move Secondary Side Bar Views To Panel")),
            category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_3__.Categories.View,
            f1: true
        });
    }
}
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.registerAction2)(MoveSidePanelToPanelAction);
(0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.registerAction2)(MoveSecondarySideBarToPanelAction);



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/titlebar/media/menubarControl.css.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/titlebar/media/menubarControl.css.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ css),
/* harmony export */   "default": () => (/* binding */ css)
/* harmony export */ });
/* harmony import */ var _external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../external/rollup-plugin-styles/dist/runtime/inject-css.js */ "./node_modules/vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js");

var css = ".monaco-workbench .menubar .toolbar-toggle-more,.monaco-workbench .menubar>.menubar-menu-button{color:var(--vscode-titleBar-activeForeground)}.monaco-workbench .activitybar .menubar.compact .toolbar-toggle-more,.monaco-workbench .activitybar .menubar.compact>.menubar-menu-button{color:var(--vscode-activityBar-inactiveForeground)}.monaco-workbench .activitybar .menubar.compact:not(:focus-within)>.menubar-menu-button:hover,.monaco-workbench .activitybar .menubar.compact:not(:focus-within)>.menubar-menu-button:hover .toolbar-toggle-more,.monaco-workbench .activitybar .menubar.compact>.menubar-menu-button.open,.monaco-workbench .activitybar .menubar.compact>.menubar-menu-button.open .toolbar-toggle-more,.monaco-workbench .activitybar .menubar.compact>.menubar-menu-button:focus,.monaco-workbench .activitybar .menubar.compact>.menubar-menu-button:focus .toolbar-toggle-more{color:var(--vscode-activityBar-foreground)}.monaco-workbench .activitybar .menubar.compact>.menubar-menu-button:focus{background-color:var(--vscode-menubar-selectionBackground)}.monaco-workbench .menubar.inactive:not(.compact)>.menubar-menu-button,.monaco-workbench .menubar.inactive:not(.compact)>.menubar-menu-button .toolbar-toggle-more{color:var(--vscode-titleBar-inactiveForeground)}.monaco-workbench .menubar:not(.compact)>.menubar-menu-button.open,.monaco-workbench .menubar:not(.compact)>.menubar-menu-button.open .toolbar-toggle-more,.monaco-workbench .menubar:not(.compact)>.menubar-menu-button:focus,.monaco-workbench .menubar:not(.compact)>.menubar-menu-button:focus .toolbar-toggle-more,.monaco-workbench .menubar:not(:focus-within):not(.compact)>.menubar-menu-button:hover,.monaco-workbench .menubar:not(:focus-within):not(.compact)>.menubar-menu-button:hover .toolbar-toggle-more{color:var(--vscode-menubar-selectionForeground)}.monaco-workbench .menubar:not(.compact)>.menubar-menu-button.open .menubar-menu-title,.monaco-workbench .menubar:not(.compact)>.menubar-menu-button:focus .menubar-menu-title,.monaco-workbench .menubar:not(:focus-within):not(.compact)>.menubar-menu-button:hover .menubar-menu-title{background-color:var(--vscode-menubar-selectionBackground)}.monaco-workbench .menubar>.menubar-menu-button:hover .menubar-menu-title{outline:dashed 1px var(--vscode-menubar-selectionBorder)}.monaco-workbench .menubar>.menubar-menu-button.open .menubar-menu-title,.monaco-workbench .menubar>.menubar-menu-button:focus .menubar-menu-title{outline:solid 1px var(--vscode-menubar-selectionBorder)}.monaco-workbench .menubar>.menubar-menu-button.open .menubar-menu-title,.monaco-workbench .menubar>.menubar-menu-button:focus .menubar-menu-title,.monaco-workbench .menubar>.menubar-menu-button:hover .menubar-menu-title{outline-color:var(--vscode-menubar-selectionBorder);outline-offset:-1px}";
(0,_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__["default"])(css,{});



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/titlebar/menubarControl.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/titlebar/menubarControl.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CustomMenubarControl: () => (/* binding */ CustomMenubarControl),
/* harmony export */   MenubarControl: () => (/* binding */ MenubarControl)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _media_menubarControl_css_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./media/menubarControl.css.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/titlebar/media/menubarControl.css.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../platform/actions/common/actions.js */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var _platform_actions_common_actions_service_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../platform/actions/common/actions.service.js */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.service.js");
/* harmony import */ var _platform_window_common_window_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../platform/window/common/window.js */ "./node_modules/vscode/vscode/src/vs/platform/window/common/window.js");
/* harmony import */ var _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../platform/contextkey/common/contextkey.service.js */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var _base_common_actions_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../base/common/actions.js */ "./node_modules/vscode/vscode/src/vs/base/common/actions.js");
/* harmony import */ var _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../base/browser/dom.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var _platform_keybinding_common_keybinding_service_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../platform/keybinding/common/keybinding.service.js */ "./node_modules/vscode/vscode/src/vs/platform/keybinding/common/keybinding.service.js");
/* harmony import */ var _base_common_platform_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../base/common/platform.js */ "./node_modules/vscode/vscode/src/vs/base/common/platform.js");
/* harmony import */ var _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../platform/configuration/common/configuration.service.js */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../base/common/event.js */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _platform_workspaces_common_workspaces_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../platform/workspaces/common/workspaces.js */ "./node_modules/vscode/vscode/src/vs/platform/workspaces/common/workspaces.js");
/* harmony import */ var _platform_workspaces_common_workspaces_service_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../platform/workspaces/common/workspaces.service.js */ "./node_modules/vscode/vscode/src/vs/platform/workspaces/common/workspaces.service.js");
/* harmony import */ var _base_common_async_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../base/common/async.js */ "./node_modules/vscode/vscode/src/vs/base/common/async.js");
/* harmony import */ var _platform_label_common_label_service_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../platform/label/common/label.service.js */ "./node_modules/vscode/vscode/src/vs/platform/label/common/label.service.js");
/* harmony import */ var _platform_update_common_update_service_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../platform/update/common/update.service.js */ "./node_modules/vscode/vscode/src/vs/platform/update/common/update.service.js");
/* harmony import */ var _platform_storage_common_storage_service_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../platform/storage/common/storage.service.js */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var _platform_notification_common_notification_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../platform/notification/common/notification.js */ "./node_modules/vscode/vscode/src/vs/platform/notification/common/notification.js");
/* harmony import */ var _platform_notification_common_notification_service_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../platform/notification/common/notification.service.js */ "./node_modules/vscode/vscode/src/vs/platform/notification/common/notification.service.js");
/* harmony import */ var _services_preferences_common_preferences_service_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../services/preferences/common/preferences.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/preferences/common/preferences.service.js");
/* harmony import */ var _services_environment_common_environmentService_service_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../services/environment/common/environmentService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/environment/common/environmentService.service.js");
/* harmony import */ var _base_browser_ui_menu_menubar_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../base/browser/ui/menu/menubar.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/menu/menubar.js");
/* harmony import */ var _base_browser_ui_menu_menu_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../../base/browser/ui/menu/menu.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/menu/menu.js");
/* harmony import */ var _base_common_labels_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../../base/common/labels.js */ "./node_modules/vscode/vscode/src/vs/base/common/labels.js");
/* harmony import */ var _platform_accessibility_common_accessibility_service_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../../platform/accessibility/common/accessibility.service.js */ "./node_modules/vscode/vscode/src/vs/platform/accessibility/common/accessibility.service.js");
/* harmony import */ var _base_browser_browser_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../../base/browser/browser.js */ "./node_modules/vscode/vscode/src/vs/base/browser/browser.js");
/* harmony import */ var _services_host_browser_host_service_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../services/host/browser/host.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/host/browser/host.service.js");
/* harmony import */ var _base_browser_canIUse_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../../base/browser/canIUse.js */ "./node_modules/vscode/vscode/src/vs/base/browser/canIUse.js");
/* harmony import */ var _platform_contextkey_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../../../platform/contextkey/common/contextkeys.js */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkeys.js");
/* harmony import */ var _platform_commands_common_commands_service_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../../../platform/commands/common/commands.service.js */ "./node_modules/vscode/vscode/src/vs/platform/commands/common/commands.service.js");
/* harmony import */ var _platform_telemetry_common_telemetry_service_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../../../platform/telemetry/common/telemetry.service.js */ "./node_modules/vscode/vscode/src/vs/platform/telemetry/common/telemetry.service.js");
/* harmony import */ var _actions_windowActions_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../actions/windowActions.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/actions/windowActions.js");
/* harmony import */ var _platform_action_common_action_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../../../platform/action/common/action.js */ "./node_modules/vscode/vscode/src/vs/platform/action/common/action.js");
/* harmony import */ var _platform_actions_browser_menuEntryActionViewItem_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../../../platform/actions/browser/menuEntryActionViewItem.js */ "./node_modules/vscode/vscode/src/vs/platform/actions/browser/menuEntryActionViewItem.js");
/* harmony import */ var _platform_theme_browser_defaultStyles_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../../../platform/theme/browser/defaultStyles.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/browser/defaultStyles.js");
/* harmony import */ var _base_browser_window_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../../../base/browser/window.js */ "./node_modules/vscode/vscode/src/vs/base/browser/window.js");
/* harmony import */ var _base_common_severity_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../../../../base/common/severity.js */ "./node_modules/vscode/vscode/src/vs/base/common/severity.js");








































_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_3__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_3__.MenuId.MenubarMainMenu, {
    submenu: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_3__.MenuId.MenubarFileMenu,
    title: {
        value: 'File',
        original: 'File',
        mnemonicTitle: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(6880, "&&File")),
    },
    order: 1
});
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_3__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_3__.MenuId.MenubarMainMenu, {
    submenu: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_3__.MenuId.MenubarEditMenu,
    title: {
        value: 'Edit',
        original: 'Edit',
        mnemonicTitle: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(6881, "&&Edit"))
    },
    order: 2
});
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_3__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_3__.MenuId.MenubarMainMenu, {
    submenu: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_3__.MenuId.MenubarSelectionMenu,
    title: {
        value: 'Selection',
        original: 'Selection',
        mnemonicTitle: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(6882, "&&Selection"))
    },
    order: 3
});
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_3__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_3__.MenuId.MenubarMainMenu, {
    submenu: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_3__.MenuId.MenubarViewMenu,
    title: {
        value: 'View',
        original: 'View',
        mnemonicTitle: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(6883, "&&View"))
    },
    order: 4
});
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_3__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_3__.MenuId.MenubarMainMenu, {
    submenu: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_3__.MenuId.MenubarGoMenu,
    title: {
        value: 'Go',
        original: 'Go',
        mnemonicTitle: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(6884, "&&Go"))
    },
    order: 5
});
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_3__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_3__.MenuId.MenubarMainMenu, {
    submenu: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_3__.MenuId.MenubarTerminalMenu,
    title: {
        value: 'Terminal',
        original: 'Terminal',
        mnemonicTitle: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(6885, "&&Terminal"))
    },
    order: 7
});
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_3__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_3__.MenuId.MenubarMainMenu, {
    submenu: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_3__.MenuId.MenubarHelpMenu,
    title: {
        value: 'Help',
        original: 'Help',
        mnemonicTitle: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(6886, "&&Help"))
    },
    order: 8
});
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_3__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_3__.MenuId.MenubarMainMenu, {
    submenu: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_3__.MenuId.MenubarPreferencesMenu,
    title: {
        value: 'Preferences',
        original: 'Preferences',
        mnemonicTitle: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(6887, "Preferences"))
    },
    when: _platform_contextkey_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_31__.IsMacNativeContext,
    order: 9
});
class MenubarControl extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_13__.Disposable {
    static { this.MAX_MENU_RECENT_ENTRIES = 10; }
    constructor(menuService, workspacesService, contextKeyService, keybindingService, configurationService, labelService, updateService, storageService, notificationService, preferencesService, environmentService, accessibilityService, hostService, commandService) {
        super();
        this.menuService = menuService;
        this.workspacesService = workspacesService;
        this.contextKeyService = contextKeyService;
        this.keybindingService = keybindingService;
        this.configurationService = configurationService;
        this.labelService = labelService;
        this.updateService = updateService;
        this.storageService = storageService;
        this.notificationService = notificationService;
        this.preferencesService = preferencesService;
        this.environmentService = environmentService;
        this.accessibilityService = accessibilityService;
        this.hostService = hostService;
        this.commandService = commandService;
        this.keys = [
            'window.menuBarVisibility',
            'window.enableMenuBarMnemonics',
            'window.customMenuBarAltFocus',
            'workbench.sideBar.location',
            'window.nativeTabs'
        ];
        this.menus = {};
        this.topLevelTitles = {};
        this.recentlyOpened = { files: [], workspaces: [] };
        this.mainMenu = this._register(this.menuService.createMenu(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_3__.MenuId.MenubarMainMenu, this.contextKeyService));
        this.mainMenuDisposables = this._register(( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_13__.DisposableStore())));
        this.setupMainMenu();
        this.menuUpdater = this._register(( (new _base_common_async_js__WEBPACK_IMPORTED_MODULE_16__.RunOnceScheduler(() => this.doUpdateMenubar(false), 200))));
        this.notifyUserOfCustomMenubarAccessibility();
    }
    registerListeners() {
        this._register(this.hostService.onDidChangeFocus(e => this.onDidChangeWindowFocus(e)));
        this._register(this.configurationService.onDidChangeConfiguration(e => this.onConfigurationUpdated(e)));
        this._register(this.updateService.onStateChange(() => this.onUpdateStateChange()));
        this._register(this.workspacesService.onDidChangeRecentlyOpened(() => { this.onDidChangeRecentlyOpened(); }));
        this._register(this.keybindingService.onDidUpdateKeybindings(() => this.updateMenubar()));
        this._register(this.labelService.onDidChangeFormatters(() => { this.onDidChangeRecentlyOpened(); }));
        this._register(this.mainMenu.onDidChange(() => { this.setupMainMenu(); this.doUpdateMenubar(true); }));
    }
    setupMainMenu() {
        this.mainMenuDisposables.clear();
        this.menus = {};
        this.topLevelTitles = {};
        const [, mainMenuActions] = this.mainMenu.getActions()[0];
        for (const mainMenuAction of mainMenuActions) {
            if (mainMenuAction instanceof _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_3__.SubmenuItemAction && typeof mainMenuAction.item.title !== 'string') {
                this.menus[mainMenuAction.item.title.original] = this.mainMenuDisposables.add(this.menuService.createMenu(mainMenuAction.item.submenu, this.contextKeyService, { emitEventsForSubmenuChanges: true }));
                this.topLevelTitles[mainMenuAction.item.title.original] = mainMenuAction.item.title.mnemonicTitle ?? mainMenuAction.item.title.value;
            }
        }
    }
    updateMenubar() {
        this.menuUpdater.schedule();
    }
    calculateActionLabel(action) {
        const label = action.label;
        return label;
    }
    onUpdateStateChange() {
        this.updateMenubar();
    }
    onUpdateKeybindings() {
        this.updateMenubar();
    }
    getOpenRecentActions() {
        if (!this.recentlyOpened) {
            return [];
        }
        const { workspaces, files } = this.recentlyOpened;
        const result = [];
        if (workspaces.length > 0) {
            for (let i = 0; i < MenubarControl.MAX_MENU_RECENT_ENTRIES && i < workspaces.length; i++) {
                result.push(this.createOpenRecentMenuAction(workspaces[i]));
            }
            result.push(( (new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.Separator())));
        }
        if (files.length > 0) {
            for (let i = 0; i < MenubarControl.MAX_MENU_RECENT_ENTRIES && i < files.length; i++) {
                result.push(this.createOpenRecentMenuAction(files[i]));
            }
            result.push(( (new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.Separator())));
        }
        return result;
    }
    onDidChangeWindowFocus(hasFocus) {
        if (hasFocus) {
            this.onDidChangeRecentlyOpened();
        }
    }
    onConfigurationUpdated(event) {
        if (( (this.keys.some(key => event.affectsConfiguration(key))))) {
            this.updateMenubar();
        }
        if (event.affectsConfiguration('editor.accessibilitySupport')) {
            this.notifyUserOfCustomMenubarAccessibility();
        }
        if (event.affectsConfiguration('window.menuBarVisibility')) {
            this.onDidChangeRecentlyOpened();
        }
    }
    get menubarHidden() {
        return _base_common_platform_js__WEBPACK_IMPORTED_MODULE_10__.isMacintosh && _base_common_platform_js__WEBPACK_IMPORTED_MODULE_10__.isNative ? false : (0,_platform_window_common_window_js__WEBPACK_IMPORTED_MODULE_5__.getMenuBarVisibility)(this.configurationService) === 'hidden';
    }
    onDidChangeRecentlyOpened() {
        if (!this.menubarHidden) {
            this.workspacesService.getRecentlyOpened().then(recentlyOpened => {
                this.recentlyOpened = recentlyOpened;
                this.updateMenubar();
            });
        }
    }
    createOpenRecentMenuAction(recent) {
        let label;
        let uri;
        let commandId;
        let openable;
        const remoteAuthority = recent.remoteAuthority;
        if ((0,_platform_workspaces_common_workspaces_js__WEBPACK_IMPORTED_MODULE_14__.isRecentFolder)(recent)) {
            uri = recent.folderUri;
            label = recent.label || this.labelService.getWorkspaceLabel(uri, { verbose: 2  });
            commandId = 'openRecentFolder';
            openable = { folderUri: uri };
        }
        else if ((0,_platform_workspaces_common_workspaces_js__WEBPACK_IMPORTED_MODULE_14__.isRecentWorkspace)(recent)) {
            uri = recent.workspace.configPath;
            label = recent.label || this.labelService.getWorkspaceLabel(recent.workspace, { verbose: 2  });
            commandId = 'openRecentWorkspace';
            openable = { workspaceUri: uri };
        }
        else {
            uri = recent.fileUri;
            label = recent.label || this.labelService.getUriLabel(uri);
            commandId = 'openRecentFile';
            openable = { fileUri: uri };
        }
        const ret = (0,_base_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.toAction)({
            id: commandId, label: (0,_base_common_labels_js__WEBPACK_IMPORTED_MODULE_26__.unmnemonicLabel)(label), run: (browserEvent) => {
                const openInNewWindow = browserEvent && ((!_base_common_platform_js__WEBPACK_IMPORTED_MODULE_10__.isMacintosh && (browserEvent.ctrlKey || browserEvent.shiftKey)) || (_base_common_platform_js__WEBPACK_IMPORTED_MODULE_10__.isMacintosh && (browserEvent.metaKey || browserEvent.altKey)));
                return this.hostService.openWindow([openable], {
                    forceNewWindow: !!openInNewWindow,
                    remoteAuthority: remoteAuthority || null
                });
            }
        });
        return Object.assign(ret, { uri, remoteAuthority });
    }
    notifyUserOfCustomMenubarAccessibility() {
        if (_base_common_platform_js__WEBPACK_IMPORTED_MODULE_10__.isWeb || _base_common_platform_js__WEBPACK_IMPORTED_MODULE_10__.isMacintosh) {
            return;
        }
        const hasBeenNotified = this.storageService.getBoolean('menubar/accessibleMenubarNotified', -1 , false);
        const usingCustomMenubar = !(0,_platform_window_common_window_js__WEBPACK_IMPORTED_MODULE_5__.hasNativeTitlebar)(this.configurationService);
        if (hasBeenNotified || usingCustomMenubar || !this.accessibilityService.isScreenReaderOptimized()) {
            return;
        }
        const message = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(
            6888,
            "Accessibility support is enabled for you. For the most accessible experience, we recommend the custom title bar style."
        ));
        this.notificationService.prompt(_base_common_severity_js__WEBPACK_IMPORTED_MODULE_39__["default"].Info, message, [
            {
                label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(6889, "Open Settings")),
                run: () => {
                    return this.preferencesService.openUserSettings({ query: "window.titleBarStyle"  });
                }
            }
        ]);
        this.storageService.store('menubar/accessibleMenubarNotified', true, -1 , 0 );
    }
}
let focusMenuBarEmitter = undefined;
function enableFocusMenuBarAction() {
    if (!focusMenuBarEmitter) {
        focusMenuBarEmitter = ( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_12__.Emitter()));
        (0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_3__.registerAction2)(class extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_3__.Action2 {
            constructor() {
                super({
                    id: `workbench.actions.menubar.focus`,
                    title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize2)(6890, 'Focus Application Menu')),
                    keybinding: {
                        primary: 512  | 68 ,
                        weight: 200 ,
                        when: _platform_contextkey_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_31__.IsWebContext
                    },
                    f1: true
                });
            }
            async run() {
                focusMenuBarEmitter?.fire();
            }
        });
    }
    return focusMenuBarEmitter;
}
let CustomMenubarControl = class CustomMenubarControl extends MenubarControl {
    constructor(menuService, workspacesService, contextKeyService, keybindingService, configurationService, labelService, updateService, storageService, notificationService, preferencesService, environmentService, accessibilityService, telemetryService, hostService, commandService) {
        super(menuService, workspacesService, contextKeyService, keybindingService, configurationService, labelService, updateService, storageService, notificationService, preferencesService, environmentService, accessibilityService, hostService, commandService);
        this.telemetryService = telemetryService;
        this.alwaysOnMnemonics = false;
        this.focusInsideMenubar = false;
        this.pendingFirstTimeUpdate = false;
        this.visible = true;
        this.webNavigationMenu = this._register(this.menuService.createMenu(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_3__.MenuId.MenubarHomeMenu, this.contextKeyService));
        this.reinstallDisposables = this._register(( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_13__.DisposableStore())));
        this._onVisibilityChange = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_12__.Emitter())));
        this._onFocusStateChange = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_12__.Emitter())));
        this.actionRunner = this._register(( (new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.ActionRunner())));
        this.actionRunner.onDidRun(e => {
            this.telemetryService.publicLog2('workbenchActionExecuted', { id: e.action.id, from: 'menu' });
        });
        this.workspacesService.getRecentlyOpened().then((recentlyOpened) => {
            this.recentlyOpened = recentlyOpened;
        });
        this.registerListeners();
    }
    doUpdateMenubar(firstTime) {
        if (!this.focusInsideMenubar) {
            this.setupCustomMenubar(firstTime);
        }
        if (firstTime) {
            this.pendingFirstTimeUpdate = true;
        }
    }
    getUpdateAction() {
        const state = this.updateService.state;
        switch (state.type) {
            case "idle" :
                return (
                     (new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.Action('update.check', ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(6891, "Check for &&Updates...")), undefined, true, () => this.updateService.checkForUpdates(true)))
                );
            case "checking for updates" :
                return (
                     (new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.Action('update.checking', ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(6892, "Checking for Updates...")), undefined, false))
                );
            case "available for download" :
                return (
                     (new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.Action('update.downloadNow', ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(6893, "D&&ownload Update")), undefined, true, () => this.updateService.downloadUpdate()))
                );
            case "downloading" :
                return (
                     (new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.Action('update.downloading', ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(6894, "Downloading Update...")), undefined, false))
                );
            case "downloaded" :
                return _base_common_platform_js__WEBPACK_IMPORTED_MODULE_10__.isMacintosh ? null : ( (new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.Action('update.install', ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(6895, "Install &&Update...")), undefined, true, () => this.updateService.applyUpdate())));
            case "updating" :
                return (
                     (new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.Action('update.updating', ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(6896, "Installing Update...")), undefined, false))
                );
            case "ready" :
                return (
                     (new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.Action('update.restart', ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(6897, "Restart to &&Update")), undefined, true, () => this.updateService.quitAndInstall()))
                );
            default:
                return null;
        }
    }
    get currentMenubarVisibility() {
        return (0,_platform_window_common_window_js__WEBPACK_IMPORTED_MODULE_5__.getMenuBarVisibility)(this.configurationService);
    }
    get currentDisableMenuBarAltFocus() {
        const settingValue = this.configurationService.getValue('window.customMenuBarAltFocus');
        let disableMenuBarAltBehavior = false;
        if (typeof settingValue === 'boolean') {
            disableMenuBarAltBehavior = !settingValue;
        }
        return disableMenuBarAltBehavior;
    }
    insertActionsBefore(nextAction, target) {
        switch (nextAction.id) {
            case _actions_windowActions_js__WEBPACK_IMPORTED_MODULE_34__.OpenRecentAction.ID:
                target.push(...this.getOpenRecentActions());
                break;
            case 'workbench.action.showAboutDialog':
                if (!_base_common_platform_js__WEBPACK_IMPORTED_MODULE_10__.isMacintosh && !_base_common_platform_js__WEBPACK_IMPORTED_MODULE_10__.isWeb) {
                    const updateAction = this.getUpdateAction();
                    if (updateAction) {
                        updateAction.label = (0,_base_common_labels_js__WEBPACK_IMPORTED_MODULE_26__.mnemonicMenuLabel)(updateAction.label);
                        target.push(updateAction);
                        target.push(( (new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.Separator())));
                    }
                }
                break;
        }
    }
    get currentEnableMenuBarMnemonics() {
        let enableMenuBarMnemonics = this.configurationService.getValue('window.enableMenuBarMnemonics');
        if (typeof enableMenuBarMnemonics !== 'boolean') {
            enableMenuBarMnemonics = true;
        }
        return enableMenuBarMnemonics && (!_base_common_platform_js__WEBPACK_IMPORTED_MODULE_10__.isWeb || (0,_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_28__.isFullscreen)(_base_browser_window_js__WEBPACK_IMPORTED_MODULE_38__.mainWindow));
    }
    get currentCompactMenuMode() {
        if (this.currentMenubarVisibility !== 'compact') {
            return undefined;
        }
        const currentSidebarLocation = this.configurationService.getValue('workbench.sideBar.location');
        const horizontalDirection = currentSidebarLocation === 'right' ? _base_browser_ui_menu_menu_js__WEBPACK_IMPORTED_MODULE_25__.HorizontalDirection.Left : _base_browser_ui_menu_menu_js__WEBPACK_IMPORTED_MODULE_25__.HorizontalDirection.Right;
        const activityBarLocation = this.configurationService.getValue('workbench.activityBar.location');
        const verticalDirection = activityBarLocation === "bottom"  ? _base_browser_ui_menu_menu_js__WEBPACK_IMPORTED_MODULE_25__.VerticalDirection.Above : _base_browser_ui_menu_menu_js__WEBPACK_IMPORTED_MODULE_25__.VerticalDirection.Below;
        return { horizontal: horizontalDirection, vertical: verticalDirection };
    }
    onDidVisibilityChange(visible) {
        this.visible = visible;
        this.onDidChangeRecentlyOpened();
        this._onVisibilityChange.fire(visible);
    }
    toActionsArray(menu) {
        const result = [];
        (0,_platform_actions_browser_menuEntryActionViewItem_js__WEBPACK_IMPORTED_MODULE_36__.createAndFillInContextMenuActions)(menu, { shouldForwardArgs: true }, result);
        return result;
    }
    setupCustomMenubar(firstTime) {
        if (!this.container) {
            return;
        }
        if (firstTime) {
            if (this.menubar) {
                this.reinstallDisposables.clear();
            }
            this.menubar = this.reinstallDisposables.add(( (new _base_browser_ui_menu_menubar_js__WEBPACK_IMPORTED_MODULE_24__.MenuBar(this.container, this.getMenuBarOptions(), _platform_theme_browser_defaultStyles_js__WEBPACK_IMPORTED_MODULE_37__.defaultMenuStyles))));
            this.accessibilityService.alwaysUnderlineAccessKeys().then(val => {
                this.alwaysOnMnemonics = val;
                this.menubar?.update(this.getMenuBarOptions());
            });
            this.reinstallDisposables.add(this.menubar.onFocusStateChange(focused => {
                this._onFocusStateChange.fire(focused);
                if (!focused) {
                    if (this.pendingFirstTimeUpdate) {
                        this.setupCustomMenubar(true);
                        this.pendingFirstTimeUpdate = false;
                    }
                    else {
                        this.updateMenubar();
                    }
                    this.focusInsideMenubar = false;
                }
            }));
            this.reinstallDisposables.add(this.menubar.onVisibilityChange(e => this.onDidVisibilityChange(e)));
            this.reinstallDisposables.add((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.addDisposableListener)(this.container, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.EventType.FOCUS_IN, () => {
                this.focusInsideMenubar = true;
            }));
            this.reinstallDisposables.add((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.addDisposableListener)(this.container, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.EventType.FOCUS_OUT, () => {
                this.focusInsideMenubar = false;
            }));
            if (this.menubar.isVisible) {
                this.onDidVisibilityChange(true);
            }
        }
        else {
            this.menubar?.update(this.getMenuBarOptions());
        }
        const updateActions = (menuActions, target, topLevelTitle) => {
            target.splice(0);
            for (const menuItem of menuActions) {
                this.insertActionsBefore(menuItem, target);
                if (menuItem instanceof _base_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.Separator) {
                    target.push(menuItem);
                }
                else if (menuItem instanceof _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_3__.SubmenuItemAction || menuItem instanceof _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_3__.MenuItemAction) {
                    let title = typeof menuItem.item.title === 'string'
                        ? menuItem.item.title
                        : menuItem.item.title.mnemonicTitle ?? menuItem.item.title.value;
                    if (menuItem instanceof _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_3__.SubmenuItemAction) {
                        const submenuActions = [];
                        updateActions(menuItem.actions, submenuActions, topLevelTitle);
                        if (submenuActions.length > 0) {
                            target.push(( (new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.SubmenuAction(menuItem.id, (0,_base_common_labels_js__WEBPACK_IMPORTED_MODULE_26__.mnemonicMenuLabel)(title), submenuActions))));
                        }
                    }
                    else {
                        if ((0,_platform_action_common_action_js__WEBPACK_IMPORTED_MODULE_35__.isICommandActionToggleInfo)(menuItem.item.toggled)) {
                            title = menuItem.item.toggled.mnemonicTitle ?? menuItem.item.toggled.title ?? title;
                        }
                        const newAction = ( (new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.Action(
                            menuItem.id,
                            (0,_base_common_labels_js__WEBPACK_IMPORTED_MODULE_26__.mnemonicMenuLabel)(title),
                            menuItem.class,
                            menuItem.enabled,
                            () => this.commandService.executeCommand(menuItem.id)
                        )));
                        newAction.tooltip = menuItem.tooltip;
                        newAction.checked = menuItem.checked;
                        target.push(newAction);
                    }
                }
            }
            if (topLevelTitle === 'File' && this.currentCompactMenuMode === undefined) {
                const webActions = this.getWebNavigationActions();
                if (webActions.length) {
                    target.push(...webActions);
                }
            }
        };
        for (const title of ( (Object.keys(this.topLevelTitles)))) {
            const menu = this.menus[title];
            if (firstTime && menu) {
                this.reinstallDisposables.add(menu.onDidChange(() => {
                    if (!this.focusInsideMenubar) {
                        const actions = [];
                        updateActions(this.toActionsArray(menu), actions, title);
                        this.menubar?.updateMenu({ actions, label: (0,_base_common_labels_js__WEBPACK_IMPORTED_MODULE_26__.mnemonicMenuLabel)(this.topLevelTitles[title]) });
                    }
                }));
                if (menu === this.menus.File) {
                    this.reinstallDisposables.add(this.webNavigationMenu.onDidChange(() => {
                        if (!this.focusInsideMenubar) {
                            const actions = [];
                            updateActions(this.toActionsArray(menu), actions, title);
                            this.menubar?.updateMenu({ actions, label: (0,_base_common_labels_js__WEBPACK_IMPORTED_MODULE_26__.mnemonicMenuLabel)(this.topLevelTitles[title]) });
                        }
                    }));
                }
            }
            const actions = [];
            if (menu) {
                updateActions(this.toActionsArray(menu), actions, title);
            }
            if (this.menubar) {
                if (!firstTime) {
                    this.menubar.updateMenu({ actions, label: (0,_base_common_labels_js__WEBPACK_IMPORTED_MODULE_26__.mnemonicMenuLabel)(this.topLevelTitles[title]) });
                }
                else {
                    this.menubar.push({ actions, label: (0,_base_common_labels_js__WEBPACK_IMPORTED_MODULE_26__.mnemonicMenuLabel)(this.topLevelTitles[title]) });
                }
            }
        }
    }
    getWebNavigationActions() {
        if (!_base_common_platform_js__WEBPACK_IMPORTED_MODULE_10__.isWeb) {
            return [];
        }
        const webNavigationActions = [];
        for (const groups of this.webNavigationMenu.getActions()) {
            const [, actions] = groups;
            for (const action of actions) {
                if (action instanceof _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_3__.MenuItemAction) {
                    const title = typeof action.item.title === 'string'
                        ? action.item.title
                        : action.item.title.mnemonicTitle ?? action.item.title.value;
                    webNavigationActions.push(( (new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.Action(
                        action.id,
                        (0,_base_common_labels_js__WEBPACK_IMPORTED_MODULE_26__.mnemonicMenuLabel)(title),
                        action.class,
                        action.enabled,
                        async (event) => {
                            this.commandService.executeCommand(action.id, event);
                        }
                    ))));
                }
            }
            webNavigationActions.push(( (new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.Separator())));
        }
        if (webNavigationActions.length) {
            webNavigationActions.pop();
        }
        return webNavigationActions;
    }
    getMenuBarOptions() {
        return {
            enableMnemonics: this.currentEnableMenuBarMnemonics,
            disableAltFocus: this.currentDisableMenuBarAltFocus,
            visibility: this.currentMenubarVisibility,
            actionRunner: this.actionRunner,
            getKeybinding: (action) => this.keybindingService.lookupKeybinding(action.id),
            alwaysOnMnemonics: this.alwaysOnMnemonics,
            compactMode: this.currentCompactMenuMode,
            getCompactMenuActions: () => {
                if (!_base_common_platform_js__WEBPACK_IMPORTED_MODULE_10__.isWeb) {
                    return [];
                }
                return this.getWebNavigationActions();
            }
        };
    }
    onDidChangeWindowFocus(hasFocus) {
        if (!this.visible) {
            return;
        }
        super.onDidChangeWindowFocus(hasFocus);
        if (this.container) {
            if (hasFocus) {
                this.container.classList.remove('inactive');
            }
            else {
                this.container.classList.add('inactive');
                this.menubar?.blur();
            }
        }
    }
    onUpdateStateChange() {
        if (!this.visible) {
            return;
        }
        super.onUpdateStateChange();
    }
    onDidChangeRecentlyOpened() {
        if (!this.visible) {
            return;
        }
        super.onDidChangeRecentlyOpened();
    }
    onUpdateKeybindings() {
        if (!this.visible) {
            return;
        }
        super.onUpdateKeybindings();
    }
    registerListeners() {
        super.registerListeners();
        this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.addDisposableListener)(_base_browser_window_js__WEBPACK_IMPORTED_MODULE_38__.mainWindow, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.EventType.RESIZE, () => {
            if (this.menubar && !(_base_common_platform_js__WEBPACK_IMPORTED_MODULE_10__.isIOS && _base_browser_canIUse_js__WEBPACK_IMPORTED_MODULE_30__.BrowserFeatures.pointerEvents)) {
                this.menubar.blur();
            }
        }));
        if (_base_common_platform_js__WEBPACK_IMPORTED_MODULE_10__.isWeb) {
            this._register((0,_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_28__.onDidChangeFullscreen)(windowId => {
                if (windowId === _base_browser_window_js__WEBPACK_IMPORTED_MODULE_38__.mainWindow.vscodeWindowId) {
                    this.updateMenubar();
                }
            }));
            this._register(this.webNavigationMenu.onDidChange(() => this.updateMenubar()));
            this._register(enableFocusMenuBarAction().event(() => this.menubar?.toggleFocus()));
        }
    }
    get onVisibilityChange() {
        return this._onVisibilityChange.event;
    }
    get onFocusStateChange() {
        return this._onFocusStateChange.event;
    }
    getMenubarItemsDimensions() {
        if (this.menubar) {
            return (
                 (new _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.Dimension(this.menubar.getWidth(), this.menubar.getHeight()))
            );
        }
        return (
             (new _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.Dimension(0, 0))
        );
    }
    create(parent) {
        this.container = parent;
        if (this.container) {
            this.doUpdateMenubar(true);
        }
        return this.container;
    }
    layout(dimension) {
        this.menubar?.update(this.getMenuBarOptions());
    }
    toggleFocus() {
        this.menubar?.toggleFocus();
    }
};
CustomMenubarControl = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, _platform_actions_common_actions_service_js__WEBPACK_IMPORTED_MODULE_4__.IMenuService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _platform_workspaces_common_workspaces_service_js__WEBPACK_IMPORTED_MODULE_15__.IWorkspacesService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_6__.IContextKeyService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _platform_keybinding_common_keybinding_service_js__WEBPACK_IMPORTED_MODULE_9__.IKeybindingService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_11__.IConfigurationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _platform_label_common_label_service_js__WEBPACK_IMPORTED_MODULE_17__.ILabelService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _platform_update_common_update_service_js__WEBPACK_IMPORTED_MODULE_18__.IUpdateService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, _platform_storage_common_storage_service_js__WEBPACK_IMPORTED_MODULE_19__.IStorageService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, _platform_notification_common_notification_service_js__WEBPACK_IMPORTED_MODULE_21__.INotificationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, _services_preferences_common_preferences_service_js__WEBPACK_IMPORTED_MODULE_22__.IPreferencesService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, _services_environment_common_environmentService_service_js__WEBPACK_IMPORTED_MODULE_23__.IWorkbenchEnvironmentService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(11, _platform_accessibility_common_accessibility_service_js__WEBPACK_IMPORTED_MODULE_27__.IAccessibilityService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(12, _platform_telemetry_common_telemetry_service_js__WEBPACK_IMPORTED_MODULE_33__.ITelemetryService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(13, _services_host_browser_host_service_js__WEBPACK_IMPORTED_MODULE_29__.IHostService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(14, _platform_commands_common_commands_service_js__WEBPACK_IMPORTED_MODULE_32__.ICommandService)))
], CustomMenubarControl)));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/views/checkbox.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/views/checkbox.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CheckboxStateHandler: () => (/* binding */ CheckboxStateHandler),
/* harmony export */   TreeItemCheckbox: () => (/* binding */ TreeItemCheckbox)
/* harmony export */ });
/* harmony import */ var _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../base/browser/dom.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var _base_browser_ui_toggle_toggle_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../base/browser/ui/toggle/toggle.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/toggle/toggle.js");
/* harmony import */ var _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../base/common/codicons.js */ "./node_modules/vscode/vscode/src/vs/base/common/codicons.js");
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../base/common/event.js */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _platform_theme_browser_defaultStyles_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../platform/theme/browser/defaultStyles.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/browser/defaultStyles.js");







class CheckboxStateHandler extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__.Disposable {
    constructor() {
        super(...arguments);
        this._onDidChangeCheckboxState = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__.Emitter())));
        this.onDidChangeCheckboxState = this._onDidChangeCheckboxState.event;
    }
    setCheckboxState(node) {
        this._onDidChangeCheckboxState.fire([node]);
    }
}
class TreeItemCheckbox extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__.Disposable {
    static { this.checkboxClass = 'custom-view-tree-node-item-checkbox'; }
    constructor(container, checkboxStateHandler, hoverDelegate, hoverService) {
        super();
        this.checkboxStateHandler = checkboxStateHandler;
        this.hoverDelegate = hoverDelegate;
        this.hoverService = hoverService;
        this.isDisposed = false;
        this._onDidChangeState = ( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__.Emitter()));
        this.onDidChangeState = this._onDidChangeState.event;
        this.checkboxContainer = container;
    }
    render(node) {
        if (node.checkbox) {
            if (!this.toggle) {
                this.createCheckbox(node);
            }
            else {
                this.toggle.checked = node.checkbox.isChecked;
                this.toggle.setIcon(this.toggle.checked ? _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_2__.Codicon.check : undefined);
            }
        }
    }
    createCheckbox(node) {
        if (node.checkbox) {
            this.toggle = ( (new _base_browser_ui_toggle_toggle_js__WEBPACK_IMPORTED_MODULE_1__.Toggle({
                isChecked: node.checkbox.isChecked,
                title: '',
                icon: node.checkbox.isChecked ? _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_2__.Codicon.check : undefined,
                ..._platform_theme_browser_defaultStyles_js__WEBPACK_IMPORTED_MODULE_6__.defaultToggleStyles
            })));
            this.setHover(node.checkbox);
            this.setAccessibilityInformation(node.checkbox);
            this.toggle.domNode.classList.add(TreeItemCheckbox.checkboxClass);
            this.toggle.domNode.tabIndex = 1;
            (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_0__.append)(this.checkboxContainer, this.toggle.domNode);
            this.registerListener(node);
        }
    }
    registerListener(node) {
        if (this.toggle) {
            this._register({ dispose: () => this.removeCheckbox() });
            this._register(this.toggle);
            this._register(this.toggle.onChange(() => {
                this.setCheckbox(node);
            }));
        }
    }
    setHover(checkbox) {
        if (this.toggle) {
            if (!this.hover) {
                this.hover = this._register(this.hoverService.setupManagedHover(this.hoverDelegate, this.toggle.domNode, this.checkboxHoverContent(checkbox)));
            }
            else {
                this.hover.update(checkbox.tooltip);
            }
        }
    }
    setCheckbox(node) {
        if (this.toggle && node.checkbox) {
            node.checkbox.isChecked = this.toggle.checked;
            this.toggle.setIcon(this.toggle.checked ? _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_2__.Codicon.check : undefined);
            this.setHover(node.checkbox);
            this.setAccessibilityInformation(node.checkbox);
            this.checkboxStateHandler.setCheckboxState(node);
        }
    }
    checkboxHoverContent(checkbox) {
        return checkbox.tooltip ? checkbox.tooltip :
            checkbox.isChecked ? ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_5__.localize)(11363, 'Checked')) : ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_5__.localize)(11364, 'Unchecked'));
    }
    setAccessibilityInformation(checkbox) {
        if (this.toggle && checkbox.accessibilityInformation) {
            this.toggle.domNode.ariaLabel = checkbox.accessibilityInformation.label;
            if (checkbox.accessibilityInformation.role) {
                this.toggle.domNode.role = checkbox.accessibilityInformation.role;
            }
        }
    }
    removeCheckbox() {
        const children = this.checkboxContainer.children;
        for (const child of children) {
            child.remove();
        }
    }
}



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/views/media/views.css.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/views/media/views.css.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ css),
/* harmony export */   "default": () => (/* binding */ css)
/* harmony export */ });
/* harmony import */ var _external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../external/rollup-plugin-styles/dist/runtime/inject-css.js */ "./node_modules/vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js");

var css = ".file-icon-themable-tree .align-icon-with-twisty .monaco-tl-twistie:not(.force-twistie):not(.collapsible),.file-icon-themable-tree .monaco-tl-twistie.force-no-twistie,.file-icon-themable-tree.align-icons-and-twisties .monaco-tl-twistie:not(.force-twistie):not(.collapsible),.file-icon-themable-tree.hide-arrows .monaco-tl-twistie:not(.force-twistie){background-image:none!important;padding-right:0!important;visibility:hidden;width:0!important}.file-icon-themable-tree .monaco-list-row .content .monaco-highlighted-label .highlight,.pane-body .monaco-tl-contents .monaco-highlighted-label .highlight{background-color:var(--vscode-list-filterMatchBackground);color:unset!important;outline:1px dotted var(--vscode-list-filterMatchBorder);outline-offset:-1px}.monaco-workbench .tree-explorer-viewlet-tree-view{height:100%}.monaco-workbench .tree-explorer-viewlet-tree-view .message{display:flex;padding:4px 12px 4px 18px;user-select:text;-webkit-user-select:text}.monaco-workbench .tree-explorer-viewlet-tree-view .message p{margin-bottom:0;margin-top:0;padding-bottom:4px}.monaco-workbench .tree-explorer-viewlet-tree-view .message ul{padding-left:24px}.monaco-workbench .tree-explorer-viewlet-tree-view .message p>a{color:var(--vscode-textLink-foreground)}.monaco-workbench .tree-explorer-viewlet-tree-view .message .rendered-message{width:100%}.monaco-workbench .tree-explorer-viewlet-tree-view .message .button-container{margin:auto;max-width:300px;width:100%}.monaco-workbench .tree-explorer-viewlet-tree-view .message .button-container:not(:last-child){padding-bottom:8px}.monaco-workbench .tree-explorer-viewlet-tree-view .message.hide{display:none}.monaco-workbench .tree-explorer-viewlet-tree-view .customview-tree{height:100%}.monaco-workbench .tree-explorer-viewlet-tree-view .customview-tree.hide{display:none}.monaco-workbench .pane>.pane-body>.welcome-view{box-sizing:border-box;display:flex;flex-direction:column;height:100%;width:100%}.monaco-workbench .pane>.pane-body.welcome>:not(.welcome-view),.monaco-workbench .pane>.pane-body:not(.welcome)>.welcome-view{display:none}.monaco-workbench .pane>.pane-body .welcome-view-content{align-items:center;box-sizing:border-box;display:flex;flex-direction:column;padding:0 20px 1em}.monaco-workbench .pane>.pane-body .welcome-view-content>.button-container{max-width:300px;width:100%}.monaco-workbench:not(.reduce-motion) .pane>.pane-body .welcome-view-content>.button-container{transition:max-width .2s ease-out}.monaco-workbench .pane>.pane-body .welcome-view-content.wide>.button-container{max-width:100%}.monaco-workbench .pane>.pane-body .welcome-view-content>.button-container>.monaco-button{max-width:300px}.monaco-workbench .pane>.pane-body .welcome-view-content>p{width:100%}.monaco-workbench .pane>.pane-body .welcome-view-content>*{margin-block-end:0;margin-block-start:1em;margin-inline-end:0;margin-inline-start:0}.customview-tree .monaco-list-row .monaco-tl-contents.align-icon-with-twisty:before{display:none}.customview-tree .monaco-list-row .monaco-tl-contents:not(.align-icon-with-twisty):before{display:inline-block}.customview-tree .monaco-list .monaco-list-row{padding-left:0;padding-right:12px}.customview-tree .monaco-list .monaco-list-row .custom-view-tree-node-item{display:flex;flex:1;flex-wrap:nowrap;height:22px;line-height:22px;overflow:hidden;padding-left:3px;text-overflow:ellipsis}.customview-tree .monaco-list .monaco-list-row.selected .custom-view-tree-node-item .custom-view-tree-node-item-checkbox{background-color:var(--vscode-checkbox-selectBackground);border:1px solid var(--vscode-checkbox-selectBorder)}.customview-tree .monaco-list .monaco-list-row .custom-view-tree-node-item .custom-view-tree-node-item-checkbox{background-color:var(--vscode-checkbox-background);border:1px solid var(--vscode-checkbox-border);height:16px;margin:3px 6px 3px 0;opacity:1;padding:0;width:16px}.customview-tree .monaco-list .monaco-list-row .custom-view-tree-node-item .custom-view-tree-node-item-checkbox.codicon{font-size:13px;line-height:15px}.customview-tree .monaco-list .monaco-list-row .custom-view-tree-node-item .monaco-inputbox{flex:1;line-height:normal}.customview-tree .monaco-list .monaco-list-row .custom-view-tree-node-item .custom-view-tree-node-item-resourceLabel{flex:1;overflow:hidden;text-overflow:ellipsis}.customview-tree .monaco-list .monaco-list-row .custom-view-tree-node-item .monaco-icon-label-container:after{content:\"\";display:block}.customview-tree .monaco-list .monaco-list-row .custom-view-tree-node-item>.custom-view-tree-node-item-resourceLabel>.custom-view-tree-node-item-icon,.timeline-tree-view .monaco-list .monaco-list-row .custom-view-tree-node-item>.custom-view-tree-node-item-icon{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;align-items:center;background-position:0;background-repeat:no-repeat;background-size:16px;display:flex;height:22px;justify-content:center;padding-right:6px;width:16px}.customview-tree .monaco-list .monaco-list-row .custom-view-tree-node-item>.custom-view-tree-node-item-resourceLabel>.custom-view-tree-node-item-icon.disabled{opacity:.6}.customview-tree .monaco-list .monaco-list-row .custom-view-tree-node-item>.custom-view-tree-node-item-resourceLabel>.custom-view-tree-node-item-icon.codicon.codicon-modifier-spin{margin-left:-6px;padding-left:6px}.customview-tree .monaco-list .monaco-list-row.selected .custom-view-tree-node-item>.custom-view-tree-node-item-resourceLabel>.custom-view-tree-node-item-icon.codicon{color:currentColor!important}.customview-tree .monaco-list .monaco-list-row .custom-view-tree-node-item .custom-view-tree-node-item-resourceLabel .monaco-icon-label-container>.monaco-icon-name-container{flex:1}.customview-tree .monaco-list .monaco-list-row .custom-view-tree-node-item .custom-view-tree-node-item-resourceLabel:after{margin-right:4px;padding-right:0}.customview-tree .monaco-list .monaco-list-row .custom-view-tree-node-item .actions{display:none}.customview-tree .monaco-list .monaco-list-row .custom-view-tree-node-item .actions .action-label{padding:2px}.customview-tree .monaco-list .monaco-list-row.focused .custom-view-tree-node-item .actions,.customview-tree .monaco-list .monaco-list-row.selected .custom-view-tree-node-item .actions,.customview-tree .monaco-list .monaco-list-row:hover .custom-view-tree-node-item .actions{display:block}.monaco-workbench .auxiliarybar.pane-composite-part>.title.has-composite-bar>.title-actions .monaco-action-bar .action-item.viewpane-filter-container{max-width:inherit}.viewpane-filter-container{cursor:default;display:flex}.viewpane-filter-container.grow{flex:1}.viewpane-filter-container>.viewpane-filter{align-items:center;display:flex;flex:1;position:relative}.viewpane-filter-container>.viewpane-filter .monaco-inputbox{flex:1;font-size:12px;height:24px}.pane-header .viewpane-filter-container>.viewpane-filter .monaco-inputbox .monaco-inputbox{height:20px;line-height:18px}.monaco-workbench.vs .viewpane-filter-container>.viewpane-filter .monaco-inputbox{height:25px}.viewpane-filter-container>.viewpane-filter>.viewpane-filter-controls{align-items:center;bottom:0;display:flex;position:absolute;right:0;top:0}.viewpane-filter-container>.viewpane-filter>.viewpane-filter-controls>.viewpane-filter-badge{border-radius:2px;margin:4px 2px 4px 0;padding:0 8px}.viewpane-filter.small>.viewpane-filter-controls>.viewpane-filter-badge,.viewpane-filter>.viewpane-filter-controls>.viewpane-filter-badge.hidden{display:none}.panel>.title .monaco-action-bar .action-item.viewpane-filter-container{margin-right:10px;max-width:400px;min-width:150px}.pane-body .viewpane-filter-container:not(:empty){flex:1;height:auto;margin:10px 20px}.pane-body .viewpane-filter-container>.viewpane-filter>.viewpane-filter-controls .monaco-action-bar .action-item{margin-right:4px}.viewpane-filter>.viewpane-filter-controls .monaco-action-bar .action-label.codicon.codicon-filter.checked{background-color:var(--vscode-inputOption-activeBackground);border-color:var(--vscode-inputOption-activeBorder);color:var(--vscode-inputOption-activeForeground)}";
(0,_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__["default"])(css,{});



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/views/treeView.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/views/treeView.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CustomTreeView: () => (/* binding */ CustomTreeView),
/* harmony export */   CustomTreeViewDragAndDrop: () => (/* binding */ CustomTreeViewDragAndDrop),
/* harmony export */   RawCustomTreeViewContextKey: () => (/* binding */ RawCustomTreeViewContextKey),
/* harmony export */   TreeView: () => (/* binding */ TreeView),
/* harmony export */   TreeViewPane: () => (/* binding */ TreeViewPane)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _base_browser_dnd_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../base/browser/dnd.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dnd.js");
/* harmony import */ var _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../base/browser/dom.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var _base_browser_markdownRenderer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../base/browser/markdownRenderer.js */ "./node_modules/vscode/vscode/src/vs/base/browser/markdownRenderer.js");
/* harmony import */ var _base_browser_ui_actionbar_actionbar_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../base/browser/ui/actionbar/actionbar.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/actionbar/actionbar.js");
/* harmony import */ var _base_browser_ui_actionbar_actionViewItems_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../base/browser/ui/actionbar/actionViewItems.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/actionbar/actionViewItems.js");
/* harmony import */ var _base_browser_ui_tree_treeDefaults_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../base/browser/ui/tree/treeDefaults.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/tree/treeDefaults.js");
/* harmony import */ var _base_common_actions_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../base/common/actions.js */ "./node_modules/vscode/vscode/src/vs/base/common/actions.js");
/* harmony import */ var _base_common_async_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../base/common/async.js */ "./node_modules/vscode/vscode/src/vs/base/common/async.js");
/* harmony import */ var _base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../base/common/cancellation.js */ "./node_modules/vscode/vscode/src/vs/base/common/cancellation.js");
/* harmony import */ var _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../base/common/codicons.js */ "./node_modules/vscode/vscode/src/vs/base/common/codicons.js");
/* harmony import */ var _base_common_errors_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../base/common/errors.js */ "./node_modules/vscode/vscode/src/vs/base/common/errors.js");
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../base/common/event.js */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var _base_common_filters_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../base/common/filters.js */ "./node_modules/vscode/vscode/src/vs/base/common/filters.js");
/* harmony import */ var _base_common_htmlContent_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../base/common/htmlContent.js */ "./node_modules/vscode/vscode/src/vs/base/common/htmlContent.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _base_common_mime_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../base/common/mime.js */ "./node_modules/vscode/vscode/src/vs/base/common/mime.js");
/* harmony import */ var _base_common_network_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../base/common/network.js */ "./node_modules/vscode/vscode/src/vs/base/common/network.js");
/* harmony import */ var _base_common_resources_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../base/common/resources.js */ "./node_modules/vscode/vscode/src/vs/base/common/resources.js");
/* harmony import */ var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../base/common/strings.js */ "./node_modules/vscode/vscode/src/vs/base/common/strings.js");
/* harmony import */ var _base_common_types_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../base/common/types.js */ "./node_modules/vscode/vscode/src/vs/base/common/types.js");
/* harmony import */ var _base_common_uri_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../base/common/uri.js */ "./node_modules/vscode/vscode/src/vs/base/common/uri.js");
/* harmony import */ var _base_common_uuid_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../base/common/uuid.js */ "./node_modules/vscode/vscode/src/vs/base/common/uuid.js");
/* harmony import */ var _media_views_css_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./media/views.css.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/views/media/views.css.js");
/* harmony import */ var _base_common_dataTransfer_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../base/common/dataTransfer.js */ "./node_modules/vscode/vscode/src/vs/base/common/dataTransfer.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _platform_actions_browser_menuEntryActionViewItem_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../../platform/actions/browser/menuEntryActionViewItem.js */ "./node_modules/vscode/vscode/src/vs/platform/actions/browser/menuEntryActionViewItem.js");
/* harmony import */ var _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../../platform/actions/common/actions.js */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var _platform_actions_common_actions_service_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../../platform/actions/common/actions.service.js */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.service.js");
/* harmony import */ var _platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../../platform/commands/common/commands.js */ "./node_modules/vscode/vscode/src/vs/platform/commands/common/commands.js");
/* harmony import */ var _platform_commands_common_commands_service_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../../platform/commands/common/commands.service.js */ "./node_modules/vscode/vscode/src/vs/platform/commands/common/commands.service.js");
/* harmony import */ var _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../../../platform/configuration/common/configuration.service.js */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../../../platform/contextkey/common/contextkey.js */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.js");
/* harmony import */ var _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../../../platform/contextkey/common/contextkey.service.js */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var _platform_contextview_browser_contextView_service_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../../../platform/contextview/browser/contextView.service.js */ "./node_modules/vscode/vscode/src/vs/platform/contextview/browser/contextView.service.js");
/* harmony import */ var _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../../../platform/files/common/files.js */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.js");
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../../../platform/instantiation/common/instantiation.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var _platform_keybinding_common_keybinding_service_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../../../platform/keybinding/common/keybinding.service.js */ "./node_modules/vscode/vscode/src/vs/platform/keybinding/common/keybinding.service.js");
/* harmony import */ var _platform_label_common_label_service_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../../../platform/label/common/label.service.js */ "./node_modules/vscode/vscode/src/vs/platform/label/common/label.service.js");
/* harmony import */ var _platform_list_browser_listService_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../../../../platform/list/browser/listService.js */ "./node_modules/vscode/vscode/src/vs/platform/list/browser/listService.js");
/* harmony import */ var _platform_log_common_log_service_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../../../../platform/log/common/log.service.js */ "./node_modules/vscode/vscode/src/vs/platform/log/common/log.service.js");
/* harmony import */ var _platform_notification_common_notification_service_js__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../../../../platform/notification/common/notification.service.js */ "./node_modules/vscode/vscode/src/vs/platform/notification/common/notification.service.js");
/* harmony import */ var _platform_opener_common_opener_service_js__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../../../../platform/opener/common/opener.service.js */ "./node_modules/vscode/vscode/src/vs/platform/opener/common/opener.service.js");
/* harmony import */ var _platform_progress_common_progress_service_js__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../../../../platform/progress/common/progress.service.js */ "./node_modules/vscode/vscode/src/vs/platform/progress/common/progress.service.js");
/* harmony import */ var _platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../../../../platform/registry/common/platform.js */ "./node_modules/vscode/vscode/src/vs/platform/registry/common/platform.js");
/* harmony import */ var _platform_telemetry_common_telemetry_service_js__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../../../../platform/telemetry/common/telemetry.service.js */ "./node_modules/vscode/vscode/src/vs/platform/telemetry/common/telemetry.service.js");
/* harmony import */ var _platform_theme_common_theme_js__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ../../../../platform/theme/common/theme.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/theme.js");
/* harmony import */ var _platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ../../../../platform/theme/common/themeService.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.js");
/* harmony import */ var _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ../../../../platform/theme/common/themeService.service.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.service.js");
/* harmony import */ var _base_common_themables_js__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ../../../../base/common/themables.js */ "./node_modules/vscode/vscode/src/vs/base/common/themables.js");
/* harmony import */ var _dnd_js__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ../../dnd.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/dnd.js");
/* harmony import */ var _labels_js__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ../../labels.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/labels.js");
/* harmony import */ var _editor_editorCommands_js__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ../editor/editorCommands.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorCommands.js");
/* harmony import */ var _viewPane_js__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ./viewPane.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/views/viewPane.js");
/* harmony import */ var _common_views_js__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ../../../common/views.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/views.js");
/* harmony import */ var _common_views_service_js__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ../../../common/views.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/views.service.js");
/* harmony import */ var _services_activity_common_activity_js__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ../../../services/activity/common/activity.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/activity/common/activity.js");
/* harmony import */ var _services_activity_common_activity_service_js__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ../../../services/activity/common/activity.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/activity/common/activity.service.js");
/* harmony import */ var _services_extensions_common_extensions_service_js__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ../../../services/extensions/common/extensions.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/extensions/common/extensions.service.js");
/* harmony import */ var _platform_hover_browser_hover_js__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ../../../../platform/hover/browser/hover.js */ "./node_modules/vscode/vscode/src/vs/platform/hover/browser/hover.js");
/* harmony import */ var _platform_hover_browser_hover_service_js__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ../../../../platform/hover/browser/hover.service.js */ "./node_modules/vscode/vscode/src/vs/platform/hover/browser/hover.service.js");
/* harmony import */ var _platform_dnd_browser_dnd_js__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ../../../../platform/dnd/browser/dnd.js */ "./node_modules/vscode/vscode/src/vs/platform/dnd/browser/dnd.js");
/* harmony import */ var _editor_browser_dnd_js__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ../../../../editor/browser/dnd.js */ "./node_modules/vscode/vscode/src/vs/editor/browser/dnd.js");
/* harmony import */ var _checkbox_js__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ./checkbox.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/views/checkbox.js");
/* harmony import */ var _base_common_platform_js__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ../../../../base/common/platform.js */ "./node_modules/vscode/vscode/src/vs/base/common/platform.js");
/* harmony import */ var _platform_telemetry_common_telemetryUtils_js__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! ../../../../platform/telemetry/common/telemetryUtils.js */ "./node_modules/vscode/vscode/src/vs/platform/telemetry/common/telemetryUtils.js");
/* harmony import */ var _editor_common_services_treeViewsDndService_js__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! ../../../../editor/common/services/treeViewsDndService.js */ "./node_modules/vscode/vscode/src/vs/editor/common/services/treeViewsDndService.js");
/* harmony import */ var _editor_common_services_treeViewsDnd_js__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! ../../../../editor/common/services/treeViewsDnd.js */ "./node_modules/vscode/vscode/src/vs/editor/common/services/treeViewsDnd.js");
/* harmony import */ var _editor_browser_widget_markdownRenderer_browser_markdownRenderer_js__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! ../../../../editor/browser/widget/markdownRenderer/browser/markdownRenderer.js */ "./node_modules/vscode/vscode/src/vs/editor/browser/widget/markdownRenderer/browser/markdownRenderer.js");
/* harmony import */ var _base_common_linkedText_js__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! ../../../../base/common/linkedText.js */ "./node_modules/vscode/vscode/src/vs/base/common/linkedText.js");
/* harmony import */ var _base_browser_ui_button_button_js__WEBPACK_IMPORTED_MODULE_70__ = __webpack_require__(/*! ../../../../base/browser/ui/button/button.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/button/button.js");
/* harmony import */ var _platform_theme_browser_defaultStyles_js__WEBPACK_IMPORTED_MODULE_71__ = __webpack_require__(/*! ../../../../platform/theme/browser/defaultStyles.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/browser/defaultStyles.js");
/* harmony import */ var _services_accessibility_common_accessibleViewInformationService_service_js__WEBPACK_IMPORTED_MODULE_72__ = __webpack_require__(/*! ../../../services/accessibility/common/accessibleViewInformationService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/accessibility/common/accessibleViewInformationService.service.js");









































































var TreeRenderer_1;
let TreeViewPane = class TreeViewPane extends _viewPane_js__WEBPACK_IMPORTED_MODULE_53__.ViewPane {
    constructor(options, keybindingService, contextMenuService, configurationService, contextKeyService, viewDescriptorService, instantiationService, openerService, themeService, telemetryService, notificationService, hoverService, accessibleViewService) {
        super({ ...options, titleMenuId: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_27__.MenuId.ViewTitle, donotForwardArgs: false }, keybindingService, contextMenuService, configurationService, contextKeyService, viewDescriptorService, instantiationService, openerService, themeService, telemetryService, hoverService, accessibleViewService);
        const { treeView } = ( (_platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_44__.Registry.as(_common_views_js__WEBPACK_IMPORTED_MODULE_54__.Extensions.ViewsRegistry))).getView(options.id);
        this.treeView = treeView;
        this._register(this.treeView.onDidChangeActions(() => this.updateActions(), this));
        this._register(this.treeView.onDidChangeTitle((newTitle) => this.updateTitle(newTitle)));
        this._register(this.treeView.onDidChangeDescription((newDescription) => this.updateTitleDescription(newDescription)));
        this._register((0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_15__.toDisposable)(() => {
            if (this._container && this.treeView.container && (this._container === this.treeView.container)) {
                this.treeView.setVisibility(false);
            }
        }));
        this._register(this.onDidChangeBodyVisibility(() => this.updateTreeVisibility()));
        this._register(this.treeView.onDidChangeWelcomeState(() => this._onDidChangeViewWelcomeState.fire()));
        if (options.title !== this.treeView.title) {
            this.updateTitle(this.treeView.title);
        }
        if (options.titleDescription !== this.treeView.description) {
            this.updateTitleDescription(this.treeView.description);
        }
        this._actionRunner = ( (new MultipleSelectionActionRunner(notificationService, () => this.treeView.getSelection())));
        this.updateTreeVisibility();
    }
    focus() {
        super.focus();
        this.treeView.focus();
    }
    renderBody(container) {
        this._container = container;
        super.renderBody(container);
        this.renderTreeView(container);
    }
    shouldShowWelcome() {
        return ((this.treeView.dataProvider === undefined) || !!this.treeView.dataProvider.isTreeEmpty) && ((this.treeView.message === undefined) || (this.treeView.message === ''));
    }
    layoutBody(height, width) {
        super.layoutBody(height, width);
        this.layoutTreeView(height, width);
    }
    getOptimalWidth() {
        return this.treeView.getOptimalWidth();
    }
    renderTreeView(container) {
        this.treeView.show(container);
    }
    layoutTreeView(height, width) {
        this.treeView.layout(height, width);
    }
    updateTreeVisibility() {
        this.treeView.setVisibility(this.isBodyVisible());
    }
    getActionRunner() {
        return this._actionRunner;
    }
    getActionsContext() {
        return { $treeViewId: this.id, $focusedTreeItem: true, $selectedTreeItems: true };
    }
};
TreeViewPane = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _platform_keybinding_common_keybinding_service_js__WEBPACK_IMPORTED_MODULE_37__.IKeybindingService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_contextview_browser_contextView_service_js__WEBPACK_IMPORTED_MODULE_34__.IContextMenuService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_31__.IConfigurationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_33__.IContextKeyService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _common_views_service_js__WEBPACK_IMPORTED_MODULE_55__.IViewDescriptorService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_36__.IInstantiationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, _platform_opener_common_opener_service_js__WEBPACK_IMPORTED_MODULE_42__.IOpenerService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_48__.IThemeService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, _platform_telemetry_common_telemetry_service_js__WEBPACK_IMPORTED_MODULE_45__.ITelemetryService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, _platform_notification_common_notification_service_js__WEBPACK_IMPORTED_MODULE_41__.INotificationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(11, _platform_hover_browser_hover_service_js__WEBPACK_IMPORTED_MODULE_60__.IHoverService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(12, _services_accessibility_common_accessibleViewInformationService_service_js__WEBPACK_IMPORTED_MODULE_72__.IAccessibleViewInformationService)))
], TreeViewPane)));
class Root {
    constructor() {
        this.label = { label: 'root' };
        this.handle = '0';
        this.parentHandle = undefined;
        this.collapsibleState = _common_views_js__WEBPACK_IMPORTED_MODULE_54__.TreeItemCollapsibleState.Expanded;
        this.children = undefined;
    }
}
function commandPreconditions(commandId) {
    const command = _platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_29__.CommandsRegistry.getCommand(commandId);
    if (command) {
        const commandAction = _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_27__.MenuRegistry.getCommand(command.id);
        return commandAction && commandAction.precondition;
    }
    return undefined;
}
function isTreeCommandEnabled(treeCommand, contextKeyService) {
    const commandId = treeCommand.originalId ? treeCommand.originalId : treeCommand.id;
    const precondition = commandPreconditions(commandId);
    if (precondition) {
        return contextKeyService.contextMatchesRules(precondition);
    }
    return true;
}
function isRenderedMessageValue(messageValue) {
    return !!messageValue && typeof messageValue !== 'string' && 'element' in messageValue && 'disposables' in messageValue;
}
const noDataProviderMessage = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_25__.localize)(9640, "There is no data provider registered that can provide view data."));
const RawCustomTreeViewContextKey = ( (new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_32__.RawContextKey('customTreeView', false)));
class Tree extends _platform_list_browser_listService_js__WEBPACK_IMPORTED_MODULE_39__.WorkbenchAsyncDataTree {
}
let AbstractTreeView = class AbstractTreeView extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_15__.Disposable {
    constructor(id, _title, themeService, instantiationService, commandService, configurationService, progressService, contextMenuService, keybindingService, notificationService, viewDescriptorService, hoverService, contextKeyService, activityService, logService, openerService) {
        super();
        this.id = id;
        this._title = _title;
        this.themeService = themeService;
        this.instantiationService = instantiationService;
        this.commandService = commandService;
        this.configurationService = configurationService;
        this.progressService = progressService;
        this.contextMenuService = contextMenuService;
        this.keybindingService = keybindingService;
        this.notificationService = notificationService;
        this.viewDescriptorService = viewDescriptorService;
        this.hoverService = hoverService;
        this.contextKeyService = contextKeyService;
        this.activityService = activityService;
        this.logService = logService;
        this.openerService = openerService;
        this.isVisible = false;
        this._hasIconForParentNode = false;
        this._hasIconForLeafNode = false;
        this.focused = false;
        this._canSelectMany = false;
        this._manuallyManageCheckboxes = false;
        this.elementsToRefresh = [];
        this.lastSelection = [];
        this._onDidExpandItem = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_12__.Emitter())));
        this.onDidExpandItem = this._onDidExpandItem.event;
        this._onDidCollapseItem = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_12__.Emitter())));
        this.onDidCollapseItem = this._onDidCollapseItem.event;
        this._onDidChangeSelectionAndFocus = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_12__.Emitter())));
        this.onDidChangeSelectionAndFocus = this._onDidChangeSelectionAndFocus.event;
        this._onDidChangeVisibility = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_12__.Emitter())));
        this.onDidChangeVisibility = this._onDidChangeVisibility.event;
        this._onDidChangeActions = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_12__.Emitter())));
        this.onDidChangeActions = this._onDidChangeActions.event;
        this._onDidChangeWelcomeState = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_12__.Emitter())));
        this.onDidChangeWelcomeState = this._onDidChangeWelcomeState.event;
        this._onDidChangeTitle = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_12__.Emitter())));
        this.onDidChangeTitle = this._onDidChangeTitle.event;
        this._onDidChangeDescription = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_12__.Emitter())));
        this.onDidChangeDescription = this._onDidChangeDescription.event;
        this._onDidChangeCheckboxState = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_12__.Emitter())));
        this.onDidChangeCheckboxState = this._onDidChangeCheckboxState.event;
        this._onDidCompleteRefresh = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_12__.Emitter())));
        this._isInitialized = false;
        this._activity = this._register(( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_15__.MutableDisposable())));
        this.activated = false;
        this.treeDisposables = this._register(( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_15__.DisposableStore())));
        this._height = 0;
        this._width = 0;
        this.refreshing = false;
        this.root = ( (new Root()));
        this.lastActive = this.root;
    }
    initialize() {
        if (this._isInitialized) {
            return;
        }
        this._isInitialized = true;
        this.contextKeyService.bufferChangeEvents(() => {
            this.initializeShowCollapseAllAction();
            this.initializeCollapseAllToggle();
            this.initializeShowRefreshAction();
        });
        this.treeViewDnd = this.instantiationService.createInstance(CustomTreeViewDragAndDrop, this.id);
        if (this._dragAndDropController) {
            this.treeViewDnd.controller = this._dragAndDropController;
        }
        this._register(this.configurationService.onDidChangeConfiguration(e => {
            if (e.affectsConfiguration('explorer.decorations')) {
                this.doRefresh([this.root]);
            }
        }));
        this._register(this.viewDescriptorService.onDidChangeLocation(({ views, from, to }) => {
            if (( (views.some(v => v.id === this.id)))) {
                this.tree?.updateOptions({ overrideStyles: (0,_viewPane_js__WEBPACK_IMPORTED_MODULE_53__.getLocationBasedViewColors)(this.viewLocation).listOverrideStyles });
            }
        }));
        this.registerActions();
        this.create();
    }
    get viewContainer() {
        return this.viewDescriptorService.getViewContainerByViewId(this.id);
    }
    get viewLocation() {
        return this.viewDescriptorService.getViewLocationById(this.id);
    }
    get dragAndDropController() {
        return this._dragAndDropController;
    }
    set dragAndDropController(dnd) {
        this._dragAndDropController = dnd;
        if (this.treeViewDnd) {
            this.treeViewDnd.controller = dnd;
        }
    }
    get dataProvider() {
        return this._dataProvider;
    }
    set dataProvider(dataProvider) {
        if (dataProvider) {
            if (this.visible) {
                this.activate();
            }
            const self = this;
            this._dataProvider = new (class {
                constructor() {
                    this._isEmpty = true;
                    this._onDidChangeEmpty = ( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_12__.Emitter()));
                    this.onDidChangeEmpty = this._onDidChangeEmpty.event;
                }
                get isTreeEmpty() {
                    return this._isEmpty;
                }
                async getChildren(node) {
                    let children;
                    const checkboxesUpdated = [];
                    if (node && node.children) {
                        children = node.children;
                    }
                    else {
                        node = node ?? self.root;
                        node.children = await (node instanceof Root ? dataProvider.getChildren() : dataProvider.getChildren(node));
                        children = node.children ?? [];
                        children.forEach(child => {
                            child.parent = node;
                            if (!self.manuallyManageCheckboxes && (node?.checkbox?.isChecked === true) && (child.checkbox?.isChecked === false)) {
                                child.checkbox.isChecked = true;
                                checkboxesUpdated.push(child);
                            }
                        });
                    }
                    if (node instanceof Root) {
                        const oldEmpty = this._isEmpty;
                        this._isEmpty = children.length === 0;
                        if (oldEmpty !== this._isEmpty) {
                            this._onDidChangeEmpty.fire();
                        }
                    }
                    if (checkboxesUpdated.length > 0) {
                        self._onDidChangeCheckboxState.fire(checkboxesUpdated);
                    }
                    return children;
                }
            });
            if (this._dataProvider.onDidChangeEmpty) {
                this._register(this._dataProvider.onDidChangeEmpty(() => {
                    this.updateCollapseAllToggle();
                    this._onDidChangeWelcomeState.fire();
                }));
            }
            this.updateMessage();
            this.refresh();
        }
        else {
            this._dataProvider = undefined;
            this.treeDisposables.clear();
            this.activated = false;
            this.updateMessage();
        }
        this._onDidChangeWelcomeState.fire();
    }
    get message() {
        return this._message;
    }
    set message(message) {
        this._message = message;
        this.updateMessage();
        this._onDidChangeWelcomeState.fire();
    }
    get title() {
        return this._title;
    }
    set title(name) {
        this._title = name;
        this._onDidChangeTitle.fire(this._title);
    }
    get description() {
        return this._description;
    }
    set description(description) {
        this._description = description;
        this._onDidChangeDescription.fire(this._description);
    }
    get badge() {
        return this._badge;
    }
    set badge(badge) {
        if (this._badge?.value === badge?.value &&
            this._badge?.tooltip === badge?.tooltip) {
            return;
        }
        this._badge = badge;
        if (badge) {
            const activity = {
                badge: ( (new _services_activity_common_activity_js__WEBPACK_IMPORTED_MODULE_56__.NumberBadge(badge.value, () => badge.tooltip))),
                priority: 50
            };
            this._activity.value = this.activityService.showViewActivity(this.id, activity);
        }
        else {
            this._activity.clear();
        }
    }
    get canSelectMany() {
        return this._canSelectMany;
    }
    set canSelectMany(canSelectMany) {
        const oldCanSelectMany = this._canSelectMany;
        this._canSelectMany = canSelectMany;
        if (this._canSelectMany !== oldCanSelectMany) {
            this.tree?.updateOptions({ multipleSelectionSupport: this.canSelectMany });
        }
    }
    get manuallyManageCheckboxes() {
        return this._manuallyManageCheckboxes;
    }
    set manuallyManageCheckboxes(manuallyManageCheckboxes) {
        this._manuallyManageCheckboxes = manuallyManageCheckboxes;
    }
    get hasIconForParentNode() {
        return this._hasIconForParentNode;
    }
    get hasIconForLeafNode() {
        return this._hasIconForLeafNode;
    }
    get visible() {
        return this.isVisible;
    }
    initializeShowCollapseAllAction(startingValue = false) {
        if (!this.collapseAllContext) {
            this.collapseAllContextKey = ( (new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_32__.RawContextKey(`treeView.${this.id}.enableCollapseAll`, startingValue, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_25__.localize)(
                9641,
                "Whether the the tree view with id {0} enables collapse all.",
                this.id
            )))));
            this.collapseAllContext = this.collapseAllContextKey.bindTo(this.contextKeyService);
        }
        return true;
    }
    get showCollapseAllAction() {
        this.initializeShowCollapseAllAction();
        return !!this.collapseAllContext?.get();
    }
    set showCollapseAllAction(showCollapseAllAction) {
        this.initializeShowCollapseAllAction(showCollapseAllAction);
        this.collapseAllContext?.set(showCollapseAllAction);
    }
    initializeShowRefreshAction(startingValue = false) {
        if (!this.refreshContext) {
            this.refreshContextKey = ( (new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_32__.RawContextKey(`treeView.${this.id}.enableRefresh`, startingValue, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_25__.localize)(9642, "Whether the tree view with id {0} enables refresh.", this.id)))));
            this.refreshContext = this.refreshContextKey.bindTo(this.contextKeyService);
        }
    }
    get showRefreshAction() {
        this.initializeShowRefreshAction();
        return !!this.refreshContext?.get();
    }
    set showRefreshAction(showRefreshAction) {
        this.initializeShowRefreshAction(showRefreshAction);
        this.refreshContext?.set(showRefreshAction);
    }
    registerActions() {
        const that = this;
        this._register((0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_27__.registerAction2)(class extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_27__.Action2 {
            constructor() {
                super({
                    id: `workbench.actions.treeView.${that.id}.refresh`,
                    title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_25__.localize)(9643, "Refresh")),
                    menu: {
                        id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_27__.MenuId.ViewTitle,
                        when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_32__.ContextKeyExpr.and(
                             (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_32__.ContextKeyExpr.equals('view', that.id)),
                            that.refreshContextKey
                        ))),
                        group: 'navigation',
                        order: Number.MAX_SAFE_INTEGER - 1,
                    },
                    icon: _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_10__.Codicon.refresh
                });
            }
            async run() {
                return that.refresh();
            }
        }));
        this._register((0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_27__.registerAction2)(class extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_27__.Action2 {
            constructor() {
                super({
                    id: `workbench.actions.treeView.${that.id}.collapseAll`,
                    title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_25__.localize)(9644, "Collapse All")),
                    menu: {
                        id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_27__.MenuId.ViewTitle,
                        when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_32__.ContextKeyExpr.and(
                             (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_32__.ContextKeyExpr.equals('view', that.id)),
                            that.collapseAllContextKey
                        ))),
                        group: 'navigation',
                        order: Number.MAX_SAFE_INTEGER,
                    },
                    precondition: that.collapseAllToggleContextKey,
                    icon: _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_10__.Codicon.collapseAll
                });
            }
            async run() {
                if (that.tree) {
                    return ( (new _base_browser_ui_tree_treeDefaults_js__WEBPACK_IMPORTED_MODULE_6__.CollapseAllAction(that.tree, true))).run();
                }
            }
        }));
    }
    setVisibility(isVisible) {
        this.initialize();
        isVisible = !!isVisible;
        if (this.isVisible === isVisible) {
            return;
        }
        this.isVisible = isVisible;
        if (this.tree) {
            if (this.isVisible) {
                (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.show)(this.tree.getHTMLElement());
            }
            else {
                (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.hide)(this.tree.getHTMLElement());
            }
            if (this.isVisible && this.elementsToRefresh.length && this.dataProvider) {
                this.doRefresh(this.elementsToRefresh);
                this.elementsToRefresh = [];
            }
        }
        (0,_base_common_platform_js__WEBPACK_IMPORTED_MODULE_64__.setTimeout0)(() => {
            if (this.dataProvider) {
                this._onDidChangeVisibility.fire(this.isVisible);
            }
        });
        if (this.visible) {
            this.activate();
        }
    }
    focus(reveal = true, revealItem) {
        if (this.tree && this.root.children && this.root.children.length > 0) {
            const element = revealItem ?? this.tree.getSelection()[0];
            if (element && reveal) {
                this.tree.reveal(element, 0.5);
            }
            this.tree.domFocus();
        }
        else if (this.tree && this.treeContainer && !this.treeContainer.classList.contains('hide')) {
            this.tree.domFocus();
        }
        else {
            this.domNode.focus();
        }
    }
    show(container) {
        this._container = container;
        (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.append)(container, this.domNode);
    }
    create() {
        this.domNode = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.$)('.tree-explorer-viewlet-tree-view');
        this.messageElement = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.append)(this.domNode, (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.$)('.message'));
        this.updateMessage();
        this.treeContainer = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.append)(this.domNode, (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.$)('.customview-tree'));
        this.treeContainer.classList.add('file-icon-themable-tree', 'show-file-icons');
        const focusTracker = this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.trackFocus)(this.domNode));
        this._register(focusTracker.onDidFocus(() => this.focused = true));
        this._register(focusTracker.onDidBlur(() => this.focused = false));
    }
    createTree() {
        this.treeDisposables.clear();
        const actionViewItemProvider = _platform_actions_browser_menuEntryActionViewItem_js__WEBPACK_IMPORTED_MODULE_26__.createActionViewItem.bind(undefined, this.instantiationService);
        const treeMenus = this.treeDisposables.add(this.instantiationService.createInstance(TreeMenus, this.id));
        this.treeLabels = this.treeDisposables.add(this.instantiationService.createInstance(_labels_js__WEBPACK_IMPORTED_MODULE_51__.ResourceLabels, this));
        const dataSource = this.instantiationService.createInstance(TreeDataSource, this, (task) => this.progressService.withProgress({ location: this.id }, () => task));
        const aligner = ( (new Aligner(this.themeService)));
        const checkboxStateHandler = this.treeDisposables.add(( (new _checkbox_js__WEBPACK_IMPORTED_MODULE_63__.CheckboxStateHandler())));
        const renderer = this.instantiationService.createInstance(TreeRenderer, this.id, treeMenus, this.treeLabels, actionViewItemProvider, aligner, checkboxStateHandler, () => this.manuallyManageCheckboxes);
        this.treeDisposables.add(renderer.onDidChangeCheckboxState(e => this._onDidChangeCheckboxState.fire(e)));
        const widgetAriaLabel = this._title;
        this.tree = this.treeDisposables.add(this.instantiationService.createInstance(Tree, this.id, this.treeContainer, ( (new TreeViewDelegate())), [renderer], dataSource, {
            identityProvider: ( (new TreeViewIdentityProvider())),
            accessibilityProvider: {
                getAriaLabel(element) {
                    if (element.accessibilityInformation) {
                        return element.accessibilityInformation.label;
                    }
                    if ((0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_20__.isString)(element.tooltip)) {
                        return element.tooltip;
                    }
                    else {
                        if (element.resourceUri && !element.label) {
                            return null;
                        }
                        let buildAriaLabel = '';
                        if (element.label) {
                            buildAriaLabel += element.label.label + ' ';
                        }
                        if (element.description) {
                            buildAriaLabel += element.description;
                        }
                        return buildAriaLabel;
                    }
                },
                getRole(element) {
                    return element.accessibilityInformation?.role ?? 'treeitem';
                },
                getWidgetAriaLabel() {
                    return widgetAriaLabel;
                }
            },
            keyboardNavigationLabelProvider: {
                getKeyboardNavigationLabel: (item) => {
                    return item.label ? item.label.label : (item.resourceUri ? (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_18__.basename)(_base_common_uri_js__WEBPACK_IMPORTED_MODULE_21__.URI.revive(item.resourceUri)) : undefined);
                }
            },
            expandOnlyOnTwistieClick: (e) => {
                return !!e.command || !!e.checkbox || this.configurationService.getValue('workbench.tree.expandMode') === 'doubleClick';
            },
            collapseByDefault: (e) => {
                return e.collapsibleState !== _common_views_js__WEBPACK_IMPORTED_MODULE_54__.TreeItemCollapsibleState.Expanded;
            },
            multipleSelectionSupport: this.canSelectMany,
            dnd: this.treeViewDnd,
            overrideStyles: (0,_viewPane_js__WEBPACK_IMPORTED_MODULE_53__.getLocationBasedViewColors)(this.viewLocation).listOverrideStyles
        }));
        this.treeDisposables.add(renderer.onDidChangeMenuContext(e => e.forEach(e => this.tree?.rerender(e))));
        this.treeDisposables.add(this.tree);
        treeMenus.setContextKeyService(this.tree.contextKeyService);
        aligner.tree = this.tree;
        const actionRunner = ( (new MultipleSelectionActionRunner(this.notificationService, () => this.tree.getSelection())));
        renderer.actionRunner = actionRunner;
        this.tree.contextKeyService.createKey(this.id, true);
        const customTreeKey = RawCustomTreeViewContextKey.bindTo(this.tree.contextKeyService);
        customTreeKey.set(true);
        this.treeDisposables.add(this.tree.onContextMenu(e => this.onContextMenu(treeMenus, e, actionRunner)));
        this.treeDisposables.add(this.tree.onDidChangeSelection(e => {
            this.lastSelection = e.elements;
            this.lastActive = this.tree?.getFocus()[0] ?? this.lastActive;
            this._onDidChangeSelectionAndFocus.fire({ selection: this.lastSelection, focus: this.lastActive });
        }));
        this.treeDisposables.add(this.tree.onDidChangeFocus(e => {
            if (e.elements.length && (e.elements[0] !== this.lastActive)) {
                this.lastActive = e.elements[0];
                this.lastSelection = this.tree?.getSelection() ?? this.lastSelection;
                this._onDidChangeSelectionAndFocus.fire({ selection: this.lastSelection, focus: this.lastActive });
            }
        }));
        this.treeDisposables.add(this.tree.onDidChangeCollapseState(e => {
            if (!e.node.element) {
                return;
            }
            const element = Array.isArray(e.node.element.element) ? e.node.element.element[0] : e.node.element.element;
            if (e.node.collapsed) {
                this._onDidCollapseItem.fire(element);
            }
            else {
                this._onDidExpandItem.fire(element);
            }
        }));
        this.tree.setInput(this.root).then(() => this.updateContentAreas());
        this.treeDisposables.add(this.tree.onDidOpen(async (e) => {
            if (!e.browserEvent) {
                return;
            }
            if (e.browserEvent.target && e.browserEvent.target.classList.contains(_checkbox_js__WEBPACK_IMPORTED_MODULE_63__.TreeItemCheckbox.checkboxClass)) {
                return;
            }
            const selection = this.tree.getSelection();
            const command = await this.resolveCommand(selection.length === 1 ? selection[0] : undefined);
            if (command && isTreeCommandEnabled(command, this.contextKeyService)) {
                let args = command.arguments || [];
                if (command.id === _editor_editorCommands_js__WEBPACK_IMPORTED_MODULE_52__.API_OPEN_EDITOR_COMMAND_ID || command.id === _editor_editorCommands_js__WEBPACK_IMPORTED_MODULE_52__.API_OPEN_DIFF_EDITOR_COMMAND_ID) {
                    args = [...args, e];
                }
                try {
                    await this.commandService.executeCommand(command.id, ...args);
                }
                catch (err) {
                    this.notificationService.error(err);
                }
            }
        }));
        this.treeDisposables.add(treeMenus.onDidChange((changed) => {
            if (this.tree?.hasNode(changed)) {
                this.tree?.rerender(changed);
            }
        }));
    }
    async resolveCommand(element) {
        let command = element?.command;
        if (element && !command) {
            if ((element instanceof _common_views_js__WEBPACK_IMPORTED_MODULE_54__.ResolvableTreeItem) && element.hasResolve) {
                await element.resolve(_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_9__.CancellationToken.None);
                command = element.command;
            }
        }
        return command;
    }
    onContextMenu(treeMenus, treeEvent, actionRunner) {
        this.hoverService.hideHover();
        const node = treeEvent.element;
        if (node === null) {
            return;
        }
        const event = treeEvent.browserEvent;
        event.preventDefault();
        event.stopPropagation();
        this.tree.setFocus([node]);
        let selected = this.canSelectMany ? this.getSelection() : [];
        if (!selected.find(item => item.handle === node.handle)) {
            selected = [node];
        }
        const actions = treeMenus.getResourceContextActions(selected);
        if (!actions.length) {
            return;
        }
        this.contextMenuService.showContextMenu({
            getAnchor: () => treeEvent.anchor,
            getActions: () => actions,
            getActionViewItem: (action) => {
                const keybinding = this.keybindingService.lookupKeybinding(action.id);
                if (keybinding) {
                    return (
                         (new _base_browser_ui_actionbar_actionViewItems_js__WEBPACK_IMPORTED_MODULE_5__.ActionViewItem(action, action, { label: true, keybinding: keybinding.getLabel() }))
                    );
                }
                return undefined;
            },
            onHide: (wasCancelled) => {
                if (wasCancelled) {
                    this.tree.domFocus();
                }
            },
            getActionsContext: () => ({ $treeViewId: this.id, $treeItemHandle: node.handle }),
            actionRunner
        });
    }
    updateMessage() {
        if (this._message) {
            this.showMessage(this._message);
        }
        else if (!this.dataProvider) {
            this.showMessage(noDataProviderMessage);
        }
        else {
            this.hideMessage();
        }
        this.updateContentAreas();
    }
    processMessage(message, disposables) {
        const lines = message.value.split('\n');
        const result = [];
        let hasFoundButton = false;
        for (const line of lines) {
            const linkedText = (0,_base_common_linkedText_js__WEBPACK_IMPORTED_MODULE_69__.parseLinkedText)(line);
            if (linkedText.nodes.length === 1 && typeof linkedText.nodes[0] !== 'string') {
                const node = linkedText.nodes[0];
                const buttonContainer = document.createElement('div');
                buttonContainer.classList.add('button-container');
                const button = ( (new _base_browser_ui_button_button_js__WEBPACK_IMPORTED_MODULE_70__.Button(
                    buttonContainer,
                    { title: node.title, secondary: hasFoundButton, supportIcons: true, ..._platform_theme_browser_defaultStyles_js__WEBPACK_IMPORTED_MODULE_71__.defaultButtonStyles }
                )));
                button.label = node.label;
                button.onDidClick(_ => {
                    this.openerService.open(node.href, { allowCommands: true });
                }, null, disposables);
                const href = ( (_base_common_uri_js__WEBPACK_IMPORTED_MODULE_21__.URI.parse(node.href)));
                if (href.scheme === _base_common_network_js__WEBPACK_IMPORTED_MODULE_17__.Schemas.command) {
                    const preConditions = commandPreconditions(href.path);
                    if (preConditions) {
                        button.enabled = this.contextKeyService.contextMatchesRules(preConditions);
                        disposables.add(this.contextKeyService.onDidChangeContext(e => {
                            if (e.affectsSome(( (new Set( (preConditions.keys())))))) {
                                button.enabled = this.contextKeyService.contextMatchesRules(preConditions);
                            }
                        }));
                    }
                }
                disposables.add(button);
                hasFoundButton = true;
                result.push(buttonContainer);
            }
            else {
                hasFoundButton = false;
                const rendered = this.markdownRenderer.render(( (new _base_common_htmlContent_js__WEBPACK_IMPORTED_MODULE_14__.MarkdownString(
                    line,
                    { isTrusted: message.isTrusted, supportThemeIcons: message.supportThemeIcons, supportHtml: message.supportHtml }
                ))));
                result.push(rendered.element);
                disposables.add(rendered);
            }
        }
        const container = document.createElement('div');
        container.classList.add('rendered-message');
        for (const child of result) {
            if ((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.isHTMLElement)(child)) {
                container.appendChild(child);
            }
            else {
                container.appendChild(child.element);
            }
        }
        return container;
    }
    showMessage(message) {
        if (isRenderedMessageValue(this._messageValue)) {
            this._messageValue.disposables.dispose();
        }
        if ((0,_base_common_htmlContent_js__WEBPACK_IMPORTED_MODULE_14__.isMarkdownString)(message) && !this.markdownRenderer) {
            this.markdownRenderer = this.instantiationService.createInstance(_editor_browser_widget_markdownRenderer_browser_markdownRenderer_js__WEBPACK_IMPORTED_MODULE_68__.MarkdownRenderer, {});
        }
        if ((0,_base_common_htmlContent_js__WEBPACK_IMPORTED_MODULE_14__.isMarkdownString)(message)) {
            const disposables = ( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_15__.DisposableStore()));
            const renderedMessage = this.processMessage(message, disposables);
            this._messageValue = { element: renderedMessage, disposables };
        }
        else {
            this._messageValue = message;
        }
        if (!this.messageElement) {
            return;
        }
        this.messageElement.classList.remove('hide');
        this.resetMessageElement();
        if (typeof this._messageValue === 'string' && !(0,_base_common_strings_js__WEBPACK_IMPORTED_MODULE_19__.isFalsyOrWhitespace)(this._messageValue)) {
            this.messageElement.textContent = this._messageValue;
        }
        else if (isRenderedMessageValue(this._messageValue)) {
            this.messageElement.appendChild(this._messageValue.element);
        }
        this.layout(this._height, this._width);
    }
    hideMessage() {
        this.resetMessageElement();
        this.messageElement?.classList.add('hide');
        this.layout(this._height, this._width);
    }
    resetMessageElement() {
        if (this.messageElement) {
            (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.clearNode)(this.messageElement);
        }
    }
    layout(height, width) {
        if (height && width && this.messageElement && this.treeContainer) {
            this._height = height;
            this._width = width;
            const treeHeight = height - (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.getTotalHeight)(this.messageElement);
            this.treeContainer.style.height = treeHeight + 'px';
            this.tree?.layout(treeHeight, width);
        }
    }
    getOptimalWidth() {
        if (this.tree) {
            const parentNode = this.tree.getHTMLElement();
            const childNodes = [].slice.call(parentNode.querySelectorAll('.outline-item-label > a'));
            return (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.getLargestChildWidth)(parentNode, childNodes);
        }
        return 0;
    }
    async refresh(elements) {
        if (this.dataProvider && this.tree) {
            if (this.refreshing) {
                await _base_common_event_js__WEBPACK_IMPORTED_MODULE_12__.Event.toPromise(this._onDidCompleteRefresh.event);
            }
            if (!elements) {
                elements = [this.root];
                this.elementsToRefresh = [];
            }
            for (const element of elements) {
                element.children = undefined;
            }
            if (this.isVisible) {
                return this.doRefresh(elements);
            }
            else {
                if (this.elementsToRefresh.length) {
                    const seen = ( (new Set()));
                    this.elementsToRefresh.forEach(element => seen.add(element.handle));
                    for (const element of elements) {
                        if (!( (seen.has(element.handle)))) {
                            this.elementsToRefresh.push(element);
                        }
                    }
                }
                else {
                    this.elementsToRefresh.push(...elements);
                }
            }
        }
        return undefined;
    }
    async expand(itemOrItems) {
        const tree = this.tree;
        if (!tree) {
            return;
        }
        try {
            itemOrItems = Array.isArray(itemOrItems) ? itemOrItems : [itemOrItems];
            for (const element of itemOrItems) {
                await tree.expand(element, false);
            }
        }
        catch (e) {
        }
    }
    isCollapsed(item) {
        return !!this.tree?.isCollapsed(item);
    }
    setSelection(items) {
        this.tree?.setSelection(items);
    }
    getSelection() {
        return this.tree?.getSelection() ?? [];
    }
    setFocus(item) {
        if (this.tree) {
            if (item) {
                this.focus(true, item);
                this.tree.setFocus([item]);
            }
            else if (this.tree.getFocus().length === 0) {
                this.tree.setFocus([]);
            }
        }
    }
    async reveal(item) {
        if (this.tree) {
            return this.tree.reveal(item);
        }
    }
    async doRefresh(elements) {
        const tree = this.tree;
        if (tree && this.visible) {
            this.refreshing = true;
            const oldSelection = tree.getSelection();
            try {
                await Promise.all(( (elements.map(element => tree.updateChildren(element, true, true)))));
            }
            catch (e) {
                this.logService.error(e);
            }
            const newSelection = tree.getSelection();
            if (oldSelection.length !== newSelection.length || ( (oldSelection.some((value, index) => value.handle !== newSelection[index].handle)))) {
                this.lastSelection = newSelection;
                this._onDidChangeSelectionAndFocus.fire({ selection: this.lastSelection, focus: this.lastActive });
            }
            this.refreshing = false;
            this._onDidCompleteRefresh.fire();
            this.updateContentAreas();
            if (this.focused) {
                this.focus(false);
            }
            this.updateCollapseAllToggle();
        }
    }
    initializeCollapseAllToggle() {
        if (!this.collapseAllToggleContext) {
            this.collapseAllToggleContextKey = ( (new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_32__.RawContextKey(`treeView.${this.id}.toggleCollapseAll`, false, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_25__.localize)(
                9645,
                "Whether collapse all is toggled for the tree view with id {0}.",
                this.id
            )))));
            this.collapseAllToggleContext = this.collapseAllToggleContextKey.bindTo(this.contextKeyService);
        }
    }
    updateCollapseAllToggle() {
        if (this.showCollapseAllAction) {
            this.initializeCollapseAllToggle();
            this.collapseAllToggleContext?.set(!!this.root.children && (this.root.children.length > 0) &&
                ( (this.root.children.some(value => value.collapsibleState !== _common_views_js__WEBPACK_IMPORTED_MODULE_54__.TreeItemCollapsibleState.None))));
        }
    }
    updateContentAreas() {
        const isTreeEmpty = !this.root.children || this.root.children.length === 0;
        if (this._messageValue && isTreeEmpty && !this.refreshing && this.treeContainer) {
            if (!this.dragAndDropController) {
                this.treeContainer.classList.add('hide');
            }
            this.domNode.setAttribute('tabindex', '0');
        }
        else if (this.treeContainer) {
            this.treeContainer.classList.remove('hide');
            if (this.domNode === (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.getActiveElement)()) {
                this.focus();
            }
            this.domNode.removeAttribute('tabindex');
        }
    }
    get container() {
        return this._container;
    }
};
AbstractTreeView = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_48__.IThemeService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_36__.IInstantiationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _platform_commands_common_commands_service_js__WEBPACK_IMPORTED_MODULE_30__.ICommandService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_31__.IConfigurationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _platform_progress_common_progress_service_js__WEBPACK_IMPORTED_MODULE_43__.IProgressService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, _platform_contextview_browser_contextView_service_js__WEBPACK_IMPORTED_MODULE_34__.IContextMenuService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, _platform_keybinding_common_keybinding_service_js__WEBPACK_IMPORTED_MODULE_37__.IKeybindingService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, _platform_notification_common_notification_service_js__WEBPACK_IMPORTED_MODULE_41__.INotificationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, _common_views_service_js__WEBPACK_IMPORTED_MODULE_55__.IViewDescriptorService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(11, _platform_hover_browser_hover_service_js__WEBPACK_IMPORTED_MODULE_60__.IHoverService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(12, _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_33__.IContextKeyService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(13, _services_activity_common_activity_service_js__WEBPACK_IMPORTED_MODULE_57__.IActivityService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(14, _platform_log_common_log_service_js__WEBPACK_IMPORTED_MODULE_40__.ILogService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(15, _platform_opener_common_opener_service_js__WEBPACK_IMPORTED_MODULE_42__.IOpenerService)))
], AbstractTreeView)));
class TreeViewIdentityProvider {
    getId(element) {
        return element.handle;
    }
}
class TreeViewDelegate {
    getHeight(element) {
        return TreeRenderer.ITEM_HEIGHT;
    }
    getTemplateId(element) {
        return TreeRenderer.TREE_TEMPLATE_ID;
    }
}
class TreeDataSource {
    constructor(treeView, withProgress) {
        this.treeView = treeView;
        this.withProgress = withProgress;
    }
    hasChildren(element) {
        return !!this.treeView.dataProvider && (element.collapsibleState !== _common_views_js__WEBPACK_IMPORTED_MODULE_54__.TreeItemCollapsibleState.None);
    }
    async getChildren(element) {
        let result = [];
        if (this.treeView.dataProvider) {
            try {
                result = (await this.withProgress(this.treeView.dataProvider.getChildren(element))) ?? [];
            }
            catch (e) {
                if (!e.message.startsWith('Bad progress location:')) {
                    throw e;
                }
            }
        }
        return result;
    }
}
let TreeRenderer = class TreeRenderer extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_15__.Disposable {
    static { TreeRenderer_1 = this; }
    static { this.ITEM_HEIGHT = 22; }
    static { this.TREE_TEMPLATE_ID = 'treeExplorer'; }
    constructor(treeViewId, menus, labels, actionViewItemProvider, aligner, checkboxStateHandler, manuallyManageCheckboxes, themeService, configurationService, labelService, contextKeyService, hoverService, instantiationService) {
        super();
        this.treeViewId = treeViewId;
        this.menus = menus;
        this.labels = labels;
        this.actionViewItemProvider = actionViewItemProvider;
        this.aligner = aligner;
        this.checkboxStateHandler = checkboxStateHandler;
        this.manuallyManageCheckboxes = manuallyManageCheckboxes;
        this.themeService = themeService;
        this.configurationService = configurationService;
        this.labelService = labelService;
        this.contextKeyService = contextKeyService;
        this.hoverService = hoverService;
        this._onDidChangeCheckboxState = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_12__.Emitter())));
        this.onDidChangeCheckboxState = this._onDidChangeCheckboxState.event;
        this._onDidChangeMenuContext = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_12__.Emitter())));
        this.onDidChangeMenuContext = this._onDidChangeMenuContext.event;
        this._hasCheckbox = false;
        this._renderedElements = ( (new Map()));
        this._hoverDelegate = this._register(instantiationService.createInstance(_platform_hover_browser_hover_js__WEBPACK_IMPORTED_MODULE_59__.WorkbenchHoverDelegate, 'mouse', false, {}));
        this._register(this.themeService.onDidFileIconThemeChange(() => this.rerender()));
        this._register(this.themeService.onDidColorThemeChange(() => this.rerender()));
        this._register(checkboxStateHandler.onDidChangeCheckboxState(items => {
            this.updateCheckboxes(items);
        }));
        this._register(this.contextKeyService.onDidChangeContext(e => this.onDidChangeContext(e)));
    }
    get templateId() {
        return TreeRenderer_1.TREE_TEMPLATE_ID;
    }
    set actionRunner(actionRunner) {
        this._actionRunner = actionRunner;
    }
    renderTemplate(container) {
        container.classList.add('custom-view-tree-node-item');
        const checkboxContainer = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.append)(container, (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.$)(''));
        const resourceLabel = this.labels.create(container, { supportHighlights: true, hoverDelegate: this._hoverDelegate });
        const icon = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.prepend)(resourceLabel.element, (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.$)('.custom-view-tree-node-item-icon'));
        const actionsContainer = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.append)(resourceLabel.element, (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.$)('.actions'));
        const actionBar = ( (new _base_browser_ui_actionbar_actionbar_js__WEBPACK_IMPORTED_MODULE_4__.ActionBar(actionsContainer, {
            actionViewItemProvider: this.actionViewItemProvider
        })));
        return { resourceLabel, icon, checkboxContainer, actionBar, container };
    }
    getHover(label, resource, node) {
        if (!(node instanceof _common_views_js__WEBPACK_IMPORTED_MODULE_54__.ResolvableTreeItem) || !node.hasResolve) {
            if (resource && !node.tooltip) {
                return undefined;
            }
            else if (node.tooltip === undefined) {
                return label;
            }
            else if (!(0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_20__.isString)(node.tooltip)) {
                return { markdown: node.tooltip, markdownNotSupportedFallback: resource ? undefined : (0,_base_browser_markdownRenderer_js__WEBPACK_IMPORTED_MODULE_3__.renderMarkdownAsPlaintext)(node.tooltip) };
            }
            else if (node.tooltip !== '') {
                return node.tooltip;
            }
            else {
                return undefined;
            }
        }
        return {
            markdown: typeof node.tooltip === 'string' ? node.tooltip :
                (token) => {
                    return (
                         (new Promise((resolve) => {
                            node.resolve(token).then(() => resolve(node.tooltip));
                        }))
                    );
                },
            markdownNotSupportedFallback: resource ? undefined : (label ?? '')
        };
    }
    renderElement(element, index, templateData) {
        const node = element.element;
        const resource = node.resourceUri ? _base_common_uri_js__WEBPACK_IMPORTED_MODULE_21__.URI.revive(node.resourceUri) : null;
        const treeItemLabel = node.label ? node.label : (resource ? { label: (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_18__.basename)(resource) } : undefined);
        const description = (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_20__.isString)(node.description) ? node.description : resource && node.description === true ? this.labelService.getUriLabel((0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_18__.dirname)(resource), { relative: true }) : undefined;
        const label = treeItemLabel ? treeItemLabel.label : undefined;
        const matches = (treeItemLabel && treeItemLabel.highlights && label) ? ( (treeItemLabel.highlights.map(([start, end]) => {
            if (start < 0) {
                start = label.length + start;
            }
            if (end < 0) {
                end = label.length + end;
            }
            if ((start >= label.length) || (end > label.length)) {
                return ({ start: 0, end: 0 });
            }
            if (start > end) {
                const swap = start;
                start = end;
                end = swap;
            }
            return ({ start, end });
        }))) : undefined;
        const icon = this.themeService.getColorTheme().type === _platform_theme_common_theme_js__WEBPACK_IMPORTED_MODULE_46__.ColorScheme.LIGHT ? node.icon : node.iconDark;
        const iconUrl = icon ? _base_common_uri_js__WEBPACK_IMPORTED_MODULE_21__.URI.revive(icon) : undefined;
        const title = this.getHover(label, resource, node);
        templateData.actionBar.clear();
        templateData.icon.style.color = '';
        let commandEnabled = true;
        if (node.command) {
            commandEnabled = isTreeCommandEnabled(node.command, this.contextKeyService);
        }
        this.renderCheckbox(node, templateData);
        if (resource) {
            const fileDecorations = this.configurationService.getValue('explorer.decorations');
            const labelResource = resource ? resource : ( (_base_common_uri_js__WEBPACK_IMPORTED_MODULE_21__.URI.parse('missing:_icon_resource')));
            templateData.resourceLabel.setResource({ name: label, description, resource: labelResource }, {
                fileKind: this.getFileKind(node),
                title,
                hideIcon: this.shouldHideResourceLabelIcon(iconUrl, node.themeIcon),
                fileDecorations,
                extraClasses: ['custom-view-tree-node-item-resourceLabel'],
                matches: matches ? matches : (0,_base_common_filters_js__WEBPACK_IMPORTED_MODULE_13__.createMatches)(element.filterData),
                strikethrough: treeItemLabel?.strikethrough,
                disabledCommand: !commandEnabled,
                labelEscapeNewLines: true,
                forceLabel: !!node.label
            });
        }
        else {
            templateData.resourceLabel.setResource({ name: label, description }, {
                title,
                hideIcon: true,
                extraClasses: ['custom-view-tree-node-item-resourceLabel'],
                matches: matches ? matches : (0,_base_common_filters_js__WEBPACK_IMPORTED_MODULE_13__.createMatches)(element.filterData),
                strikethrough: treeItemLabel?.strikethrough,
                disabledCommand: !commandEnabled,
                labelEscapeNewLines: true
            });
        }
        if (iconUrl) {
            templateData.icon.className = 'custom-view-tree-node-item-icon';
            templateData.icon.style.backgroundImage = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.asCSSUrl)(iconUrl);
        }
        else {
            let iconClass;
            if (this.shouldShowThemeIcon(!!resource, node.themeIcon)) {
                iconClass = _base_common_themables_js__WEBPACK_IMPORTED_MODULE_49__.ThemeIcon.asClassName(node.themeIcon);
                if (node.themeIcon.color) {
                    templateData.icon.style.color = this.themeService.getColorTheme().getColor(node.themeIcon.color.id)?.toString() ?? '';
                }
            }
            templateData.icon.className = iconClass ? `custom-view-tree-node-item-icon ${iconClass}` : '';
            templateData.icon.style.backgroundImage = '';
        }
        if (!commandEnabled) {
            templateData.icon.className = templateData.icon.className + ' disabled';
            if (templateData.container.parentElement) {
                templateData.container.parentElement.className = templateData.container.parentElement.className + ' disabled';
            }
        }
        templateData.actionBar.context = { $treeViewId: this.treeViewId, $treeItemHandle: node.handle };
        const menuActions = this.menus.getResourceActions([node]);
        templateData.actionBar.push(menuActions, { icon: true, label: false });
        if (this._actionRunner) {
            templateData.actionBar.actionRunner = this._actionRunner;
        }
        this.setAlignment(templateData.container, node);
        const renderedItems = this._renderedElements.get(element.element.handle) ?? [];
        this._renderedElements.set(element.element.handle, [...renderedItems, { original: element, rendered: templateData }]);
    }
    rerender() {
        const keys = ( (new Set( (this._renderedElements.keys()))));
        for (const key of keys) {
            const values = this._renderedElements.get(key) ?? [];
            for (const value of values) {
                this.disposeElement(value.original, 0, value.rendered);
                this.renderElement(value.original, 0, value.rendered);
            }
        }
    }
    renderCheckbox(node, templateData) {
        if (node.checkbox) {
            if (!this._hasCheckbox) {
                this._hasCheckbox = true;
                this.rerender();
            }
            if (!templateData.checkbox) {
                const checkbox = ( (new _checkbox_js__WEBPACK_IMPORTED_MODULE_63__.TreeItemCheckbox(
                    templateData.checkboxContainer,
                    this.checkboxStateHandler,
                    this._hoverDelegate,
                    this.hoverService
                )));
                templateData.checkbox = checkbox;
            }
            templateData.checkbox.render(node);
        }
        else if (templateData.checkbox) {
            templateData.checkbox.dispose();
            templateData.checkbox = undefined;
        }
    }
    setAlignment(container, treeItem) {
        container.parentElement.classList.toggle('align-icon-with-twisty', !this._hasCheckbox && this.aligner.alignIconWithTwisty(treeItem));
    }
    shouldHideResourceLabelIcon(iconUrl, icon) {
        return (!!iconUrl || (!!icon && !this.isFileKindThemeIcon(icon)));
    }
    shouldShowThemeIcon(hasResource, icon) {
        if (!icon) {
            return false;
        }
        return !(hasResource && this.isFileKindThemeIcon(icon));
    }
    isFolderThemeIcon(icon) {
        return icon?.id === _platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_47__.FolderThemeIcon.id;
    }
    isFileKindThemeIcon(icon) {
        if (icon) {
            return icon.id === _platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_47__.FileThemeIcon.id || this.isFolderThemeIcon(icon);
        }
        else {
            return false;
        }
    }
    getFileKind(node) {
        if (node.themeIcon) {
            switch (node.themeIcon.id) {
                case _platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_47__.FileThemeIcon.id:
                    return _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_35__.FileKind.FILE;
                case _platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_47__.FolderThemeIcon.id:
                    return _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_35__.FileKind.FOLDER;
            }
        }
        return node.collapsibleState === _common_views_js__WEBPACK_IMPORTED_MODULE_54__.TreeItemCollapsibleState.Collapsed || node.collapsibleState === _common_views_js__WEBPACK_IMPORTED_MODULE_54__.TreeItemCollapsibleState.Expanded ? _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_35__.FileKind.FOLDER : _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_35__.FileKind.FILE;
    }
    onDidChangeContext(e) {
        const items = [];
        for (const [_, elements] of this._renderedElements) {
            for (const element of elements) {
                if (e.affectsSome(this.menus.getElementOverlayContexts(element.original.element)) || e.affectsSome(this.menus.getEntireMenuContexts())) {
                    items.push(element.original.element);
                }
            }
        }
        if (items.length) {
            this._onDidChangeMenuContext.fire(items);
        }
    }
    updateCheckboxes(items) {
        const additionalItems = [];
        if (!this.manuallyManageCheckboxes()) {
            for (const item of items) {
                if (item.checkbox !== undefined) {
                    function checkChildren(currentItem) {
                        for (const child of (currentItem.children ?? [])) {
                            if ((child.checkbox !== undefined) && (currentItem.checkbox !== undefined) && (child.checkbox.isChecked !== currentItem.checkbox.isChecked)) {
                                child.checkbox.isChecked = currentItem.checkbox.isChecked;
                                additionalItems.push(child);
                                checkChildren(child);
                            }
                        }
                    }
                    checkChildren(item);
                    const visitedParents = ( (new Set()));
                    function checkParents(currentItem) {
                        if (currentItem.parent && (currentItem.parent.checkbox !== undefined) && currentItem.parent.children) {
                            if (( (visitedParents.has(currentItem.parent)))) {
                                return;
                            }
                            else {
                                visitedParents.add(currentItem.parent);
                            }
                            let someUnchecked = false;
                            let someChecked = false;
                            for (const child of currentItem.parent.children) {
                                if (someUnchecked && someChecked) {
                                    break;
                                }
                                if (child.checkbox !== undefined) {
                                    if (child.checkbox.isChecked) {
                                        someChecked = true;
                                    }
                                    else {
                                        someUnchecked = true;
                                    }
                                }
                            }
                            if (someChecked && !someUnchecked && (currentItem.parent.checkbox.isChecked !== true)) {
                                currentItem.parent.checkbox.isChecked = true;
                                additionalItems.push(currentItem.parent);
                                checkParents(currentItem.parent);
                            }
                            else if (someUnchecked && (currentItem.parent.checkbox.isChecked !== false)) {
                                currentItem.parent.checkbox.isChecked = false;
                                additionalItems.push(currentItem.parent);
                                checkParents(currentItem.parent);
                            }
                        }
                    }
                    checkParents(item);
                }
            }
        }
        items = items.concat(additionalItems);
        items.forEach(item => {
            const renderedItems = this._renderedElements.get(item.handle);
            if (renderedItems) {
                renderedItems.forEach(renderedItems => renderedItems.rendered.checkbox?.render(item));
            }
        });
        this._onDidChangeCheckboxState.fire(items);
    }
    disposeElement(resource, index, templateData) {
        const itemRenders = this._renderedElements.get(resource.element.handle) ?? [];
        const renderedIndex = itemRenders.findIndex(renderedItem => templateData === renderedItem.rendered);
        if (itemRenders.length === 1) {
            this._renderedElements.delete(resource.element.handle);
        }
        else if (itemRenders.length > 0) {
            itemRenders.splice(renderedIndex, 1);
        }
        templateData.checkbox?.dispose();
        templateData.checkbox = undefined;
    }
    disposeTemplate(templateData) {
        templateData.resourceLabel.dispose();
        templateData.actionBar.dispose();
    }
};
TreeRenderer = TreeRenderer_1 = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_48__.IThemeService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_31__.IConfigurationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, _platform_label_common_label_service_js__WEBPACK_IMPORTED_MODULE_38__.ILabelService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_33__.IContextKeyService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(11, _platform_hover_browser_hover_service_js__WEBPACK_IMPORTED_MODULE_60__.IHoverService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(12, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_36__.IInstantiationService)))
], TreeRenderer)));
class Aligner extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_15__.Disposable {
    constructor(themeService) {
        super();
        this.themeService = themeService;
    }
    set tree(tree) {
        this._tree = tree;
    }
    alignIconWithTwisty(treeItem) {
        if (treeItem.collapsibleState !== _common_views_js__WEBPACK_IMPORTED_MODULE_54__.TreeItemCollapsibleState.None) {
            return false;
        }
        if (!this.hasIcon(treeItem)) {
            return false;
        }
        if (this._tree) {
            const parent = this._tree.getParentElement(treeItem) || this._tree.getInput();
            if (this.hasIcon(parent)) {
                return !!parent.children && ( (parent.children.some(
                    c => c.collapsibleState !== _common_views_js__WEBPACK_IMPORTED_MODULE_54__.TreeItemCollapsibleState.None && !this.hasIcon(c)
                )));
            }
            return !!parent.children && parent.children.every(c => c.collapsibleState === _common_views_js__WEBPACK_IMPORTED_MODULE_54__.TreeItemCollapsibleState.None || !this.hasIcon(c));
        }
        else {
            return false;
        }
    }
    hasIcon(node) {
        const icon = this.themeService.getColorTheme().type === _platform_theme_common_theme_js__WEBPACK_IMPORTED_MODULE_46__.ColorScheme.LIGHT ? node.icon : node.iconDark;
        if (icon) {
            return true;
        }
        if (node.resourceUri || node.themeIcon) {
            const fileIconTheme = this.themeService.getFileIconTheme();
            const isFolder = node.themeIcon ? node.themeIcon.id === _platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_47__.FolderThemeIcon.id : node.collapsibleState !== _common_views_js__WEBPACK_IMPORTED_MODULE_54__.TreeItemCollapsibleState.None;
            if (isFolder) {
                return fileIconTheme.hasFileIcons && fileIconTheme.hasFolderIcons;
            }
            return fileIconTheme.hasFileIcons;
        }
        return false;
    }
}
class MultipleSelectionActionRunner extends _base_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.ActionRunner {
    constructor(notificationService, getSelectedResources) {
        super();
        this.getSelectedResources = getSelectedResources;
        this._register(this.onDidRun(e => {
            if (e.error && !(0,_base_common_errors_js__WEBPACK_IMPORTED_MODULE_11__.isCancellationError)(e.error)) {
                notificationService.error(( (0,_nls_js__WEBPACK_IMPORTED_MODULE_25__.localize)(
                    9646,
                    'Error running command {1}: {0}. This is likely caused by the extension that contributes {1}.',
                    e.error.message,
                    e.action.id
                )));
            }
        }));
    }
    async runAction(action, context) {
        const selection = this.getSelectedResources();
        let selectionHandleArgs = undefined;
        let actionInSelected = false;
        if (selection.length > 1) {
            selectionHandleArgs = ( (selection.map(selected => {
                if ((selected.handle === context.$treeItemHandle) || context.$selectedTreeItems) {
                    actionInSelected = true;
                }
                return { $treeViewId: context.$treeViewId, $treeItemHandle: selected.handle };
            })));
        }
        if (!actionInSelected && selectionHandleArgs) {
            selectionHandleArgs = undefined;
        }
        await action.run(context, selectionHandleArgs);
    }
}
let TreeMenus = class TreeMenus {
    constructor(id, menuService) {
        this.id = id;
        this.menuService = menuService;
        this._onDidChange = ( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_12__.Emitter()));
        this.onDidChange = this._onDidChange.event;
    }
    getResourceActions(elements) {
        const actions = this.getActions(this.getMenuId(), elements);
        return actions.primary;
    }
    getResourceContextActions(elements) {
        return this.getActions(this.getMenuId(), elements).secondary;
    }
    setContextKeyService(service) {
        this.contextKeyService = service;
    }
    filterNonUniversalActions(groups, newActions) {
        const newActionsSet = ( (new Set( (newActions.map(a => a.id)))));
        for (const group of groups) {
            const actions = ( (group.keys()));
            for (const action of actions) {
                if (!( (newActionsSet.has(action)))) {
                    group.delete(action);
                }
            }
        }
    }
    buildMenu(groups) {
        const result = [];
        for (const group of groups) {
            if (group.size > 0) {
                if (result.length) {
                    result.push(( (new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.Separator())));
                }
                result.push(...( (group.values())));
            }
        }
        return result;
    }
    createGroups(actions) {
        const groups = [];
        let group = ( (new Map()));
        for (const action of actions) {
            if (action instanceof _base_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.Separator) {
                groups.push(group);
                group = ( (new Map()));
            }
            else {
                group.set(action.id, action);
            }
        }
        groups.push(group);
        return groups;
    }
    getElementOverlayContexts(element) {
        return (
             (new Map([
                ['view', this.id],
                ['viewItem', element.contextValue]
            ]))
        );
    }
    getEntireMenuContexts() {
        return this.menuService.getMenuContexts(this.getMenuId());
    }
    getMenuId() {
        return _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_27__.MenuId.ViewItemContext;
    }
    getActions(menuId, elements) {
        if (!this.contextKeyService) {
            return { primary: [], secondary: [] };
        }
        let primaryGroups = [];
        let secondaryGroups = [];
        for (let i = 0; i < elements.length; i++) {
            const element = elements[i];
            const contextKeyService = this.contextKeyService.createOverlay(this.getElementOverlayContexts(element));
            const menuData = this.menuService.getMenuActions(menuId, contextKeyService, { shouldForwardArgs: true });
            const primary = [];
            const secondary = [];
            const result = { primary, secondary };
            (0,_platform_actions_browser_menuEntryActionViewItem_js__WEBPACK_IMPORTED_MODULE_26__.createAndFillInContextMenuActions)(menuData, result, 'inline');
            if (i === 0) {
                primaryGroups = this.createGroups(result.primary);
                secondaryGroups = this.createGroups(result.secondary);
            }
            else {
                this.filterNonUniversalActions(primaryGroups, result.primary);
                this.filterNonUniversalActions(secondaryGroups, result.secondary);
            }
        }
        return { primary: this.buildMenu(primaryGroups), secondary: this.buildMenu(secondaryGroups) };
    }
    dispose() {
        this.contextKeyService = undefined;
    }
};
TreeMenus = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _platform_actions_common_actions_service_js__WEBPACK_IMPORTED_MODULE_28__.IMenuService)))
], TreeMenus)));
let CustomTreeView = class CustomTreeView extends AbstractTreeView {
    constructor(id, title, extensionId, themeService, instantiationService, commandService, configurationService, progressService, contextMenuService, keybindingService, notificationService, viewDescriptorService, contextKeyService, hoverService, extensionService, activityService, telemetryService, logService, openerService) {
        super(id, title, themeService, instantiationService, commandService, configurationService, progressService, contextMenuService, keybindingService, notificationService, viewDescriptorService, hoverService, contextKeyService, activityService, logService, openerService);
        this.extensionId = extensionId;
        this.extensionService = extensionService;
        this.telemetryService = telemetryService;
    }
    activate() {
        if (!this.activated) {
            this.telemetryService.publicLog2('Extension:ViewActivate', {
                extensionId: ( (new _platform_telemetry_common_telemetryUtils_js__WEBPACK_IMPORTED_MODULE_65__.TelemetryTrustedValue(this.extensionId))),
                id: this.id,
            });
            this.createTree();
            this.progressService.withProgress({ location: this.id }, () => this.extensionService.activateByEvent(`onView:${this.id}`))
                .then(() => (0,_base_common_async_js__WEBPACK_IMPORTED_MODULE_8__.timeout)(2000))
                .then(() => {
                this.updateMessage();
            });
            this.activated = true;
        }
    }
};
CustomTreeView = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_48__.IThemeService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_36__.IInstantiationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _platform_commands_common_commands_service_js__WEBPACK_IMPORTED_MODULE_30__.ICommandService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_31__.IConfigurationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, _platform_progress_common_progress_service_js__WEBPACK_IMPORTED_MODULE_43__.IProgressService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, _platform_contextview_browser_contextView_service_js__WEBPACK_IMPORTED_MODULE_34__.IContextMenuService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, _platform_keybinding_common_keybinding_service_js__WEBPACK_IMPORTED_MODULE_37__.IKeybindingService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, _platform_notification_common_notification_service_js__WEBPACK_IMPORTED_MODULE_41__.INotificationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(11, _common_views_service_js__WEBPACK_IMPORTED_MODULE_55__.IViewDescriptorService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(12, _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_33__.IContextKeyService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(13, _platform_hover_browser_hover_service_js__WEBPACK_IMPORTED_MODULE_60__.IHoverService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(14, _services_extensions_common_extensions_service_js__WEBPACK_IMPORTED_MODULE_58__.IExtensionService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(15, _services_activity_common_activity_service_js__WEBPACK_IMPORTED_MODULE_57__.IActivityService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(16, _platform_telemetry_common_telemetry_service_js__WEBPACK_IMPORTED_MODULE_45__.ITelemetryService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(17, _platform_log_common_log_service_js__WEBPACK_IMPORTED_MODULE_40__.ILogService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(18, _platform_opener_common_opener_service_js__WEBPACK_IMPORTED_MODULE_42__.IOpenerService)))
], CustomTreeView)));
class TreeView extends AbstractTreeView {
    activate() {
        if (!this.activated) {
            this.createTree();
            this.activated = true;
        }
    }
}
let CustomTreeViewDragAndDrop = class CustomTreeViewDragAndDrop {
    constructor(treeId, labelService, instantiationService, treeViewsDragAndDropService, logService) {
        this.treeId = treeId;
        this.labelService = labelService;
        this.instantiationService = instantiationService;
        this.treeViewsDragAndDropService = treeViewsDragAndDropService;
        this.logService = logService;
        this.treeItemsTransfer = _platform_dnd_browser_dnd_js__WEBPACK_IMPORTED_MODULE_61__.LocalSelectionTransfer.getInstance();
        this.treeMimeType = `application/vnd.code.tree.${treeId.toLowerCase()}`;
    }
    set controller(controller) {
        this.dndController = controller;
    }
    handleDragAndLog(dndController, itemHandles, uuid, dragCancellationToken) {
        return dndController.handleDrag(itemHandles, uuid, dragCancellationToken).then(additionalDataTransfer => {
            if (additionalDataTransfer) {
                const unlistedTypes = [];
                for (const item of additionalDataTransfer) {
                    if ((item[0] !== this.treeMimeType) && (dndController.dragMimeTypes.findIndex(value => value === item[0]) < 0)) {
                        unlistedTypes.push(item[0]);
                    }
                }
                if (unlistedTypes.length) {
                    this.logService.warn(`Drag and drop controller for tree ${this.treeId} adds the following data transfer types but does not declare them in dragMimeTypes: ${unlistedTypes.join(', ')}`);
                }
            }
            return additionalDataTransfer;
        });
    }
    addExtensionProvidedTransferTypes(originalEvent, itemHandles) {
        if (!originalEvent.dataTransfer || !this.dndController) {
            return;
        }
        const uuid = (0,_base_common_uuid_js__WEBPACK_IMPORTED_MODULE_22__.generateUuid)();
        this.dragCancellationToken = ( (new _base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_9__.CancellationTokenSource()));
        this.treeViewsDragAndDropService.addDragOperationTransfer(uuid, this.handleDragAndLog(this.dndController, itemHandles, uuid, this.dragCancellationToken.token));
        this.treeItemsTransfer.setData([( (new _editor_common_services_treeViewsDnd_js__WEBPACK_IMPORTED_MODULE_67__.DraggedTreeItemsIdentifier(uuid)))], _editor_common_services_treeViewsDnd_js__WEBPACK_IMPORTED_MODULE_67__.DraggedTreeItemsIdentifier.prototype);
        originalEvent.dataTransfer.clearData(_base_common_mime_js__WEBPACK_IMPORTED_MODULE_16__.Mimes.text);
        if (this.dndController.dragMimeTypes.find((element) => element === _base_common_mime_js__WEBPACK_IMPORTED_MODULE_16__.Mimes.uriList)) {
            originalEvent.dataTransfer?.setData(_base_browser_dnd_js__WEBPACK_IMPORTED_MODULE_1__.DataTransfers.RESOURCES, '');
        }
        this.dndController.dragMimeTypes.forEach(supportedType => {
            originalEvent.dataTransfer?.setData(supportedType, '');
        });
    }
    addResourceInfoToTransfer(originalEvent, resources) {
        if (resources.length && originalEvent.dataTransfer) {
            this.instantiationService.invokeFunction(accessor => (0,_dnd_js__WEBPACK_IMPORTED_MODULE_50__.fillEditorsDragData)(accessor, resources, originalEvent));
            const fileResources = ( (resources.filter(s => s.scheme === _base_common_network_js__WEBPACK_IMPORTED_MODULE_17__.Schemas.file).map(r => r.fsPath)));
            if (fileResources.length) {
                originalEvent.dataTransfer.setData(_platform_dnd_browser_dnd_js__WEBPACK_IMPORTED_MODULE_61__.CodeDataTransfers.FILES, JSON.stringify(fileResources));
            }
        }
    }
    onDragStart(data, originalEvent) {
        if (originalEvent.dataTransfer) {
            const treeItemsData = data.getData();
            const resources = [];
            const sourceInfo = {
                id: this.treeId,
                itemHandles: []
            };
            treeItemsData.forEach(item => {
                sourceInfo.itemHandles.push(item.handle);
                if (item.resourceUri) {
                    resources.push(_base_common_uri_js__WEBPACK_IMPORTED_MODULE_21__.URI.revive(item.resourceUri));
                }
            });
            this.addResourceInfoToTransfer(originalEvent, resources);
            this.addExtensionProvidedTransferTypes(originalEvent, sourceInfo.itemHandles);
            originalEvent.dataTransfer.setData(this.treeMimeType, JSON.stringify(sourceInfo));
        }
    }
    debugLog(types) {
        if (types.size) {
            this.logService.debug(`TreeView dragged mime types: ${Array.from(types).join(', ')}`);
        }
        else {
            this.logService.debug(`TreeView dragged with no supported mime types.`);
        }
    }
    onDragOver(data, targetElement, targetIndex, targetSector, originalEvent) {
        const dataTransfer = (0,_editor_browser_dnd_js__WEBPACK_IMPORTED_MODULE_62__.toExternalVSDataTransfer)(originalEvent.dataTransfer);
        const types = ( (new Set(Array.from(dataTransfer, x => x[0]))));
        if (originalEvent.dataTransfer) {
            for (const item of originalEvent.dataTransfer.items) {
                if (item.kind === 'file' || item.type === _base_browser_dnd_js__WEBPACK_IMPORTED_MODULE_1__.DataTransfers.RESOURCES.toLowerCase()) {
                    types.add(_base_common_mime_js__WEBPACK_IMPORTED_MODULE_16__.Mimes.uriList);
                    break;
                }
            }
        }
        this.debugLog(types);
        const dndController = this.dndController;
        if (!dndController || !originalEvent.dataTransfer || (dndController.dropMimeTypes.length === 0)) {
            return false;
        }
        const dragContainersSupportedType = ( (Array.from(types).some((value, index) => {
            if (value === this.treeMimeType) {
                return true;
            }
            else {
                return dndController.dropMimeTypes.indexOf(value) >= 0;
            }
        })));
        if (dragContainersSupportedType) {
            return { accept: true, bubble: 0 , autoExpand: true };
        }
        return false;
    }
    getDragURI(element) {
        if (!this.dndController) {
            return null;
        }
        return element.resourceUri ? ( (_base_common_uri_js__WEBPACK_IMPORTED_MODULE_21__.URI.revive(element.resourceUri).toString())) : element.handle;
    }
    getDragLabel(elements) {
        if (!this.dndController) {
            return undefined;
        }
        if (elements.length > 1) {
            return String(elements.length);
        }
        const element = elements[0];
        return element.label ? element.label.label : (element.resourceUri ? this.labelService.getUriLabel(_base_common_uri_js__WEBPACK_IMPORTED_MODULE_21__.URI.revive(element.resourceUri)) : undefined);
    }
    async drop(data, targetNode, targetIndex, targetSector, originalEvent) {
        const dndController = this.dndController;
        if (!originalEvent.dataTransfer || !dndController) {
            return;
        }
        let treeSourceInfo;
        let willDropUuid;
        if (this.treeItemsTransfer.hasData(_editor_common_services_treeViewsDnd_js__WEBPACK_IMPORTED_MODULE_67__.DraggedTreeItemsIdentifier.prototype)) {
            willDropUuid = this.treeItemsTransfer.getData(_editor_common_services_treeViewsDnd_js__WEBPACK_IMPORTED_MODULE_67__.DraggedTreeItemsIdentifier.prototype)[0].identifier;
        }
        const originalDataTransfer = (0,_editor_browser_dnd_js__WEBPACK_IMPORTED_MODULE_62__.toExternalVSDataTransfer)(originalEvent.dataTransfer, true);
        const outDataTransfer = ( (new _base_common_dataTransfer_js__WEBPACK_IMPORTED_MODULE_24__.VSDataTransfer()));
        for (const [type, item] of originalDataTransfer) {
            if (type === this.treeMimeType || dndController.dropMimeTypes.includes(type) || (item.asFile() && dndController.dropMimeTypes.includes(_base_browser_dnd_js__WEBPACK_IMPORTED_MODULE_1__.DataTransfers.FILES.toLowerCase()))) {
                outDataTransfer.append(type, item);
                if (type === this.treeMimeType) {
                    try {
                        treeSourceInfo = JSON.parse(await item.asString());
                    }
                    catch {
                    }
                }
            }
        }
        const additionalDataTransfer = await this.treeViewsDragAndDropService.removeDragOperationTransfer(willDropUuid);
        if (additionalDataTransfer) {
            for (const [type, item] of additionalDataTransfer) {
                outDataTransfer.append(type, item);
            }
        }
        return dndController.handleDrop(outDataTransfer, targetNode, _base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_9__.CancellationToken.None, willDropUuid, treeSourceInfo?.id, treeSourceInfo?.itemHandles);
    }
    onDragEnd(originalEvent) {
        if (originalEvent.dataTransfer?.dropEffect === 'none') {
            this.dragCancellationToken?.cancel();
        }
    }
    dispose() { }
};
CustomTreeViewDragAndDrop = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _platform_label_common_label_service_js__WEBPACK_IMPORTED_MODULE_38__.ILabelService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_36__.IInstantiationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _editor_common_services_treeViewsDndService_js__WEBPACK_IMPORTED_MODULE_66__.ITreeViewsDnDService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _platform_log_common_log_service_js__WEBPACK_IMPORTED_MODULE_40__.ILogService)))
], CustomTreeViewDragAndDrop)));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/views/viewsViewlet.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/views/viewsViewlet.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FilterViewPaneContainer: () => (/* binding */ FilterViewPaneContainer)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _services_extensions_common_extensions_service_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/extensions/common/extensions.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/extensions/common/extensions.service.js");
/* harmony import */ var _platform_contextview_browser_contextView_service_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../platform/contextview/browser/contextView.service.js */ "./node_modules/vscode/vscode/src/vs/platform/contextview/browser/contextView.service.js");
/* harmony import */ var _common_views_service_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../common/views.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/views.service.js");
/* harmony import */ var _platform_telemetry_common_telemetry_service_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../platform/telemetry/common/telemetry.service.js */ "./node_modules/vscode/vscode/src/vs/platform/telemetry/common/telemetry.service.js");
/* harmony import */ var _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../platform/theme/common/themeService.service.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.service.js");
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../platform/instantiation/common/instantiation.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var _platform_storage_common_storage_service_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../platform/storage/common/storage.service.js */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var _platform_workspace_common_workspace_service_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../platform/workspace/common/workspace.service.js */ "./node_modules/vscode/vscode/src/vs/platform/workspace/common/workspace.service.js");
/* harmony import */ var _viewPaneContainer_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./viewPaneContainer.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/views/viewPaneContainer.js");
/* harmony import */ var _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../platform/configuration/common/configuration.service.js */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var _services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../services/layout/browser/layoutService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/layout/browser/layoutService.service.js");












let FilterViewPaneContainer = class FilterViewPaneContainer extends _viewPaneContainer_js__WEBPACK_IMPORTED_MODULE_9__.ViewPaneContainer {
    constructor(viewletId, onDidChangeFilterValue, configurationService, layoutService, telemetryService, storageService, instantiationService, themeService, contextMenuService, extensionService, contextService, viewDescriptorService) {
        super(viewletId, { mergeViewWithContainerWhenSingleView: false }, instantiationService, configurationService, layoutService, contextMenuService, telemetryService, extensionService, themeService, storageService, contextService, viewDescriptorService);
        this.constantViewDescriptors = ( new Map());
        this.allViews = ( new Map());
        this._register(onDidChangeFilterValue(newFilterValue => {
            this.filterValue = newFilterValue;
            this.onFilterChanged(newFilterValue);
        }));
        this._register(this.viewContainerModel.onDidChangeActiveViewDescriptors(() => {
            this.updateAllViews(this.viewContainerModel.activeViewDescriptors);
        }));
    }
    updateAllViews(viewDescriptors) {
        viewDescriptors.forEach(descriptor => {
            const filterOnValue = this.getFilterOn(descriptor);
            if (!filterOnValue) {
                return;
            }
            if (!( this.allViews.has(filterOnValue))) {
                this.allViews.set(filterOnValue, ( new Map()));
            }
            this.allViews.get(filterOnValue).set(descriptor.id, descriptor);
            if (this.filterValue && !this.filterValue.includes(filterOnValue) && this.panes.find(pane => pane.id === descriptor.id)) {
                this.viewContainerModel.setVisible(descriptor.id, false);
            }
        });
    }
    addConstantViewDescriptors(constantViewDescriptors) {
        constantViewDescriptors.forEach(viewDescriptor => this.constantViewDescriptors.set(viewDescriptor.id, viewDescriptor));
    }
    onFilterChanged(newFilterValue) {
        if (this.allViews.size === 0) {
            this.updateAllViews(this.viewContainerModel.activeViewDescriptors);
        }
        this.getViewsNotForTarget(newFilterValue).forEach(item => this.viewContainerModel.setVisible(item.id, false));
        this.getViewsForTarget(newFilterValue).forEach(item => this.viewContainerModel.setVisible(item.id, true));
    }
    getViewsForTarget(target) {
        const views = [];
        for (let i = 0; i < target.length; i++) {
            if (( this.allViews.has(target[i]))) {
                views.push(...Array.from(( this.allViews.get(target[i]).values())));
            }
        }
        return views;
    }
    getViewsNotForTarget(target) {
        const iterable = ( this.allViews.keys());
        let key = iterable.next();
        let views = [];
        while (!key.done) {
            let isForTarget = false;
            target.forEach(value => {
                if (key.value === value) {
                    isForTarget = true;
                }
            });
            if (!isForTarget) {
                views = views.concat(this.getViewsForTarget([key.value]));
            }
            key = iterable.next();
        }
        return views;
    }
    onDidAddViewDescriptors(added) {
        const panes = super.onDidAddViewDescriptors(added);
        for (let i = 0; i < added.length; i++) {
            if (( this.constantViewDescriptors.has(added[i].viewDescriptor.id))) {
                panes[i].setExpanded(false);
            }
        }
        if (this.allViews.size === 0) {
            this.updateAllViews(this.viewContainerModel.activeViewDescriptors);
        }
        return panes;
    }
    openView(id, focus) {
        const result = super.openView(id, focus);
        if (result) {
            const descriptorMap = Array.from(this.allViews.entries()).find(entry => ( entry[1].has(id)));
            if (descriptorMap && !this.filterValue?.includes(descriptorMap[0])) {
                this.setFilter(descriptorMap[1].get(id));
            }
        }
        return result;
    }
};
FilterViewPaneContainer = ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_10__.IConfigurationService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_11__.IWorkbenchLayoutService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _platform_telemetry_common_telemetry_service_js__WEBPACK_IMPORTED_MODULE_4__.ITelemetryService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _platform_storage_common_storage_service_js__WEBPACK_IMPORTED_MODULE_7__.IStorageService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_6__.IInstantiationService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_5__.IThemeService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, _platform_contextview_browser_contextView_service_js__WEBPACK_IMPORTED_MODULE_2__.IContextMenuService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, _services_extensions_common_extensions_service_js__WEBPACK_IMPORTED_MODULE_1__.IExtensionService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, _platform_workspace_common_workspace_service_js__WEBPACK_IMPORTED_MODULE_8__.IWorkspaceContextService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(11, _common_views_service_js__WEBPACK_IMPORTED_MODULE_3__.IViewDescriptorService))
], FilterViewPaneContainer));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/window.js":
/*!***********************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/window.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BaseWindow: () => (/* binding */ BaseWindow),
/* harmony export */   BrowserWindow: () => (/* binding */ BrowserWindow)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _base_browser_browser_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../base/browser/browser.js */ "./node_modules/vscode/vscode/src/vs/base/browser/browser.js");
/* harmony import */ var _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../base/browser/dom.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var _base_browser_event_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../base/browser/event.js */ "./node_modules/vscode/vscode/src/vs/base/browser/event.js");
/* harmony import */ var _base_browser_deviceAccess_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../base/browser/deviceAccess.js */ "./node_modules/vscode/vscode/src/vs/base/browser/deviceAccess.js");
/* harmony import */ var _base_common_async_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../base/common/async.js */ "./node_modules/vscode/vscode/src/vs/base/common/async.js");
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../base/common/event.js */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _base_common_network_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../base/common/network.js */ "./node_modules/vscode/vscode/src/vs/base/common/network.js");
/* harmony import */ var _base_common_platform_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../base/common/platform.js */ "./node_modules/vscode/vscode/src/vs/base/common/platform.js");
/* harmony import */ var _base_common_severity_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../base/common/severity.js */ "./node_modules/vscode/vscode/src/vs/base/common/severity.js");
/* harmony import */ var _base_common_uri_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../base/common/uri.js */ "./node_modules/vscode/vscode/src/vs/base/common/uri.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../platform/commands/common/commands.js */ "./node_modules/vscode/vscode/src/vs/platform/commands/common/commands.js");
/* harmony import */ var _platform_dialogs_common_dialogs_service_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../platform/dialogs/common/dialogs.service.js */ "./node_modules/vscode/vscode/src/vs/platform/dialogs/common/dialogs.service.js");
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../platform/instantiation/common/instantiation.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var _platform_label_common_label_service_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../platform/label/common/label.service.js */ "./node_modules/vscode/vscode/src/vs/platform/label/common/label.service.js");
/* harmony import */ var _platform_opener_common_opener_service_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../platform/opener/common/opener.service.js */ "./node_modules/vscode/vscode/src/vs/platform/opener/common/opener.service.js");
/* harmony import */ var _platform_product_common_productService_service_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../platform/product/common/productService.service.js */ "./node_modules/vscode/vscode/src/vs/platform/product/common/productService.service.js");
/* harmony import */ var _services_environment_browser_environmentService_service_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../services/environment/browser/environmentService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/environment/browser/environmentService.service.js");
/* harmony import */ var _services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../services/layout/browser/layoutService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/layout/browser/layoutService.service.js");
/* harmony import */ var _services_lifecycle_common_lifecycle_service_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../services/lifecycle/common/lifecycle.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/lifecycle/common/lifecycle.service.js");
/* harmony import */ var _services_host_browser_host_service_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../services/host/browser/host.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/host/browser/host.service.js");
/* harmony import */ var _services_driver_browser_driver_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../services/driver/browser/driver.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/driver/browser/driver.js");
/* harmony import */ var _base_browser_window_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../base/browser/window.js */ "./node_modules/vscode/vscode/src/vs/base/browser/window.js");
/* harmony import */ var _base_common_functional_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../base/common/functional.js */ "./node_modules/vscode/vscode/src/vs/base/common/functional.js");
/* harmony import */ var _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../platform/configuration/common/configuration.service.js */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var _services_environment_common_environmentService_service_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../services/environment/common/environmentService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/environment/common/environmentService.service.js");




























var BaseWindow_1;
let BaseWindow = class BaseWindow extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_7__.Disposable {
    static { BaseWindow_1 = this; }
    static { this.TIMEOUT_HANDLES = Number.MIN_SAFE_INTEGER; }
    static { this.TIMEOUT_DISPOSABLES = ( (new Map())); }
    constructor(targetWindow, dom = { getWindowsCount: _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.getWindowsCount, getWindows: _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.getWindows }, hostService, environmentService) {
        super();
        this.hostService = hostService;
        this.environmentService = environmentService;
        this.enableWindowFocusOnElementFocus(targetWindow);
        this.enableMultiWindowAwareTimeout(targetWindow, dom);
        this.registerFullScreenListeners(targetWindow.vscodeWindowId);
    }
    enableWindowFocusOnElementFocus(targetWindow) {
        const originalFocus = targetWindow.HTMLElement.prototype.focus;
        const that = this;
        targetWindow.HTMLElement.prototype.focus = function (options) {
            that.onElementFocus((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.getWindow)(this));
            originalFocus.apply(this, [options]);
        };
    }
    onElementFocus(targetWindow) {
        const activeWindow = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.getActiveWindow)();
        if (activeWindow !== targetWindow && activeWindow.document.hasFocus()) {
            targetWindow.focus();
            if (!this.environmentService.extensionTestsLocationURI &&
                !targetWindow.document.hasFocus()) {
                this.hostService.focus(targetWindow);
            }
        }
    }
    enableMultiWindowAwareTimeout(targetWindow, dom = { getWindowsCount: _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.getWindowsCount, getWindows: _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.getWindows }) {
        const originalSetTimeout = targetWindow.setTimeout;
        Object.defineProperty(targetWindow, 'vscodeOriginalSetTimeout', { get: () => originalSetTimeout });
        const originalClearTimeout = targetWindow.clearTimeout;
        Object.defineProperty(targetWindow, 'vscodeOriginalClearTimeout', { get: () => originalClearTimeout });
        targetWindow.setTimeout = function (handler, timeout = 0, ...args) {
            if (dom.getWindowsCount() === 1 || typeof handler === 'string' || timeout === 0 ) {
                return originalSetTimeout.apply(this, [handler, timeout, ...args]);
            }
            const timeoutDisposables = ( (new Set()));
            const timeoutHandle = BaseWindow_1.TIMEOUT_HANDLES++;
            BaseWindow_1.TIMEOUT_DISPOSABLES.set(timeoutHandle, timeoutDisposables);
            const handlerFn = (0,_base_common_functional_js__WEBPACK_IMPORTED_MODULE_25__.createSingleCallFunction)(handler, () => {
                (0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_7__.dispose)(timeoutDisposables);
                BaseWindow_1.TIMEOUT_DISPOSABLES.delete(timeoutHandle);
            });
            for (const { window, disposables } of dom.getWindows()) {
                if ((0,_base_browser_window_js__WEBPACK_IMPORTED_MODULE_24__.isAuxiliaryWindow)(window) && window.document.visibilityState === 'hidden') {
                    continue;
                }
                let didClear = false;
                const handle = window.vscodeOriginalSetTimeout.apply(this, [(...args) => {
                        if (didClear) {
                            return;
                        }
                        handlerFn(...args);
                    }, timeout, ...args]);
                const timeoutDisposable = (0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_7__.toDisposable)(() => {
                    didClear = true;
                    window.vscodeOriginalClearTimeout(handle);
                    timeoutDisposables.delete(timeoutDisposable);
                });
                disposables.add(timeoutDisposable);
                timeoutDisposables.add(timeoutDisposable);
            }
            return timeoutHandle;
        };
        targetWindow.clearTimeout = function (timeoutHandle) {
            const timeoutDisposables = typeof timeoutHandle === 'number' ? BaseWindow_1.TIMEOUT_DISPOSABLES.get(timeoutHandle) : undefined;
            if (timeoutDisposables) {
                (0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_7__.dispose)(timeoutDisposables);
                BaseWindow_1.TIMEOUT_DISPOSABLES.delete(timeoutHandle);
            }
            else {
                originalClearTimeout.apply(this, [timeoutHandle]);
            }
        };
    }
    registerFullScreenListeners(targetWindowId) {
        this._register(this.hostService.onDidChangeFullScreen(({ windowId, fullscreen }) => {
            if (windowId === targetWindowId) {
                const targetWindow = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.getWindowById)(targetWindowId);
                if (targetWindow) {
                    (0,_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_1__.setFullscreen)(fullscreen, targetWindow.window);
                }
            }
        }));
    }
    static async confirmOnShutdown(accessor, reason) {
        const dialogService = accessor.get(_platform_dialogs_common_dialogs_service_js__WEBPACK_IMPORTED_MODULE_14__.IDialogService);
        const configurationService = accessor.get(_platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_26__.IConfigurationService);
        const message = reason === 2  ?
            (_base_common_platform_js__WEBPACK_IMPORTED_MODULE_9__.isMacintosh ? ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(3570, "Are you sure you want to quit?")) : ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(3571, "Are you sure you want to exit?"))) :
            ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(3572, "Are you sure you want to close the window?"));
        const primaryButton = reason === 2  ?
            (_base_common_platform_js__WEBPACK_IMPORTED_MODULE_9__.isMacintosh ? ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(3573, "&&Quit")) : ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(3574, "&&Exit"))) :
            ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(3575, "&&Close Window"));
        const res = await dialogService.confirm({
            message,
            primaryButton,
            checkbox: {
                label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(3576, "Do not ask me again"))
            }
        });
        if (res.confirmed && res.checkboxChecked) {
            await configurationService.updateValue('window.confirmBeforeClose', 'never');
        }
        return res.confirmed;
    }
};
BaseWindow = BaseWindow_1 = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _services_host_browser_host_service_js__WEBPACK_IMPORTED_MODULE_22__.IHostService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _services_environment_common_environmentService_service_js__WEBPACK_IMPORTED_MODULE_27__.IWorkbenchEnvironmentService)))
], BaseWindow)));
let BrowserWindow = class BrowserWindow extends BaseWindow {
    constructor(openerService, lifecycleService, dialogService, labelService, productService, browserEnvironmentService, layoutService, instantiationService, hostService) {
        super(_base_browser_window_js__WEBPACK_IMPORTED_MODULE_24__.mainWindow, undefined, hostService, browserEnvironmentService);
        this.openerService = openerService;
        this.lifecycleService = lifecycleService;
        this.dialogService = dialogService;
        this.labelService = labelService;
        this.productService = productService;
        this.browserEnvironmentService = browserEnvironmentService;
        this.layoutService = layoutService;
        this.instantiationService = instantiationService;
        this.registerListeners();
        this.create();
    }
    registerListeners() {
        this._register(this.lifecycleService.onWillShutdown(() => this.onWillShutdown()));
        const viewport = _base_common_platform_js__WEBPACK_IMPORTED_MODULE_9__.isIOS && _base_browser_window_js__WEBPACK_IMPORTED_MODULE_24__.mainWindow.visualViewport ? _base_browser_window_js__WEBPACK_IMPORTED_MODULE_24__.mainWindow.visualViewport  : _base_browser_window_js__WEBPACK_IMPORTED_MODULE_24__.mainWindow ;
        this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.addDisposableListener)(viewport, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.EventType.RESIZE, () => {
            this.layoutService.layout();
            if (_base_common_platform_js__WEBPACK_IMPORTED_MODULE_9__.isIOS) {
                _base_browser_window_js__WEBPACK_IMPORTED_MODULE_24__.mainWindow.scrollTo(0, 0);
            }
        }));
        this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.addDisposableListener)(this.layoutService.mainContainer, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.EventType.WHEEL, e => e.preventDefault(), { passive: false }));
        this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.addDisposableListener)(this.layoutService.mainContainer, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.EventType.CONTEXT_MENU, e => _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.EventHelper.stop(e, true)));
        this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.addDisposableListener)(this.layoutService.mainContainer, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.EventType.DROP, e => _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.EventHelper.stop(e, true)));
    }
    onWillShutdown() {
        _base_common_event_js__WEBPACK_IMPORTED_MODULE_6__.Event.toPromise(_base_common_event_js__WEBPACK_IMPORTED_MODULE_6__.Event.any(_base_common_event_js__WEBPACK_IMPORTED_MODULE_6__.Event.once(( (new _base_browser_event_js__WEBPACK_IMPORTED_MODULE_3__.DomEmitter(_base_browser_window_js__WEBPACK_IMPORTED_MODULE_24__.mainWindow.document.body, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.EventType.KEY_DOWN, true))).event), _base_common_event_js__WEBPACK_IMPORTED_MODULE_6__.Event.once(( (new _base_browser_event_js__WEBPACK_IMPORTED_MODULE_3__.DomEmitter(_base_browser_window_js__WEBPACK_IMPORTED_MODULE_24__.mainWindow.document.body, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.EventType.MOUSE_DOWN, true))).event))).then(async () => {
            await (0,_base_common_async_js__WEBPACK_IMPORTED_MODULE_5__.timeout)(3000);
            await this.dialogService.prompt({
                type: _base_common_severity_js__WEBPACK_IMPORTED_MODULE_10__["default"].Error,
                message: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(3577, "An unexpected error occurred that requires a reload of this page.")),
                detail: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(3578, "The workbench was unexpectedly disposed while running.")),
                buttons: [
                    {
                        label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(3579, "&&Reload")),
                        run: () => _base_browser_window_js__WEBPACK_IMPORTED_MODULE_24__.mainWindow.location.reload()
                    }
                ]
            });
        });
    }
    create() {
        this.setupOpenHandlers();
        this.registerLabelFormatters();
        this.registerCommands();
        this.setupDriver();
    }
    setupDriver() {
        if (this.environmentService.enableSmokeTestDriver) {
            (0,_services_driver_browser_driver_js__WEBPACK_IMPORTED_MODULE_23__.registerWindowDriver)(this.instantiationService);
        }
    }
    setupOpenHandlers() {
        this.openerService.setDefaultExternalOpener({
            openExternal: async (href) => {
                let isAllowedOpener = false;
                if (this.browserEnvironmentService.options?.openerAllowedExternalUrlPrefixes) {
                    for (const trustedPopupPrefix of this.browserEnvironmentService.options.openerAllowedExternalUrlPrefixes) {
                        if (href.startsWith(trustedPopupPrefix)) {
                            isAllowedOpener = true;
                            break;
                        }
                    }
                }
                if ((0,_base_common_network_js__WEBPACK_IMPORTED_MODULE_8__.matchesScheme)(href, _base_common_network_js__WEBPACK_IMPORTED_MODULE_8__.Schemas.http) || (0,_base_common_network_js__WEBPACK_IMPORTED_MODULE_8__.matchesScheme)(href, _base_common_network_js__WEBPACK_IMPORTED_MODULE_8__.Schemas.https)) {
                    if (_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_1__.isSafari) {
                        const opened = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.windowOpenWithSuccess)(href, !isAllowedOpener);
                        if (!opened) {
                            await this.dialogService.prompt({
                                type: _base_common_severity_js__WEBPACK_IMPORTED_MODULE_10__["default"].Warning,
                                message: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(
                                    3580,
                                    "The browser interrupted the opening of a new tab or window. Press 'Open' to open it anyway."
                                )),
                                detail: href,
                                buttons: [
                                    {
                                        label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(3581, "&&Open")),
                                        run: () => isAllowedOpener ? (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.windowOpenPopup)(href) : (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.windowOpenNoOpener)(href)
                                    },
                                    {
                                        label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(3582, "&&Learn More")),
                                        run: () => this.openerService.open(( (_base_common_uri_js__WEBPACK_IMPORTED_MODULE_11__.URI.parse('https://aka.ms/allow-vscode-popup'))))
                                    }
                                ],
                                cancelButton: true
                            });
                        }
                    }
                    else {
                        isAllowedOpener
                            ? (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.windowOpenPopup)(href)
                            : (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.windowOpenNoOpener)(href);
                    }
                }
                else {
                    const invokeProtocolHandler = () => {
                        this.lifecycleService.withExpectedShutdown({ disableShutdownHandling: true }, () => _base_browser_window_js__WEBPACK_IMPORTED_MODULE_24__.mainWindow.location.href = href);
                    };
                    invokeProtocolHandler();
                    const showProtocolUrlOpenedDialog = async () => {
                        const { downloadUrl } = this.productService;
                        let detail;
                        const buttons = [
                            {
                                label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(3583, "&&Try Again")),
                                run: () => invokeProtocolHandler()
                            }
                        ];
                        if (downloadUrl !== undefined) {
                            detail = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(
                                3584,
                                "We launched {0} on your computer.\n\nIf {1} did not launch, try again or install it below.",
                                this.productService.nameLong,
                                this.productService.nameLong
                            ));
                            buttons.push({
                                label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(3585, "&&Install")),
                                run: async () => {
                                    await this.openerService.open(( (_base_common_uri_js__WEBPACK_IMPORTED_MODULE_11__.URI.parse(downloadUrl))));
                                    showProtocolUrlOpenedDialog();
                                }
                            });
                        }
                        else {
                            detail = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(
                                3586,
                                "We launched {0} on your computer.\n\nIf {1} did not launch, try again below.",
                                this.productService.nameLong,
                                this.productService.nameLong
                            ));
                        }
                        await this.hostService.withExpectedShutdown(() => this.dialogService.prompt({
                            type: _base_common_severity_js__WEBPACK_IMPORTED_MODULE_10__["default"].Info,
                            message: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(3587, "All done. You can close this tab now.")),
                            detail,
                            buttons,
                            cancelButton: true
                        }));
                    };
                    if ((0,_base_common_network_js__WEBPACK_IMPORTED_MODULE_8__.matchesScheme)(href, this.productService.urlProtocol)) {
                        await showProtocolUrlOpenedDialog();
                    }
                }
                return true;
            }
        });
    }
    registerLabelFormatters() {
        this._register(this.labelService.registerFormatter({
            scheme: _base_common_network_js__WEBPACK_IMPORTED_MODULE_8__.Schemas.vscodeUserData,
            priority: true,
            formatting: {
                label: '(Settings) ${path}',
                separator: '/',
            }
        }));
    }
    registerCommands() {
        _platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_13__.CommandsRegistry.registerCommand('workbench.experimental.requestUsbDevice', async (_accessor, options) => {
            return (0,_base_browser_deviceAccess_js__WEBPACK_IMPORTED_MODULE_4__.requestUsbDevice)(options);
        });
        _platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_13__.CommandsRegistry.registerCommand('workbench.experimental.requestSerialPort', async (_accessor, options) => {
            return (0,_base_browser_deviceAccess_js__WEBPACK_IMPORTED_MODULE_4__.requestSerialPort)(options);
        });
        _platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_13__.CommandsRegistry.registerCommand('workbench.experimental.requestHidDevice', async (_accessor, options) => {
            return (0,_base_browser_deviceAccess_js__WEBPACK_IMPORTED_MODULE_4__.requestHidDevice)(options);
        });
    }
};
BrowserWindow = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, _platform_opener_common_opener_service_js__WEBPACK_IMPORTED_MODULE_17__.IOpenerService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _services_lifecycle_common_lifecycle_service_js__WEBPACK_IMPORTED_MODULE_21__.ILifecycleService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_dialogs_common_dialogs_service_js__WEBPACK_IMPORTED_MODULE_14__.IDialogService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _platform_label_common_label_service_js__WEBPACK_IMPORTED_MODULE_16__.ILabelService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _platform_product_common_productService_service_js__WEBPACK_IMPORTED_MODULE_18__.IProductService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _services_environment_browser_environmentService_service_js__WEBPACK_IMPORTED_MODULE_19__.IBrowserWorkbenchEnvironmentService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _services_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_20__.IWorkbenchLayoutService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_15__.IInstantiationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, _services_host_browser_host_service_js__WEBPACK_IMPORTED_MODULE_22__.IHostService)))
], BrowserWindow)));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/common/activity.js":
/*!************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/common/activity.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ACCOUNTS_ACTIVITY_ID: () => (/* binding */ ACCOUNTS_ACTIVITY_ID),
/* harmony export */   GLOBAL_ACTIVITY_ID: () => (/* binding */ GLOBAL_ACTIVITY_ID)
/* harmony export */ });
const GLOBAL_ACTIVITY_ID = 'workbench.actions.manage';
const ACCOUNTS_ACTIVITY_ID = 'workbench.actions.accounts';



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/filteredEditorGroupModel.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/common/editor/filteredEditorGroupModel.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   StickyEditorGroupModel: () => (/* binding */ StickyEditorGroupModel),
/* harmony export */   UnstickyEditorGroupModel: () => (/* binding */ UnstickyEditorGroupModel)
/* harmony export */ });
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../base/common/event.js */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");


class FilteredEditorGroupModel extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.Disposable {
    constructor(model) {
        super();
        this.model = model;
        this._onDidModelChange = this._register(( new _base_common_event_js__WEBPACK_IMPORTED_MODULE_0__.Emitter()));
        this.onDidModelChange = this._onDidModelChange.event;
        this._register(this.model.onDidModelChange(e => {
            const candidateOrIndex = e.editorIndex ?? e.editor;
            if (candidateOrIndex !== undefined) {
                if (!this.filter(candidateOrIndex)) {
                    return;
                }
            }
            this._onDidModelChange.fire(e);
        }));
    }
    get id() { return this.model.id; }
    get isLocked() { return this.model.isLocked; }
    get stickyCount() { return this.model.stickyCount; }
    get activeEditor() { return this.model.activeEditor && this.filter(this.model.activeEditor) ? this.model.activeEditor : null; }
    get previewEditor() { return this.model.previewEditor && this.filter(this.model.previewEditor) ? this.model.previewEditor : null; }
    get selectedEditors() { return this.model.selectedEditors.filter(e => this.filter(e)); }
    isPinned(editorOrIndex) { return this.model.isPinned(editorOrIndex); }
    isTransient(editorOrIndex) { return this.model.isTransient(editorOrIndex); }
    isSticky(editorOrIndex) { return this.model.isSticky(editorOrIndex); }
    isActive(editor) { return this.model.isActive(editor); }
    isSelected(editorOrIndex) { return this.model.isSelected(editorOrIndex); }
    isFirst(editor) {
        return this.model.isFirst(editor, this.getEditors(1 ));
    }
    isLast(editor) {
        return this.model.isLast(editor, this.getEditors(1 ));
    }
    getEditors(order, options) {
        const editors = this.model.getEditors(order, options);
        return editors.filter(e => this.filter(e));
    }
    findEditor(candidate, options) {
        const result = this.model.findEditor(candidate, options);
        if (!result) {
            return undefined;
        }
        return this.filter(result[1]) ? result : undefined;
    }
}
class StickyEditorGroupModel extends FilteredEditorGroupModel {
    get count() { return this.model.stickyCount; }
    getEditors(order, options) {
        if (options?.excludeSticky) {
            return [];
        }
        if (order === 1 ) {
            return this.model.getEditors(1 ).slice(0, this.model.stickyCount);
        }
        return super.getEditors(order, options);
    }
    isSticky(editorOrIndex) {
        return true;
    }
    getEditorByIndex(index) {
        return index < this.count ? this.model.getEditorByIndex(index) : undefined;
    }
    indexOf(editor, editors, options) {
        const editorIndex = this.model.indexOf(editor, editors, options);
        if (editorIndex < 0 || editorIndex >= this.model.stickyCount) {
            return -1;
        }
        return editorIndex;
    }
    contains(candidate, options) {
        const editorIndex = this.model.indexOf(candidate, undefined, options);
        return editorIndex >= 0 && editorIndex < this.model.stickyCount;
    }
    filter(candidateOrIndex) {
        return this.model.isSticky(candidateOrIndex);
    }
}
class UnstickyEditorGroupModel extends FilteredEditorGroupModel {
    get count() { return this.model.count - this.model.stickyCount; }
    get stickyCount() { return 0; }
    isSticky(editorOrIndex) {
        return false;
    }
    getEditors(order, options) {
        if (order === 1 ) {
            return this.model.getEditors(1 ).slice(this.model.stickyCount);
        }
        return super.getEditors(order, options);
    }
    getEditorByIndex(index) {
        return index >= 0 ? this.model.getEditorByIndex(index + this.model.stickyCount) : undefined;
    }
    indexOf(editor, editors, options) {
        const editorIndex = this.model.indexOf(editor, editors, options);
        if (editorIndex < this.model.stickyCount || editorIndex >= this.model.count) {
            return -1;
        }
        return editorIndex - this.model.stickyCount;
    }
    contains(candidate, options) {
        const editorIndex = this.model.indexOf(candidate, undefined, options);
        return editorIndex >= this.model.stickyCount && editorIndex < this.model.count;
    }
    filter(candidateOrIndex) {
        return !this.model.isSticky(candidateOrIndex);
    }
}



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/contrib/codeEditor/browser/find/simpleFindWidget.css.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/contrib/codeEditor/browser/find/simpleFindWidget.css.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ css),
/* harmony export */   "default": () => (/* binding */ css)
/* harmony export */ });
/* harmony import */ var _external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../external/rollup-plugin-styles/dist/runtime/inject-css.js */ "./node_modules/vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js");

var css = ".monaco-workbench .simple-find-part-wrapper{max-width:calc(100% - 64px);overflow:hidden;padding:0 10px 10px;pointer-events:none;position:absolute;right:18px;top:0;z-index:10}.simple-find-part .monaco-inputbox>.ibwrapper>input{text-overflow:clip}.monaco-workbench .simple-find-part{align-items:center;background-color:var(--vscode-editorWidget-background)!important;border:1px solid var(--vscode-widget-border);border-bottom-left-radius:4px;border-bottom-right-radius:4px;box-shadow:0 0 8px 2px var(--vscode-widget-shadow);color:var(--vscode-editorWidget-foreground);display:flex;font-size:12px;padding:4px;pointer-events:all;position:relative;top:-45px;transition:top .2s linear;visibility:hidden;z-index:10}.monaco-workbench.reduce-motion .monaco-editor .find-widget{transition:top 0ms linear}.monaco-workbench .simple-find-part.visible{visibility:visible}.monaco-workbench .simple-find-part.suppress-transition{transition:none}.monaco-workbench .simple-find-part.visible-transition{top:0}.monaco-workbench .simple-find-part .monaco-findInput{flex:1}.monaco-workbench .simple-find-part .matchesCount{max-width:73px;min-width:73px;padding-left:5px;width:73px}.monaco-workbench .simple-find-part.reduced-find-widget .matchesCount{display:none}.monaco-workbench .simple-find-part .button{background-position:50%;background-repeat:no-repeat;cursor:pointer;display:flex;flex:initial;height:20px;justify-content:center;line-height:20px;margin-left:3px;min-width:20px;width:20px}.monaco-workbench div.simple-find-part div.button.disabled{cursor:default;opacity:.3!important}div.simple-find-part-wrapper div.button{border-radius:5px}.no-results.matchesCount{color:var(--vscode-errorForeground)}div.simple-find-part-wrapper div.button:hover:not(.disabled){background-color:var(--vscode-toolbar-hoverBackground);outline:1px dashed var(--vscode-toolbar-hoverOutline);outline-offset:-1px}.monaco-workbench .simple-find-part .monaco-sash{border-bottom-left-radius:4px;border-left:1px solid;left:0!important}.monaco-workbench .simple-find-part .monaco-sash.vertical:before{left:calc(50% - var(--vscode-sash-hover-size)/4);width:2px}";
(0,_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__["default"])(css,{});



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/contrib/codeEditor/browser/find/simpleFindWidget.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/contrib/codeEditor/browser/find/simpleFindWidget.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SimpleFindWidget: () => (/* binding */ SimpleFindWidget),
/* harmony export */   simpleFindWidgetSashBorder: () => (/* binding */ simpleFindWidgetSashBorder)
/* harmony export */ });
/* harmony import */ var _simpleFindWidget_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleFindWidget.css.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/codeEditor/browser/find/simpleFindWidget.css.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../base/browser/dom.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var _base_browser_ui_widget_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../base/browser/ui/widget.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/widget.js");
/* harmony import */ var _base_common_async_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../base/common/async.js */ "./node_modules/vscode/vscode/src/vs/base/common/async.js");
/* harmony import */ var _editor_contrib_find_browser_findState_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../editor/contrib/find/browser/findState.js */ "./node_modules/vscode/vscode/src/vs/editor/contrib/find/browser/findState.js");
/* harmony import */ var _editor_contrib_find_browser_findWidget_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../editor/contrib/find/browser/findWidget.js */ "./node_modules/vscode/vscode/src/vs/editor/contrib/find/browser/findWidget.js");
/* harmony import */ var _platform_history_browser_contextScopedHistoryWidget_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../platform/history/browser/contextScopedHistoryWidget.js */ "./node_modules/vscode/vscode/src/vs/platform/history/browser/contextScopedHistoryWidget.js");
/* harmony import */ var _platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../platform/theme/common/iconRegistry.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/iconRegistry.js");
/* harmony import */ var _platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../platform/theme/common/themeService.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.js");
/* harmony import */ var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../base/common/strings.js */ "./node_modules/vscode/vscode/src/vs/base/common/strings.js");
/* harmony import */ var _platform_history_browser_historyWidgetKeybindingHint_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../platform/history/browser/historyWidgetKeybindingHint.js */ "./node_modules/vscode/vscode/src/vs/platform/history/browser/historyWidgetKeybindingHint.js");
/* harmony import */ var _base_browser_ui_aria_aria_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../base/browser/ui/aria/aria.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/aria/aria.js");
/* harmony import */ var _platform_theme_browser_defaultStyles_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../platform/theme/browser/defaultStyles.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/browser/defaultStyles.js");
/* harmony import */ var _base_browser_ui_sash_sash_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../../base/browser/ui/sash/sash.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/sash/sash.js");
/* harmony import */ var _platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../../platform/theme/common/colorUtils.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colorUtils.js");
/* harmony import */ var _platform_theme_common_colors_baseColors_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../../platform/theme/common/colors/baseColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/baseColors.js");
/* harmony import */ var _platform_theme_common_colors_chartsColors_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../../platform/theme/common/colors/chartsColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/chartsColors.js");
/* harmony import */ var _platform_theme_common_colors_editorColors_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../../platform/theme/common/colors/editorColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/editorColors.js");
/* harmony import */ var _platform_theme_common_colors_inputColors_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../../platform/theme/common/colors/inputColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/inputColors.js");
/* harmony import */ var _platform_theme_common_colors_listColors_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../../platform/theme/common/colors/listColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/listColors.js");
/* harmony import */ var _platform_theme_common_colors_menuColors_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../../platform/theme/common/colors/menuColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/menuColors.js");
/* harmony import */ var _platform_theme_common_colors_minimapColors_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../../platform/theme/common/colors/minimapColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/minimapColors.js");
/* harmony import */ var _platform_theme_common_colors_miscColors_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../../platform/theme/common/colors/miscColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/miscColors.js");
/* harmony import */ var _platform_theme_common_colors_quickpickColors_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../../platform/theme/common/colors/quickpickColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/quickpickColors.js");
/* harmony import */ var _platform_theme_common_colors_searchColors_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../../../platform/theme/common/colors/searchColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/searchColors.js");


























const NLS_FIND_INPUT_LABEL = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(11668, "Find"));
const NLS_FIND_INPUT_PLACEHOLDER = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(11669, "Find"));
const NLS_PREVIOUS_MATCH_BTN_LABEL = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(11670, "Previous Match"));
const NLS_NEXT_MATCH_BTN_LABEL = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(11671, "Next Match"));
const NLS_CLOSE_BTN_LABEL = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(11672, "Close"));
const SIMPLE_FIND_WIDGET_INITIAL_WIDTH = 310;
const MATCHES_COUNT_WIDTH = 73;
class SimpleFindWidget extends _base_browser_ui_widget_js__WEBPACK_IMPORTED_MODULE_3__.Widget {
    constructor(options, contextViewService, contextKeyService, hoverService, _keybindingService) {
        super();
        this._keybindingService = _keybindingService;
        this._isVisible = false;
        this._foundMatch = false;
        this._width = 0;
        this.state = ( (new _editor_contrib_find_browser_findState_js__WEBPACK_IMPORTED_MODULE_5__.FindReplaceState()));
        this._matchesLimit = options.matchesLimit ?? Number.MAX_SAFE_INTEGER;
        this._findInput = this._register(( (new _platform_history_browser_contextScopedHistoryWidget_js__WEBPACK_IMPORTED_MODULE_7__.ContextScopedFindInput(null, contextViewService, {
            label: NLS_FIND_INPUT_LABEL,
            placeholder: NLS_FIND_INPUT_PLACEHOLDER,
            validation: (value) => {
                if (value.length === 0 || !this._findInput.getRegex()) {
                    return null;
                }
                try {
                    ( (new RegExp(value)));
                    return null;
                }
                catch (e) {
                    this._foundMatch = false;
                    this.updateButtons(this._foundMatch);
                    return { content: e.message };
                }
            },
            showCommonFindToggles: options.showCommonFindToggles,
            appendCaseSensitiveLabel: options.appendCaseSensitiveActionId ? this._getKeybinding(options.appendCaseSensitiveActionId) : undefined,
            appendRegexLabel: options.appendRegexActionId ? this._getKeybinding(options.appendRegexActionId) : undefined,
            appendWholeWordsLabel: options.appendWholeWordsActionId ? this._getKeybinding(options.appendWholeWordsActionId) : undefined,
            showHistoryHint: () => (0,_platform_history_browser_historyWidgetKeybindingHint_js__WEBPACK_IMPORTED_MODULE_11__.showHistoryKeybindingHint)(_keybindingService),
            inputBoxStyles: _platform_theme_browser_defaultStyles_js__WEBPACK_IMPORTED_MODULE_13__.defaultInputBoxStyles,
            toggleStyles: _platform_theme_browser_defaultStyles_js__WEBPACK_IMPORTED_MODULE_13__.defaultToggleStyles
        }, contextKeyService))));
        this._updateHistoryDelayer = this._register(( (new _base_common_async_js__WEBPACK_IMPORTED_MODULE_4__.Delayer(500))));
        this._register(this._findInput.onInput(async (e) => {
            if (!options.checkImeCompletionState || !this._findInput.isImeSessionInProgress) {
                this._foundMatch = this._onInputChanged();
                if (options.showResultCount) {
                    await this.updateResultCount();
                }
                this.updateButtons(this._foundMatch);
                this.focusFindBox();
                this._delayedUpdateHistory();
            }
        }));
        this._findInput.setRegex(!!this.state.isRegex);
        this._findInput.setCaseSensitive(!!this.state.matchCase);
        this._findInput.setWholeWords(!!this.state.wholeWord);
        this._register(this._findInput.onDidOptionChange(() => {
            this.state.change({
                isRegex: this._findInput.getRegex(),
                wholeWord: this._findInput.getWholeWords(),
                matchCase: this._findInput.getCaseSensitive()
            }, true);
        }));
        this._register(this.state.onFindReplaceStateChange(() => {
            this._findInput.setRegex(this.state.isRegex);
            this._findInput.setWholeWords(this.state.wholeWord);
            this._findInput.setCaseSensitive(this.state.matchCase);
            this.findFirst();
        }));
        this.prevBtn = this._register(( (new _editor_contrib_find_browser_findWidget_js__WEBPACK_IMPORTED_MODULE_6__.SimpleButton({
            label: NLS_PREVIOUS_MATCH_BTN_LABEL + (options.previousMatchActionId ? this._getKeybinding(options.previousMatchActionId) : ''),
            icon: _editor_contrib_find_browser_findWidget_js__WEBPACK_IMPORTED_MODULE_6__.findPreviousMatchIcon,
            onTrigger: () => {
                this.find(true);
            }
        }, hoverService))));
        this.nextBtn = this._register(( (new _editor_contrib_find_browser_findWidget_js__WEBPACK_IMPORTED_MODULE_6__.SimpleButton({
            label: NLS_NEXT_MATCH_BTN_LABEL + (options.nextMatchActionId ? this._getKeybinding(options.nextMatchActionId) : ''),
            icon: _editor_contrib_find_browser_findWidget_js__WEBPACK_IMPORTED_MODULE_6__.findNextMatchIcon,
            onTrigger: () => {
                this.find(false);
            }
        }, hoverService))));
        const closeBtn = this._register(( (new _editor_contrib_find_browser_findWidget_js__WEBPACK_IMPORTED_MODULE_6__.SimpleButton({
            label: NLS_CLOSE_BTN_LABEL + (options.closeWidgetActionId ? this._getKeybinding(options.closeWidgetActionId) : ''),
            icon: _platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_8__.widgetClose,
            onTrigger: () => {
                this.hide();
            }
        }, hoverService))));
        this._innerDomNode = document.createElement('div');
        this._innerDomNode.classList.add('simple-find-part');
        this._innerDomNode.appendChild(this._findInput.domNode);
        this._innerDomNode.appendChild(this.prevBtn.domNode);
        this._innerDomNode.appendChild(this.nextBtn.domNode);
        this._innerDomNode.appendChild(closeBtn.domNode);
        this._domNode = document.createElement('div');
        this._domNode.classList.add('simple-find-part-wrapper');
        this._domNode.appendChild(this._innerDomNode);
        this.onkeyup(this._innerDomNode, e => {
            if (e.equals(9 )) {
                this.hide();
                e.preventDefault();
                return;
            }
        });
        this._focusTracker = this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.trackFocus)(this._innerDomNode));
        this._register(this._focusTracker.onDidFocus(this._onFocusTrackerFocus.bind(this)));
        this._register(this._focusTracker.onDidBlur(this._onFocusTrackerBlur.bind(this)));
        this._findInputFocusTracker = this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.trackFocus)(this._findInput.domNode));
        this._register(this._findInputFocusTracker.onDidFocus(this._onFindInputFocusTrackerFocus.bind(this)));
        this._register(this._findInputFocusTracker.onDidBlur(this._onFindInputFocusTrackerBlur.bind(this)));
        this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.addDisposableListener)(this._innerDomNode, 'click', (event) => {
            event.stopPropagation();
        }));
        if (options?.showResultCount) {
            this._domNode.classList.add('result-count');
            this._matchesCount = document.createElement('div');
            this._matchesCount.className = 'matchesCount';
            this._findInput.domNode.insertAdjacentElement('afterend', this._matchesCount);
            this._register(this._findInput.onDidChange(async () => {
                await this.updateResultCount();
            }));
            this._register(this._findInput.onDidOptionChange(async () => {
                this._foundMatch = this._onInputChanged();
                await this.updateResultCount();
                this.focusFindBox();
                this._delayedUpdateHistory();
            }));
        }
        let initialMinWidth = options?.initialWidth;
        if (initialMinWidth) {
            initialMinWidth = initialMinWidth < SIMPLE_FIND_WIDGET_INITIAL_WIDTH ? SIMPLE_FIND_WIDGET_INITIAL_WIDTH : initialMinWidth;
            this._domNode.style.width = `${initialMinWidth}px`;
        }
        if (options?.enableSash) {
            const _initialMinWidth = initialMinWidth ?? SIMPLE_FIND_WIDGET_INITIAL_WIDTH;
            let originalWidth = _initialMinWidth;
            const resizeSash = this._register(( (new _base_browser_ui_sash_sash_js__WEBPACK_IMPORTED_MODULE_14__.Sash(
                this._innerDomNode,
                this,
                { orientation: 0 , size: 1 }
            ))));
            this._register(resizeSash.onDidStart(() => {
                originalWidth = parseFloat((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.getComputedStyle)(this._domNode).width);
            }));
            this._register(resizeSash.onDidChange((e) => {
                const width = originalWidth + e.startX - e.currentX;
                if (width < _initialMinWidth) {
                    return;
                }
                this._domNode.style.width = `${width}px`;
            }));
            this._register(resizeSash.onDidReset(e => {
                const currentWidth = parseFloat((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.getComputedStyle)(this._domNode).width);
                if (currentWidth === _initialMinWidth) {
                    this._domNode.style.width = '100%';
                }
                else {
                    this._domNode.style.width = `${_initialMinWidth}px`;
                }
            }));
        }
    }
    getVerticalSashLeft(_sash) {
        return 0;
    }
    get inputValue() {
        return this._findInput.getValue();
    }
    get focusTracker() {
        return this._focusTracker;
    }
    _getKeybinding(actionId) {
        const kb = this._keybindingService?.lookupKeybinding(actionId);
        if (!kb) {
            return '';
        }
        return ` (${kb.getLabel()})`;
    }
    dispose() {
        super.dispose();
        this._domNode?.remove();
    }
    isVisible() {
        return this._isVisible;
    }
    getDomNode() {
        return this._domNode;
    }
    getFindInputDomNode() {
        return this._findInput.domNode;
    }
    reveal(initialInput, animated = true) {
        if (initialInput) {
            this._findInput.setValue(initialInput);
        }
        if (this._isVisible) {
            this._findInput.select();
            return;
        }
        this._isVisible = true;
        this.updateResultCount();
        this.layout();
        setTimeout(() => {
            this._innerDomNode.classList.toggle('suppress-transition', !animated);
            this._innerDomNode.classList.add('visible', 'visible-transition');
            this._innerDomNode.setAttribute('aria-hidden', 'false');
            this._findInput.select();
            if (!animated) {
                setTimeout(() => {
                    this._innerDomNode.classList.remove('suppress-transition');
                }, 0);
            }
        }, 0);
    }
    show(initialInput) {
        if (initialInput && !this._isVisible) {
            this._findInput.setValue(initialInput);
        }
        this._isVisible = true;
        this.layout();
        setTimeout(() => {
            this._innerDomNode.classList.add('visible', 'visible-transition');
            this._innerDomNode.setAttribute('aria-hidden', 'false');
        }, 0);
    }
    hide(animated = true) {
        if (this._isVisible) {
            this._innerDomNode.classList.toggle('suppress-transition', !animated);
            this._innerDomNode.classList.remove('visible-transition');
            this._innerDomNode.setAttribute('aria-hidden', 'true');
            setTimeout(() => {
                this._isVisible = false;
                this.updateButtons(this._foundMatch);
                this._innerDomNode.classList.remove('visible', 'suppress-transition');
            }, animated ? 200 : 0);
        }
    }
    layout(width = this._width) {
        this._width = width;
        if (!this._isVisible) {
            return;
        }
        if (this._matchesCount) {
            let reducedFindWidget = false;
            if (SIMPLE_FIND_WIDGET_INITIAL_WIDTH + MATCHES_COUNT_WIDTH + 28 >= width) {
                reducedFindWidget = true;
            }
            this._innerDomNode.classList.toggle('reduced-find-widget', reducedFindWidget);
        }
    }
    _delayedUpdateHistory() {
        this._updateHistoryDelayer.trigger(this._updateHistory.bind(this));
    }
    _updateHistory() {
        this._findInput.inputBox.addToHistory();
    }
    _getRegexValue() {
        return this._findInput.getRegex();
    }
    _getWholeWordValue() {
        return this._findInput.getWholeWords();
    }
    _getCaseSensitiveValue() {
        return this._findInput.getCaseSensitive();
    }
    updateButtons(foundMatch) {
        const hasInput = this.inputValue.length > 0;
        this.prevBtn.setEnabled(this._isVisible && hasInput && foundMatch);
        this.nextBtn.setEnabled(this._isVisible && hasInput && foundMatch);
    }
    focusFindBox() {
        this.nextBtn.focus();
        this._findInput.inputBox.focus();
    }
    async updateResultCount() {
        if (!this._matchesCount) {
            this.updateButtons(this._foundMatch);
            return;
        }
        const count = await this._getResultCount();
        this._matchesCount.innerText = '';
        const showRedOutline = (this.inputValue.length > 0 && count?.resultCount === 0);
        this._matchesCount.classList.toggle('no-results', showRedOutline);
        let label = '';
        if (count?.resultCount) {
            let matchesCount = String(count.resultCount);
            if (count.resultCount >= this._matchesLimit) {
                matchesCount += '+';
            }
            let matchesPosition = String(count.resultIndex + 1);
            if (matchesPosition === '0') {
                matchesPosition = '?';
            }
            label = (0,_base_common_strings_js__WEBPACK_IMPORTED_MODULE_10__.format)(_editor_contrib_find_browser_findWidget_js__WEBPACK_IMPORTED_MODULE_6__.NLS_MATCHES_LOCATION, matchesPosition, matchesCount);
        }
        else {
            label = _editor_contrib_find_browser_findWidget_js__WEBPACK_IMPORTED_MODULE_6__.NLS_NO_RESULTS;
        }
        (0,_base_browser_ui_aria_aria_js__WEBPACK_IMPORTED_MODULE_12__.status)(this._announceSearchResults(label, this.inputValue));
        this._matchesCount.appendChild(document.createTextNode(label));
        this._foundMatch = !!count && count.resultCount > 0;
        this.updateButtons(this._foundMatch);
    }
    changeState(state) {
        this.state.change(state, false);
    }
    _announceSearchResults(label, searchString) {
        if (!searchString) {
            return ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(11673, "Enter search input"));
        }
        if (label === _editor_contrib_find_browser_findWidget_js__WEBPACK_IMPORTED_MODULE_6__.NLS_NO_RESULTS) {
            return searchString === ''
                ? ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(11674, "{0} found", label))
                : ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(11675, "{0} found for '{1}'", label, searchString));
        }
        return ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(11676, "{0} found for '{1}'", label, searchString));
    }
}
const simpleFindWidgetSashBorder = (0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_15__.registerColor)('simpleFindWidget.sashBorder', { dark: '#454545', light: '#C8C8C8', hcDark: '#6FC3DF', hcLight: '#0F4A85' }, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(11677, 'Border color of the sash border.')));
(0,_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_9__.registerThemingParticipant)((theme, collector) => {
    const resizeBorderBackground = theme.getColor(simpleFindWidgetSashBorder);
    collector.addRule(`.monaco-workbench .simple-find-part .monaco-sash { background-color: ${resizeBorderBackground}; border-color: ${resizeBorderBackground} }`);
});



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/contrib/debug/browser/media/all.png.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/contrib/debug/browser/media/all.png.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ pngAssets)
/* harmony export */ });
var pngAssets = {
  'vs/workbench/contrib/debug/browser/media/continue-tb.png': new URL(/* asset import */ __webpack_require__(/*! ../../../../../../../../assets/continue-tb.png */ "./node_modules/vscode/assets/continue-tb.png"), __webpack_require__.b).href,
  'vs/workbench/contrib/debug/browser/media/pause-tb.png': new URL(/* asset import */ __webpack_require__(/*! ../../../../../../../../assets/pause-tb.png */ "./node_modules/vscode/assets/pause-tb.png"), __webpack_require__.b).href,
  'vs/workbench/contrib/debug/browser/media/restart-tb.png': new URL(/* asset import */ __webpack_require__(/*! ../../../../../../../../assets/restart-tb.png */ "./node_modules/vscode/assets/restart-tb.png"), __webpack_require__.b).href,
  'vs/workbench/contrib/debug/browser/media/run-with-debugging-tb.png': new URL(/* asset import */ __webpack_require__(/*! ../../../../../../../../assets/run-with-debugging-tb.png */ "./node_modules/vscode/assets/run-with-debugging-tb.png"), __webpack_require__.b).href,
  'vs/workbench/contrib/debug/browser/media/stepinto-tb.png': new URL(/* asset import */ __webpack_require__(/*! ../../../../../../../../assets/stepinto-tb.png */ "./node_modules/vscode/assets/stepinto-tb.png"), __webpack_require__.b).href,
  'vs/workbench/contrib/debug/browser/media/stepout-tb.png': new URL(/* asset import */ __webpack_require__(/*! ../../../../../../../../assets/stepout-tb.png */ "./node_modules/vscode/assets/stepout-tb.png"), __webpack_require__.b).href,
  'vs/workbench/contrib/debug/browser/media/stepover-tb.png': new URL(/* asset import */ __webpack_require__(/*! ../../../../../../../../assets/stepover-tb.png */ "./node_modules/vscode/assets/stepover-tb.png"), __webpack_require__.b).href,
  'vs/workbench/contrib/debug/browser/media/stop-tb.png': new URL(/* asset import */ __webpack_require__(/*! ../../../../../../../../assets/stop-tb.png */ "./node_modules/vscode/assets/stop-tb.png"), __webpack_require__.b).href
};



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/contrib/externalUriOpener/common/externalUriOpenerService.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/contrib/externalUriOpener/common/externalUriOpenerService.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ExternalUriOpenerService: () => (/* binding */ ExternalUriOpenerService)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _base_common_iterator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../base/common/iterator.js */ "./node_modules/vscode/vscode/src/vs/base/common/iterator.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _base_common_linkedList_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../base/common/linkedList.js */ "./node_modules/vscode/vscode/src/vs/base/common/linkedList.js");
/* harmony import */ var _base_common_platform_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../base/common/platform.js */ "./node_modules/vscode/vscode/src/vs/base/common/platform.js");
/* harmony import */ var _base_common_uri_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../base/common/uri.js */ "./node_modules/vscode/vscode/src/vs/base/common/uri.js");
/* harmony import */ var _editor_common_languages_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../editor/common/languages.js */ "./node_modules/vscode/vscode/src/vs/editor/common/languages.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../platform/configuration/common/configuration.service.js */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var _platform_log_common_log_service_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../platform/log/common/log.service.js */ "./node_modules/vscode/vscode/src/vs/platform/log/common/log.service.js");
/* harmony import */ var _platform_opener_common_opener_service_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../platform/opener/common/opener.service.js */ "./node_modules/vscode/vscode/src/vs/platform/opener/common/opener.service.js");
/* harmony import */ var _platform_quickinput_common_quickInput_service_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../platform/quickinput/common/quickInput.service.js */ "./node_modules/vscode/vscode/src/vs/platform/quickinput/common/quickInput.service.js");
/* harmony import */ var _configuration_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./configuration.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/externalUriOpener/common/configuration.js");
/* harmony import */ var _url_common_urlGlob_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../url/common/urlGlob.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/url/common/urlGlob.js");
/* harmony import */ var _services_preferences_common_preferences_service_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../services/preferences/common/preferences.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/preferences/common/preferences.service.js");















let ExternalUriOpenerService = class ExternalUriOpenerService extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.Disposable {
    constructor(openerService, configurationService, logService, preferencesService, quickInputService) {
        super();
        this.configurationService = configurationService;
        this.logService = logService;
        this.preferencesService = preferencesService;
        this.quickInputService = quickInputService;
        this._providers = ( (new _base_common_linkedList_js__WEBPACK_IMPORTED_MODULE_3__.LinkedList()));
        this._register(openerService.registerExternalOpener(this));
    }
    registerExternalOpenerProvider(provider) {
        const remove = this._providers.push(provider);
        return { dispose: remove };
    }
    async getOpeners(targetUri, allowOptional, ctx, token) {
        const allOpeners = await this.getAllOpenersForUri(targetUri);
        if (allOpeners.size === 0) {
            return [];
        }
        if (ctx.preferredOpenerId) {
            if (ctx.preferredOpenerId === _configuration_js__WEBPACK_IMPORTED_MODULE_12__.defaultExternalUriOpenerId) {
                return [];
            }
            const preferredOpener = allOpeners.get(ctx.preferredOpenerId);
            if (preferredOpener) {
                return [preferredOpener];
            }
        }
        const configuredOpener = this.getConfiguredOpenerForUri(allOpeners, targetUri);
        if (configuredOpener) {
            return configuredOpener === _configuration_js__WEBPACK_IMPORTED_MODULE_12__.defaultExternalUriOpenerId ? [] : [configuredOpener];
        }
        const validOpeners = [];
        await Promise.all(( (Array.from(( (allOpeners.values()))).map(async (opener) => {
            let priority;
            try {
                priority = await opener.canOpen(ctx.sourceUri, token);
            }
            catch (e) {
                this.logService.error(e);
                return;
            }
            switch (priority) {
                case _editor_common_languages_js__WEBPACK_IMPORTED_MODULE_6__.ExternalUriOpenerPriority.Option:
                case _editor_common_languages_js__WEBPACK_IMPORTED_MODULE_6__.ExternalUriOpenerPriority.Default:
                case _editor_common_languages_js__WEBPACK_IMPORTED_MODULE_6__.ExternalUriOpenerPriority.Preferred:
                    validOpeners.push({ opener, priority });
                    break;
            }
        }))));
        if (validOpeners.length === 0) {
            return [];
        }
        const preferred = validOpeners.filter(x => x.priority === _editor_common_languages_js__WEBPACK_IMPORTED_MODULE_6__.ExternalUriOpenerPriority.Preferred).at(0);
        if (preferred) {
            return [preferred.opener];
        }
        if (!allowOptional && validOpeners.every(x => x.priority === _editor_common_languages_js__WEBPACK_IMPORTED_MODULE_6__.ExternalUriOpenerPriority.Option)) {
            return [];
        }
        return (
             (validOpeners.map(value => value.opener))
        );
    }
    async openExternal(href, ctx, token) {
        const targetUri = typeof href === 'string' ? ( (_base_common_uri_js__WEBPACK_IMPORTED_MODULE_5__.URI.parse(href))) : href;
        const allOpeners = await this.getOpeners(targetUri, false, ctx, token);
        if (allOpeners.length === 0) {
            return false;
        }
        else if (allOpeners.length === 1) {
            return allOpeners[0].openExternalUri(targetUri, ctx, token);
        }
        return this.showOpenerPrompt(allOpeners, targetUri, ctx, token);
    }
    async getOpener(targetUri, ctx, token) {
        const allOpeners = await this.getOpeners(targetUri, true, ctx, token);
        if (allOpeners.length >= 1) {
            return allOpeners[0];
        }
        return undefined;
    }
    async getAllOpenersForUri(targetUri) {
        const allOpeners = ( (new Map()));
        await Promise.all(( (_base_common_iterator_js__WEBPACK_IMPORTED_MODULE_1__.Iterable.map(this._providers, async (provider) => {
            for await (const opener of provider.getOpeners(targetUri)) {
                allOpeners.set(opener.id, opener);
            }
        }))));
        return allOpeners;
    }
    getConfiguredOpenerForUri(openers, targetUri) {
        const config = this.configurationService.getValue(_configuration_js__WEBPACK_IMPORTED_MODULE_12__.externalUriOpenersSettingId) || {};
        for (const [uriGlob, id] of Object.entries(config)) {
            if ((0,_url_common_urlGlob_js__WEBPACK_IMPORTED_MODULE_13__.testUrlMatchesGlob)(targetUri, uriGlob)) {
                if (id === _configuration_js__WEBPACK_IMPORTED_MODULE_12__.defaultExternalUriOpenerId) {
                    return 'default';
                }
                const entry = openers.get(id);
                if (entry) {
                    return entry;
                }
            }
        }
        return undefined;
    }
    async showOpenerPrompt(openers, targetUri, ctx, token) {
        const items = ( (openers.map((opener) => {
            return {
                label: opener.label,
                opener: opener
            };
        })));
        items.push({
            label: _base_common_platform_js__WEBPACK_IMPORTED_MODULE_4__.isWeb
                ? ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_7__.localize)(3591, 'Open in new browser window'))
                : ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_7__.localize)(3592, 'Open in default browser')),
            opener: undefined
        }, { type: 'separator' }, {
            label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_7__.localize)(3593, "Configure default opener...")),
            opener: 'configureDefault'
        });
        const picked = await this.quickInputService.pick(items, {
            placeHolder: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_7__.localize)(
                3594,
                "How would you like to open: {0}",
                 (targetUri.toString())
            ))
        });
        if (!picked) {
            return true;
        }
        if (typeof picked.opener === 'undefined') {
            return false;
        }
        else if (picked.opener === 'configureDefault') {
            await this.preferencesService.openUserSettings({
                jsonEditor: true,
                revealSetting: { key: _configuration_js__WEBPACK_IMPORTED_MODULE_12__.externalUriOpenersSettingId, edit: true }
            });
            return true;
        }
        else {
            return picked.opener.openExternalUri(targetUri, ctx, token);
        }
    }
};
ExternalUriOpenerService = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, _platform_opener_common_opener_service_js__WEBPACK_IMPORTED_MODULE_10__.IOpenerService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_8__.IConfigurationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_log_common_log_service_js__WEBPACK_IMPORTED_MODULE_9__.ILogService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _services_preferences_common_preferences_service_js__WEBPACK_IMPORTED_MODULE_14__.IPreferencesService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _platform_quickinput_common_quickInput_service_js__WEBPACK_IMPORTED_MODULE_11__.IQuickInputService)))
], ExternalUriOpenerService)));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/editors/binaryFileEditor.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/editors/binaryFileEditor.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BinaryFileEditor: () => (/* binding */ BinaryFileEditor)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _browser_parts_editor_binaryEditor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../browser/parts/editor/binaryEditor.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/binaryEditor.js");
/* harmony import */ var _platform_telemetry_common_telemetry_service_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../platform/telemetry/common/telemetry.service.js */ "./node_modules/vscode/vscode/src/vs/platform/telemetry/common/telemetry.service.js");
/* harmony import */ var _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../platform/theme/common/themeService.service.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.service.js");
/* harmony import */ var _fileEditorInput_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./fileEditorInput.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/editors/fileEditorInput.js");
/* harmony import */ var _common_files_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../common/files.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/common/files.js");
/* harmony import */ var _platform_storage_common_storage_service_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../platform/storage/common/storage.service.js */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var _platform_editor_common_editor_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../platform/editor/common/editor.js */ "./node_modules/vscode/vscode/src/vs/platform/editor/common/editor.js");
/* harmony import */ var _services_editor_common_editorResolverService_service_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../services/editor/common/editorResolverService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorResolverService.service.js");
/* harmony import */ var _common_editor_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../common/editor.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor.js");
/* harmony import */ var _common_editor_diffEditorInput_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../common/editor/diffEditorInput.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/diffEditorInput.js");












var BinaryFileEditor_1;
let BinaryFileEditor = class BinaryFileEditor extends _browser_parts_editor_binaryEditor_js__WEBPACK_IMPORTED_MODULE_2__.BaseBinaryResourceEditor {
    static { BinaryFileEditor_1 = this; }
    static { this.ID = _common_files_js__WEBPACK_IMPORTED_MODULE_6__.BINARY_FILE_EDITOR_ID; }
    constructor(group, telemetryService, themeService, editorResolverService, storageService) {
        super(BinaryFileEditor_1.ID, group, {
            openInternal: (input, options) => this.openInternal(input, options)
        }, telemetryService, themeService, storageService);
        this.editorResolverService = editorResolverService;
    }
    async openInternal(input, options) {
        if (input instanceof _fileEditorInput_js__WEBPACK_IMPORTED_MODULE_5__.FileEditorInput && this.group.activeEditor) {
            const activeEditor = this.group.activeEditor;
            const untypedActiveEditor = activeEditor?.toUntyped();
            if (!untypedActiveEditor) {
                return;
            }
            let resolvedEditor = await this.editorResolverService.resolveEditor({
                ...untypedActiveEditor,
                options: {
                    ...options,
                    override: _platform_editor_common_editor_js__WEBPACK_IMPORTED_MODULE_8__.EditorResolution.PICK
                }
            }, this.group);
            if (resolvedEditor === 2 ) {
                resolvedEditor = undefined;
            }
            else if (resolvedEditor === 1 ) {
                return;
            }
            if ((0,_common_editor_js__WEBPACK_IMPORTED_MODULE_10__.isEditorInputWithOptions)(resolvedEditor)) {
                for (const editor of resolvedEditor.editor instanceof _common_editor_diffEditorInput_js__WEBPACK_IMPORTED_MODULE_11__.DiffEditorInput ? [resolvedEditor.editor.original, resolvedEditor.editor.modified] : [resolvedEditor.editor]) {
                    if (editor instanceof _fileEditorInput_js__WEBPACK_IMPORTED_MODULE_5__.FileEditorInput) {
                        editor.setForceOpenAsText();
                        editor.setPreferredLanguageId(_common_files_js__WEBPACK_IMPORTED_MODULE_6__.BINARY_TEXT_FILE_MODE);
                    }
                }
            }
            await this.group.replaceEditors([{
                    editor: activeEditor,
                    replacement: resolvedEditor?.editor ?? input,
                    options: {
                        ...(resolvedEditor?.options ?? options)
                    }
                }]);
        }
    }
    getTitle() {
        return this.input ? this.input.getName() : ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9889, "Binary File Viewer"));
    }
};
BinaryFileEditor = BinaryFileEditor_1 = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _platform_telemetry_common_telemetry_service_js__WEBPACK_IMPORTED_MODULE_3__.ITelemetryService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_4__.IThemeService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _services_editor_common_editorResolverService_service_js__WEBPACK_IMPORTED_MODULE_9__.IEditorResolverService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _platform_storage_common_storage_service_js__WEBPACK_IMPORTED_MODULE_7__.IStorageService)))
], BinaryFileEditor)));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/editors/fileEditorHandler.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/editors/fileEditorHandler.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FileEditorInputSerializer: () => (/* binding */ FileEditorInputSerializer),
/* harmony export */   FileEditorWorkingCopyEditorHandler: () => (/* binding */ FileEditorWorkingCopyEditorHandler)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _base_common_uri_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../base/common/uri.js */ "./node_modules/vscode/vscode/src/vs/base/common/uri.js");
/* harmony import */ var _services_textfile_common_textEditorService_service_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../services/textfile/common/textEditorService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/textfile/common/textEditorService.service.js");
/* harmony import */ var _base_common_resources_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../base/common/resources.js */ "./node_modules/vscode/vscode/src/vs/base/common/resources.js");
/* harmony import */ var _services_workingCopy_common_workingCopy_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../services/workingCopy/common/workingCopy.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/workingCopy/common/workingCopy.js");
/* harmony import */ var _services_workingCopy_common_workingCopyEditorService_service_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../services/workingCopy/common/workingCopyEditorService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/workingCopy/common/workingCopyEditorService.service.js");
/* harmony import */ var _platform_files_common_files_service_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../platform/files/common/files.service.js */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.service.js");








class FileEditorInputSerializer {
    canSerialize(editorInput) {
        return true;
    }
    serialize(editorInput) {
        const fileEditorInput = editorInput;
        const resource = fileEditorInput.resource;
        const preferredResource = fileEditorInput.preferredResource;
        const serializedFileEditorInput = {
            resourceJSON: resource.toJSON(),
            preferredResourceJSON: (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_4__.isEqual)(resource, preferredResource) ? undefined : preferredResource,
            name: fileEditorInput.getPreferredName(),
            description: fileEditorInput.getPreferredDescription(),
            encoding: fileEditorInput.getEncoding(),
            modeId: fileEditorInput.getPreferredLanguageId()
        };
        return JSON.stringify(serializedFileEditorInput);
    }
    deserialize(instantiationService, serializedEditorInput) {
        return instantiationService.invokeFunction(accessor => {
            const serializedFileEditorInput = JSON.parse(serializedEditorInput);
            const resource = _base_common_uri_js__WEBPACK_IMPORTED_MODULE_2__.URI.revive(serializedFileEditorInput.resourceJSON);
            const preferredResource = _base_common_uri_js__WEBPACK_IMPORTED_MODULE_2__.URI.revive(serializedFileEditorInput.preferredResourceJSON);
            const name = serializedFileEditorInput.name;
            const description = serializedFileEditorInput.description;
            const encoding = serializedFileEditorInput.encoding;
            const languageId = serializedFileEditorInput.modeId;
            const fileEditorInput = accessor.get(_services_textfile_common_textEditorService_service_js__WEBPACK_IMPORTED_MODULE_3__.ITextEditorService).createTextEditor({ resource, label: name, description, encoding, languageId, forceFile: true });
            if (preferredResource) {
                fileEditorInput.setPreferredResource(preferredResource);
            }
            return fileEditorInput;
        });
    }
}
let FileEditorWorkingCopyEditorHandler = class FileEditorWorkingCopyEditorHandler extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.Disposable {
    static { this.ID = 'workbench.contrib.fileEditorWorkingCopyEditorHandler'; }
    constructor(workingCopyEditorService, textEditorService, fileService) {
        super();
        this.textEditorService = textEditorService;
        this.fileService = fileService;
        this._register(workingCopyEditorService.registerHandler(this));
    }
    handles(workingCopy) {
        return workingCopy.typeId === _services_workingCopy_common_workingCopy_js__WEBPACK_IMPORTED_MODULE_5__.NO_TYPE_ID && this.fileService.canHandleResource(workingCopy.resource);
    }
    handlesSync(workingCopy) {
        return workingCopy.typeId === _services_workingCopy_common_workingCopy_js__WEBPACK_IMPORTED_MODULE_5__.NO_TYPE_ID && this.fileService.hasProvider(workingCopy.resource);
    }
    isOpen(workingCopy, editor) {
        if (!this.handlesSync(workingCopy)) {
            return false;
        }
        return (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_4__.isEqual)(workingCopy.resource, editor.resource);
    }
    createEditor(workingCopy) {
        return this.textEditorService.createTextEditor({ resource: workingCopy.resource, forceFile: true });
    }
};
FileEditorWorkingCopyEditorHandler = ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, _services_workingCopy_common_workingCopyEditorService_service_js__WEBPACK_IMPORTED_MODULE_6__.IWorkingCopyEditorService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _services_textfile_common_textEditorService_service_js__WEBPACK_IMPORTED_MODULE_3__.ITextEditorService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_files_common_files_service_js__WEBPACK_IMPORTED_MODULE_7__.IFileService))
], FileEditorWorkingCopyEditorHandler));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/editors/textFileEditor.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/editors/textFileEditor.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TextFileEditor: () => (/* binding */ TextFileEditor)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _base_common_performance_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../base/common/performance.js */ "./node_modules/vscode/vscode/src/vs/base/common/performance.js");
/* harmony import */ var _base_common_types_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../base/common/types.js */ "./node_modules/vscode/vscode/src/vs/base/common/types.js");
/* harmony import */ var _services_path_common_pathService_service_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../services/path/common/pathService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/path/common/pathService.service.js");
/* harmony import */ var _base_common_actions_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../base/common/actions.js */ "./node_modules/vscode/vscode/src/vs/base/common/actions.js");
/* harmony import */ var _common_files_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../common/files.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/common/files.js");
/* harmony import */ var _services_textfile_common_textfiles_service_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../services/textfile/common/textfiles.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/textfile/common/textfiles.service.js");
/* harmony import */ var _browser_parts_editor_textCodeEditor_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../browser/parts/editor/textCodeEditor.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/textCodeEditor.js");
/* harmony import */ var _common_editor_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../common/editor.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor.js");
/* harmony import */ var _common_editor_editorOptions_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../common/editor/editorOptions.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/editorOptions.js");
/* harmony import */ var _common_editor_binaryEditorModel_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../common/editor/binaryEditorModel.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/binaryEditorModel.js");
/* harmony import */ var _fileEditorInput_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./fileEditorInput.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/editors/fileEditorInput.js");
/* harmony import */ var _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../platform/files/common/files.js */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.js");
/* harmony import */ var _platform_files_common_files_service_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../../platform/files/common/files.service.js */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.service.js");
/* harmony import */ var _platform_telemetry_common_telemetry_service_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../../platform/telemetry/common/telemetry.service.js */ "./node_modules/vscode/vscode/src/vs/platform/telemetry/common/telemetry.service.js");
/* harmony import */ var _platform_workspace_common_workspace_service_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../../platform/workspace/common/workspace.service.js */ "./node_modules/vscode/vscode/src/vs/platform/workspace/common/workspace.service.js");
/* harmony import */ var _platform_storage_common_storage_service_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../../platform/storage/common/storage.service.js */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var _editor_common_services_textResourceConfiguration_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../../editor/common/services/textResourceConfiguration.js */ "./node_modules/vscode/vscode/src/vs/editor/common/services/textResourceConfiguration.js");
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../../platform/instantiation/common/instantiation.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../../platform/theme/common/themeService.service.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.service.js");
/* harmony import */ var _services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../services/editor/common/editorService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");
/* harmony import */ var _services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../services/editor/common/editorGroupsService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorGroupsService.service.js");
/* harmony import */ var _platform_editor_common_editor_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../../platform/editor/common/editor.js */ "./node_modules/vscode/vscode/src/vs/platform/editor/common/editor.js");
/* harmony import */ var _platform_uriIdentity_common_uriIdentity_service_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../../platform/uriIdentity/common/uriIdentity.service.js */ "./node_modules/vscode/vscode/src/vs/platform/uriIdentity/common/uriIdentity.service.js");
/* harmony import */ var _files_service_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../files.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/files.service.js");
/* harmony import */ var _services_panecomposite_browser_panecomposite_service_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../../services/panecomposite/browser/panecomposite.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/panecomposite/browser/panecomposite.service.js");
/* harmony import */ var _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../../../platform/configuration/common/configuration.service.js */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var _services_preferences_common_preferences_service_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../../services/preferences/common/preferences.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/preferences/common/preferences.service.js");
/* harmony import */ var _services_host_browser_host_service_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../../services/host/browser/host.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/host/browser/host.service.js");
/* harmony import */ var _services_filesConfiguration_common_filesConfigurationService_service_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../../services/filesConfiguration/common/filesConfigurationService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/filesConfiguration/common/filesConfigurationService.service.js");































var TextFileEditor_1;
let TextFileEditor = class TextFileEditor extends _browser_parts_editor_textCodeEditor_js__WEBPACK_IMPORTED_MODULE_8__.AbstractTextCodeEditor {
    static { TextFileEditor_1 = this; }
    static { this.ID = _common_files_js__WEBPACK_IMPORTED_MODULE_6__.TEXT_FILE_EDITOR_ID; }
    constructor(group, telemetryService, fileService, paneCompositeService, instantiationService, contextService, storageService, textResourceConfigurationService, editorService, themeService, editorGroupService, textFileService, explorerService, uriIdentityService, pathService, configurationService, preferencesService, hostService, filesConfigurationService) {
        super(TextFileEditor_1.ID, group, telemetryService, instantiationService, storageService, textResourceConfigurationService, themeService, editorService, editorGroupService, fileService);
        this.paneCompositeService = paneCompositeService;
        this.contextService = contextService;
        this.textFileService = textFileService;
        this.explorerService = explorerService;
        this.uriIdentityService = uriIdentityService;
        this.pathService = pathService;
        this.configurationService = configurationService;
        this.preferencesService = preferencesService;
        this.hostService = hostService;
        this.filesConfigurationService = filesConfigurationService;
        this._register(this.fileService.onDidFilesChange(e => this.onDidFilesChange(e)));
        this._register(this.fileService.onDidRunOperation(e => this.onDidRunOperation(e)));
    }
    onDidFilesChange(e) {
        for (const resource of e.rawDeleted) {
            this.clearEditorViewState(resource);
        }
    }
    onDidRunOperation(e) {
        if (e.operation === 2  && e.target) {
            this.moveEditorViewState(e.resource, e.target.resource, this.uriIdentityService.extUri);
        }
    }
    getTitle() {
        if (this.input) {
            return this.input.getName();
        }
        return ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9890, "Text File Editor"));
    }
    get input() {
        return this._input;
    }
    async setInput(input, options, context, token) {
        (0,_base_common_performance_js__WEBPACK_IMPORTED_MODULE_2__.mark)('code/willSetInputToTextFileEditor');
        await super.setInput(input, options, context, token);
        try {
            const resolvedModel = await input.resolve(options);
            if (token.isCancellationRequested) {
                return;
            }
            if (resolvedModel instanceof _common_editor_binaryEditorModel_js__WEBPACK_IMPORTED_MODULE_11__.BinaryEditorModel) {
                return this.openAsBinary(input, options);
            }
            const textFileModel = resolvedModel;
            const control = (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_3__.assertIsDefined)(this.editorControl);
            control.setModel(textFileModel.textEditorModel);
            if (!(0,_common_editor_js__WEBPACK_IMPORTED_MODULE_9__.isTextEditorViewState)(options?.viewState)) {
                const editorViewState = this.loadEditorViewState(input, context);
                if (editorViewState) {
                    if (options?.selection) {
                        editorViewState.cursorState = [];
                    }
                    control.restoreViewState(editorViewState);
                }
            }
            if (options) {
                (0,_common_editor_editorOptions_js__WEBPACK_IMPORTED_MODULE_10__.applyTextEditorOptions)(options, control, 1 );
            }
            control.updateOptions(this.getReadonlyConfiguration(textFileModel.isReadonly()));
            if (control.handleInitialized) {
                control.handleInitialized();
            }
        }
        catch (error) {
            await this.handleSetInputError(error, input, options);
        }
        (0,_base_common_performance_js__WEBPACK_IMPORTED_MODULE_2__.mark)('code/didSetInputToTextFileEditor');
    }
    async handleSetInputError(error, input, options) {
        if (error.textFileOperationResult === 0 ) {
            return this.openAsBinary(input, options);
        }
        if (error.fileOperationResult === 0 ) {
            const actions = [];
            actions.push((0,_base_common_actions_js__WEBPACK_IMPORTED_MODULE_5__.toAction)({
                id: 'workbench.files.action.openFolder', label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9891, "Open Folder")), run: async () => {
                    return this.hostService.openWindow([{ folderUri: input.resource }], { forceNewWindow: true });
                }
            }));
            if (this.contextService.isInsideWorkspace(input.preferredResource)) {
                actions.push((0,_base_common_actions_js__WEBPACK_IMPORTED_MODULE_5__.toAction)({
                    id: 'workbench.files.action.reveal', label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9892, "Reveal Folder")), run: async () => {
                        await this.paneCompositeService.openPaneComposite(_common_files_js__WEBPACK_IMPORTED_MODULE_6__.VIEWLET_ID, 0 , true);
                        return this.explorerService.select(input.preferredResource, true);
                    }
                }));
            }
            throw (0,_common_editor_js__WEBPACK_IMPORTED_MODULE_9__.createEditorOpenError)((0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(
                9893,
                "The file is not displayed in the text editor because it is a directory."
            ), actions, { forceMessage: true });
        }
        if (error.fileOperationResult === 7 ) {
            let message;
            if (error instanceof _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_13__.TooLargeFileOperationError) {
                message = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(
                    9894,
                    "The file is not displayed in the text editor because it is very large ({0}).",
                    _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_13__.ByteSize.formatSize(error.size)
                ));
            }
            else {
                message = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(
                    9895,
                    "The file is not displayed in the text editor because it is very large."
                ));
            }
            throw (0,_common_editor_js__WEBPACK_IMPORTED_MODULE_9__.createTooLargeFileError)(this.group, input, options, message, this.preferencesService);
        }
        if (error.fileOperationResult === 1  &&
            !this.filesConfigurationService.isReadonly(input.preferredResource) &&
            (await this.pathService.hasValidBasename(input.preferredResource))) {
            const fileNotFoundError = (0,_common_editor_js__WEBPACK_IMPORTED_MODULE_9__.createEditorOpenError)(( (new _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_13__.FileOperationError(( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9896, "The editor could not be opened because the file was not found.")), 1 ))), [
                (0,_base_common_actions_js__WEBPACK_IMPORTED_MODULE_5__.toAction)({
                    id: 'workbench.files.action.createMissingFile', label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9897, "Create File")), run: async () => {
                        await this.textFileService.create([{ resource: input.preferredResource }]);
                        return this.editorService.openEditor({
                            resource: input.preferredResource,
                            options: {
                                pinned: true
                            }
                        });
                    }
                })
            ], {
                allowDialog: true
            });
            throw fileNotFoundError;
        }
        throw error;
    }
    openAsBinary(input, options) {
        const defaultBinaryEditor = this.configurationService.getValue('workbench.editor.defaultBinaryEditor');
        const editorOptions = {
            ...options,
            activation: _platform_editor_common_editor_js__WEBPACK_IMPORTED_MODULE_23__.EditorActivation.PRESERVE
        };
        if (defaultBinaryEditor && defaultBinaryEditor !== '' && defaultBinaryEditor !== _common_editor_js__WEBPACK_IMPORTED_MODULE_9__.DEFAULT_EDITOR_ASSOCIATION.id) {
            this.doOpenAsBinaryInDifferentEditor(this.group, defaultBinaryEditor, input, editorOptions);
        }
        else {
            this.doOpenAsBinaryInSameEditor(this.group, defaultBinaryEditor, input, editorOptions);
        }
    }
    doOpenAsBinaryInDifferentEditor(group, editorId, editor, editorOptions) {
        this.editorService.replaceEditors([{
                editor,
                replacement: { resource: editor.resource, options: { ...editorOptions, override: editorId } }
            }], group);
    }
    doOpenAsBinaryInSameEditor(group, editorId, editor, editorOptions) {
        if (editorId === _common_editor_js__WEBPACK_IMPORTED_MODULE_9__.DEFAULT_EDITOR_ASSOCIATION.id) {
            editor.setForceOpenAsText();
            editor.setPreferredLanguageId(_common_files_js__WEBPACK_IMPORTED_MODULE_6__.BINARY_TEXT_FILE_MODE);
            editorOptions = { ...editorOptions, forceReload: true };
        }
        else {
            editor.setForceOpenAsBinary();
        }
        group.openEditor(editor, editorOptions);
    }
    clearInput() {
        super.clearInput();
        this.editorControl?.setModel(null);
    }
    createEditorControl(parent, initialOptions) {
        (0,_base_common_performance_js__WEBPACK_IMPORTED_MODULE_2__.mark)('code/willCreateTextFileEditorControl');
        super.createEditorControl(parent, initialOptions);
        (0,_base_common_performance_js__WEBPACK_IMPORTED_MODULE_2__.mark)('code/didCreateTextFileEditorControl');
    }
    tracksEditorViewState(input) {
        return input instanceof _fileEditorInput_js__WEBPACK_IMPORTED_MODULE_12__.FileEditorInput;
    }
    tracksDisposedEditorViewState() {
        return true;
    }
};
TextFileEditor = TextFileEditor_1 = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _platform_telemetry_common_telemetry_service_js__WEBPACK_IMPORTED_MODULE_15__.ITelemetryService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_files_common_files_service_js__WEBPACK_IMPORTED_MODULE_14__.IFileService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _services_panecomposite_browser_panecomposite_service_js__WEBPACK_IMPORTED_MODULE_26__.IPaneCompositePartService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_19__.IInstantiationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _platform_workspace_common_workspace_service_js__WEBPACK_IMPORTED_MODULE_16__.IWorkspaceContextService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _platform_storage_common_storage_service_js__WEBPACK_IMPORTED_MODULE_17__.IStorageService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, _editor_common_services_textResourceConfiguration_js__WEBPACK_IMPORTED_MODULE_18__.ITextResourceConfigurationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, _services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_21__.IEditorService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_20__.IThemeService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, _services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_22__.IEditorGroupsService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(11, _services_textfile_common_textfiles_service_js__WEBPACK_IMPORTED_MODULE_7__.ITextFileService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(12, _files_service_js__WEBPACK_IMPORTED_MODULE_25__.IExplorerService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(13, _platform_uriIdentity_common_uriIdentity_service_js__WEBPACK_IMPORTED_MODULE_24__.IUriIdentityService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(14, _services_path_common_pathService_service_js__WEBPACK_IMPORTED_MODULE_4__.IPathService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(15, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_27__.IConfigurationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(16, _services_preferences_common_preferences_service_js__WEBPACK_IMPORTED_MODULE_28__.IPreferencesService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(17, _services_host_browser_host_service_js__WEBPACK_IMPORTED_MODULE_29__.IHostService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(18, _services_filesConfiguration_common_filesConfigurationService_service_js__WEBPACK_IMPORTED_MODULE_30__.IFilesConfigurationService)))
], TextFileEditor)));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/editors/textFileEditorTracker.js":
/*!************************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/editors/textFileEditorTracker.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TextFileEditorTracker: () => (/* binding */ TextFileEditorTracker)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _services_textfile_common_textfiles_service_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../services/textfile/common/textfiles.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/textfile/common/textfiles.service.js");
/* harmony import */ var _services_lifecycle_common_lifecycle_service_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../services/lifecycle/common/lifecycle.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/lifecycle/common/lifecycle.service.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _base_common_arrays_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../base/common/arrays.js */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var _services_host_browser_host_service_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../services/host/browser/host.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/host/browser/host.service.js");
/* harmony import */ var _services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../services/editor/common/editorService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");
/* harmony import */ var _base_common_async_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../base/common/async.js */ "./node_modules/vscode/vscode/src/vs/base/common/async.js");
/* harmony import */ var _editor_browser_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../editor/browser/services/codeEditorService.js */ "./node_modules/vscode/vscode/src/vs/editor/browser/services/codeEditorService.js");
/* harmony import */ var _services_filesConfiguration_common_filesConfigurationService_service_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../services/filesConfiguration/common/filesConfigurationService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/filesConfiguration/common/filesConfigurationService.service.js");
/* harmony import */ var _common_files_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../common/files.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/common/files.js");
/* harmony import */ var _base_common_network_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../base/common/network.js */ "./node_modules/vscode/vscode/src/vs/base/common/network.js");
/* harmony import */ var _services_untitled_common_untitledTextEditorInput_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../services/untitled/common/untitledTextEditorInput.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/untitled/common/untitledTextEditorInput.js");
/* harmony import */ var _services_workingCopy_common_workingCopyEditorService_service_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../services/workingCopy/common/workingCopyEditorService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/workingCopy/common/workingCopyEditorService.service.js");
/* harmony import */ var _common_editor_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../common/editor.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor.js");















let TextFileEditorTracker = class TextFileEditorTracker extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.Disposable {
    static { this.ID = 'workbench.contrib.textFileEditorTracker'; }
    constructor(editorService, textFileService, lifecycleService, hostService, codeEditorService, filesConfigurationService, workingCopyEditorService) {
        super();
        this.editorService = editorService;
        this.textFileService = textFileService;
        this.lifecycleService = lifecycleService;
        this.hostService = hostService;
        this.codeEditorService = codeEditorService;
        this.filesConfigurationService = filesConfigurationService;
        this.workingCopyEditorService = workingCopyEditorService;
        this.ensureDirtyFilesAreOpenedWorker = this._register(( new _base_common_async_js__WEBPACK_IMPORTED_MODULE_7__.RunOnceWorker(
            units => this.ensureDirtyTextFilesAreOpened(units),
            this.getDirtyTextFileTrackerDelay()
        )));
        this.registerListeners();
    }
    registerListeners() {
        this._register(this.textFileService.files.onDidChangeDirty(model => this.ensureDirtyFilesAreOpenedWorker.work(model.resource)));
        this._register(this.textFileService.files.onDidSaveError(model => this.ensureDirtyFilesAreOpenedWorker.work(model.resource)));
        this._register(this.textFileService.untitled.onDidChangeDirty(model => this.ensureDirtyFilesAreOpenedWorker.work(model.resource)));
        this._register(this.hostService.onDidChangeFocus(hasFocus => hasFocus ? this.reloadVisibleTextFileEditors() : undefined));
        this._register(this.lifecycleService.onDidShutdown(() => this.dispose()));
    }
    getDirtyTextFileTrackerDelay() {
        return 800;
    }
    ensureDirtyTextFilesAreOpened(resources) {
        this.doEnsureDirtyTextFilesAreOpened((0,_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_4__.distinct)(resources.filter(resource => {
            if (!this.textFileService.isDirty(resource)) {
                return false;
            }
            const fileModel = this.textFileService.files.get(resource);
            if (fileModel?.hasState(2 )) {
                return false;
            }
            if (resource.scheme !== _base_common_network_js__WEBPACK_IMPORTED_MODULE_11__.Schemas.untitled && !fileModel?.hasState(5 ) && this.filesConfigurationService.hasShortAutoSaveDelay(resource)) {
                return false;
            }
            if (this.editorService.isOpened({ resource, typeId: resource.scheme === _base_common_network_js__WEBPACK_IMPORTED_MODULE_11__.Schemas.untitled ? _services_untitled_common_untitledTextEditorInput_js__WEBPACK_IMPORTED_MODULE_12__.UntitledTextEditorInput.ID : _common_files_js__WEBPACK_IMPORTED_MODULE_10__.FILE_EDITOR_INPUT_ID, editorId: _common_editor_js__WEBPACK_IMPORTED_MODULE_14__.DEFAULT_EDITOR_ASSOCIATION.id })) {
                return false;
            }
            const model = fileModel ?? this.textFileService.untitled.get(resource);
            if (model && this.workingCopyEditorService.findEditor(model)) {
                return false;
            }
            return true;
        }), resource => ( resource.toString())));
    }
    doEnsureDirtyTextFilesAreOpened(resources) {
        if (!resources.length) {
            return;
        }
        this.editorService.openEditors(( resources.map(resource => ({
            resource,
            options: { inactive: true, pinned: true, preserveFocus: true }
        }))));
    }
    reloadVisibleTextFileEditors() {
        (0,_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_4__.distinct)((0,_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_4__.coalesce)(( this.codeEditorService.listCodeEditors()
            .map(codeEditor => {
            const resource = codeEditor.getModel()?.uri;
            if (!resource) {
                return undefined;
            }
            const model = this.textFileService.files.get(resource);
            if (!model || model.isDirty() || !model.isResolved()) {
                return undefined;
            }
            return model;
        }))), model => ( model.resource.toString())).forEach(model => this.textFileService.files.resolve(model.resource, { reload: { async: true } }));
    }
};
TextFileEditorTracker = ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, _services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_6__.IEditorService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _services_textfile_common_textfiles_service_js__WEBPACK_IMPORTED_MODULE_1__.ITextFileService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _services_lifecycle_common_lifecycle_service_js__WEBPACK_IMPORTED_MODULE_2__.ILifecycleService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _services_host_browser_host_service_js__WEBPACK_IMPORTED_MODULE_5__.IHostService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _editor_browser_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_8__.ICodeEditorService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _services_filesConfiguration_common_filesConfigurationService_service_js__WEBPACK_IMPORTED_MODULE_9__.IFilesConfigurationService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _services_workingCopy_common_workingCopyEditorService_service_js__WEBPACK_IMPORTED_MODULE_13__.IWorkingCopyEditorService))
], TextFileEditorTracker));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/editors/textFileSaveErrorHandler.js":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/editors/textFileSaveErrorHandler.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CONFLICT_RESOLUTION_CONTEXT: () => (/* binding */ CONFLICT_RESOLUTION_CONTEXT),
/* harmony export */   CONFLICT_RESOLUTION_SCHEME: () => (/* binding */ CONFLICT_RESOLUTION_SCHEME),
/* harmony export */   TextFileSaveErrorHandler: () => (/* binding */ TextFileSaveErrorHandler),
/* harmony export */   acceptLocalChangesCommand: () => (/* binding */ acceptLocalChangesCommand),
/* harmony export */   revertLocalChangesCommand: () => (/* binding */ revertLocalChangesCommand)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _base_common_errorMessage_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../base/common/errorMessage.js */ "./node_modules/vscode/vscode/src/vs/base/common/errorMessage.js");
/* harmony import */ var _base_common_resources_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../base/common/resources.js */ "./node_modules/vscode/vscode/src/vs/base/common/resources.js");
/* harmony import */ var _base_common_actions_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../base/common/actions.js */ "./node_modules/vscode/vscode/src/vs/base/common/actions.js");
/* harmony import */ var _base_common_uri_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../base/common/uri.js */ "./node_modules/vscode/vscode/src/vs/base/common/uri.js");
/* harmony import */ var _services_textfile_common_textfiles_service_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../services/textfile/common/textfiles.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/textfile/common/textfiles.service.js");
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../platform/instantiation/common/instantiation.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _editor_common_services_resolverService_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../editor/common/services/resolverService.js */ "./node_modules/vscode/vscode/src/vs/editor/common/services/resolverService.js");
/* harmony import */ var _base_common_map_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../base/common/map.js */ "./node_modules/vscode/vscode/src/vs/base/common/map.js");
/* harmony import */ var _common_editor_diffEditorInput_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../common/editor/diffEditorInput.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/diffEditorInput.js");
/* harmony import */ var _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../platform/contextkey/common/contextkey.js */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.js");
/* harmony import */ var _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../platform/contextkey/common/contextkey.service.js */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var _common_files_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../common/files.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/common/files.js");
/* harmony import */ var _fileEditorInput_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./fileEditorInput.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/editors/fileEditorInput.js");
/* harmony import */ var _fileConstants_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../fileConstants.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/fileConstants.js");
/* harmony import */ var _platform_notification_common_notification_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../../platform/notification/common/notification.js */ "./node_modules/vscode/vscode/src/vs/platform/notification/common/notification.js");
/* harmony import */ var _platform_notification_common_notification_service_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../../platform/notification/common/notification.service.js */ "./node_modules/vscode/vscode/src/vs/platform/notification/common/notification.service.js");
/* harmony import */ var _platform_opener_common_opener_service_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../../platform/opener/common/opener.service.js */ "./node_modules/vscode/vscode/src/vs/platform/opener/common/opener.service.js");
/* harmony import */ var _platform_storage_common_storage_service_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../../platform/storage/common/storage.service.js */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var _platform_product_common_productService_service_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../../platform/product/common/productService.service.js */ "./node_modules/vscode/vscode/src/vs/platform/product/common/productService.service.js");
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../../base/common/event.js */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var _services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../services/editor/common/editorService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");
/* harmony import */ var _base_common_platform_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../../base/common/platform.js */ "./node_modules/vscode/vscode/src/vs/base/common/platform.js");
/* harmony import */ var _base_common_network_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../../../base/common/network.js */ "./node_modules/vscode/vscode/src/vs/base/common/network.js");
/* harmony import */ var _services_preferences_common_preferences_service_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../../services/preferences/common/preferences.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/preferences/common/preferences.service.js");
/* harmony import */ var _common_editor_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../../common/editor.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor.js");
/* harmony import */ var _base_common_hash_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../../../base/common/hash.js */ "./node_modules/vscode/vscode/src/vs/base/common/hash.js");
/* harmony import */ var _base_common_severity_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../../../base/common/severity.js */ "./node_modules/vscode/vscode/src/vs/base/common/severity.js");






























const CONFLICT_RESOLUTION_CONTEXT = 'saveConflictResolutionContext';
const CONFLICT_RESOLUTION_SCHEME = 'conflictResolution';
const LEARN_MORE_DIRTY_WRITE_IGNORE_KEY = 'learnMoreDirtyWriteError';
const conflictEditorHelp = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(
    5501,
    "Use the actions in the editor tool bar to either undo your changes or overwrite the content of the file with your changes."
));
let TextFileSaveErrorHandler = class TextFileSaveErrorHandler extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_8__.Disposable {
    static { this.ID = 'workbench.contrib.textFileSaveErrorHandler'; }
    constructor(notificationService, textFileService, contextKeyService, editorService, textModelService, instantiationService, storageService) {
        super();
        this.notificationService = notificationService;
        this.textFileService = textFileService;
        this.contextKeyService = contextKeyService;
        this.editorService = editorService;
        this.instantiationService = instantiationService;
        this.storageService = storageService;
        this.messages = ( (new _base_common_map_js__WEBPACK_IMPORTED_MODULE_10__.ResourceMap()));
        this.conflictResolutionContext = ( (new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_12__.RawContextKey(CONFLICT_RESOLUTION_CONTEXT, false, true))).bindTo(this.contextKeyService);
        this.activeConflictResolutionResource = undefined;
        const provider = this._register(instantiationService.createInstance(_common_files_js__WEBPACK_IMPORTED_MODULE_14__.TextFileContentProvider));
        this._register(textModelService.registerTextModelContentProvider(CONFLICT_RESOLUTION_SCHEME, provider));
        this.textFileService.files.saveErrorHandler = this;
        this.registerListeners();
    }
    registerListeners() {
        this._register(this.textFileService.files.onDidSave(e => this.onFileSavedOrReverted(e.model.resource)));
        this._register(this.textFileService.files.onDidRevert(model => this.onFileSavedOrReverted(model.resource)));
        this._register(this.editorService.onDidActiveEditorChange(() => this.onActiveEditorChanged()));
    }
    onActiveEditorChanged() {
        let isActiveEditorSaveConflictResolution = false;
        let activeConflictResolutionResource;
        const activeInput = this.editorService.activeEditor;
        if (activeInput instanceof _common_editor_diffEditorInput_js__WEBPACK_IMPORTED_MODULE_11__.DiffEditorInput) {
            const resource = activeInput.original.resource;
            if (resource?.scheme === CONFLICT_RESOLUTION_SCHEME) {
                isActiveEditorSaveConflictResolution = true;
                activeConflictResolutionResource = activeInput.modified.resource;
            }
        }
        this.conflictResolutionContext.set(isActiveEditorSaveConflictResolution);
        this.activeConflictResolutionResource = activeConflictResolutionResource;
    }
    onFileSavedOrReverted(resource) {
        const messageHandle = this.messages.get(resource);
        if (messageHandle) {
            messageHandle.close();
            this.messages.delete(resource);
        }
    }
    onSaveError(error, model, options) {
        const fileOperationError = error;
        const resource = model.resource;
        let message;
        const primaryActions = [];
        const secondaryActions = [];
        if (fileOperationError.fileOperationResult === 3 ) {
            if (this.activeConflictResolutionResource && (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_3__.isEqual)(this.activeConflictResolutionResource, model.resource)) {
                if (this.storageService.getBoolean(LEARN_MORE_DIRTY_WRITE_IGNORE_KEY, -1 )) {
                    return;
                }
                message = conflictEditorHelp;
                primaryActions.push(this.instantiationService.createInstance(ResolveConflictLearnMoreAction));
                secondaryActions.push(this.instantiationService.createInstance(DoNotShowResolveConflictLearnMoreAction));
            }
            else {
                message = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(
                    5502,
                    "Failed to save '{0}': The content of the file is newer. Please compare your version with the file contents or overwrite the content of the file with your changes.",
                    (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_3__.basename)(resource)
                ));
                primaryActions.push(this.instantiationService.createInstance(ResolveSaveConflictAction, model));
                primaryActions.push(this.instantiationService.createInstance(SaveModelIgnoreModifiedSinceAction, model, options));
                secondaryActions.push(this.instantiationService.createInstance(ConfigureSaveConflictAction));
            }
        }
        else {
            const isWriteLocked = fileOperationError.fileOperationResult === 5 ;
            const triedToUnlock = isWriteLocked && fileOperationError.options?.unlock;
            const isPermissionDenied = fileOperationError.fileOperationResult === 6 ;
            const canSaveElevated = resource.scheme === _base_common_network_js__WEBPACK_IMPORTED_MODULE_25__.Schemas.file;
            if (canSaveElevated && (isPermissionDenied || triedToUnlock)) {
                primaryActions.push(this.instantiationService.createInstance(SaveModelElevatedAction, model, options, !!triedToUnlock));
            }
            else if (isWriteLocked) {
                primaryActions.push(this.instantiationService.createInstance(UnlockModelAction, model, options));
            }
            else {
                primaryActions.push(this.instantiationService.createInstance(RetrySaveModelAction, model, options));
            }
            primaryActions.push(this.instantiationService.createInstance(SaveModelAsAction, model));
            primaryActions.push(this.instantiationService.createInstance(RevertModelAction, model));
            if (isWriteLocked) {
                if (triedToUnlock && canSaveElevated) {
                    message = _base_common_platform_js__WEBPACK_IMPORTED_MODULE_24__.isWindows ? ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(
                        5503,
                        "Failed to save '{0}': File is read-only. Select 'Overwrite as Admin' to retry as administrator.",
                        (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_3__.basename)(resource)
                    )) : ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(
                        5504,
                        "Failed to save '{0}': File is read-only. Select 'Overwrite as Sudo' to retry as superuser.",
                        (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_3__.basename)(resource)
                    ));
                }
                else {
                    message = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(
                        5505,
                        "Failed to save '{0}': File is read-only. Select 'Overwrite' to attempt to make it writeable.",
                        (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_3__.basename)(resource)
                    ));
                }
            }
            else if (canSaveElevated && isPermissionDenied) {
                message = _base_common_platform_js__WEBPACK_IMPORTED_MODULE_24__.isWindows ? ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(
                    5506,
                    "Failed to save '{0}': Insufficient permissions. Select 'Retry as Admin' to retry as administrator.",
                    (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_3__.basename)(resource)
                )) : ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(
                    5507,
                    "Failed to save '{0}': Insufficient permissions. Select 'Retry as Sudo' to retry as superuser.",
                    (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_3__.basename)(resource)
                ));
            }
            else {
                message = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(
                    5508,
                    "Failed to save '{0}': {1}",
                    (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_3__.basename)(resource),
                    (0,_base_common_errorMessage_js__WEBPACK_IMPORTED_MODULE_2__.toErrorMessage)(error, false)
                ));
            }
        }
        const actions = { primary: primaryActions, secondary: secondaryActions };
        const handle = this.notificationService.notify({
            id: `${(0,_base_common_hash_js__WEBPACK_IMPORTED_MODULE_28__.hash)(( (model.resource.toString())))}`,
            severity: _base_common_severity_js__WEBPACK_IMPORTED_MODULE_29__["default"].Error,
            message,
            actions
        });
        _base_common_event_js__WEBPACK_IMPORTED_MODULE_22__.Event.once(handle.onDidClose)(() => { (0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_8__.dispose)(primaryActions); (0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_8__.dispose)(secondaryActions); });
        this.messages.set(model.resource, handle);
    }
    dispose() {
        super.dispose();
        this.messages.clear();
    }
};
TextFileSaveErrorHandler = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, _platform_notification_common_notification_service_js__WEBPACK_IMPORTED_MODULE_18__.INotificationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _services_textfile_common_textfiles_service_js__WEBPACK_IMPORTED_MODULE_6__.ITextFileService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_13__.IContextKeyService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_23__.IEditorService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _editor_common_services_resolverService_js__WEBPACK_IMPORTED_MODULE_9__.ITextModelService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_7__.IInstantiationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _platform_storage_common_storage_service_js__WEBPACK_IMPORTED_MODULE_20__.IStorageService)))
], TextFileSaveErrorHandler)));
const pendingResolveSaveConflictMessages = [];
function clearPendingResolveSaveConflictMessages() {
    while (pendingResolveSaveConflictMessages.length > 0) {
        const item = pendingResolveSaveConflictMessages.pop();
        item?.close();
    }
}
let ResolveConflictLearnMoreAction = class ResolveConflictLearnMoreAction extends _base_common_actions_js__WEBPACK_IMPORTED_MODULE_4__.Action {
    constructor(openerService) {
        super('workbench.files.action.resolveConflictLearnMore', ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(5509, "Learn More")));
        this.openerService = openerService;
    }
    async run() {
        await this.openerService.open(( (_base_common_uri_js__WEBPACK_IMPORTED_MODULE_5__.URI.parse('https://go.microsoft.com/fwlink/?linkid=868264'))));
    }
};
ResolveConflictLearnMoreAction = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, _platform_opener_common_opener_service_js__WEBPACK_IMPORTED_MODULE_19__.IOpenerService)))
], ResolveConflictLearnMoreAction)));
let DoNotShowResolveConflictLearnMoreAction = class DoNotShowResolveConflictLearnMoreAction extends _base_common_actions_js__WEBPACK_IMPORTED_MODULE_4__.Action {
    constructor(storageService) {
        super('workbench.files.action.resolveConflictLearnMoreDoNotShowAgain', ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(5510, "Don't Show Again")));
        this.storageService = storageService;
    }
    async run(notification) {
        this.storageService.store(LEARN_MORE_DIRTY_WRITE_IGNORE_KEY, true, -1 , 0 );
        notification.dispose();
    }
};
DoNotShowResolveConflictLearnMoreAction = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, _platform_storage_common_storage_service_js__WEBPACK_IMPORTED_MODULE_20__.IStorageService)))
], DoNotShowResolveConflictLearnMoreAction)));
let ResolveSaveConflictAction = class ResolveSaveConflictAction extends _base_common_actions_js__WEBPACK_IMPORTED_MODULE_4__.Action {
    constructor(model, editorService, notificationService, instantiationService, productService) {
        super('workbench.files.action.resolveConflict', ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(5511, "Compare")));
        this.model = model;
        this.editorService = editorService;
        this.notificationService = notificationService;
        this.instantiationService = instantiationService;
        this.productService = productService;
    }
    async run() {
        if (!this.model.isDisposed()) {
            const resource = this.model.resource;
            const name = (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_3__.basename)(resource);
            const editorLabel = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(
                5512,
                "{0} (in file)  {1} (in {2}) - Resolve save conflict",
                name,
                name,
                this.productService.nameLong
            ));
            await _common_files_js__WEBPACK_IMPORTED_MODULE_14__.TextFileContentProvider.open(resource, CONFLICT_RESOLUTION_SCHEME, editorLabel, this.editorService, { pinned: true });
            const actions = { primary: [this.instantiationService.createInstance(ResolveConflictLearnMoreAction)] };
            const handle = this.notificationService.notify({
                id: `${(0,_base_common_hash_js__WEBPACK_IMPORTED_MODULE_28__.hash)(( (resource.toString())))}`,
                severity: _base_common_severity_js__WEBPACK_IMPORTED_MODULE_29__["default"].Info,
                message: conflictEditorHelp,
                actions,
                neverShowAgain: { id: LEARN_MORE_DIRTY_WRITE_IGNORE_KEY, isSecondary: true }
            });
            _base_common_event_js__WEBPACK_IMPORTED_MODULE_22__.Event.once(handle.onDidClose)(() => (0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_8__.dispose)(actions.primary));
            pendingResolveSaveConflictMessages.push(handle);
        }
    }
};
ResolveSaveConflictAction = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_23__.IEditorService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_notification_common_notification_service_js__WEBPACK_IMPORTED_MODULE_18__.INotificationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_7__.IInstantiationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _platform_product_common_productService_service_js__WEBPACK_IMPORTED_MODULE_21__.IProductService)))
], ResolveSaveConflictAction)));
class SaveModelElevatedAction extends _base_common_actions_js__WEBPACK_IMPORTED_MODULE_4__.Action {
    constructor(model, options, triedToUnlock) {
        super('workbench.files.action.saveModelElevated', triedToUnlock ? _base_common_platform_js__WEBPACK_IMPORTED_MODULE_24__.isWindows ? ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(5513, "Overwrite as Admin...")) : ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(5514, "Overwrite as Sudo...")) : _base_common_platform_js__WEBPACK_IMPORTED_MODULE_24__.isWindows ? ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(5515, "Retry as Admin...")) : ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(5516, "Retry as Sudo...")));
        this.model = model;
        this.options = options;
        this.triedToUnlock = triedToUnlock;
    }
    async run() {
        if (!this.model.isDisposed()) {
            await this.model.save({
                ...this.options,
                writeElevated: true,
                writeUnlock: this.triedToUnlock,
                reason: 1
            });
        }
    }
}
class RetrySaveModelAction extends _base_common_actions_js__WEBPACK_IMPORTED_MODULE_4__.Action {
    constructor(model, options) {
        super('workbench.files.action.saveModel', ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(5517, "Retry")));
        this.model = model;
        this.options = options;
    }
    async run() {
        if (!this.model.isDisposed()) {
            await this.model.save({ ...this.options, reason: 1  });
        }
    }
}
class RevertModelAction extends _base_common_actions_js__WEBPACK_IMPORTED_MODULE_4__.Action {
    constructor(model) {
        super('workbench.files.action.revertModel', ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(5518, "Revert")));
        this.model = model;
    }
    async run() {
        if (!this.model.isDisposed()) {
            await this.model.revert();
        }
    }
}
let SaveModelAsAction = class SaveModelAsAction extends _base_common_actions_js__WEBPACK_IMPORTED_MODULE_4__.Action {
    constructor(model, editorService) {
        super('workbench.files.action.saveModelAs', _fileConstants_js__WEBPACK_IMPORTED_MODULE_16__.SAVE_FILE_AS_LABEL.value);
        this.model = model;
        this.editorService = editorService;
    }
    async run() {
        if (!this.model.isDisposed()) {
            const editor = this.findEditor();
            if (editor) {
                await this.editorService.save(editor, { saveAs: true, reason: 1  });
            }
        }
    }
    findEditor() {
        let preferredMatchingEditor;
        const editors = this.editorService.findEditors(this.model.resource, { supportSideBySide: _common_editor_js__WEBPACK_IMPORTED_MODULE_27__.SideBySideEditor.PRIMARY });
        for (const identifier of editors) {
            if (identifier.editor instanceof _fileEditorInput_js__WEBPACK_IMPORTED_MODULE_15__.FileEditorInput) {
                preferredMatchingEditor = identifier;
                break;
            }
            else if (!preferredMatchingEditor) {
                preferredMatchingEditor = identifier;
            }
        }
        return preferredMatchingEditor;
    }
};
SaveModelAsAction = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_23__.IEditorService)))
], SaveModelAsAction)));
class UnlockModelAction extends _base_common_actions_js__WEBPACK_IMPORTED_MODULE_4__.Action {
    constructor(model, options) {
        super('workbench.files.action.unlock', ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(5519, "Overwrite")));
        this.model = model;
        this.options = options;
    }
    async run() {
        if (!this.model.isDisposed()) {
            await this.model.save({ ...this.options, writeUnlock: true, reason: 1  });
        }
    }
}
class SaveModelIgnoreModifiedSinceAction extends _base_common_actions_js__WEBPACK_IMPORTED_MODULE_4__.Action {
    constructor(model, options) {
        super('workbench.files.action.saveIgnoreModifiedSince', ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(5519, "Overwrite")));
        this.model = model;
        this.options = options;
    }
    async run() {
        if (!this.model.isDisposed()) {
            await this.model.save({ ...this.options, ignoreModifiedSince: true, reason: 1  });
        }
    }
}
let ConfigureSaveConflictAction = class ConfigureSaveConflictAction extends _base_common_actions_js__WEBPACK_IMPORTED_MODULE_4__.Action {
    constructor(preferencesService) {
        super('workbench.files.action.configureSaveConflict', ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(5520, "Configure")));
        this.preferencesService = preferencesService;
    }
    async run() {
        this.preferencesService.openSettings({ query: 'files.saveConflictResolution' });
    }
};
ConfigureSaveConflictAction = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, _services_preferences_common_preferences_service_js__WEBPACK_IMPORTED_MODULE_26__.IPreferencesService)))
], ConfigureSaveConflictAction)));
const acceptLocalChangesCommand = (accessor, resource) => {
    return acceptOrRevertLocalChangesCommand(accessor, resource, true);
};
const revertLocalChangesCommand = (accessor, resource) => {
    return acceptOrRevertLocalChangesCommand(accessor, resource, false);
};
async function acceptOrRevertLocalChangesCommand(accessor, resource, accept) {
    const editorService = accessor.get(_services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_23__.IEditorService);
    const editorPane = editorService.activeEditorPane;
    if (!editorPane) {
        return;
    }
    const editor = editorPane.input;
    const group = editorPane.group;
    clearPendingResolveSaveConflictMessages();
    if (accept) {
        const options = { ignoreModifiedSince: true, reason: 1  };
        await editorService.save({ editor, groupId: group.id }, options);
    }
    else {
        await editorService.revert({ editor, groupId: group.id });
    }
    await editorService.openEditor({ resource }, group);
    return group.closeEditor(editor);
}



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/files.contribution._editorPane.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/files.contribution._editorPane.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _base_common_network_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../base/common/network.js */ "./node_modules/vscode/vscode/src/vs/base/common/network.js");
/* harmony import */ var _base_common_path_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../base/common/path.js */ "./node_modules/vscode/vscode/src/vs/base/common/path.js");
/* harmony import */ var _base_common_platform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../base/common/platform.js */ "./node_modules/vscode/vscode/src/vs/base/common/platform.js");
/* harmony import */ var _editor_common_languages_modesRegistry_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../editor/common/languages/modesRegistry.js */ "./node_modules/vscode/vscode/src/vs/editor/common/languages/modesRegistry.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _platform_instantiation_common_descriptors_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../platform/instantiation/common/descriptors.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/descriptors.js");
/* harmony import */ var _platform_label_common_label_service_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../platform/label/common/label.service.js */ "./node_modules/vscode/vscode/src/vs/platform/label/common/label.service.js");
/* harmony import */ var _platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../platform/registry/common/platform.js */ "./node_modules/vscode/vscode/src/vs/platform/registry/common/platform.js");
/* harmony import */ var _browser_editor_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../browser/editor.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/editor.js");
/* harmony import */ var _common_contributions_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../common/contributions.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/contributions.js");
/* harmony import */ var _common_editor_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../common/editor.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor.js");
/* harmony import */ var _editors_binaryFileEditor_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./editors/binaryFileEditor.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/editors/binaryFileEditor.js");
/* harmony import */ var _editors_fileEditorHandler_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./editors/fileEditorHandler.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/editors/fileEditorHandler.js");
/* harmony import */ var _editors_fileEditorInput_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./editors/fileEditorInput.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/editors/fileEditorInput.js");
/* harmony import */ var _editors_textFileEditor_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./editors/textFileEditor.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/editors/textFileEditor.js");
/* harmony import */ var _editors_textFileEditorTracker_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./editors/textFileEditorTracker.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/editors/textFileEditorTracker.js");
/* harmony import */ var _editors_textFileSaveErrorHandler_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./editors/textFileSaveErrorHandler.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/editors/textFileSaveErrorHandler.js");
/* harmony import */ var _workspaceWatcher_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./workspaceWatcher.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/workspaceWatcher.js");
/* harmony import */ var _common_dirtyFilesIndicator_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../common/dirtyFilesIndicator.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/common/dirtyFilesIndicator.js");
/* harmony import */ var _common_files_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../common/files.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/common/files.js");
/* harmony import */ var _files_contribution_fileEditorFactory_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./files.contribution._fileEditorFactory.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/files.contribution._fileEditorFactory.js");






















let FileUriLabelContribution = class FileUriLabelContribution {
    static { this.ID = 'workbench.contrib.fileUriLabel'; }
    constructor(labelService) {
        labelService.registerFormatter({
            scheme: _base_common_network_js__WEBPACK_IMPORTED_MODULE_1__.Schemas.file,
            formatting: {
                label: '${authority}${path}',
                separator: _base_common_path_js__WEBPACK_IMPORTED_MODULE_2__.sep,
                tildify: !_base_common_platform_js__WEBPACK_IMPORTED_MODULE_3__.isWindows,
                normalizeDriveLetter: _base_common_platform_js__WEBPACK_IMPORTED_MODULE_3__.isWindows,
                authorityPrefix: _base_common_path_js__WEBPACK_IMPORTED_MODULE_2__.sep + _base_common_path_js__WEBPACK_IMPORTED_MODULE_2__.sep,
                workspaceSuffix: ''
            }
        });
    }
};
FileUriLabelContribution = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, _platform_label_common_label_service_js__WEBPACK_IMPORTED_MODULE_7__.ILabelService)))
], FileUriLabelContribution)));
( (_platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_8__.Registry.as(_common_editor_js__WEBPACK_IMPORTED_MODULE_11__.EditorExtensions.EditorPane))).registerEditorPane(_browser_editor_js__WEBPACK_IMPORTED_MODULE_9__.EditorPaneDescriptor.create(_editors_textFileEditor_js__WEBPACK_IMPORTED_MODULE_15__.TextFileEditor, _editors_textFileEditor_js__WEBPACK_IMPORTED_MODULE_15__.TextFileEditor.ID, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_5__.localize)(4473, "Text File Editor"))), [
    ( (new _platform_instantiation_common_descriptors_js__WEBPACK_IMPORTED_MODULE_6__.SyncDescriptor(_editors_fileEditorInput_js__WEBPACK_IMPORTED_MODULE_14__.FileEditorInput)))
]);
( (_platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_8__.Registry.as(_common_editor_js__WEBPACK_IMPORTED_MODULE_11__.EditorExtensions.EditorPane))).registerEditorPane(_browser_editor_js__WEBPACK_IMPORTED_MODULE_9__.EditorPaneDescriptor.create(_editors_binaryFileEditor_js__WEBPACK_IMPORTED_MODULE_12__.BinaryFileEditor, _editors_binaryFileEditor_js__WEBPACK_IMPORTED_MODULE_12__.BinaryFileEditor.ID, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_5__.localize)(4474, "Binary File Editor"))), [
    ( (new _platform_instantiation_common_descriptors_js__WEBPACK_IMPORTED_MODULE_6__.SyncDescriptor(_editors_fileEditorInput_js__WEBPACK_IMPORTED_MODULE_14__.FileEditorInput)))
]);
( (_platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_8__.Registry.as(_common_editor_js__WEBPACK_IMPORTED_MODULE_11__.EditorExtensions.EditorFactory))).registerEditorSerializer(_common_files_js__WEBPACK_IMPORTED_MODULE_20__.FILE_EDITOR_INPUT_ID, _editors_fileEditorHandler_js__WEBPACK_IMPORTED_MODULE_13__.FileEditorInputSerializer);
(0,_common_contributions_js__WEBPACK_IMPORTED_MODULE_10__.registerWorkbenchContribution2)(_editors_fileEditorHandler_js__WEBPACK_IMPORTED_MODULE_13__.FileEditorWorkingCopyEditorHandler.ID, _editors_fileEditorHandler_js__WEBPACK_IMPORTED_MODULE_13__.FileEditorWorkingCopyEditorHandler, 2 );
(0,_common_contributions_js__WEBPACK_IMPORTED_MODULE_10__.registerWorkbenchContribution2)(_editors_textFileEditorTracker_js__WEBPACK_IMPORTED_MODULE_16__.TextFileEditorTracker.ID, _editors_textFileEditorTracker_js__WEBPACK_IMPORTED_MODULE_16__.TextFileEditorTracker, 1 );
(0,_common_contributions_js__WEBPACK_IMPORTED_MODULE_10__.registerWorkbenchContribution2)(_editors_textFileSaveErrorHandler_js__WEBPACK_IMPORTED_MODULE_17__.TextFileSaveErrorHandler.ID, _editors_textFileSaveErrorHandler_js__WEBPACK_IMPORTED_MODULE_17__.TextFileSaveErrorHandler, 1 );
(0,_common_contributions_js__WEBPACK_IMPORTED_MODULE_10__.registerWorkbenchContribution2)(FileUriLabelContribution.ID, FileUriLabelContribution, 1 );
(0,_common_contributions_js__WEBPACK_IMPORTED_MODULE_10__.registerWorkbenchContribution2)(_workspaceWatcher_js__WEBPACK_IMPORTED_MODULE_18__.WorkspaceWatcher.ID, _workspaceWatcher_js__WEBPACK_IMPORTED_MODULE_18__.WorkspaceWatcher, 3 );
(0,_common_contributions_js__WEBPACK_IMPORTED_MODULE_10__.registerWorkbenchContribution2)(_common_dirtyFilesIndicator_js__WEBPACK_IMPORTED_MODULE_19__.DirtyFilesIndicator.ID, _common_dirtyFilesIndicator_js__WEBPACK_IMPORTED_MODULE_19__.DirtyFilesIndicator, 1 );
_editor_common_languages_modesRegistry_js__WEBPACK_IMPORTED_MODULE_4__.ModesRegistry.registerLanguage({
    id: _common_files_js__WEBPACK_IMPORTED_MODULE_20__.BINARY_TEXT_FILE_MODE,
    aliases: ['Binary'],
    mimetypes: ['text/x-code-binary']
});


/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/workspaceWatcher.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/workspaceWatcher.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WorkspaceWatcher: () => (/* binding */ WorkspaceWatcher)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _base_common_uri_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../base/common/uri.js */ "./node_modules/vscode/vscode/src/vs/base/common/uri.js");
/* harmony import */ var _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../platform/configuration/common/configuration.service.js */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var _platform_files_common_files_service_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../platform/files/common/files.service.js */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.service.js");
/* harmony import */ var _platform_workspace_common_workspace_service_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../platform/workspace/common/workspace.service.js */ "./node_modules/vscode/vscode/src/vs/platform/workspace/common/workspace.service.js");
/* harmony import */ var _base_common_map_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../base/common/map.js */ "./node_modules/vscode/vscode/src/vs/base/common/map.js");
/* harmony import */ var _platform_notification_common_notification_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../platform/notification/common/notification.js */ "./node_modules/vscode/vscode/src/vs/platform/notification/common/notification.js");
/* harmony import */ var _platform_notification_common_notification_service_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../platform/notification/common/notification.service.js */ "./node_modules/vscode/vscode/src/vs/platform/notification/common/notification.service.js");
/* harmony import */ var _platform_opener_common_opener_service_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../platform/opener/common/opener.service.js */ "./node_modules/vscode/vscode/src/vs/platform/opener/common/opener.service.js");
/* harmony import */ var _base_common_path_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../base/common/path.js */ "./node_modules/vscode/vscode/src/vs/base/common/path.js");
/* harmony import */ var _platform_uriIdentity_common_uriIdentity_service_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../platform/uriIdentity/common/uriIdentity.service.js */ "./node_modules/vscode/vscode/src/vs/platform/uriIdentity/common/uriIdentity.service.js");
/* harmony import */ var _services_host_browser_host_service_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../services/host/browser/host.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/host/browser/host.service.js");
/* harmony import */ var _platform_telemetry_common_telemetry_service_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../platform/telemetry/common/telemetry.service.js */ "./node_modules/vscode/vscode/src/vs/platform/telemetry/common/telemetry.service.js");
/* harmony import */ var _base_common_severity_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../base/common/severity.js */ "./node_modules/vscode/vscode/src/vs/base/common/severity.js");
















let WorkspaceWatcher = class WorkspaceWatcher extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.Disposable {
    static { this.ID = 'workbench.contrib.workspaceWatcher'; }
    constructor(fileService, configurationService, contextService, notificationService, openerService, uriIdentityService, hostService, telemetryService) {
        super();
        this.fileService = fileService;
        this.configurationService = configurationService;
        this.contextService = contextService;
        this.notificationService = notificationService;
        this.openerService = openerService;
        this.uriIdentityService = uriIdentityService;
        this.hostService = hostService;
        this.telemetryService = telemetryService;
        this.watchedWorkspaces = ( (new _base_common_map_js__WEBPACK_IMPORTED_MODULE_7__.ResourceMap(resource => this.uriIdentityService.extUri.getComparisonKey(resource))));
        this.registerListeners();
        this.refresh();
    }
    registerListeners() {
        this._register(this.contextService.onDidChangeWorkspaceFolders(e => this.onDidChangeWorkspaceFolders(e)));
        this._register(this.contextService.onDidChangeWorkbenchState(() => this.onDidChangeWorkbenchState()));
        this._register(this.configurationService.onDidChangeConfiguration(e => this.onDidChangeConfiguration(e)));
        this._register(this.fileService.onDidWatchError(error => this.onDidWatchError(error)));
    }
    onDidChangeWorkspaceFolders(e) {
        for (const removed of e.removed) {
            this.unwatchWorkspace(removed);
        }
        for (const added of e.added) {
            this.watchWorkspace(added);
        }
    }
    onDidChangeWorkbenchState() {
        this.refresh();
    }
    onDidChangeConfiguration(e) {
        if (e.affectsConfiguration('files.watcherExclude') || e.affectsConfiguration('files.watcherInclude')) {
            this.refresh();
        }
    }
    onDidWatchError(error) {
        const msg = ( (error.toString()));
        let reason = undefined;
        if (msg.indexOf('ENOSPC') >= 0) {
            reason = 'ENOSPC';
            this.notificationService.prompt(_base_common_severity_js__WEBPACK_IMPORTED_MODULE_15__["default"].Warning, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(
                9898,
                "Unable to watch for file changes. Please follow the instructions link to resolve this issue."
            )), [{
                    label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9899, "Instructions")),
                    run: () => this.openerService.open(( (_base_common_uri_js__WEBPACK_IMPORTED_MODULE_3__.URI.parse('https://go.microsoft.com/fwlink/?linkid=867693'))))
                }], {
                sticky: true,
                neverShowAgain: { id: 'ignoreEnospcError', isSecondary: true, scope: _platform_notification_common_notification_js__WEBPACK_IMPORTED_MODULE_8__.NeverShowAgainScope.WORKSPACE }
            });
        }
        else if (msg.indexOf('EUNKNOWN') >= 0) {
            reason = 'EUNKNOWN';
            this.notificationService.prompt(_base_common_severity_js__WEBPACK_IMPORTED_MODULE_15__["default"].Warning, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(
                9900,
                "File changes watcher stopped unexpectedly. A reload of the window may enable the watcher again unless the workspace cannot be watched for file changes."
            )), [{
                    label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9901, "Reload")),
                    run: () => this.hostService.reload()
                }], {
                sticky: true,
                priority: _platform_notification_common_notification_js__WEBPACK_IMPORTED_MODULE_8__.NotificationPriority.SILENT
            });
        }
        else if (msg.indexOf('ETERM') >= 0) {
            reason = 'ETERM';
        }
        if (reason) {
            this.telemetryService.publicLog2('fileWatcherError', { reason });
        }
    }
    watchWorkspace(workspace) {
        const excludes = [];
        const config = this.configurationService.getValue({ resource: workspace.uri });
        if (config.files?.watcherExclude) {
            for (const key in config.files.watcherExclude) {
                if (key && config.files.watcherExclude[key] === true) {
                    excludes.push(key);
                }
            }
        }
        const pathsToWatch = ( (new _base_common_map_js__WEBPACK_IMPORTED_MODULE_7__.ResourceMap(uri => this.uriIdentityService.extUri.getComparisonKey(uri))));
        pathsToWatch.set(workspace.uri, workspace.uri);
        if (config.files?.watcherInclude) {
            for (const includePath of config.files.watcherInclude) {
                if (!includePath) {
                    continue;
                }
                if ((0,_base_common_path_js__WEBPACK_IMPORTED_MODULE_11__.isAbsolute)(includePath)) {
                    const candidate = _base_common_uri_js__WEBPACK_IMPORTED_MODULE_3__.URI.file(includePath).with({ scheme: workspace.uri.scheme });
                    if (this.uriIdentityService.extUri.isEqualOrParent(candidate, workspace.uri)) {
                        pathsToWatch.set(candidate, candidate);
                    }
                }
                else {
                    const candidate = workspace.toResource(includePath);
                    pathsToWatch.set(candidate, candidate);
                }
            }
        }
        const disposables = ( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.DisposableStore()));
        for (const [, pathToWatch] of pathsToWatch) {
            disposables.add(this.fileService.watch(pathToWatch, { recursive: true, excludes }));
        }
        this.watchedWorkspaces.set(workspace.uri, disposables);
    }
    unwatchWorkspace(workspace) {
        if (( (this.watchedWorkspaces.has(workspace.uri)))) {
            (0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.dispose)(this.watchedWorkspaces.get(workspace.uri));
            this.watchedWorkspaces.delete(workspace.uri);
        }
    }
    refresh() {
        this.unwatchWorkspaces();
        for (const folder of this.contextService.getWorkspace().folders) {
            this.watchWorkspace(folder);
        }
    }
    unwatchWorkspaces() {
        for (const [, disposable] of this.watchedWorkspaces) {
            disposable.dispose();
        }
        this.watchedWorkspaces.clear();
    }
    dispose() {
        super.dispose();
        this.unwatchWorkspaces();
    }
};
WorkspaceWatcher = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, _platform_files_common_files_service_js__WEBPACK_IMPORTED_MODULE_5__.IFileService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_4__.IConfigurationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_workspace_common_workspace_service_js__WEBPACK_IMPORTED_MODULE_6__.IWorkspaceContextService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _platform_notification_common_notification_service_js__WEBPACK_IMPORTED_MODULE_9__.INotificationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _platform_opener_common_opener_service_js__WEBPACK_IMPORTED_MODULE_10__.IOpenerService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _platform_uriIdentity_common_uriIdentity_service_js__WEBPACK_IMPORTED_MODULE_12__.IUriIdentityService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _services_host_browser_host_service_js__WEBPACK_IMPORTED_MODULE_13__.IHostService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, _platform_telemetry_common_telemetry_service_js__WEBPACK_IMPORTED_MODULE_14__.ITelemetryService)))
], WorkspaceWatcher)));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/common/dirtyFilesIndicator.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/contrib/files/common/dirtyFilesIndicator.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DirtyFilesIndicator: () => (/* binding */ DirtyFilesIndicator)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _files_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./files.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/common/files.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _services_activity_common_activity_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/activity/common/activity.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/activity/common/activity.js");
/* harmony import */ var _services_activity_common_activity_service_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/activity/common/activity.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/activity/common/activity.service.js");
/* harmony import */ var _services_workingCopy_common_workingCopyService_service_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/workingCopy/common/workingCopyService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/workingCopy/common/workingCopyService.service.js");
/* harmony import */ var _services_filesConfiguration_common_filesConfigurationService_service_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../services/filesConfiguration/common/filesConfigurationService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/filesConfiguration/common/filesConfigurationService.service.js");








let DirtyFilesIndicator = class DirtyFilesIndicator extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.Disposable {
    static { this.ID = 'workbench.contrib.dirtyFilesIndicator'; }
    constructor(activityService, workingCopyService, filesConfigurationService) {
        super();
        this.activityService = activityService;
        this.workingCopyService = workingCopyService;
        this.filesConfigurationService = filesConfigurationService;
        this.badgeHandle = this._register(( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.MutableDisposable())));
        this.lastKnownDirtyCount = 0;
        this.updateActivityBadge();
        this.registerListeners();
    }
    registerListeners() {
        this._register(this.workingCopyService.onDidChangeDirty(workingCopy => this.onWorkingCopyDidChangeDirty(workingCopy)));
    }
    onWorkingCopyDidChangeDirty(workingCopy) {
        const gotDirty = workingCopy.isDirty();
        if (gotDirty && !((workingCopy.capabilities & 2) ) && this.filesConfigurationService.hasShortAutoSaveDelay(workingCopy.resource)) {
            return;
        }
        if (gotDirty || this.lastKnownDirtyCount > 0) {
            this.updateActivityBadge();
        }
    }
    updateActivityBadge() {
        const dirtyCount = this.lastKnownDirtyCount = this.workingCopyService.dirtyCount;
        if (dirtyCount > 0) {
            this.badgeHandle.value = this.activityService.showViewContainerActivity(_files_js__WEBPACK_IMPORTED_MODULE_2__.VIEWLET_ID, {
                badge: ( (new _services_activity_common_activity_js__WEBPACK_IMPORTED_MODULE_4__.NumberBadge(dirtyCount, num => num === 1 ? ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9902, "1 unsaved file")) : ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(9903, "{0} unsaved files", dirtyCount))))),
            });
        }
        else {
            this.badgeHandle.clear();
        }
    }
};
DirtyFilesIndicator = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, _services_activity_common_activity_service_js__WEBPACK_IMPORTED_MODULE_5__.IActivityService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _services_workingCopy_common_workingCopyService_service_js__WEBPACK_IMPORTED_MODULE_6__.IWorkingCopyService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _services_filesConfiguration_common_filesConfigurationService_service_js__WEBPACK_IMPORTED_MODULE_7__.IFilesConfigurationService)))
], DirtyFilesIndicator)));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/conflictActions.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/conflictActions.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ActionsSource: () => (/* binding */ ActionsSource),
/* harmony export */   ConflictActionsFactory: () => (/* binding */ ConflictActionsFactory)
/* harmony export */ });
/* harmony import */ var _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../base/browser/dom.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var _base_browser_ui_iconLabel_iconLabels_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../base/browser/ui/iconLabel/iconLabels.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/iconLabel/iconLabels.js");
/* harmony import */ var _base_common_hash_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../base/common/hash.js */ "./node_modules/vscode/vscode/src/vs/base/common/hash.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _base_common_observableInternal_base_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../base/common/observableInternal/base.js */ "./node_modules/vscode/vscode/src/vs/base/common/observableInternal/base.js");
/* harmony import */ var _base_common_arrays_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../base/common/arrays.js */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../base/common/event.js */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var _base_common_observableInternal_autorun_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../base/common/observableInternal/autorun.js */ "./node_modules/vscode/vscode/src/vs/base/common/observableInternal/autorun.js");
/* harmony import */ var _base_common_observableInternal_derived_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../base/common/observableInternal/derived.js */ "./node_modules/vscode/vscode/src/vs/base/common/observableInternal/derived.js");
/* harmony import */ var _base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../base/common/cancellation.js */ "./node_modules/vscode/vscode/src/vs/base/common/cancellation.js");
/* harmony import */ var _base_common_observableInternal_utils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../base/common/observableInternal/utils.js */ "./node_modules/vscode/vscode/src/vs/base/common/observableInternal/utils.js");
/* harmony import */ var _editor_common_config_editorOptions_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../editor/common/config/editorOptions.js */ "./node_modules/vscode/vscode/src/vs/editor/common/config/editorOptions.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _model_modifiedBaseRange_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../model/modifiedBaseRange.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/mergeEditor/browser/model/modifiedBaseRange.js");
/* harmony import */ var _fixedZoneWidget_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./fixedZoneWidget.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/fixedZoneWidget.js");















class ConflictActionsFactory extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.Disposable {
    constructor(_editor) {
        super();
        this._editor = _editor;
        this._register(this._editor.onDidChangeConfiguration((e) => {
            if (e.hasChanged(52 ) || e.hasChanged(19 ) || e.hasChanged(18 )) {
                this._updateLensStyle();
            }
        }));
        this._styleClassName = '_conflictActionsFactory_' + ( ((0,_base_common_hash_js__WEBPACK_IMPORTED_MODULE_2__.hash)(this._editor.getId()).toString(16)));
        this._styleElement = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_0__.createStyleSheet)((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_0__.isInShadowDOM)(this._editor.getContainerDomNode())
            ? this._editor.getContainerDomNode()
            : undefined, undefined, this._store);
        this._updateLensStyle();
    }
    _updateLensStyle() {
        const { codeLensHeight, fontSize } = this._getLayoutInfo();
        const fontFamily = this._editor.getOption(18 );
        const editorFontInfo = this._editor.getOption(52 );
        const fontFamilyVar = `--codelens-font-family${this._styleClassName}`;
        const fontFeaturesVar = `--codelens-font-features${this._styleClassName}`;
        let newStyle = `
		.${this._styleClassName} { line-height: ${codeLensHeight}px; font-size: ${fontSize}px; padding-right: ${Math.round(fontSize * 0.5)}px; font-feature-settings: var(${fontFeaturesVar}) }
		.monaco-workbench .${this._styleClassName} span.codicon { line-height: ${codeLensHeight}px; font-size: ${fontSize}px; }
		`;
        if (fontFamily) {
            newStyle += `${this._styleClassName} { font-family: var(${fontFamilyVar}), ${_editor_common_config_editorOptions_js__WEBPACK_IMPORTED_MODULE_11__.EDITOR_FONT_DEFAULTS.fontFamily}}`;
        }
        this._styleElement.textContent = newStyle;
        this._editor.getContainerDomNode().style?.setProperty(fontFamilyVar, fontFamily ?? 'inherit');
        this._editor.getContainerDomNode().style?.setProperty(fontFeaturesVar, editorFontInfo.fontFeatureSettings);
    }
    _getLayoutInfo() {
        const lineHeightFactor = Math.max(1.3, this._editor.getOption(69 ) / this._editor.getOption(54 ));
        let fontSize = this._editor.getOption(19 );
        if (!fontSize || fontSize < 5) {
            fontSize = (this._editor.getOption(54 ) * .9) | 0;
        }
        return {
            fontSize,
            codeLensHeight: (fontSize * lineHeightFactor) | 0,
        };
    }
    createWidget(viewZoneChangeAccessor, lineNumber, items, viewZoneIdsToCleanUp) {
        const layoutInfo = this._getLayoutInfo();
        return (
             (new ActionsContentWidget(
                this._editor,
                viewZoneChangeAccessor,
                lineNumber,
                layoutInfo.codeLensHeight + 2,
                this._styleClassName,
                items,
                viewZoneIdsToCleanUp
            ))
        );
    }
}
class ActionsSource {
    constructor(viewModel, modifiedBaseRange) {
        this.viewModel = viewModel;
        this.modifiedBaseRange = modifiedBaseRange;
        this.itemsInput1 = this.getItemsInput(1);
        this.itemsInput2 = this.getItemsInput(2);
        this.resultItems = (0,_base_common_observableInternal_derived_js__WEBPACK_IMPORTED_MODULE_8__.derived)(this, reader => {
            const viewModel = this.viewModel;
            const modifiedBaseRange = this.modifiedBaseRange;
            const state = viewModel.model.getState(modifiedBaseRange).read(reader);
            const model = viewModel.model;
            const result = [];
            if (state.kind === _model_modifiedBaseRange_js__WEBPACK_IMPORTED_MODULE_13__.ModifiedBaseRangeStateKind.unrecognized) {
                result.push({
                    text: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(11472, "Manual Resolution")),
                    tooltip: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(11473, "This conflict has been resolved manually.")),
                });
            }
            else if (state.kind === _model_modifiedBaseRange_js__WEBPACK_IMPORTED_MODULE_13__.ModifiedBaseRangeStateKind.base) {
                result.push({
                    text: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(11474, 'No Changes Accepted')),
                    tooltip: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(
                        11475,
                        'The current resolution of this conflict equals the common ancestor of both the right and left changes.'
                    )),
                });
            }
            else {
                const labels = [];
                if (state.includesInput1) {
                    labels.push(model.input1.title);
                }
                if (state.includesInput2) {
                    labels.push(model.input2.title);
                }
                if (state.kind === _model_modifiedBaseRange_js__WEBPACK_IMPORTED_MODULE_13__.ModifiedBaseRangeStateKind.both && state.firstInput === 2) {
                    labels.reverse();
                }
                result.push({
                    text: `${labels.join(' + ')}`
                });
            }
            const stateToggles = [];
            if (state.includesInput1) {
                stateToggles.push(command(( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(11476, 'Remove {0}', model.input1.title)), async () => {
                    (0,_base_common_observableInternal_base_js__WEBPACK_IMPORTED_MODULE_4__.transaction)((tx) => {
                        model.setState(modifiedBaseRange, state.withInputValue(1, false), true, tx);
                        model.telemetry.reportRemoveInvoked(1, state.includesInput(2));
                    });
                }, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(11477, 'Remove {0} from the result document.', model.input1.title))));
            }
            if (state.includesInput2) {
                stateToggles.push(command(( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(11476, 'Remove {0}', model.input2.title)), async () => {
                    (0,_base_common_observableInternal_base_js__WEBPACK_IMPORTED_MODULE_4__.transaction)((tx) => {
                        model.setState(modifiedBaseRange, state.withInputValue(2, false), true, tx);
                        model.telemetry.reportRemoveInvoked(2, state.includesInput(1));
                    });
                }, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(11477, 'Remove {0} from the result document.', model.input2.title))));
            }
            if (state.kind === _model_modifiedBaseRange_js__WEBPACK_IMPORTED_MODULE_13__.ModifiedBaseRangeStateKind.both &&
                state.firstInput === 2) {
                stateToggles.reverse();
            }
            result.push(...stateToggles);
            if (state.kind === _model_modifiedBaseRange_js__WEBPACK_IMPORTED_MODULE_13__.ModifiedBaseRangeStateKind.unrecognized) {
                result.push(command(( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(11478, 'Reset to base')), async () => {
                    (0,_base_common_observableInternal_base_js__WEBPACK_IMPORTED_MODULE_4__.transaction)((tx) => {
                        model.setState(modifiedBaseRange, _model_modifiedBaseRange_js__WEBPACK_IMPORTED_MODULE_13__.ModifiedBaseRangeState.base, true, tx);
                        model.telemetry.reportResetToBaseInvoked();
                    });
                }, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(
                    11479,
                    'Reset this conflict to the common ancestor of both the right and left changes.'
                ))));
            }
            return result;
        });
        this.isEmpty = (0,_base_common_observableInternal_derived_js__WEBPACK_IMPORTED_MODULE_8__.derived)(this, reader => {
            return this.itemsInput1.read(reader).length + this.itemsInput2.read(reader).length + this.resultItems.read(reader).length === 0;
        });
        this.inputIsEmpty = (0,_base_common_observableInternal_derived_js__WEBPACK_IMPORTED_MODULE_8__.derived)(this, reader => {
            return this.itemsInput1.read(reader).length + this.itemsInput2.read(reader).length === 0;
        });
    }
    getItemsInput(inputNumber) {
        return (0,_base_common_observableInternal_derived_js__WEBPACK_IMPORTED_MODULE_8__.derived)(reader => {
            const viewModel = this.viewModel;
            const modifiedBaseRange = this.modifiedBaseRange;
            if (!viewModel.model.hasBaseRange(modifiedBaseRange)) {
                return [];
            }
            const state = viewModel.model.getState(modifiedBaseRange).read(reader);
            const handled = viewModel.model.isHandled(modifiedBaseRange).read(reader);
            const model = viewModel.model;
            const result = [];
            const inputData = inputNumber === 1 ? viewModel.model.input1 : viewModel.model.input2;
            const showNonConflictingChanges = viewModel.showNonConflictingChanges.read(reader);
            if (!modifiedBaseRange.isConflicting && handled && !showNonConflictingChanges) {
                return [];
            }
            const otherInputNumber = inputNumber === 1 ? 2 : 1;
            if (state.kind !== _model_modifiedBaseRange_js__WEBPACK_IMPORTED_MODULE_13__.ModifiedBaseRangeStateKind.unrecognized && !state.isInputIncluded(inputNumber)) {
                if (!state.isInputIncluded(otherInputNumber) || !this.viewModel.shouldUseAppendInsteadOfAccept.read(reader)) {
                    result.push(command(( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(11480, "Accept {0}", inputData.title)), async () => {
                        (0,_base_common_observableInternal_base_js__WEBPACK_IMPORTED_MODULE_4__.transaction)((tx) => {
                            model.setState(modifiedBaseRange, state.withInputValue(inputNumber, true, false), inputNumber, tx);
                            model.telemetry.reportAcceptInvoked(inputNumber, state.includesInput(otherInputNumber));
                        });
                    }, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(11481, "Accept {0} in the result document.", inputData.title))));
                    if (modifiedBaseRange.canBeCombined) {
                        const commandName = modifiedBaseRange.isOrderRelevant
                            ? ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(11482, "Accept Combination ({0} First)", inputData.title))
                            : ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(11483, "Accept Combination"));
                        result.push(command(commandName, async () => {
                            (0,_base_common_observableInternal_base_js__WEBPACK_IMPORTED_MODULE_4__.transaction)((tx) => {
                                model.setState(modifiedBaseRange, _model_modifiedBaseRange_js__WEBPACK_IMPORTED_MODULE_13__.ModifiedBaseRangeState.base
                                    .withInputValue(inputNumber, true)
                                    .withInputValue(otherInputNumber, true, true), true, tx);
                                model.telemetry.reportSmartCombinationInvoked(state.includesInput(otherInputNumber));
                            });
                        }, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(
                            11484,
                            "Accept an automatic combination of both sides in the result document."
                        ))));
                    }
                }
                else {
                    result.push(command(( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(11485, "Append {0}", inputData.title)), async () => {
                        (0,_base_common_observableInternal_base_js__WEBPACK_IMPORTED_MODULE_4__.transaction)((tx) => {
                            model.setState(modifiedBaseRange, state.withInputValue(inputNumber, true, false), inputNumber, tx);
                            model.telemetry.reportAcceptInvoked(inputNumber, state.includesInput(otherInputNumber));
                        });
                    }, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(11486, "Append {0} to the result document.", inputData.title))));
                    if (modifiedBaseRange.canBeCombined) {
                        result.push(command(( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(11487, "Accept Combination", inputData.title)), async () => {
                            (0,_base_common_observableInternal_base_js__WEBPACK_IMPORTED_MODULE_4__.transaction)((tx) => {
                                model.setState(modifiedBaseRange, state.withInputValue(inputNumber, true, true), inputNumber, tx);
                                model.telemetry.reportSmartCombinationInvoked(state.includesInput(otherInputNumber));
                            });
                        }, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(
                            11484,
                            "Accept an automatic combination of both sides in the result document."
                        ))));
                    }
                }
                if (!model.isInputHandled(modifiedBaseRange, inputNumber).read(reader)) {
                    result.push(command(( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(11488, 'Ignore')), async () => {
                        (0,_base_common_observableInternal_base_js__WEBPACK_IMPORTED_MODULE_4__.transaction)((tx) => {
                            model.setInputHandled(modifiedBaseRange, inputNumber, true, tx);
                        });
                    }, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(11489, "Don't take this side of the conflict."))));
                }
            }
            return result;
        });
    }
}
function command(title, action, tooltip) {
    return {
        text: title,
        action,
        tooltip,
    };
}
class ActionsContentWidget extends _fixedZoneWidget_js__WEBPACK_IMPORTED_MODULE_14__.FixedZoneWidget {
    constructor(editor, viewZoneAccessor, afterLineNumber, height, className, items, viewZoneIdsToCleanUp) {
        super(editor, viewZoneAccessor, afterLineNumber, height, viewZoneIdsToCleanUp);
        this._domNode = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_0__.h)('div.merge-editor-conflict-actions').root;
        this.widgetDomNode.appendChild(this._domNode);
        this._domNode.classList.add(className);
        this._register((0,_base_common_observableInternal_autorun_js__WEBPACK_IMPORTED_MODULE_7__.autorun)(reader => {
            const i = items.read(reader);
            this.setState(i);
        }));
    }
    setState(items) {
        const children = [];
        let isFirst = true;
        for (const item of items) {
            if (isFirst) {
                isFirst = false;
            }
            else {
                children.push((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_0__.$)('span', undefined, '\u00a0|\u00a0'));
            }
            const title = (0,_base_browser_ui_iconLabel_iconLabels_js__WEBPACK_IMPORTED_MODULE_1__.renderLabelWithIcons)(item.text);
            if (item.action) {
                children.push((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_0__.$)('a', { title: item.tooltip, role: 'button', onclick: () => item.action() }, ...title));
            }
            else {
                children.push((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_0__.$)('span', { title: item.tooltip }, ...title));
            }
        }
        (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_0__.reset)(this._domNode, ...children);
    }
}



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/fixedZoneWidget.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/fixedZoneWidget.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FixedZoneWidget: () => (/* binding */ FixedZoneWidget)
/* harmony export */ });
/* harmony import */ var _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../base/browser/dom.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../base/common/event.js */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");



class FixedZoneWidget extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.Disposable {
    static { this.counter = 0; }
    constructor(editor, viewZoneAccessor, afterLineNumber, height, viewZoneIdsToCleanUp) {
        super();
        this.editor = editor;
        this.overlayWidgetId = `fixedZoneWidget-${FixedZoneWidget.counter++}`;
        this.widgetDomNode = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_0__.h)('div.fixed-zone-widget').root;
        this.overlayWidget = {
            getId: () => this.overlayWidgetId,
            getDomNode: () => this.widgetDomNode,
            getPosition: () => null
        };
        this.viewZoneId = viewZoneAccessor.addZone({
            domNode: document.createElement('div'),
            afterLineNumber: afterLineNumber,
            heightInPx: height,
            ordinal: 50000 + 1,
            onComputedHeight: (height) => {
                this.widgetDomNode.style.height = `${height}px`;
            },
            onDomNodeTop: (top) => {
                this.widgetDomNode.style.top = `${top}px`;
            }
        });
        viewZoneIdsToCleanUp.push(this.viewZoneId);
        this._register(_base_common_event_js__WEBPACK_IMPORTED_MODULE_2__.Event.runAndSubscribe(this.editor.onDidLayoutChange, () => {
            this.widgetDomNode.style.left = this.editor.getLayoutInfo().contentLeft + 'px';
        }));
        this.editor.addOverlayWidget(this.overlayWidget);
        this._register({
            dispose: () => {
                this.editor.removeOverlayWidget(this.overlayWidget);
            },
        });
    }
}



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/contrib/preferences/common/preferences.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/contrib/preferences/common/preferences.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CONTEXT_KEYBINDINGS_EDITOR: () => (/* binding */ CONTEXT_KEYBINDINGS_EDITOR),
/* harmony export */   CONTEXT_KEYBINDINGS_SEARCH_FOCUS: () => (/* binding */ CONTEXT_KEYBINDINGS_SEARCH_FOCUS),
/* harmony export */   CONTEXT_KEYBINDING_FOCUS: () => (/* binding */ CONTEXT_KEYBINDING_FOCUS),
/* harmony export */   CONTEXT_SETTINGS_EDITOR: () => (/* binding */ CONTEXT_SETTINGS_EDITOR),
/* harmony export */   CONTEXT_SETTINGS_JSON_EDITOR: () => (/* binding */ CONTEXT_SETTINGS_JSON_EDITOR),
/* harmony export */   CONTEXT_SETTINGS_ROW_FOCUS: () => (/* binding */ CONTEXT_SETTINGS_ROW_FOCUS),
/* harmony export */   CONTEXT_SETTINGS_SEARCH_FOCUS: () => (/* binding */ CONTEXT_SETTINGS_SEARCH_FOCUS),
/* harmony export */   CONTEXT_TOC_ROW_FOCUS: () => (/* binding */ CONTEXT_TOC_ROW_FOCUS),
/* harmony export */   CONTEXT_WHEN_FOCUS: () => (/* binding */ CONTEXT_WHEN_FOCUS),
/* harmony export */   EXTENSION_FETCH_TIMEOUT_MS: () => (/* binding */ EXTENSION_FETCH_TIMEOUT_MS),
/* harmony export */   EXTENSION_SETTING_TAG: () => (/* binding */ EXTENSION_SETTING_TAG),
/* harmony export */   FEATURE_SETTING_TAG: () => (/* binding */ FEATURE_SETTING_TAG),
/* harmony export */   GENERAL_TAG_SETTING_TAG: () => (/* binding */ GENERAL_TAG_SETTING_TAG),
/* harmony export */   ID_SETTING_TAG: () => (/* binding */ ID_SETTING_TAG),
/* harmony export */   KEYBINDINGS_EDITOR_COMMAND_ACCEPT_WHEN: () => (/* binding */ KEYBINDINGS_EDITOR_COMMAND_ACCEPT_WHEN),
/* harmony export */   KEYBINDINGS_EDITOR_COMMAND_ADD: () => (/* binding */ KEYBINDINGS_EDITOR_COMMAND_ADD),
/* harmony export */   KEYBINDINGS_EDITOR_COMMAND_CLEAR_SEARCH_HISTORY: () => (/* binding */ KEYBINDINGS_EDITOR_COMMAND_CLEAR_SEARCH_HISTORY),
/* harmony export */   KEYBINDINGS_EDITOR_COMMAND_CLEAR_SEARCH_RESULTS: () => (/* binding */ KEYBINDINGS_EDITOR_COMMAND_CLEAR_SEARCH_RESULTS),
/* harmony export */   KEYBINDINGS_EDITOR_COMMAND_COPY: () => (/* binding */ KEYBINDINGS_EDITOR_COMMAND_COPY),
/* harmony export */   KEYBINDINGS_EDITOR_COMMAND_COPY_COMMAND: () => (/* binding */ KEYBINDINGS_EDITOR_COMMAND_COPY_COMMAND),
/* harmony export */   KEYBINDINGS_EDITOR_COMMAND_COPY_COMMAND_TITLE: () => (/* binding */ KEYBINDINGS_EDITOR_COMMAND_COPY_COMMAND_TITLE),
/* harmony export */   KEYBINDINGS_EDITOR_COMMAND_DEFINE: () => (/* binding */ KEYBINDINGS_EDITOR_COMMAND_DEFINE),
/* harmony export */   KEYBINDINGS_EDITOR_COMMAND_DEFINE_WHEN: () => (/* binding */ KEYBINDINGS_EDITOR_COMMAND_DEFINE_WHEN),
/* harmony export */   KEYBINDINGS_EDITOR_COMMAND_FOCUS_KEYBINDINGS: () => (/* binding */ KEYBINDINGS_EDITOR_COMMAND_FOCUS_KEYBINDINGS),
/* harmony export */   KEYBINDINGS_EDITOR_COMMAND_RECORD_SEARCH_KEYS: () => (/* binding */ KEYBINDINGS_EDITOR_COMMAND_RECORD_SEARCH_KEYS),
/* harmony export */   KEYBINDINGS_EDITOR_COMMAND_REJECT_WHEN: () => (/* binding */ KEYBINDINGS_EDITOR_COMMAND_REJECT_WHEN),
/* harmony export */   KEYBINDINGS_EDITOR_COMMAND_REMOVE: () => (/* binding */ KEYBINDINGS_EDITOR_COMMAND_REMOVE),
/* harmony export */   KEYBINDINGS_EDITOR_COMMAND_RESET: () => (/* binding */ KEYBINDINGS_EDITOR_COMMAND_RESET),
/* harmony export */   KEYBINDINGS_EDITOR_COMMAND_SEARCH: () => (/* binding */ KEYBINDINGS_EDITOR_COMMAND_SEARCH),
/* harmony export */   KEYBINDINGS_EDITOR_COMMAND_SHOW_SIMILAR: () => (/* binding */ KEYBINDINGS_EDITOR_COMMAND_SHOW_SIMILAR),
/* harmony export */   KEYBINDINGS_EDITOR_COMMAND_SORTBY_PRECEDENCE: () => (/* binding */ KEYBINDINGS_EDITOR_COMMAND_SORTBY_PRECEDENCE),
/* harmony export */   KEYBINDINGS_EDITOR_SHOW_DEFAULT_KEYBINDINGS: () => (/* binding */ KEYBINDINGS_EDITOR_SHOW_DEFAULT_KEYBINDINGS),
/* harmony export */   KEYBINDINGS_EDITOR_SHOW_EXTENSION_KEYBINDINGS: () => (/* binding */ KEYBINDINGS_EDITOR_SHOW_EXTENSION_KEYBINDINGS),
/* harmony export */   KEYBINDINGS_EDITOR_SHOW_USER_KEYBINDINGS: () => (/* binding */ KEYBINDINGS_EDITOR_SHOW_USER_KEYBINDINGS),
/* harmony export */   KEYBOARD_LAYOUT_OPEN_PICKER: () => (/* binding */ KEYBOARD_LAYOUT_OPEN_PICKER),
/* harmony export */   LANGUAGE_SETTING_TAG: () => (/* binding */ LANGUAGE_SETTING_TAG),
/* harmony export */   MODIFIED_SETTING_TAG: () => (/* binding */ MODIFIED_SETTING_TAG),
/* harmony export */   POLICY_SETTING_TAG: () => (/* binding */ POLICY_SETTING_TAG),
/* harmony export */   REQUIRE_TRUSTED_WORKSPACE_SETTING_TAG: () => (/* binding */ REQUIRE_TRUSTED_WORKSPACE_SETTING_TAG),
/* harmony export */   SETTINGS_EDITOR_COMMAND_CLEAR_SEARCH_RESULTS: () => (/* binding */ SETTINGS_EDITOR_COMMAND_CLEAR_SEARCH_RESULTS),
/* harmony export */   SETTINGS_EDITOR_COMMAND_SHOW_CONTEXT_MENU: () => (/* binding */ SETTINGS_EDITOR_COMMAND_SHOW_CONTEXT_MENU),
/* harmony export */   SETTINGS_EDITOR_COMMAND_SUGGEST_FILTERS: () => (/* binding */ SETTINGS_EDITOR_COMMAND_SUGGEST_FILTERS),
/* harmony export */   WORKSPACE_TRUST_SETTING_TAG: () => (/* binding */ WORKSPACE_TRUST_SETTING_TAG),
/* harmony export */   compareTwoNullableNumbers: () => (/* binding */ compareTwoNullableNumbers),
/* harmony export */   getExperimentalExtensionToggleData: () => (/* binding */ getExperimentalExtensionToggleData)
/* harmony export */ });
/* harmony import */ var _base_common_async_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../base/common/async.js */ "./node_modules/vscode/vscode/src/vs/base/common/async.js");
/* harmony import */ var _base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../base/common/cancellation.js */ "./node_modules/vscode/vscode/src/vs/base/common/cancellation.js");
/* harmony import */ var _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../platform/contextkey/common/contextkey.js */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.js");



const SETTINGS_EDITOR_COMMAND_CLEAR_SEARCH_RESULTS = 'settings.action.clearSearchResults';
const SETTINGS_EDITOR_COMMAND_SHOW_CONTEXT_MENU = 'settings.action.showContextMenu';
const SETTINGS_EDITOR_COMMAND_SUGGEST_FILTERS = 'settings.action.suggestFilters';
const CONTEXT_SETTINGS_EDITOR = ( new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_2__.RawContextKey('inSettingsEditor', false));
const CONTEXT_SETTINGS_JSON_EDITOR = ( new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_2__.RawContextKey('inSettingsJSONEditor', false));
const CONTEXT_SETTINGS_SEARCH_FOCUS = ( new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_2__.RawContextKey('inSettingsSearch', false));
const CONTEXT_TOC_ROW_FOCUS = ( new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_2__.RawContextKey('settingsTocRowFocus', false));
const CONTEXT_SETTINGS_ROW_FOCUS = ( new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_2__.RawContextKey('settingRowFocus', false));
const CONTEXT_KEYBINDINGS_EDITOR = ( new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_2__.RawContextKey('inKeybindings', false));
const CONTEXT_KEYBINDINGS_SEARCH_FOCUS = ( new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_2__.RawContextKey('inKeybindingsSearch', false));
const CONTEXT_KEYBINDING_FOCUS = ( new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_2__.RawContextKey('keybindingFocus', false));
const CONTEXT_WHEN_FOCUS = ( new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_2__.RawContextKey('whenFocus', false));
const KEYBINDINGS_EDITOR_COMMAND_SEARCH = 'keybindings.editor.searchKeybindings';
const KEYBINDINGS_EDITOR_COMMAND_CLEAR_SEARCH_RESULTS = 'keybindings.editor.clearSearchResults';
const KEYBINDINGS_EDITOR_COMMAND_CLEAR_SEARCH_HISTORY = 'keybindings.editor.clearSearchHistory';
const KEYBINDINGS_EDITOR_COMMAND_RECORD_SEARCH_KEYS = 'keybindings.editor.recordSearchKeys';
const KEYBINDINGS_EDITOR_COMMAND_SORTBY_PRECEDENCE = 'keybindings.editor.toggleSortByPrecedence';
const KEYBINDINGS_EDITOR_COMMAND_DEFINE = 'keybindings.editor.defineKeybinding';
const KEYBINDINGS_EDITOR_COMMAND_ADD = 'keybindings.editor.addKeybinding';
const KEYBINDINGS_EDITOR_COMMAND_DEFINE_WHEN = 'keybindings.editor.defineWhenExpression';
const KEYBINDINGS_EDITOR_COMMAND_ACCEPT_WHEN = 'keybindings.editor.acceptWhenExpression';
const KEYBINDINGS_EDITOR_COMMAND_REJECT_WHEN = 'keybindings.editor.rejectWhenExpression';
const KEYBINDINGS_EDITOR_COMMAND_REMOVE = 'keybindings.editor.removeKeybinding';
const KEYBINDINGS_EDITOR_COMMAND_RESET = 'keybindings.editor.resetKeybinding';
const KEYBINDINGS_EDITOR_COMMAND_COPY = 'keybindings.editor.copyKeybindingEntry';
const KEYBINDINGS_EDITOR_COMMAND_COPY_COMMAND = 'keybindings.editor.copyCommandKeybindingEntry';
const KEYBINDINGS_EDITOR_COMMAND_COPY_COMMAND_TITLE = 'keybindings.editor.copyCommandTitle';
const KEYBINDINGS_EDITOR_COMMAND_SHOW_SIMILAR = 'keybindings.editor.showConflicts';
const KEYBINDINGS_EDITOR_COMMAND_FOCUS_KEYBINDINGS = 'keybindings.editor.focusKeybindings';
const KEYBINDINGS_EDITOR_SHOW_DEFAULT_KEYBINDINGS = 'keybindings.editor.showDefaultKeybindings';
const KEYBINDINGS_EDITOR_SHOW_USER_KEYBINDINGS = 'keybindings.editor.showUserKeybindings';
const KEYBINDINGS_EDITOR_SHOW_EXTENSION_KEYBINDINGS = 'keybindings.editor.showExtensionKeybindings';
const MODIFIED_SETTING_TAG = 'modified';
const EXTENSION_SETTING_TAG = 'ext:';
const FEATURE_SETTING_TAG = 'feature:';
const ID_SETTING_TAG = 'id:';
const LANGUAGE_SETTING_TAG = 'lang:';
const GENERAL_TAG_SETTING_TAG = 'tag:';
const POLICY_SETTING_TAG = 'hasPolicy';
const WORKSPACE_TRUST_SETTING_TAG = 'workspaceTrust';
const REQUIRE_TRUSTED_WORKSPACE_SETTING_TAG = 'requireTrustedWorkspace';
const KEYBOARD_LAYOUT_OPEN_PICKER = 'workbench.action.openKeyboardLayoutPicker';
const EXTENSION_FETCH_TIMEOUT_MS = 1000;
let cachedExtensionToggleData;
async function getExperimentalExtensionToggleData(extensionGalleryService, productService) {
    if (!extensionGalleryService.isEnabled()) {
        return undefined;
    }
    if (cachedExtensionToggleData) {
        return cachedExtensionToggleData;
    }
    if (productService.extensionRecommendations && productService.commonlyUsedSettings) {
        const settingsEditorRecommendedExtensions = {};
        ( Object.keys(productService.extensionRecommendations)).forEach(extensionId => {
            const extensionInfo = productService.extensionRecommendations[extensionId];
            if (extensionInfo.onSettingsEditorOpen) {
                settingsEditorRecommendedExtensions[extensionId] = extensionInfo;
            }
        });
        const recommendedExtensionsGalleryInfo = {};
        for (const key in settingsEditorRecommendedExtensions) {
            const extensionId = key;
            const isStable = productService.quality === 'stable';
            try {
                const extensions = await (0,_base_common_async_js__WEBPACK_IMPORTED_MODULE_0__.raceTimeout)(extensionGalleryService.getExtensions([{ id: extensionId, preRelease: !isStable }], _base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_1__.CancellationToken.None), EXTENSION_FETCH_TIMEOUT_MS);
                if (extensions?.length === 1) {
                    recommendedExtensionsGalleryInfo[key] = extensions[0];
                }
                else {
                    return undefined;
                }
            }
            catch (e) {
                return undefined;
            }
        }
        cachedExtensionToggleData = {
            settingsEditorRecommendedExtensions,
            recommendedExtensionsGalleryInfo,
            commonlyUsed: productService.commonlyUsedSettings
        };
        return cachedExtensionToggleData;
    }
    return undefined;
}
function compareTwoNullableNumbers(a, b) {
    const aOrMax = a ?? Number.MAX_SAFE_INTEGER;
    const bOrMax = b ?? Number.MAX_SAFE_INTEGER;
    if (aOrMax < bOrMax) {
        return -1;
    }
    else if (aOrMax > bOrMax) {
        return 1;
    }
    else {
        return 0;
    }
}



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/contrib/preferences/common/settingsEditorColorRegistry.js":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/contrib/preferences/common/settingsEditorColorRegistry.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   settingsHeaderBorder: () => (/* binding */ settingsHeaderBorder),
/* harmony export */   settingsHeaderForeground: () => (/* binding */ settingsHeaderForeground),
/* harmony export */   settingsHeaderHoverForeground: () => (/* binding */ settingsHeaderHoverForeground),
/* harmony export */   settingsNumberInputBackground: () => (/* binding */ settingsNumberInputBackground),
/* harmony export */   settingsNumberInputBorder: () => (/* binding */ settingsNumberInputBorder),
/* harmony export */   settingsNumberInputForeground: () => (/* binding */ settingsNumberInputForeground),
/* harmony export */   settingsSashBorder: () => (/* binding */ settingsSashBorder),
/* harmony export */   settingsSelectBackground: () => (/* binding */ settingsSelectBackground),
/* harmony export */   settingsSelectBorder: () => (/* binding */ settingsSelectBorder),
/* harmony export */   settingsSelectForeground: () => (/* binding */ settingsSelectForeground),
/* harmony export */   settingsSelectListBorder: () => (/* binding */ settingsSelectListBorder),
/* harmony export */   settingsTextInputBackground: () => (/* binding */ settingsTextInputBackground),
/* harmony export */   settingsTextInputBorder: () => (/* binding */ settingsTextInputBorder),
/* harmony export */   settingsTextInputForeground: () => (/* binding */ settingsTextInputForeground)
/* harmony export */ });
/* harmony import */ var _base_common_color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../base/common/color.js */ "./node_modules/vscode/vscode/src/vs/base/common/color.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../platform/theme/common/colorUtils.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colorUtils.js");
/* harmony import */ var _platform_theme_common_colors_baseColors_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/baseColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/baseColors.js");
/* harmony import */ var _platform_theme_common_colors_chartsColors_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/chartsColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/chartsColors.js");
/* harmony import */ var _platform_theme_common_colors_editorColors_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/editorColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/editorColors.js");
/* harmony import */ var _platform_theme_common_colors_inputColors_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/inputColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/inputColors.js");
/* harmony import */ var _platform_theme_common_colors_listColors_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/listColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/listColors.js");
/* harmony import */ var _platform_theme_common_colors_menuColors_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/menuColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/menuColors.js");
/* harmony import */ var _platform_theme_common_colors_minimapColors_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/minimapColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/minimapColors.js");
/* harmony import */ var _platform_theme_common_colors_miscColors_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/miscColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/miscColors.js");
/* harmony import */ var _platform_theme_common_colors_quickpickColors_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/quickpickColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/quickpickColors.js");
/* harmony import */ var _platform_theme_common_colors_searchColors_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/searchColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/searchColors.js");
/* harmony import */ var _common_theme_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../common/theme.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/theme.js");














const settingsHeaderForeground = (0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_2__.registerColor)('settings.headerForeground', { light: '#444444', dark: '#e7e7e7', hcDark: '#ffffff', hcLight: '#292929' }, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(10424, "The foreground color for a section header or active title.")));
const settingsHeaderHoverForeground = (0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_2__.registerColor)('settings.settingsHeaderHoverForeground', ( ((0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_2__.transparent)(settingsHeaderForeground, 0.7))), ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(10425, "The foreground color for a section header or hovered title.")));
(0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_2__.registerColor)('settings.modifiedItemIndicator', {
    light: ( (new _base_common_color_js__WEBPACK_IMPORTED_MODULE_0__.Color( (new _base_common_color_js__WEBPACK_IMPORTED_MODULE_0__.RGBA(102, 175, 224))))),
    dark: ( (new _base_common_color_js__WEBPACK_IMPORTED_MODULE_0__.Color( (new _base_common_color_js__WEBPACK_IMPORTED_MODULE_0__.RGBA(12, 125, 157))))),
    hcDark: ( (new _base_common_color_js__WEBPACK_IMPORTED_MODULE_0__.Color( (new _base_common_color_js__WEBPACK_IMPORTED_MODULE_0__.RGBA(0, 73, 122))))),
    hcLight: ( (new _base_common_color_js__WEBPACK_IMPORTED_MODULE_0__.Color( (new _base_common_color_js__WEBPACK_IMPORTED_MODULE_0__.RGBA(102, 175, 224))))),
}, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(10426, "The color of the modified setting indicator.")));
const settingsHeaderBorder = (0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_2__.registerColor)('settings.headerBorder', _common_theme_js__WEBPACK_IMPORTED_MODULE_13__.PANEL_BORDER, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(10427, "The color of the header container border.")));
const settingsSashBorder = (0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_2__.registerColor)('settings.sashBorder', _common_theme_js__WEBPACK_IMPORTED_MODULE_13__.PANEL_BORDER, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(10428, "The color of the Settings editor splitview sash border.")));
const settingsSelectBackground = (0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_2__.registerColor)(`settings.dropdownBackground`, _platform_theme_common_colors_inputColors_js__WEBPACK_IMPORTED_MODULE_6__.selectBackground, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(10429, "Settings editor dropdown background.")));
const settingsSelectForeground = (0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_2__.registerColor)('settings.dropdownForeground', _platform_theme_common_colors_inputColors_js__WEBPACK_IMPORTED_MODULE_6__.selectForeground, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(10430, "Settings editor dropdown foreground.")));
const settingsSelectBorder = (0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_2__.registerColor)('settings.dropdownBorder', _platform_theme_common_colors_inputColors_js__WEBPACK_IMPORTED_MODULE_6__.selectBorder, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(10431, "Settings editor dropdown border.")));
const settingsSelectListBorder = (0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_2__.registerColor)('settings.dropdownListBorder', _platform_theme_common_colors_editorColors_js__WEBPACK_IMPORTED_MODULE_5__.editorWidgetBorder, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(
    10432,
    "Settings editor dropdown list border. This surrounds the options and separates the options from the description."
)));
(0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_2__.registerColor)('settings.checkboxBackground', _platform_theme_common_colors_inputColors_js__WEBPACK_IMPORTED_MODULE_6__.checkboxBackground, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(10433, "Settings editor checkbox background.")));
(0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_2__.registerColor)('settings.checkboxForeground', _platform_theme_common_colors_inputColors_js__WEBPACK_IMPORTED_MODULE_6__.checkboxForeground, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(10434, "Settings editor checkbox foreground.")));
(0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_2__.registerColor)('settings.checkboxBorder', _platform_theme_common_colors_inputColors_js__WEBPACK_IMPORTED_MODULE_6__.checkboxBorder, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(10435, "Settings editor checkbox border.")));
const settingsTextInputBackground = (0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_2__.registerColor)('settings.textInputBackground', _platform_theme_common_colors_inputColors_js__WEBPACK_IMPORTED_MODULE_6__.inputBackground, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(10436, "Settings editor text input box background.")));
const settingsTextInputForeground = (0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_2__.registerColor)('settings.textInputForeground', _platform_theme_common_colors_inputColors_js__WEBPACK_IMPORTED_MODULE_6__.inputForeground, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(10437, "Settings editor text input box foreground.")));
const settingsTextInputBorder = (0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_2__.registerColor)('settings.textInputBorder', _platform_theme_common_colors_inputColors_js__WEBPACK_IMPORTED_MODULE_6__.inputBorder, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(10438, "Settings editor text input box border.")));
const settingsNumberInputBackground = (0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_2__.registerColor)('settings.numberInputBackground', _platform_theme_common_colors_inputColors_js__WEBPACK_IMPORTED_MODULE_6__.inputBackground, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(10439, "Settings editor number input box background.")));
const settingsNumberInputForeground = (0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_2__.registerColor)('settings.numberInputForeground', _platform_theme_common_colors_inputColors_js__WEBPACK_IMPORTED_MODULE_6__.inputForeground, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(10440, "Settings editor number input box foreground.")));
const settingsNumberInputBorder = (0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_2__.registerColor)('settings.numberInputBorder', _platform_theme_common_colors_inputColors_js__WEBPACK_IMPORTED_MODULE_6__.inputBorder, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(10441, "Settings editor number input box border.")));
(0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_2__.registerColor)('settings.focusedRowBackground', {
    dark: ( ((0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_2__.transparent)(_platform_theme_common_colors_listColors_js__WEBPACK_IMPORTED_MODULE_7__.listHoverBackground, .6))),
    light: ( ((0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_2__.transparent)(_platform_theme_common_colors_listColors_js__WEBPACK_IMPORTED_MODULE_7__.listHoverBackground, .6))),
    hcDark: null,
    hcLight: null,
}, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(10442, "The background color of a settings row when focused.")));
(0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_2__.registerColor)('settings.rowHoverBackground', {
    dark: ( ((0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_2__.transparent)(_platform_theme_common_colors_listColors_js__WEBPACK_IMPORTED_MODULE_7__.listHoverBackground, .3))),
    light: ( ((0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_2__.transparent)(_platform_theme_common_colors_listColors_js__WEBPACK_IMPORTED_MODULE_7__.listHoverBackground, .3))),
    hcDark: null,
    hcLight: null
}, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(10443, "The background color of a settings row when hovered.")));
(0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_2__.registerColor)('settings.focusedRowBorder', _platform_theme_common_colors_baseColors_js__WEBPACK_IMPORTED_MODULE_3__.focusBorder, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(
    10444,
    "The color of the row's top and bottom border when the row is focused."
)));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/contrib/remote/browser/media/tunnelView.css.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/contrib/remote/browser/media/tunnelView.css.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ css),
/* harmony export */   "default": () => (/* binding */ css)
/* harmony export */ });
/* harmony import */ var _external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../external/rollup-plugin-styles/dist/runtime/inject-css.js */ "./node_modules/vscode/external/rollup-plugin-styles/dist/runtime/inject-css.js");

var css = ".ports-view .monaco-icon-label,.ports-view .monaco-list .monaco-list-row.focused .monaco-icon-label,.ports-view .monaco-list .monaco-list-row:hover:not(.highlighted) .monaco-icon-label{flex:1}.ports-view .monaco-list .monaco-list-row .actionBarContainer{flex:1 0 auto;flex:0 0 auto;text-align:right}.ports-view .monaco-list .monaco-list-row .ports-view-actionbar-cell{display:flex;flex:1;flex-wrap:nowrap;height:22px;overflow:hidden;text-overflow:ellipsis}.ports-view .monaco-list .monaco-list-row .ports-view-actionbar-cell .monaco-inputbox{flex:1;height:22px;line-height:19px}.ports-view .monaco-list .monaco-list-row .ports-view-actionbar-cell .monaco-inputbox input{margin-top:-40px}.ports-view .monaco-list .monaco-list-row .ports-view-actionbar-cell .ports-view-actionbar-cell-localaddress{color:var(--vscode-textLink-foreground);text-decoration:var(--text-link-decoration)}.ports-view .monaco-list .monaco-list-row .ports-view-actionbar-cell .ports-view-actionbar-cell-localaddress:hover{text-decoration:underline}.ports-view .monaco-table-td[data-col-index=\"0\"],.ports-view .monaco-table-th,.ports-view .monaco-table-th[data-col-index=\"0\"]{padding-left:10px}.ports-view .monaco-list .monaco-list-row .ports-view-actionbar-cell .monaco-button{line-height:1.4em;margin-bottom:3px;margin-left:3px;margin-top:4px;padding:2px 14px;width:auto}.ports-view .monaco-list .monaco-list-row .ports-view-actionbar-cell>.ports-view-actionbar-cell-icon.codicon{margin-top:3px;padding-right:3px}.ports-view .monaco-list .monaco-list-row.selected .ports-view-actionbar-cell>.ports-view-actionbar-cell-icon.codicon{color:currentColor!important}.ports-view .monaco-list .monaco-list-row .ports-view-actionbar-cell .ports-view-actionbar-cell-resourceLabel .monaco-icon-label-container>.monaco-icon-name-container{flex:1}.ports-view .monaco-list .monaco-list-row .ports-view-actionbar-cell .ports-view-actionbar-cell-resourceLabel:after{padding-right:0}.ports-view .monaco-list .monaco-list-row .ports-view-actionbar-cell .actions{display:none}.ports-view .monaco-list .monaco-list-row.focused .ports-view-actionbar-cell .actions,.ports-view .monaco-list .monaco-list-row.selected .ports-view-actionbar-cell .actions,.ports-view .monaco-list .monaco-list-row:hover .ports-view-actionbar-cell .actions{display:block}.ports-view .monaco-list .ports-view-actionbar-cell .actions .action-label{background-position:50% 50%;background-repeat:no-repeat;background-size:16px;height:100%;padding:2px;width:16px}.monaco-workbench .codicon.codicon-ports-forwarded-with-process-icon{color:var(--vscode-ports-iconRunningProcessForeground)}";
(0,_external_rollup_plugin_styles_dist_runtime_inject_css_js__WEBPACK_IMPORTED_MODULE_0__["default"])(css,{});



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/contrib/remote/browser/remoteExplorer.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/contrib/remote/browser/remoteExplorer.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AutomaticPortForwarding: () => (/* binding */ AutomaticPortForwarding),
/* harmony export */   ForwardedPortsView: () => (/* binding */ ForwardedPortsView),
/* harmony export */   PortRestore: () => (/* binding */ PortRestore),
/* harmony export */   VIEWLET_ID: () => (/* binding */ VIEWLET_ID)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _common_views_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../common/views.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/views.js");
/* harmony import */ var _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/remote/common/remoteExplorerService.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/remote/common/remoteExplorerService.js");
/* harmony import */ var _services_remote_common_remoteExplorerService_service_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/remote/common/remoteExplorerService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/remote/common/remoteExplorerService.service.js");
/* harmony import */ var _services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/remote/common/tunnelModel.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/remote/common/tunnelModel.js");
/* harmony import */ var _tunnelView_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./tunnelView.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/remote/browser/tunnelView.js");
/* harmony import */ var _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../platform/contextkey/common/contextkey.service.js */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var _services_environment_common_environmentService_service_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../services/environment/common/environmentService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/environment/common/environmentService.service.js");
/* harmony import */ var _platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../platform/registry/common/platform.js */ "./node_modules/vscode/vscode/src/vs/platform/registry/common/platform.js");
/* harmony import */ var _services_statusbar_browser_statusbar_service_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../services/statusbar/browser/statusbar.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/statusbar/browser/statusbar.service.js");
/* harmony import */ var _urlFinder_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./urlFinder.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/remote/browser/urlFinder.js");
/* harmony import */ var _base_common_severity_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../base/common/severity.js */ "./node_modules/vscode/vscode/src/vs/base/common/severity.js");
/* harmony import */ var _platform_notification_common_notification_service_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../platform/notification/common/notification.service.js */ "./node_modules/vscode/vscode/src/vs/platform/notification/common/notification.service.js");
/* harmony import */ var _platform_opener_common_opener_service_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../platform/opener/common/opener.service.js */ "./node_modules/vscode/vscode/src/vs/platform/opener/common/opener.service.js");
/* harmony import */ var _terminal_browser_terminal_service_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../terminal/browser/terminal.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/terminal/browser/terminal.service.js");
/* harmony import */ var _debug_common_debug_service_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../debug/common/debug.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/debug/common/debug.service.js");
/* harmony import */ var _services_remote_common_remoteAgentService_service_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../services/remote/common/remoteAgentService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/remote/common/remoteAgentService.service.js");
/* harmony import */ var _base_common_platform_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../base/common/platform.js */ "./node_modules/vscode/vscode/src/vs/base/common/platform.js");
/* harmony import */ var _platform_tunnel_common_tunnel_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../platform/tunnel/common/tunnel.js */ "./node_modules/vscode/vscode/src/vs/platform/tunnel/common/tunnel.js");
/* harmony import */ var _platform_tunnel_common_tunnel_service_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../platform/tunnel/common/tunnel.service.js */ "./node_modules/vscode/vscode/src/vs/platform/tunnel/common/tunnel.service.js");
/* harmony import */ var _platform_instantiation_common_descriptors_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../platform/instantiation/common/descriptors.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/descriptors.js");
/* harmony import */ var _browser_parts_views_viewPaneContainer_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../browser/parts/views/viewPaneContainer.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/views/viewPaneContainer.js");
/* harmony import */ var _services_activity_common_activity_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../services/activity/common/activity.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/activity/common/activity.js");
/* harmony import */ var _services_activity_common_activity_service_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../services/activity/common/activity.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/activity/common/activity.service.js");
/* harmony import */ var _remoteIcons_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./remoteIcons.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/remote/browser/remoteIcons.js");
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../../base/common/event.js */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var _externalUriOpener_common_externalUriOpenerService_service_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../externalUriOpener/common/externalUriOpenerService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/externalUriOpener/common/externalUriOpenerService.service.js");
/* harmony import */ var _services_host_browser_host_service_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../services/host/browser/host.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/host/browser/host.service.js");
/* harmony import */ var _platform_configuration_common_configurationRegistry_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../../platform/configuration/common/configurationRegistry.js */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configurationRegistry.js");
/* harmony import */ var _platform_log_common_log_service_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../../../platform/log/common/log.service.js */ "./node_modules/vscode/vscode/src/vs/platform/log/common/log.service.js");
/* harmony import */ var _services_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../../services/configuration/common/configuration.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/configuration/common/configuration.service.js");
/* harmony import */ var _base_common_actions_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../../../base/common/actions.js */ "./node_modules/vscode/vscode/src/vs/base/common/actions.js");
/* harmony import */ var _services_preferences_common_preferences_service_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../../services/preferences/common/preferences.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/preferences/common/preferences.service.js");
/* harmony import */ var _platform_storage_common_storage_service_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../../../platform/storage/common/storage.service.js */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");




































const VIEWLET_ID = 'workbench.view.remote';
let ForwardedPortsView = class ForwardedPortsView extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.Disposable {
    constructor(contextKeyService, environmentService, remoteExplorerService, tunnelService, activityService, statusbarService) {
        super();
        this.contextKeyService = contextKeyService;
        this.environmentService = environmentService;
        this.remoteExplorerService = remoteExplorerService;
        this.tunnelService = tunnelService;
        this.activityService = activityService;
        this.statusbarService = statusbarService;
        this.contextKeyListener = this._register(( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.MutableDisposable())));
        this.activityBadge = this._register(( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.MutableDisposable())));
        this._register(( (_platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_10__.Registry.as(_common_views_js__WEBPACK_IMPORTED_MODULE_3__.Extensions.ViewsRegistry))).registerViewWelcomeContent(_services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.TUNNEL_VIEW_ID, {
            content: this.environmentService.remoteAuthority ? ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(
                8837,
                "No forwarded ports. Forward a port to access your running services locally.\n[Forward a Port]({0})",
                `command:${_tunnelView_js__WEBPACK_IMPORTED_MODULE_7__.ForwardPortAction.INLINE_ID}`
            ))
                : ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(
                8838,
                "No forwarded ports. Forward a port to access your locally running services over the internet.\n[Forward a Port]({0})",
                `command:${_tunnelView_js__WEBPACK_IMPORTED_MODULE_7__.ForwardPortAction.INLINE_ID}`
            )),
        }));
        this.enableBadgeAndStatusBar();
        this.enableForwardedPortsFeatures();
    }
    async getViewContainer() {
        return ( (_platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_10__.Registry.as(_common_views_js__WEBPACK_IMPORTED_MODULE_3__.Extensions.ViewContainersRegistry))).registerViewContainer({
            id: _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.TUNNEL_VIEW_CONTAINER_ID,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize2)(8839, "Ports")),
            icon: _remoteIcons_js__WEBPACK_IMPORTED_MODULE_26__.portsViewIcon,
            ctorDescriptor: ( (new _platform_instantiation_common_descriptors_js__WEBPACK_IMPORTED_MODULE_22__.SyncDescriptor(
                _browser_parts_views_viewPaneContainer_js__WEBPACK_IMPORTED_MODULE_23__.ViewPaneContainer,
                [_services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.TUNNEL_VIEW_CONTAINER_ID, { mergeViewWithContainerWhenSingleView: true }]
            ))),
            storageId: _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.TUNNEL_VIEW_CONTAINER_ID,
            hideIfEmpty: true,
            order: 5
        }, 1 );
    }
    async enableForwardedPortsFeatures() {
        this.contextKeyListener.clear();
        const featuresEnabled = !!_services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_6__.forwardedPortsFeaturesEnabled.getValue(this.contextKeyService);
        const viewEnabled = !!_services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_6__.forwardedPortsViewEnabled.getValue(this.contextKeyService);
        if (featuresEnabled || viewEnabled) {
            if (!viewEnabled) {
                this.contextKeyService.createKey(_services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_6__.forwardedPortsViewEnabled.key, true);
            }
            const viewContainer = await this.getViewContainer();
            const tunnelPanelDescriptor = ( (new _tunnelView_js__WEBPACK_IMPORTED_MODULE_7__.TunnelPanelDescriptor(
                 (new _tunnelView_js__WEBPACK_IMPORTED_MODULE_7__.TunnelViewModel(this.remoteExplorerService, this.tunnelService)),
                this.environmentService
            )));
            const viewsRegistry = ( (_platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_10__.Registry.as(_common_views_js__WEBPACK_IMPORTED_MODULE_3__.Extensions.ViewsRegistry)));
            if (viewContainer) {
                this.remoteExplorerService.enablePortsFeatures(!featuresEnabled);
                viewsRegistry.registerViews([tunnelPanelDescriptor], viewContainer);
            }
        }
        else {
            this.contextKeyListener.value = this.contextKeyService.onDidChangeContext(e => {
                if (e.affectsSome(( (new Set(
                    [...( (_services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_6__.forwardedPortsFeaturesEnabled.keys())), ...( (_services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_6__.forwardedPortsViewEnabled.keys()))]
                ))))) {
                    this.enableForwardedPortsFeatures();
                }
            });
        }
    }
    enableBadgeAndStatusBar() {
        const disposable = ( (_platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_10__.Registry.as(_common_views_js__WEBPACK_IMPORTED_MODULE_3__.Extensions.ViewsRegistry))).onViewsRegistered(e => {
            if (e.find(view => view.views.find(viewDescriptor => viewDescriptor.id === _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.TUNNEL_VIEW_ID))) {
                this._register(_base_common_event_js__WEBPACK_IMPORTED_MODULE_27__.Event.debounce(this.remoteExplorerService.tunnelModel.onForwardPort, (_last, e) => e, 50)(() => {
                    this.updateActivityBadge();
                    this.updateStatusBar();
                }));
                this._register(_base_common_event_js__WEBPACK_IMPORTED_MODULE_27__.Event.debounce(this.remoteExplorerService.tunnelModel.onClosePort, (_last, e) => e, 50)(() => {
                    this.updateActivityBadge();
                    this.updateStatusBar();
                }));
                this.updateActivityBadge();
                this.updateStatusBar();
                disposable.dispose();
            }
        });
    }
    async updateActivityBadge() {
        if (this.remoteExplorerService.tunnelModel.forwarded.size > 0) {
            this.activityBadge.value = this.activityService.showViewActivity(_services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.TUNNEL_VIEW_ID, {
                badge: ( (new _services_activity_common_activity_js__WEBPACK_IMPORTED_MODULE_24__.NumberBadge(
                    this.remoteExplorerService.tunnelModel.forwarded.size,
                    n => n === 1 ? ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(8840, "1 forwarded port")) : ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(8841, "{0} forwarded ports", n))
                )))
            });
        }
    }
    updateStatusBar() {
        if (!this.entryAccessor) {
            this._register(this.entryAccessor = this.statusbarService.addEntry(this.entry, 'status.forwardedPorts', 0 , 40));
        }
        else {
            this.entryAccessor.update(this.entry);
        }
    }
    get entry() {
        let tooltip;
        const count = this.remoteExplorerService.tunnelModel.forwarded.size + this.remoteExplorerService.tunnelModel.detected.size;
        const text = `${count}`;
        if (count === 0) {
            tooltip = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(8842, "No Ports Forwarded"));
        }
        else {
            const allTunnels = Array.from(( (this.remoteExplorerService.tunnelModel.forwarded.values())));
            allTunnels.push(...Array.from(( (this.remoteExplorerService.tunnelModel.detected.values()))));
            tooltip = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(
                8843,
                "Forwarded Ports: {0}",
                ( (allTunnels.map(forwarded => forwarded.remotePort))).join(', ')
            ));
        }
        return {
            name: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(8844, "Forwarded Ports")),
            text: `$(radio-tower) ${text}`,
            ariaLabel: tooltip,
            tooltip,
            command: `${_services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.TUNNEL_VIEW_ID}.focus`
        };
    }
};
ForwardedPortsView = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_8__.IContextKeyService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _services_environment_common_environmentService_service_js__WEBPACK_IMPORTED_MODULE_9__.IWorkbenchEnvironmentService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _services_remote_common_remoteExplorerService_service_js__WEBPACK_IMPORTED_MODULE_5__.IRemoteExplorerService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _platform_tunnel_common_tunnel_service_js__WEBPACK_IMPORTED_MODULE_21__.ITunnelService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _services_activity_common_activity_service_js__WEBPACK_IMPORTED_MODULE_25__.IActivityService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _services_statusbar_browser_statusbar_service_js__WEBPACK_IMPORTED_MODULE_11__.IStatusbarService)))
], ForwardedPortsView)));
let PortRestore = class PortRestore {
    constructor(remoteExplorerService, logService) {
        this.remoteExplorerService = remoteExplorerService;
        this.logService = logService;
        if (!this.remoteExplorerService.tunnelModel.environmentTunnelsSet) {
            _base_common_event_js__WEBPACK_IMPORTED_MODULE_27__.Event.once(this.remoteExplorerService.tunnelModel.onEnvironmentTunnelsSet)(async () => {
                await this.restore();
            });
        }
        else {
            this.restore();
        }
    }
    async restore() {
        this.logService.trace('ForwardedPorts: Doing first restore.');
        return this.remoteExplorerService.restore();
    }
};
PortRestore = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, _services_remote_common_remoteExplorerService_service_js__WEBPACK_IMPORTED_MODULE_5__.IRemoteExplorerService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _platform_log_common_log_service_js__WEBPACK_IMPORTED_MODULE_31__.ILogService)))
], PortRestore)));
let AutomaticPortForwarding = class AutomaticPortForwarding extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.Disposable {
    constructor(terminalService, notificationService, openerService, externalOpenerService, remoteExplorerService, environmentService, contextKeyService, configurationService, debugService, remoteAgentService, tunnelService, hostService, logService, storageService, preferencesService) {
        super();
        this.terminalService = terminalService;
        this.notificationService = notificationService;
        this.openerService = openerService;
        this.externalOpenerService = externalOpenerService;
        this.remoteExplorerService = remoteExplorerService;
        this.contextKeyService = contextKeyService;
        this.configurationService = configurationService;
        this.debugService = debugService;
        this.tunnelService = tunnelService;
        this.hostService = hostService;
        this.logService = logService;
        this.storageService = storageService;
        this.preferencesService = preferencesService;
        if (!environmentService.remoteAuthority) {
            return;
        }
        configurationService.whenRemoteConfigurationLoaded().then(() => remoteAgentService.getEnvironment()).then(environment => {
            this.setup(environment);
            this._register(configurationService.onDidChangeConfiguration(e => {
                if (e.affectsConfiguration(_services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.PORT_AUTO_SOURCE_SETTING)) {
                    this.setup(environment);
                }
                else if (e.affectsConfiguration(_services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.PORT_AUTO_FALLBACK_SETTING) && !this.portListener) {
                    this.listenForPorts();
                }
            }));
        });
        if (!this.storageService.getBoolean('processPortForwardingFallback', 1 , true)) {
            this.configurationService.updateValue(_services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.PORT_AUTO_FALLBACK_SETTING, 0, 5 );
        }
    }
    getPortAutoFallbackNumber() {
        const fallbackAt = this.configurationService.inspect(_services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.PORT_AUTO_FALLBACK_SETTING);
        if ((fallbackAt.value !== undefined) && (fallbackAt.value === 0 || (fallbackAt.value !== fallbackAt.defaultValue))) {
            return fallbackAt.value;
        }
        const inspectSource = this.configurationService.inspect(_services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.PORT_AUTO_SOURCE_SETTING);
        if (inspectSource.applicationValue === _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.PORT_AUTO_SOURCE_SETTING_PROCESS ||
            inspectSource.userValue === _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.PORT_AUTO_SOURCE_SETTING_PROCESS ||
            inspectSource.userLocalValue === _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.PORT_AUTO_SOURCE_SETTING_PROCESS ||
            inspectSource.userRemoteValue === _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.PORT_AUTO_SOURCE_SETTING_PROCESS ||
            inspectSource.workspaceFolderValue === _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.PORT_AUTO_SOURCE_SETTING_PROCESS ||
            inspectSource.workspaceValue === _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.PORT_AUTO_SOURCE_SETTING_PROCESS) {
            return 0;
        }
        return fallbackAt.value ?? 20;
    }
    listenForPorts() {
        let fallbackAt = this.getPortAutoFallbackNumber();
        if (fallbackAt === 0) {
            this.portListener?.dispose();
            return;
        }
        if (this.procForwarder && !this.portListener && (this.configurationService.getValue(_services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.PORT_AUTO_SOURCE_SETTING) === _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.PORT_AUTO_SOURCE_SETTING_PROCESS)) {
            this.portListener = this._register(this.remoteExplorerService.tunnelModel.onForwardPort(async () => {
                fallbackAt = this.getPortAutoFallbackNumber();
                if (fallbackAt === 0) {
                    this.portListener?.dispose();
                    return;
                }
                if (Array.from(( (this.remoteExplorerService.tunnelModel.forwarded.values()))).filter(tunnel => tunnel.source.source === _services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_6__.TunnelSource.Auto).length > fallbackAt) {
                    await this.configurationService.updateValue(_services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.PORT_AUTO_SOURCE_SETTING, _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.PORT_AUTO_SOURCE_SETTING_HYBRID);
                    this.notificationService.notify({
                        message: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(
                            8845,
                            "Over 20 ports have been automatically forwarded. The `process` based automatic port forwarding has been switched to `hybrid` in settings. Some ports may no longer be detected."
                        )),
                        severity: _base_common_severity_js__WEBPACK_IMPORTED_MODULE_13__["default"].Warning,
                        actions: {
                            primary: [
                                ( (new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_33__.Action('switchBack', ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(8846, "Undo")), undefined, true, async () => {
                                    await this.configurationService.updateValue(_services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.PORT_AUTO_SOURCE_SETTING, _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.PORT_AUTO_SOURCE_SETTING_PROCESS);
                                    await this.configurationService.updateValue(_services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.PORT_AUTO_FALLBACK_SETTING, 0, 5 );
                                    this.portListener?.dispose();
                                    this.portListener = undefined;
                                }))),
                                ( (new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_33__.Action('showPortSourceSetting', ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(8847, "Show Setting")), undefined, true, async () => {
                                await this.preferencesService.openSettings({
                                    query: 'remote.autoForwardPortsSource'
                                });
                            })))
                            ]
                        }
                    });
                }
            }));
        }
        else {
            this.portListener?.dispose();
            this.portListener = undefined;
        }
    }
    setup(environment) {
        const alreadyForwarded = this.procForwarder?.forwarded;
        const isSwitch = this.outputForwarder || this.procForwarder;
        this.procForwarder?.dispose();
        this.procForwarder = undefined;
        this.outputForwarder?.dispose();
        this.outputForwarder = undefined;
        if (environment?.os !== 3 ) {
            if (this.configurationService.inspect(_services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.PORT_AUTO_SOURCE_SETTING).default?.value !== _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.PORT_AUTO_SOURCE_SETTING_OUTPUT) {
                ( (_platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_10__.Registry.as(_platform_configuration_common_configurationRegistry_js__WEBPACK_IMPORTED_MODULE_30__.Extensions.Configuration)))
                    .registerDefaultConfigurations([{ overrides: { 'remote.autoForwardPortsSource': _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.PORT_AUTO_SOURCE_SETTING_OUTPUT } }]);
            }
            this.outputForwarder = this._register(( (new OutputAutomaticPortForwarding(
                this.terminalService,
                this.notificationService,
                this.openerService,
                this.externalOpenerService,
                this.remoteExplorerService,
                this.configurationService,
                this.debugService,
                this.tunnelService,
                this.hostService,
                this.logService,
                this.contextKeyService,
                () => false
            ))));
        }
        else {
            const useProc = () => (this.configurationService.getValue(_services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.PORT_AUTO_SOURCE_SETTING) === _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.PORT_AUTO_SOURCE_SETTING_PROCESS);
            if (useProc()) {
                this.procForwarder = this._register(( (new ProcAutomaticPortForwarding(
                    false,
                    alreadyForwarded,
                    !isSwitch,
                    this.configurationService,
                    this.remoteExplorerService,
                    this.notificationService,
                    this.openerService,
                    this.externalOpenerService,
                    this.tunnelService,
                    this.hostService,
                    this.logService,
                    this.contextKeyService
                ))));
            }
            else if (this.configurationService.getValue(_services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.PORT_AUTO_SOURCE_SETTING) === _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.PORT_AUTO_SOURCE_SETTING_HYBRID) {
                this.procForwarder = this._register(( (new ProcAutomaticPortForwarding(
                    true,
                    alreadyForwarded,
                    !isSwitch,
                    this.configurationService,
                    this.remoteExplorerService,
                    this.notificationService,
                    this.openerService,
                    this.externalOpenerService,
                    this.tunnelService,
                    this.hostService,
                    this.logService,
                    this.contextKeyService
                ))));
            }
            this.outputForwarder = this._register(( (new OutputAutomaticPortForwarding(
                this.terminalService,
                this.notificationService,
                this.openerService,
                this.externalOpenerService,
                this.remoteExplorerService,
                this.configurationService,
                this.debugService,
                this.tunnelService,
                this.hostService,
                this.logService,
                this.contextKeyService,
                useProc
            ))));
        }
        this.listenForPorts();
    }
};
AutomaticPortForwarding = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, _terminal_browser_terminal_service_js__WEBPACK_IMPORTED_MODULE_16__.ITerminalService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _platform_notification_common_notification_service_js__WEBPACK_IMPORTED_MODULE_14__.INotificationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_opener_common_opener_service_js__WEBPACK_IMPORTED_MODULE_15__.IOpenerService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _externalUriOpener_common_externalUriOpenerService_service_js__WEBPACK_IMPORTED_MODULE_28__.IExternalUriOpenerService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _services_remote_common_remoteExplorerService_service_js__WEBPACK_IMPORTED_MODULE_5__.IRemoteExplorerService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _services_environment_common_environmentService_service_js__WEBPACK_IMPORTED_MODULE_9__.IWorkbenchEnvironmentService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_8__.IContextKeyService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, _services_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_32__.IWorkbenchConfigurationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, _debug_common_debug_service_js__WEBPACK_IMPORTED_MODULE_17__.IDebugService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, _services_remote_common_remoteAgentService_service_js__WEBPACK_IMPORTED_MODULE_18__.IRemoteAgentService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, _platform_tunnel_common_tunnel_service_js__WEBPACK_IMPORTED_MODULE_21__.ITunnelService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(11, _services_host_browser_host_service_js__WEBPACK_IMPORTED_MODULE_29__.IHostService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(12, _platform_log_common_log_service_js__WEBPACK_IMPORTED_MODULE_31__.ILogService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(13, _platform_storage_common_storage_service_js__WEBPACK_IMPORTED_MODULE_35__.IStorageService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(14, _services_preferences_common_preferences_service_js__WEBPACK_IMPORTED_MODULE_34__.IPreferencesService)))
], AutomaticPortForwarding)));
class OnAutoForwardedAction extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.Disposable {
    static { this.NOTIFY_COOL_DOWN = 5000; }
    constructor(notificationService, remoteExplorerService, openerService, externalOpenerService, tunnelService, hostService, logService, contextKeyService) {
        super();
        this.notificationService = notificationService;
        this.remoteExplorerService = remoteExplorerService;
        this.openerService = openerService;
        this.externalOpenerService = externalOpenerService;
        this.tunnelService = tunnelService;
        this.hostService = hostService;
        this.logService = logService;
        this.contextKeyService = contextKeyService;
        this.alreadyOpenedOnce = ( (new Set()));
        this.lastNotifyTime = ( (new Date()));
        this.lastNotifyTime.setFullYear(this.lastNotifyTime.getFullYear() - 1);
    }
    async doAction(tunnels) {
        this.logService.trace(`ForwardedPorts: (OnAutoForwardedAction) Starting action for ${tunnels[0]?.tunnelRemotePort}`);
        this.doActionTunnels = tunnels;
        const tunnel = await this.portNumberHeuristicDelay();
        this.logService.trace(`ForwardedPorts: (OnAutoForwardedAction) Heuristic chose ${tunnel?.tunnelRemotePort}`);
        if (tunnel) {
            const allAttributes = await this.remoteExplorerService.tunnelModel.getAttributes([{ port: tunnel.tunnelRemotePort, host: tunnel.tunnelRemoteHost }]);
            const attributes = allAttributes?.get(tunnel.tunnelRemotePort)?.onAutoForward;
            this.logService.trace(`ForwardedPorts: (OnAutoForwardedAction) onAutoForward action is ${attributes}`);
            switch (attributes) {
                case _services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_6__.OnPortForward.OpenBrowserOnce: {
                    if (( (this.alreadyOpenedOnce.has(tunnel.localAddress)))) {
                        break;
                    }
                    this.alreadyOpenedOnce.add(tunnel.localAddress);
                }
                case _services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_6__.OnPortForward.OpenBrowser: {
                    const address = (0,_services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_6__.makeAddress)(tunnel.tunnelRemoteHost, tunnel.tunnelRemotePort);
                    await _tunnelView_js__WEBPACK_IMPORTED_MODULE_7__.OpenPortInBrowserAction.run(this.remoteExplorerService.tunnelModel, this.openerService, address);
                    break;
                }
                case _services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_6__.OnPortForward.OpenPreview: {
                    const address = (0,_services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_6__.makeAddress)(tunnel.tunnelRemoteHost, tunnel.tunnelRemotePort);
                    await _tunnelView_js__WEBPACK_IMPORTED_MODULE_7__.OpenPortInPreviewAction.run(this.remoteExplorerService.tunnelModel, this.openerService, this.externalOpenerService, address);
                    break;
                }
                case _services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_6__.OnPortForward.Silent: break;
                default: {
                    const elapsed = ( (new Date())).getTime() - this.lastNotifyTime.getTime();
                    this.logService.trace(`ForwardedPorts: (OnAutoForwardedAction) time elapsed since last notification ${elapsed} ms`);
                    if (elapsed > OnAutoForwardedAction.NOTIFY_COOL_DOWN) {
                        await this.showNotification(tunnel);
                    }
                }
            }
        }
    }
    hide(removedPorts) {
        if (this.doActionTunnels) {
            this.doActionTunnels = this.doActionTunnels.filter(value => !removedPorts.includes(value.tunnelRemotePort));
        }
        if (this.lastShownPort && removedPorts.indexOf(this.lastShownPort) >= 0) {
            this.lastNotification?.close();
        }
    }
    async portNumberHeuristicDelay() {
        this.logService.trace(`ForwardedPorts: (OnAutoForwardedAction) Starting heuristic delay`);
        if (!this.doActionTunnels || this.doActionTunnels.length === 0) {
            return;
        }
        this.doActionTunnels = this.doActionTunnels.sort((a, b) => a.tunnelRemotePort - b.tunnelRemotePort);
        const firstTunnel = this.doActionTunnels.shift();
        if (firstTunnel.tunnelRemotePort % 1000 === 0) {
            this.logService.trace(`ForwardedPorts: (OnAutoForwardedAction) Heuristic chose tunnel because % 1000: ${firstTunnel.tunnelRemotePort}`);
            this.newerTunnel = firstTunnel;
            return firstTunnel;
        }
        else if (firstTunnel.tunnelRemotePort < 10000 && firstTunnel.tunnelRemotePort !== 9229) {
            this.logService.trace(`ForwardedPorts: (OnAutoForwardedAction) Heuristic chose tunnel because < 10000: ${firstTunnel.tunnelRemotePort}`);
            this.newerTunnel = firstTunnel;
            return firstTunnel;
        }
        this.logService.trace(`ForwardedPorts: (OnAutoForwardedAction) Waiting for "better" tunnel than ${firstTunnel.tunnelRemotePort}`);
        this.newerTunnel = undefined;
        return (
             (new Promise(resolve => {
                setTimeout(() => {
                    if (this.newerTunnel) {
                        resolve(undefined);
                    }
                    else if (this.doActionTunnels?.includes(firstTunnel)) {
                        resolve(firstTunnel);
                    }
                    else {
                        resolve(undefined);
                    }
                }, 3000);
            }))
        );
    }
    async basicMessage(tunnel) {
        const properties = await this.remoteExplorerService.tunnelModel.getAttributes([{ host: tunnel.tunnelRemoteHost, port: tunnel.tunnelRemotePort }], false);
        const label = properties?.get(tunnel.tunnelRemotePort)?.label;
        return ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(
            8848,
            "Your application{0} running on port {1} is available.  ",
            label ? ` (${label})` : '',
            tunnel.tunnelRemotePort
        ));
    }
    linkMessage() {
        return ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(8849, "[See all forwarded ports]({0})", `command:${_tunnelView_js__WEBPACK_IMPORTED_MODULE_7__.TunnelPanel.ID}.focus`));
    }
    async showNotification(tunnel) {
        if (!(await this.hostService.hadLastFocus())) {
            return;
        }
        this.lastNotification?.close();
        let message = await this.basicMessage(tunnel);
        const choices = [this.openBrowserChoice(tunnel)];
        if (!_base_common_platform_js__WEBPACK_IMPORTED_MODULE_19__.isWeb || _tunnelView_js__WEBPACK_IMPORTED_MODULE_7__.openPreviewEnabledContext.getValue(this.contextKeyService)) {
            choices.push(this.openPreviewChoice(tunnel));
        }
        if ((tunnel.tunnelLocalPort !== tunnel.tunnelRemotePort) && this.tunnelService.canElevate && this.tunnelService.isPortPrivileged(tunnel.tunnelRemotePort)) {
            message += ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(
                8850,
                "You'll need to run as superuser to use port {0} locally.  ",
                tunnel.tunnelRemotePort
            ));
            choices.unshift(this.elevateChoice(tunnel));
        }
        if (tunnel.privacy === _platform_tunnel_common_tunnel_js__WEBPACK_IMPORTED_MODULE_20__.TunnelPrivacyId.Private && _base_common_platform_js__WEBPACK_IMPORTED_MODULE_19__.isWeb && this.tunnelService.canChangePrivacy) {
            choices.push(this.makePublicChoice(tunnel));
        }
        message += this.linkMessage();
        this.lastNotification = this.notificationService.prompt(_base_common_severity_js__WEBPACK_IMPORTED_MODULE_13__["default"].Info, message, choices, { neverShowAgain: { id: 'remote.tunnelsView.autoForwardNeverShow', isSecondary: true } });
        this.lastShownPort = tunnel.tunnelRemotePort;
        this.lastNotifyTime = ( (new Date()));
        this.lastNotification.onDidClose(() => {
            this.lastNotification = undefined;
            this.lastShownPort = undefined;
        });
    }
    makePublicChoice(tunnel) {
        return {
            label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(8851, "Make Public")),
            run: async () => {
                const oldTunnelDetails = (0,_services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_6__.mapHasAddressLocalhostOrAllInterfaces)(this.remoteExplorerService.tunnelModel.forwarded, tunnel.tunnelRemoteHost, tunnel.tunnelRemotePort);
                await this.remoteExplorerService.close({ host: tunnel.tunnelRemoteHost, port: tunnel.tunnelRemotePort }, _services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_6__.TunnelCloseReason.Other);
                return this.remoteExplorerService.forward({
                    remote: { host: tunnel.tunnelRemoteHost, port: tunnel.tunnelRemotePort },
                    local: tunnel.tunnelLocalPort,
                    name: oldTunnelDetails?.name,
                    elevateIfNeeded: true,
                    privacy: _platform_tunnel_common_tunnel_js__WEBPACK_IMPORTED_MODULE_20__.TunnelPrivacyId.Public,
                    source: oldTunnelDetails?.source
                });
            }
        };
    }
    openBrowserChoice(tunnel) {
        const address = (0,_services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_6__.makeAddress)(tunnel.tunnelRemoteHost, tunnel.tunnelRemotePort);
        return {
            label: _tunnelView_js__WEBPACK_IMPORTED_MODULE_7__.OpenPortInBrowserAction.LABEL,
            run: () => _tunnelView_js__WEBPACK_IMPORTED_MODULE_7__.OpenPortInBrowserAction.run(this.remoteExplorerService.tunnelModel, this.openerService, address)
        };
    }
    openPreviewChoice(tunnel) {
        const address = (0,_services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_6__.makeAddress)(tunnel.tunnelRemoteHost, tunnel.tunnelRemotePort);
        return {
            label: _tunnelView_js__WEBPACK_IMPORTED_MODULE_7__.OpenPortInPreviewAction.LABEL,
            run: () => _tunnelView_js__WEBPACK_IMPORTED_MODULE_7__.OpenPortInPreviewAction.run(this.remoteExplorerService.tunnelModel, this.openerService, this.externalOpenerService, address)
        };
    }
    elevateChoice(tunnel) {
        return {
            label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(8852, "Use Port {0} as Sudo...", tunnel.tunnelRemotePort)),
            run: async () => {
                await this.remoteExplorerService.close({ host: tunnel.tunnelRemoteHost, port: tunnel.tunnelRemotePort }, _services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_6__.TunnelCloseReason.Other);
                const newTunnel = await this.remoteExplorerService.forward({
                    remote: { host: tunnel.tunnelRemoteHost, port: tunnel.tunnelRemotePort },
                    local: tunnel.tunnelRemotePort,
                    elevateIfNeeded: true,
                    source: _services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_6__.AutoTunnelSource
                });
                if (!newTunnel || (typeof newTunnel === 'string')) {
                    return;
                }
                this.lastNotification?.close();
                this.lastShownPort = newTunnel.tunnelRemotePort;
                this.lastNotification = this.notificationService.prompt(_base_common_severity_js__WEBPACK_IMPORTED_MODULE_13__["default"].Info, (await this.basicMessage(newTunnel)) + this.linkMessage(), [this.openBrowserChoice(newTunnel), this.openPreviewChoice(tunnel)], { neverShowAgain: { id: 'remote.tunnelsView.autoForwardNeverShow', isSecondary: true } });
                this.lastNotification.onDidClose(() => {
                    this.lastNotification = undefined;
                    this.lastShownPort = undefined;
                });
            }
        };
    }
}
class OutputAutomaticPortForwarding extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.Disposable {
    constructor(terminalService, notificationService, openerService, externalOpenerService, remoteExplorerService, configurationService, debugService, tunnelService, hostService, logService, contextKeyService, privilegedOnly) {
        super();
        this.terminalService = terminalService;
        this.notificationService = notificationService;
        this.openerService = openerService;
        this.externalOpenerService = externalOpenerService;
        this.remoteExplorerService = remoteExplorerService;
        this.configurationService = configurationService;
        this.debugService = debugService;
        this.tunnelService = tunnelService;
        this.hostService = hostService;
        this.logService = logService;
        this.contextKeyService = contextKeyService;
        this.privilegedOnly = privilegedOnly;
        this.notifier = ( (new OnAutoForwardedAction(
            notificationService,
            remoteExplorerService,
            openerService,
            externalOpenerService,
            tunnelService,
            hostService,
            logService,
            contextKeyService
        )));
        this._register(configurationService.onDidChangeConfiguration((e) => {
            if (e.affectsConfiguration(_services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.PORT_AUTO_FORWARD_SETTING)) {
                this.tryStartStopUrlFinder();
            }
        }));
        this.portsFeatures = this._register(this.remoteExplorerService.onEnabledPortsFeatures(() => {
            this.tryStartStopUrlFinder();
        }));
        this.tryStartStopUrlFinder();
        if (configurationService.getValue(_services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.PORT_AUTO_SOURCE_SETTING) === _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.PORT_AUTO_SOURCE_SETTING_HYBRID) {
            this._register(this.tunnelService.onTunnelClosed(tunnel => this.notifier.hide([tunnel.port])));
        }
    }
    tryStartStopUrlFinder() {
        if (this.configurationService.getValue(_services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.PORT_AUTO_FORWARD_SETTING)) {
            this.startUrlFinder();
        }
        else {
            this.stopUrlFinder();
        }
    }
    startUrlFinder() {
        if (!this.urlFinder && (this.remoteExplorerService.portsFeaturesEnabled !== _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.PortsEnablement.AdditionalFeatures)) {
            return;
        }
        this.portsFeatures?.dispose();
        this.urlFinder = this._register(( (new _urlFinder_js__WEBPACK_IMPORTED_MODULE_12__.UrlFinder(this.terminalService, this.debugService))));
        this._register(this.urlFinder.onDidMatchLocalUrl(async (localUrl) => {
            if ((0,_services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_6__.mapHasAddressLocalhostOrAllInterfaces)(this.remoteExplorerService.tunnelModel.detected, localUrl.host, localUrl.port)) {
                return;
            }
            const attributes = (await this.remoteExplorerService.tunnelModel.getAttributes([localUrl]))?.get(localUrl.port);
            if (attributes?.onAutoForward === _services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_6__.OnPortForward.Ignore) {
                return;
            }
            if (this.privilegedOnly() && !this.tunnelService.isPortPrivileged(localUrl.port)) {
                return;
            }
            const forwarded = await this.remoteExplorerService.forward({ remote: localUrl, source: _services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_6__.AutoTunnelSource }, attributes ?? null);
            if (forwarded && (typeof forwarded !== 'string')) {
                this.notifier.doAction([forwarded]);
            }
        }));
    }
    stopUrlFinder() {
        if (this.urlFinder) {
            this.urlFinder.dispose();
            this.urlFinder = undefined;
        }
    }
}
class ProcAutomaticPortForwarding extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.Disposable {
    constructor(unforwardOnly, alreadyAutoForwarded, needsInitialCandidates, configurationService, remoteExplorerService, notificationService, openerService, externalOpenerService, tunnelService, hostService, logService, contextKeyService) {
        super();
        this.unforwardOnly = unforwardOnly;
        this.alreadyAutoForwarded = alreadyAutoForwarded;
        this.needsInitialCandidates = needsInitialCandidates;
        this.configurationService = configurationService;
        this.remoteExplorerService = remoteExplorerService;
        this.notificationService = notificationService;
        this.openerService = openerService;
        this.externalOpenerService = externalOpenerService;
        this.tunnelService = tunnelService;
        this.hostService = hostService;
        this.logService = logService;
        this.contextKeyService = contextKeyService;
        this.autoForwarded = ( (new Set()));
        this.notifiedOnly = ( (new Set()));
        this.initialCandidates = ( (new Set()));
        this.notifier = ( (new OnAutoForwardedAction(
            notificationService,
            remoteExplorerService,
            openerService,
            externalOpenerService,
            tunnelService,
            hostService,
            logService,
            contextKeyService
        )));
        alreadyAutoForwarded?.forEach(port => this.autoForwarded.add(port));
        this.initialize();
    }
    get forwarded() {
        return this.autoForwarded;
    }
    async initialize() {
        if (!this.remoteExplorerService.tunnelModel.environmentTunnelsSet) {
            await ( (new Promise(
                resolve => this.remoteExplorerService.tunnelModel.onEnvironmentTunnelsSet(() => resolve())
            )));
        }
        this._register(this.configurationService.onDidChangeConfiguration(async (e) => {
            if (e.affectsConfiguration(_services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.PORT_AUTO_FORWARD_SETTING)) {
                await this.startStopCandidateListener();
            }
        }));
        this.portsFeatures = this._register(this.remoteExplorerService.onEnabledPortsFeatures(async () => {
            await this.startStopCandidateListener();
        }));
        this.startStopCandidateListener();
    }
    async startStopCandidateListener() {
        if (this.configurationService.getValue(_services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.PORT_AUTO_FORWARD_SETTING)) {
            await this.startCandidateListener();
        }
        else {
            this.stopCandidateListener();
        }
    }
    stopCandidateListener() {
        if (this.candidateListener) {
            this.candidateListener.dispose();
            this.candidateListener = undefined;
        }
    }
    async startCandidateListener() {
        if (this.candidateListener || (this.remoteExplorerService.portsFeaturesEnabled !== _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.PortsEnablement.AdditionalFeatures)) {
            return;
        }
        this.portsFeatures?.dispose();
        await this.setInitialCandidates();
        if (this.configurationService.getValue(_services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_4__.PORT_AUTO_FORWARD_SETTING)) {
            this.candidateListener = this._register(this.remoteExplorerService.tunnelModel.onCandidatesChanged(this.handleCandidateUpdate, this));
        }
    }
    async setInitialCandidates() {
        if (!this.needsInitialCandidates) {
            this.logService.debug(`ForwardedPorts: (ProcForwarding) Not setting initial candidates`);
            return;
        }
        let startingCandidates = this.remoteExplorerService.tunnelModel.candidatesOrUndefined;
        if (!startingCandidates) {
            await ( (new Promise(
                resolve => this.remoteExplorerService.tunnelModel.onCandidatesChanged(() => resolve())
            )));
            startingCandidates = this.remoteExplorerService.tunnelModel.candidates;
        }
        for (const value of startingCandidates) {
            this.initialCandidates.add((0,_services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_6__.makeAddress)(value.host, value.port));
        }
        this.logService.debug(`ForwardedPorts: (ProcForwarding) Initial candidates set to ${( (startingCandidates.map(candidate => candidate.port))).join(', ')}`);
    }
    async forwardCandidates() {
        let attributes;
        const allTunnels = [];
        this.logService.trace(`ForwardedPorts: (ProcForwarding) Attempting to forward ${this.remoteExplorerService.tunnelModel.candidates.length} candidates`);
        for (const value of this.remoteExplorerService.tunnelModel.candidates) {
            if (!value.detail) {
                this.logService.trace(`ForwardedPorts: (ProcForwarding) Port ${value.port} missing detail`);
                continue;
            }
            if (!attributes) {
                attributes = await this.remoteExplorerService.tunnelModel.getAttributes(this.remoteExplorerService.tunnelModel.candidates);
            }
            const portAttributes = attributes?.get(value.port);
            const address = (0,_services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_6__.makeAddress)(value.host, value.port);
            if (( (this.initialCandidates.has(address))) && (portAttributes?.onAutoForward === undefined)) {
                continue;
            }
            if (( (this.notifiedOnly.has(address))) || ( (this.autoForwarded.has(address)))) {
                continue;
            }
            const alreadyForwarded = (0,_services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_6__.mapHasAddressLocalhostOrAllInterfaces)(this.remoteExplorerService.tunnelModel.forwarded, value.host, value.port);
            if ((0,_services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_6__.mapHasAddressLocalhostOrAllInterfaces)(this.remoteExplorerService.tunnelModel.detected, value.host, value.port)) {
                continue;
            }
            if (portAttributes?.onAutoForward === _services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_6__.OnPortForward.Ignore) {
                this.logService.trace(`ForwardedPorts: (ProcForwarding) Port ${value.port} is ignored`);
                continue;
            }
            const forwarded = await this.remoteExplorerService.forward({ remote: value, source: _services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_6__.AutoTunnelSource }, portAttributes ?? null);
            if (!alreadyForwarded && forwarded) {
                this.logService.trace(`ForwardedPorts: (ProcForwarding) Port ${value.port} has been forwarded`);
                this.autoForwarded.add(address);
            }
            else if (forwarded) {
                this.logService.trace(`ForwardedPorts: (ProcForwarding) Port ${value.port} has been notified`);
                this.notifiedOnly.add(address);
            }
            if (forwarded && (typeof forwarded !== 'string')) {
                allTunnels.push(forwarded);
            }
        }
        this.logService.trace(`ForwardedPorts: (ProcForwarding) Forwarded ${allTunnels.length} candidates`);
        if (allTunnels.length === 0) {
            return undefined;
        }
        return allTunnels;
    }
    async handleCandidateUpdate(removed) {
        const removedPorts = [];
        let autoForwarded;
        if (this.unforwardOnly) {
            autoForwarded = ( (new Map()));
            for (const entry of this.remoteExplorerService.tunnelModel.forwarded.entries()) {
                if (entry[1].source.source === _services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_6__.TunnelSource.Auto) {
                    autoForwarded.set(entry[0], entry[1]);
                }
            }
        }
        else {
            autoForwarded = ( (new Map(this.autoForwarded.entries())));
        }
        for (const removedPort of removed) {
            const key = removedPort[0];
            let value = removedPort[1];
            const forwardedValue = (0,_services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_6__.mapHasAddressLocalhostOrAllInterfaces)(autoForwarded, value.host, value.port);
            if (forwardedValue) {
                if (typeof forwardedValue === 'string') {
                    this.autoForwarded.delete(key);
                }
                else {
                    value = { host: forwardedValue.remoteHost, port: forwardedValue.remotePort };
                }
                await this.remoteExplorerService.close(value, _services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_6__.TunnelCloseReason.AutoForwardEnd);
                removedPorts.push(value.port);
            }
            else if (( (this.notifiedOnly.has(key)))) {
                this.notifiedOnly.delete(key);
                removedPorts.push(value.port);
            }
            else if (( (this.initialCandidates.has(key)))) {
                this.initialCandidates.delete(key);
            }
        }
        if (this.unforwardOnly) {
            return;
        }
        if (removedPorts.length > 0) {
            await this.notifier.hide(removedPorts);
        }
        const tunnels = await this.forwardCandidates();
        if (tunnels) {
            await this.notifier.doAction(tunnels);
        }
    }
}



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/contrib/remote/browser/remoteIcons.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/contrib/remote/browser/remoteIcons.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   copyAddressIcon: () => (/* binding */ copyAddressIcon),
/* harmony export */   documentationIcon: () => (/* binding */ documentationIcon),
/* harmony export */   forwardPortIcon: () => (/* binding */ forwardPortIcon),
/* harmony export */   forwardedPortWithProcessIcon: () => (/* binding */ forwardedPortWithProcessIcon),
/* harmony export */   forwardedPortWithoutProcessIcon: () => (/* binding */ forwardedPortWithoutProcessIcon),
/* harmony export */   getStartedIcon: () => (/* binding */ getStartedIcon),
/* harmony export */   labelPortIcon: () => (/* binding */ labelPortIcon),
/* harmony export */   openBrowserIcon: () => (/* binding */ openBrowserIcon),
/* harmony export */   openPreviewIcon: () => (/* binding */ openPreviewIcon),
/* harmony export */   portsViewIcon: () => (/* binding */ portsViewIcon),
/* harmony export */   privatePortIcon: () => (/* binding */ privatePortIcon),
/* harmony export */   remoteExplorerViewIcon: () => (/* binding */ remoteExplorerViewIcon),
/* harmony export */   reportIssuesIcon: () => (/* binding */ reportIssuesIcon),
/* harmony export */   reviewIssuesIcon: () => (/* binding */ reviewIssuesIcon),
/* harmony export */   stopForwardIcon: () => (/* binding */ stopForwardIcon)
/* harmony export */ });
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../base/common/codicons.js */ "./node_modules/vscode/vscode/src/vs/base/common/codicons.js");
/* harmony import */ var _platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../platform/theme/common/iconRegistry.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/iconRegistry.js");



const getStartedIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_2__.registerIcon)('remote-explorer-get-started', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_1__.Codicon.star, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(10988, 'Getting started icon in the remote explorer view.')));
const documentationIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_2__.registerIcon)('remote-explorer-documentation', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_1__.Codicon.book, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(10989, 'Documentation icon in the remote explorer view.')));
(0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_2__.registerIcon)('remote-explorer-feedback', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_1__.Codicon.twitter, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(10990, 'Feedback icon in the remote explorer view.')));
const reviewIssuesIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_2__.registerIcon)('remote-explorer-review-issues', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_1__.Codicon.issues, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(10991, 'Review issue icon in the remote explorer view.')));
const reportIssuesIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_2__.registerIcon)('remote-explorer-report-issues', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_1__.Codicon.comment, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(10992, 'Report issue icon in the remote explorer view.')));
const remoteExplorerViewIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_2__.registerIcon)('remote-explorer-view-icon', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_1__.Codicon.remoteExplorer, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(10993, 'View icon of the remote explorer view.')));
const portsViewIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_2__.registerIcon)('ports-view-icon', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_1__.Codicon.plug, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(10994, 'View icon of the remote ports view.')));
(0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_2__.registerIcon)('ports-view-icon', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_1__.Codicon.plug, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(10995, 'Icon representing a remote port.')));
const privatePortIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_2__.registerIcon)('private-ports-view-icon', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_1__.Codicon.lock, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(10996, 'Icon representing a private remote port.')));
const forwardPortIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_2__.registerIcon)('ports-forward-icon', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_1__.Codicon.plus, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(10997, 'Icon for the forward action.')));
const stopForwardIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_2__.registerIcon)('ports-stop-forward-icon', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_1__.Codicon.x, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(10998, 'Icon for the stop forwarding action.')));
const openBrowserIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_2__.registerIcon)('ports-open-browser-icon', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_1__.Codicon.globe, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(10999, 'Icon for the open browser action.')));
const openPreviewIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_2__.registerIcon)('ports-open-preview-icon', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_1__.Codicon.openPreview, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(11000, 'Icon for the open preview action.')));
const copyAddressIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_2__.registerIcon)('ports-copy-address-icon', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_1__.Codicon.clippy, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(11001, 'Icon for the copy local address action.')));
const labelPortIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_2__.registerIcon)('ports-label-icon', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_1__.Codicon.tag, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(11002, 'Icon for the label port action.')));
const forwardedPortWithoutProcessIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_2__.registerIcon)('ports-forwarded-without-process-icon', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_1__.Codicon.circleOutline, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(11003, 'Icon for forwarded ports that don\'t have a running process.')));
const forwardedPortWithProcessIcon = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_2__.registerIcon)('ports-forwarded-with-process-icon', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_1__.Codicon.circleFilled, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(11004, 'Icon for forwarded ports that do have a running process.')));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/contrib/remote/browser/tunnelView.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/contrib/remote/browser/tunnelView.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ForwardPortAction: () => (/* binding */ ForwardPortAction),
/* harmony export */   OpenPortInBrowserAction: () => (/* binding */ OpenPortInBrowserAction),
/* harmony export */   OpenPortInPreviewAction: () => (/* binding */ OpenPortInPreviewAction),
/* harmony export */   TunnelPanel: () => (/* binding */ TunnelPanel),
/* harmony export */   TunnelPanelDescriptor: () => (/* binding */ TunnelPanelDescriptor),
/* harmony export */   TunnelViewModel: () => (/* binding */ TunnelViewModel),
/* harmony export */   openPreviewEnabledContext: () => (/* binding */ openPreviewEnabledContext)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _media_tunnelView_css_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./media/tunnelView.css.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/remote/browser/media/tunnelView.css.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../base/browser/dom.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var _common_views_service_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../common/views.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/views.service.js");
/* harmony import */ var _services_views_common_viewsService_service_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/views/common/viewsService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/views/common/viewsService.service.js");
/* harmony import */ var _platform_keybinding_common_keybinding_service_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../platform/keybinding/common/keybinding.service.js */ "./node_modules/vscode/vscode/src/vs/platform/keybinding/common/keybinding.service.js");
/* harmony import */ var _platform_contextview_browser_contextView_service_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../platform/contextview/browser/contextView.service.js */ "./node_modules/vscode/vscode/src/vs/platform/contextview/browser/contextView.service.js");
/* harmony import */ var _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../platform/contextkey/common/contextkey.js */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.js");
/* harmony import */ var _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../platform/contextkey/common/contextkey.service.js */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../platform/configuration/common/configuration.service.js */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../platform/instantiation/common/instantiation.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var _platform_opener_common_opener_service_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../platform/opener/common/opener.service.js */ "./node_modules/vscode/vscode/src/vs/platform/opener/common/opener.service.js");
/* harmony import */ var _platform_quickinput_common_quickInput_service_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../platform/quickinput/common/quickInput.service.js */ "./node_modules/vscode/vscode/src/vs/platform/quickinput/common/quickInput.service.js");
/* harmony import */ var _platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../platform/commands/common/commands.js */ "./node_modules/vscode/vscode/src/vs/platform/commands/common/commands.js");
/* harmony import */ var _platform_commands_common_commands_service_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../platform/commands/common/commands.service.js */ "./node_modules/vscode/vscode/src/vs/platform/commands/common/commands.service.js");
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../base/common/event.js */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var _services_environment_common_environmentService_service_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../services/environment/common/environmentService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/environment/common/environmentService.service.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _base_browser_ui_actionbar_actionbar_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../base/browser/ui/actionbar/actionbar.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/actionbar/actionbar.js");
/* harmony import */ var _base_browser_ui_iconLabel_iconLabel_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../base/browser/ui/iconLabel/iconLabel.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/iconLabel/iconLabel.js");
/* harmony import */ var _base_common_actions_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../base/common/actions.js */ "./node_modules/vscode/vscode/src/vs/base/common/actions.js");
/* harmony import */ var _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../platform/actions/common/actions.js */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var _platform_actions_common_actions_service_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../platform/actions/common/actions.service.js */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.service.js");
/* harmony import */ var _platform_actions_browser_menuEntryActionViewItem_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../platform/actions/browser/menuEntryActionViewItem.js */ "./node_modules/vscode/vscode/src/vs/platform/actions/browser/menuEntryActionViewItem.js");
/* harmony import */ var _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../services/remote/common/remoteExplorerService.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/remote/common/remoteExplorerService.js");
/* harmony import */ var _services_remote_common_remoteExplorerService_service_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../services/remote/common/remoteExplorerService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/remote/common/remoteExplorerService.service.js");
/* harmony import */ var _platform_clipboard_common_clipboardService_service_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../../platform/clipboard/common/clipboardService.service.js */ "./node_modules/vscode/vscode/src/vs/platform/clipboard/common/clipboardService.service.js");
/* harmony import */ var _platform_notification_common_notification_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../../platform/notification/common/notification.js */ "./node_modules/vscode/vscode/src/vs/platform/notification/common/notification.js");
/* harmony import */ var _platform_notification_common_notification_service_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../../platform/notification/common/notification.service.js */ "./node_modules/vscode/vscode/src/vs/platform/notification/common/notification.service.js");
/* harmony import */ var _base_browser_ui_inputbox_inputBox_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../../base/browser/ui/inputbox/inputBox.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/inputbox/inputBox.js");
/* harmony import */ var _base_common_functional_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../../../base/common/functional.js */ "./node_modules/vscode/vscode/src/vs/base/common/functional.js");
/* harmony import */ var _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../../../platform/theme/common/themeService.service.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.service.js");
/* harmony import */ var _base_common_themables_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../../../base/common/themables.js */ "./node_modules/vscode/vscode/src/vs/base/common/themables.js");
/* harmony import */ var _browser_parts_views_viewPane_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../../browser/parts/views/viewPane.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/views/viewPane.js");
/* harmony import */ var _base_common_uri_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../../../base/common/uri.js */ "./node_modules/vscode/vscode/src/vs/base/common/uri.js");
/* harmony import */ var _platform_tunnel_common_tunnel_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../../../platform/tunnel/common/tunnel.js */ "./node_modules/vscode/vscode/src/vs/platform/tunnel/common/tunnel.js");
/* harmony import */ var _platform_tunnel_common_tunnel_service_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../../../platform/tunnel/common/tunnel.service.js */ "./node_modules/vscode/vscode/src/vs/platform/tunnel/common/tunnel.service.js");
/* harmony import */ var _platform_instantiation_common_descriptors_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../../../platform/instantiation/common/descriptors.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/descriptors.js");
/* harmony import */ var _platform_keybinding_common_keybindingsRegistry_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../../../../platform/keybinding/common/keybindingsRegistry.js */ "./node_modules/vscode/vscode/src/vs/platform/keybinding/common/keybindingsRegistry.js");
/* harmony import */ var _platform_telemetry_common_telemetry_service_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../../../../platform/telemetry/common/telemetry.service.js */ "./node_modules/vscode/vscode/src/vs/platform/telemetry/common/telemetry.service.js");
/* harmony import */ var _base_browser_ui_actionbar_actionViewItems_js__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../../../../base/browser/ui/actionbar/actionViewItems.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/actionbar/actionViewItems.js");
/* harmony import */ var _remoteIcons_js__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./remoteIcons.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/remote/browser/remoteIcons.js");
/* harmony import */ var _externalUriOpener_common_externalUriOpenerService_service_js__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../../externalUriOpener/common/externalUriOpenerService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/externalUriOpener/common/externalUriOpenerService.service.js");
/* harmony import */ var _base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../../../../base/common/cancellation.js */ "./node_modules/vscode/vscode/src/vs/base/common/cancellation.js");
/* harmony import */ var _base_common_platform_js__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../../../../base/common/platform.js */ "./node_modules/vscode/vscode/src/vs/base/common/platform.js");
/* harmony import */ var _platform_list_browser_listService_js__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ../../../../platform/list/browser/listService.js */ "./node_modules/vscode/vscode/src/vs/platform/list/browser/listService.js");
/* harmony import */ var _base_browser_ui_button_button_js__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ../../../../base/browser/ui/button/button.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/button/button.js");
/* harmony import */ var _platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ../../../../platform/theme/common/colorUtils.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colorUtils.js");
/* harmony import */ var _platform_theme_common_colors_baseColors_js__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/baseColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/baseColors.js");
/* harmony import */ var _platform_theme_common_colors_chartsColors_js__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/chartsColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/chartsColors.js");
/* harmony import */ var _platform_theme_common_colors_editorColors_js__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/editorColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/editorColors.js");
/* harmony import */ var _platform_theme_common_colors_inputColors_js__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/inputColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/inputColors.js");
/* harmony import */ var _platform_theme_common_colors_listColors_js__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/listColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/listColors.js");
/* harmony import */ var _platform_theme_common_colors_menuColors_js__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/menuColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/menuColors.js");
/* harmony import */ var _platform_theme_common_colors_minimapColors_js__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/minimapColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/minimapColors.js");
/* harmony import */ var _platform_theme_common_colors_miscColors_js__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/miscColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/miscColors.js");
/* harmony import */ var _platform_theme_common_colors_quickpickColors_js__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/quickpickColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/quickpickColors.js");
/* harmony import */ var _platform_theme_common_colors_searchColors_js__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ../../../../platform/theme/common/colors/searchColors.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colors/searchColors.js");
/* harmony import */ var _base_common_htmlContent_js__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ../../../../base/common/htmlContent.js */ "./node_modules/vscode/vscode/src/vs/base/common/htmlContent.js");
/* harmony import */ var _common_theme_js__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ../../../common/theme.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/theme.js");
/* harmony import */ var _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ../../../../base/common/codicons.js */ "./node_modules/vscode/vscode/src/vs/base/common/codicons.js");
/* harmony import */ var _platform_theme_browser_defaultStyles_js__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ../../../../platform/theme/browser/defaultStyles.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/browser/defaultStyles.js");
/* harmony import */ var _services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ../../../services/remote/common/tunnelModel.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/remote/common/tunnelModel.js");
/* harmony import */ var _base_browser_ui_hover_hoverDelegateFactory_js__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ../../../../base/browser/ui/hover/hoverDelegateFactory.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/hover/hoverDelegateFactory.js");
/* harmony import */ var _platform_hover_browser_hover_service_js__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! ../../../../platform/hover/browser/hover.service.js */ "./node_modules/vscode/vscode/src/vs/platform/hover/browser/hover.service.js");
/* harmony import */ var _base_common_severity_js__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! ../../../../base/common/severity.js */ "./node_modules/vscode/vscode/src/vs/base/common/severity.js");



































































var TunnelPanel_1;
const openPreviewEnabledContext = ( (new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_8__.RawContextKey('openPreviewEnabled', false)));
class TunnelTreeVirtualDelegate {
    constructor(remoteExplorerService) {
        this.remoteExplorerService = remoteExplorerService;
        this.headerRowHeight = 22;
    }
    getHeight(row) {
        return (row.tunnelType === _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelType.Add && !this.remoteExplorerService.getEditableData(undefined)) ? 30 : 22;
    }
}
let TunnelViewModel = class TunnelViewModel {
    constructor(remoteExplorerService, tunnelService) {
        this.remoteExplorerService = remoteExplorerService;
        this.tunnelService = tunnelService;
        this._candidates = ( (new Map()));
        this.input = {
            label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11005, "Add Port")),
            icon: undefined,
            tunnelType: _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelType.Add,
            hasRunningProcess: false,
            remoteHost: '',
            remotePort: 0,
            processDescription: '',
            tooltipPostfix: '',
            iconTooltip: '',
            portTooltip: '',
            processTooltip: '',
            originTooltip: '',
            privacyTooltip: '',
            source: { source: _services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_63__.TunnelSource.User, description: '' },
            protocol: _platform_tunnel_common_tunnel_js__WEBPACK_IMPORTED_MODULE_36__.TunnelProtocol.Http,
            privacy: {
                id: _platform_tunnel_common_tunnel_js__WEBPACK_IMPORTED_MODULE_36__.TunnelPrivacyId.Private,
                themeIcon: _remoteIcons_js__WEBPACK_IMPORTED_MODULE_42__.privatePortIcon.id,
                label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11006, "Private"))
            },
            strip: () => undefined
        };
        this.model = remoteExplorerService.tunnelModel;
        this.onForwardedPortsChanged = _base_common_event_js__WEBPACK_IMPORTED_MODULE_16__.Event.any(this.model.onForwardPort, this.model.onClosePort, this.model.onPortName, this.model.onCandidatesChanged);
    }
    get all() {
        const result = [];
        this._candidates = ( (new Map()));
        this.model.candidates.forEach(candidate => {
            this._candidates.set((0,_services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_63__.makeAddress)(candidate.host, candidate.port), candidate);
        });
        if ((this.model.forwarded.size > 0) || this.remoteExplorerService.getEditableData(undefined)) {
            result.push(...this.forwarded);
        }
        if (this.model.detected.size > 0) {
            result.push(...this.detected);
        }
        result.push(this.input);
        return result;
    }
    addProcessInfoFromCandidate(tunnelItem) {
        const key = (0,_services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_63__.makeAddress)(tunnelItem.remoteHost, tunnelItem.remotePort);
        if (( (this._candidates.has(key)))) {
            tunnelItem.processDescription = this._candidates.get(key).detail;
        }
    }
    get forwarded() {
        const forwarded = ( (Array.from(( (this.model.forwarded.values()))).map(tunnel => {
            const tunnelItem = TunnelItem.createFromTunnel(this.remoteExplorerService, this.tunnelService, tunnel);
            this.addProcessInfoFromCandidate(tunnelItem);
            return tunnelItem;
        }))).sort((a, b) => {
            if (a.remotePort === b.remotePort) {
                return a.remoteHost < b.remoteHost ? -1 : 1;
            }
            else {
                return a.remotePort < b.remotePort ? -1 : 1;
            }
        });
        return forwarded;
    }
    get detected() {
        return (
             (Array.from(( (this.model.detected.values()))).map(tunnel => {
                const tunnelItem = TunnelItem.createFromTunnel(this.remoteExplorerService, this.tunnelService, tunnel, _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelType.Detected, false);
                this.addProcessInfoFromCandidate(tunnelItem);
                return tunnelItem;
            }))
        );
    }
    isEmpty() {
        return (this.detected.length === 0) &&
            ((this.forwarded.length === 0) || (this.forwarded.length === 1 &&
                (this.forwarded[0].tunnelType === _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelType.Add) && !this.remoteExplorerService.getEditableData(undefined)));
    }
};
TunnelViewModel = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, _services_remote_common_remoteExplorerService_service_js__WEBPACK_IMPORTED_MODULE_26__.IRemoteExplorerService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _platform_tunnel_common_tunnel_service_js__WEBPACK_IMPORTED_MODULE_37__.ITunnelService)))
], TunnelViewModel)));
function emptyCell(item) {
    return { label: '', tunnel: item, editId: _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelEditId.None, tooltip: '' };
}
class IconColumn {
    constructor() {
        this.label = '';
        this.tooltip = '';
        this.weight = 1;
        this.minimumWidth = 40;
        this.maximumWidth = 40;
        this.templateId = 'actionbar';
    }
    project(row) {
        if (row.tunnelType === _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelType.Add) {
            return emptyCell(row);
        }
        const icon = row.processDescription ? _remoteIcons_js__WEBPACK_IMPORTED_MODULE_42__.forwardedPortWithProcessIcon : _remoteIcons_js__WEBPACK_IMPORTED_MODULE_42__.forwardedPortWithoutProcessIcon;
        let tooltip = '';
        if (row instanceof TunnelItem) {
            tooltip = `${row.iconTooltip} ${row.tooltipPostfix}`;
        }
        return {
            label: '', icon, tunnel: row, editId: _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelEditId.None, tooltip
        };
    }
}
class PortColumn {
    constructor() {
        this.label = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11007, "Port"));
        this.tooltip = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11008, "The label and remote port number of the forwarded port."));
        this.weight = 1;
        this.templateId = 'actionbar';
    }
    project(row) {
        const isAdd = row.tunnelType === _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelType.Add;
        const label = row.label;
        let tooltip = '';
        if (row instanceof TunnelItem && !isAdd) {
            tooltip = `${row.portTooltip} ${row.tooltipPostfix}`;
        }
        else {
            tooltip = label;
        }
        return {
            label, tunnel: row, menuId: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuId.TunnelPortInline,
            editId: row.tunnelType === _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelType.Add ? _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelEditId.New : _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelEditId.Label, tooltip
        };
    }
}
class LocalAddressColumn {
    constructor() {
        this.label = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11009, "Forwarded Address"));
        this.tooltip = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11010, "The address that the forwarded port is available at."));
        this.weight = 1;
        this.templateId = 'actionbar';
    }
    project(row) {
        if (row.tunnelType === _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelType.Add) {
            return emptyCell(row);
        }
        const label = row.localAddress ?? '';
        let tooltip = label;
        if (row instanceof TunnelItem) {
            tooltip = row.tooltipPostfix;
        }
        return {
            label,
            menuId: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuId.TunnelLocalAddressInline,
            tunnel: row,
            editId: _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelEditId.LocalPort,
            tooltip,
            markdownTooltip: label ? LocalAddressColumn.getHoverText(label) : undefined
        };
    }
    static getHoverText(localAddress) {
        return function (configurationService) {
            const editorConf = configurationService.getValue('editor');
            let clickLabel = '';
            if (editorConf.multiCursorModifier === 'ctrlCmd') {
                if (_base_common_platform_js__WEBPACK_IMPORTED_MODULE_45__.isMacintosh) {
                    clickLabel = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11011, "option + click"));
                }
                else {
                    clickLabel = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11012, "alt + click"));
                }
            }
            else {
                if (_base_common_platform_js__WEBPACK_IMPORTED_MODULE_45__.isMacintosh) {
                    clickLabel = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11013, "cmd + click"));
                }
                else {
                    clickLabel = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11014, "ctrl + click"));
                }
            }
            const markdown = ( (new _base_common_htmlContent_js__WEBPACK_IMPORTED_MODULE_59__.MarkdownString('', true)));
            const uri = localAddress.startsWith('http') ? localAddress : `http://${localAddress}`;
            return markdown.appendLink(uri, 'Follow link').appendMarkdown(` (${clickLabel})`);
        };
    }
}
class RunningProcessColumn {
    constructor() {
        this.label = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11015, "Running Process"));
        this.tooltip = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11016, "The command line of the process that is using the port."));
        this.weight = 2;
        this.templateId = 'actionbar';
    }
    project(row) {
        if (row.tunnelType === _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelType.Add) {
            return emptyCell(row);
        }
        const label = row.processDescription ?? '';
        return { label, tunnel: row, editId: _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelEditId.None, tooltip: row instanceof TunnelItem ? row.processTooltip : '' };
    }
}
class OriginColumn {
    constructor() {
        this.label = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11017, "Origin"));
        this.tooltip = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(
            11018,
            "The source that a forwarded port originates from. Can be an extension, user forwarded, statically forwarded, or automatically forwarded."
        ));
        this.weight = 1;
        this.templateId = 'actionbar';
    }
    project(row) {
        if (row.tunnelType === _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelType.Add) {
            return emptyCell(row);
        }
        const label = row.source.description;
        const tooltip = `${row instanceof TunnelItem ? row.originTooltip : ''}. ${row instanceof TunnelItem ? row.tooltipPostfix : ''}`;
        return { label, menuId: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuId.TunnelOriginInline, tunnel: row, editId: _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelEditId.None, tooltip };
    }
}
class PrivacyColumn {
    constructor() {
        this.label = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11019, "Visibility"));
        this.tooltip = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11020, "The availability of the forwarded port."));
        this.weight = 1;
        this.templateId = 'actionbar';
    }
    project(row) {
        if (row.tunnelType === _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelType.Add) {
            return emptyCell(row);
        }
        const label = row.privacy?.label;
        let tooltip = '';
        if (row instanceof TunnelItem) {
            tooltip = `${row.privacy.label} ${row.tooltipPostfix}`;
        }
        return { label, tunnel: row, icon: { id: row.privacy.themeIcon }, editId: _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelEditId.None, tooltip };
    }
}
let ActionBarRenderer = class ActionBarRenderer extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_18__.Disposable {
    constructor(instantiationService, contextKeyService, menuService, contextViewService, remoteExplorerService, commandService, configurationService) {
        super();
        this.instantiationService = instantiationService;
        this.contextKeyService = contextKeyService;
        this.menuService = menuService;
        this.contextViewService = contextViewService;
        this.remoteExplorerService = remoteExplorerService;
        this.commandService = commandService;
        this.configurationService = configurationService;
        this.templateId = 'actionbar';
        this._hoverDelegate = (0,_base_browser_ui_hover_hoverDelegateFactory_js__WEBPACK_IMPORTED_MODULE_64__.getDefaultHoverDelegate)('mouse');
    }
    set actionRunner(actionRunner) {
        this._actionRunner = actionRunner;
    }
    renderTemplate(container) {
        const cell = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.append)(container, (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.$)('.ports-view-actionbar-cell'));
        const icon = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.append)(cell, (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.$)('.ports-view-actionbar-cell-icon'));
        const label = ( (new _base_browser_ui_iconLabel_iconLabel_js__WEBPACK_IMPORTED_MODULE_20__.IconLabel(cell, {
            supportHighlights: true,
            hoverDelegate: this._hoverDelegate
        })));
        const actionsContainer = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.append)(cell, (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.$)('.actions'));
        const actionBar = ( (new _base_browser_ui_actionbar_actionbar_js__WEBPACK_IMPORTED_MODULE_19__.ActionBar(actionsContainer, {
            actionViewItemProvider: _platform_actions_browser_menuEntryActionViewItem_js__WEBPACK_IMPORTED_MODULE_24__.createActionViewItem.bind(undefined, this.instantiationService),
            hoverDelegate: this._hoverDelegate
        })));
        return { label, icon, actionBar, container: cell, elementDisposable: _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_18__.Disposable.None };
    }
    renderElement(element, index, templateData) {
        templateData.actionBar.clear();
        templateData.icon.className = 'ports-view-actionbar-cell-icon';
        templateData.icon.style.display = 'none';
        templateData.label.setLabel('');
        templateData.label.element.style.display = 'none';
        templateData.container.style.height = '22px';
        if (templateData.button) {
            templateData.button.element.style.display = 'none';
            templateData.button.dispose();
        }
        templateData.container.style.paddingLeft = '0px';
        templateData.elementDisposable.dispose();
        let editableData;
        if (element.editId === _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelEditId.New && (editableData = this.remoteExplorerService.getEditableData(undefined))) {
            this.renderInputBox(templateData.container, editableData);
        }
        else {
            editableData = this.remoteExplorerService.getEditableData(element.tunnel, element.editId);
            if (editableData) {
                this.renderInputBox(templateData.container, editableData);
            }
            else if ((element.tunnel.tunnelType === _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelType.Add) && (element.menuId === _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuId.TunnelPortInline)) {
                this.renderButton(element, templateData);
            }
            else {
                this.renderActionBarItem(element, templateData);
            }
        }
    }
    renderButton(element, templateData) {
        templateData.container.style.paddingLeft = '7px';
        templateData.container.style.height = '28px';
        templateData.button = this._register(( (new _base_browser_ui_button_button_js__WEBPACK_IMPORTED_MODULE_47__.Button(templateData.container, _platform_theme_browser_defaultStyles_js__WEBPACK_IMPORTED_MODULE_62__.defaultButtonStyles))));
        templateData.button.label = element.label;
        templateData.button.element.title = element.tooltip;
        this._register(templateData.button.onDidClick(() => {
            this.commandService.executeCommand(ForwardPortAction.INLINE_ID);
        }));
    }
    tunnelContext(tunnel) {
        let context;
        if (tunnel instanceof TunnelItem) {
            context = tunnel.strip();
        }
        if (!context) {
            context = {
                tunnelType: tunnel.tunnelType,
                remoteHost: tunnel.remoteHost,
                remotePort: tunnel.remotePort,
                localAddress: tunnel.localAddress,
                protocol: tunnel.protocol,
                localUri: tunnel.localUri,
                localPort: tunnel.localPort,
                name: tunnel.name,
                closeable: tunnel.closeable,
                source: tunnel.source,
                privacy: tunnel.privacy,
                processDescription: tunnel.processDescription,
                label: tunnel.label
            };
        }
        return context;
    }
    renderActionBarItem(element, templateData) {
        templateData.label.element.style.display = 'flex';
        templateData.label.setLabel(element.label, undefined, {
            title: element.markdownTooltip ?
                { markdown: element.markdownTooltip(this.configurationService), markdownNotSupportedFallback: element.tooltip }
                : element.tooltip,
            extraClasses: element.menuId === _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuId.TunnelLocalAddressInline ? ['ports-view-actionbar-cell-localaddress'] : undefined
        });
        templateData.actionBar.context = this.tunnelContext(element.tunnel);
        templateData.container.style.paddingLeft = '10px';
        const context = [
            ['view', _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TUNNEL_VIEW_ID],
            [TunnelTypeContextKey.key, element.tunnel.tunnelType],
            [TunnelCloseableContextKey.key, element.tunnel.closeable],
            [TunnelPrivacyContextKey.key, element.tunnel.privacy.id],
            [TunnelProtocolContextKey.key, element.tunnel.protocol]
        ];
        const contextKeyService = this.contextKeyService.createOverlay(context);
        const disposableStore = ( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_18__.DisposableStore()));
        templateData.elementDisposable = disposableStore;
        if (element.menuId) {
            const menu = disposableStore.add(this.menuService.createMenu(element.menuId, contextKeyService));
            let actions = [];
            (0,_platform_actions_browser_menuEntryActionViewItem_js__WEBPACK_IMPORTED_MODULE_24__.createAndFillInActionBarActions)(menu, { shouldForwardArgs: true }, actions);
            if (actions) {
                const labelActions = actions.filter(action => action.id.toLowerCase().indexOf('label') >= 0);
                if (labelActions.length > 1) {
                    labelActions.sort((a, b) => a.label.length - b.label.length);
                    labelActions.pop();
                    actions = actions.filter(action => labelActions.indexOf(action) < 0);
                }
                templateData.actionBar.push(actions, { icon: true, label: false });
                if (this._actionRunner) {
                    templateData.actionBar.actionRunner = this._actionRunner;
                }
            }
        }
        if (element.icon) {
            templateData.icon.className = `ports-view-actionbar-cell-icon ${_base_common_themables_js__WEBPACK_IMPORTED_MODULE_33__.ThemeIcon.asClassName(element.icon)}`;
            templateData.icon.title = element.tooltip;
            templateData.icon.style.display = 'inline';
        }
    }
    renderInputBox(container, editableData) {
        if (this.inputDone) {
            this.inputDone(false, false);
            this.inputDone = undefined;
        }
        container.style.paddingLeft = '5px';
        const value = editableData.startingValue || '';
        const inputBox = ( (new _base_browser_ui_inputbox_inputBox_js__WEBPACK_IMPORTED_MODULE_30__.InputBox(container, this.contextViewService, {
            ariaLabel: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11021, "Press Enter to confirm or Escape to cancel.")),
            validationOptions: {
                validation: (value) => {
                    const message = editableData.validationMessage(value);
                    if (!message) {
                        return null;
                    }
                    return {
                        content: message.content,
                        formatContent: true,
                        type: message.severity === _base_common_severity_js__WEBPACK_IMPORTED_MODULE_66__["default"].Error ? 3  : 1
                    };
                }
            },
            placeholder: editableData.placeholder || '',
            inputBoxStyles: _platform_theme_browser_defaultStyles_js__WEBPACK_IMPORTED_MODULE_62__.defaultInputBoxStyles
        })));
        inputBox.value = value;
        inputBox.focus();
        inputBox.select({ start: 0, end: editableData.startingValue ? editableData.startingValue.length : 0 });
        const done = (0,_base_common_functional_js__WEBPACK_IMPORTED_MODULE_31__.createSingleCallFunction)(async (success, finishEditing) => {
            (0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_18__.dispose)(toDispose);
            if (this.inputDone) {
                this.inputDone = undefined;
            }
            inputBox.element.style.display = 'none';
            const inputValue = inputBox.value;
            if (finishEditing) {
                return editableData.onFinish(inputValue, success);
            }
        });
        this.inputDone = done;
        const toDispose = [
            inputBox,
            (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.addStandardDisposableListener)(inputBox.inputElement, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.EventType.KEY_DOWN, async (e) => {
                if (e.equals(3 )) {
                    e.stopPropagation();
                    if (inputBox.validate() !== 3 ) {
                        return done(true, true);
                    }
                    else {
                        return done(false, true);
                    }
                }
                else if (e.equals(9 )) {
                    e.preventDefault();
                    e.stopPropagation();
                    return done(false, true);
                }
            }),
            (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.addDisposableListener)(inputBox.inputElement, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.EventType.BLUR, () => {
                return done(inputBox.validate() !== 3 , true);
            })
        ];
        return (0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_18__.toDisposable)(() => {
            done(false, false);
        });
    }
    disposeElement(element, index, templateData, height) {
        templateData.elementDisposable.dispose();
    }
    disposeTemplate(templateData) {
        templateData.label.dispose();
        templateData.actionBar.dispose();
        templateData.elementDisposable.dispose();
        templateData.button?.dispose();
    }
};
ActionBarRenderer = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_11__.IInstantiationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_9__.IContextKeyService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_actions_common_actions_service_js__WEBPACK_IMPORTED_MODULE_23__.IMenuService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _platform_contextview_browser_contextView_service_js__WEBPACK_IMPORTED_MODULE_7__.IContextViewService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _services_remote_common_remoteExplorerService_service_js__WEBPACK_IMPORTED_MODULE_26__.IRemoteExplorerService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _platform_commands_common_commands_service_js__WEBPACK_IMPORTED_MODULE_15__.ICommandService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_10__.IConfigurationService)))
], ActionBarRenderer)));
class TunnelItem {
    static createFromTunnel(remoteExplorerService, tunnelService, tunnel, type = _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelType.Forwarded, closeable) {
        return (
             (new TunnelItem(
                type,
                tunnel.remoteHost,
                tunnel.remotePort,
                tunnel.source,
                !!tunnel.hasRunningProcess,
                tunnel.protocol,
                tunnel.localUri,
                tunnel.localAddress,
                tunnel.localPort,
                closeable === undefined ? tunnel.closeable : closeable,
                tunnel.name,
                tunnel.runningProcess,
                tunnel.pid,
                tunnel.privacy,
                remoteExplorerService,
                tunnelService
            ))
        );
    }
    strip() {
        return (
             (new TunnelItem(
                this.tunnelType,
                this.remoteHost,
                this.remotePort,
                this.source,
                this.hasRunningProcess,
                this.protocol,
                this.localUri,
                this.localAddress,
                this.localPort,
                this.closeable,
                this.name,
                this.runningProcess,
                this.pid,
                this._privacy
            ))
        );
    }
    constructor(tunnelType, remoteHost, remotePort, source, hasRunningProcess, protocol, localUri, localAddress, localPort, closeable, name, runningProcess, pid, _privacy, remoteExplorerService, tunnelService) {
        this.tunnelType = tunnelType;
        this.remoteHost = remoteHost;
        this.remotePort = remotePort;
        this.source = source;
        this.hasRunningProcess = hasRunningProcess;
        this.protocol = protocol;
        this.localUri = localUri;
        this.localAddress = localAddress;
        this.localPort = localPort;
        this.closeable = closeable;
        this.name = name;
        this.runningProcess = runningProcess;
        this.pid = pid;
        this._privacy = _privacy;
        this.remoteExplorerService = remoteExplorerService;
        this.tunnelService = tunnelService;
    }
    get label() {
        if (this.tunnelType === _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelType.Add && this.name) {
            return this.name;
        }
        const portNumberLabel = ((0,_platform_tunnel_common_tunnel_js__WEBPACK_IMPORTED_MODULE_36__.isLocalhost)(this.remoteHost) || (0,_platform_tunnel_common_tunnel_js__WEBPACK_IMPORTED_MODULE_36__.isAllInterfaces)(this.remoteHost))
            ? `${this.remotePort}`
            : `${this.remoteHost}:${this.remotePort}`;
        if (this.name) {
            return `${this.name} (${portNumberLabel})`;
        }
        else {
            return portNumberLabel;
        }
    }
    set processDescription(description) {
        this.runningProcess = description;
    }
    get processDescription() {
        let description = '';
        if (this.runningProcess) {
            if (this.pid && this.remoteExplorerService?.namedProcesses.has(this.pid)) {
                description = this.remoteExplorerService.namedProcesses.get(this.pid);
            }
            else {
                description = this.runningProcess.replace(/\0/g, ' ').trim();
            }
            if (this.pid) {
                description += ` (${this.pid})`;
            }
        }
        else if (this.hasRunningProcess) {
            description = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11022, "Process information unavailable"));
        }
        return description;
    }
    get tooltipPostfix() {
        let information;
        if (this.localAddress) {
            information = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(
                11023,
                "Remote port {0}:{1} forwarded to local address {2}. ",
                this.remoteHost,
                this.remotePort,
                this.localAddress
            ));
        }
        else {
            information = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(
                11024,
                "Remote port {0}:{1} not forwarded. ",
                this.remoteHost,
                this.remotePort
            ));
        }
        return information;
    }
    get iconTooltip() {
        const isAdd = this.tunnelType === _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelType.Add;
        if (!isAdd) {
            return `${this.processDescription ? ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11025, "Port has running process.")) :
                ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11026, "No running process."))}`;
        }
        else {
            return this.label;
        }
    }
    get portTooltip() {
        const isAdd = this.tunnelType === _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelType.Add;
        if (!isAdd) {
            return `${this.name ? ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11027, "Port labeled {0}. ", this.name)) : ''}`;
        }
        else {
            return '';
        }
    }
    get processTooltip() {
        return this.processDescription ?? '';
    }
    get originTooltip() {
        return this.source.description;
    }
    get privacy() {
        if (this.tunnelService?.privacyOptions) {
            return this.tunnelService?.privacyOptions.find(element => element.id === this._privacy) ??
                {
                    id: '',
                    themeIcon: _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_61__.Codicon.question.id,
                    label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11028, "Unknown"))
                };
        }
        else {
            return {
                id: _platform_tunnel_common_tunnel_js__WEBPACK_IMPORTED_MODULE_36__.TunnelPrivacyId.Private,
                themeIcon: _remoteIcons_js__WEBPACK_IMPORTED_MODULE_42__.privatePortIcon.id,
                label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11006, "Private"))
            };
        }
    }
}
const TunnelTypeContextKey = ( (new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_8__.RawContextKey('tunnelType', _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelType.Add, true)));
const TunnelCloseableContextKey = ( (new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_8__.RawContextKey('tunnelCloseable', false, true)));
const TunnelPrivacyContextKey = ( (new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_8__.RawContextKey('tunnelPrivacy', undefined, true)));
const TunnelPrivacyEnabledContextKey = ( (new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_8__.RawContextKey('tunnelPrivacyEnabled', false, true)));
const TunnelProtocolContextKey = ( (new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_8__.RawContextKey('tunnelProtocol', _platform_tunnel_common_tunnel_js__WEBPACK_IMPORTED_MODULE_36__.TunnelProtocol.Http, true)));
const TunnelViewFocusContextKey = ( (new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_8__.RawContextKey('tunnelViewFocus', false, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11029, "Whether the Ports view has focus.")))));
const TunnelViewSelectionKeyName = 'tunnelViewSelection';
const TunnelViewSelectionContextKey = ( (new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_8__.RawContextKey(TunnelViewSelectionKeyName, undefined, true)));
const TunnelViewMultiSelectionKeyName = 'tunnelViewMultiSelection';
const TunnelViewMultiSelectionContextKey = ( (new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_8__.RawContextKey(TunnelViewMultiSelectionKeyName, undefined, true)));
const PortChangableContextKey = ( (new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_8__.RawContextKey('portChangable', false, true)));
const ProtocolChangeableContextKey = ( (new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_8__.RawContextKey('protocolChangable', true, true)));
let TunnelPanel = class TunnelPanel extends _browser_parts_views_viewPane_js__WEBPACK_IMPORTED_MODULE_34__.ViewPane {
    static { TunnelPanel_1 = this; }
    static { this.ID = _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TUNNEL_VIEW_ID; }
    static { this.TITLE = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize2)(11030, "Ports")); }
    constructor(viewModel, options, keybindingService, contextMenuService, contextKeyService, configurationService, instantiationService, viewDescriptorService, openerService, quickInputService, commandService, menuService, themeService, remoteExplorerService, telemetryService, hoverService, tunnelService, contextViewService) {
        super(options, keybindingService, contextMenuService, configurationService, contextKeyService, viewDescriptorService, instantiationService, openerService, themeService, telemetryService, hoverService);
        this.viewModel = viewModel;
        this.quickInputService = quickInputService;
        this.commandService = commandService;
        this.menuService = menuService;
        this.remoteExplorerService = remoteExplorerService;
        this.tunnelService = tunnelService;
        this.contextViewService = contextViewService;
        this.tableDisposables = this._register(( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_18__.DisposableStore())));
        this.isEditing = false;
        this.titleActions = [];
        this.lastFocus = [];
        this.height = 0;
        this.width = 0;
        this.tunnelTypeContext = TunnelTypeContextKey.bindTo(contextKeyService);
        this.tunnelCloseableContext = TunnelCloseableContextKey.bindTo(contextKeyService);
        this.tunnelPrivacyContext = TunnelPrivacyContextKey.bindTo(contextKeyService);
        this.tunnelPrivacyEnabledContext = TunnelPrivacyEnabledContextKey.bindTo(contextKeyService);
        this.tunnelPrivacyEnabledContext.set(tunnelService.canChangePrivacy);
        this.protocolChangableContextKey = ProtocolChangeableContextKey.bindTo(contextKeyService);
        this.protocolChangableContextKey.set(tunnelService.canChangeProtocol);
        this.tunnelProtocolContext = TunnelProtocolContextKey.bindTo(contextKeyService);
        this.tunnelViewFocusContext = TunnelViewFocusContextKey.bindTo(contextKeyService);
        this.tunnelViewSelectionContext = TunnelViewSelectionContextKey.bindTo(contextKeyService);
        this.tunnelViewMultiSelectionContext = TunnelViewMultiSelectionContextKey.bindTo(contextKeyService);
        this.portChangableContextKey = PortChangableContextKey.bindTo(contextKeyService);
        const overlayContextKeyService = this.contextKeyService.createOverlay([['view', TunnelPanel_1.ID]]);
        const titleMenu = this._register(this.menuService.createMenu(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuId.TunnelTitle, overlayContextKeyService));
        const updateActions = () => {
            this.titleActions = [];
            (0,_platform_actions_browser_menuEntryActionViewItem_js__WEBPACK_IMPORTED_MODULE_24__.createAndFillInActionBarActions)(titleMenu, undefined, this.titleActions);
            this.updateActions();
        };
        this._register(titleMenu.onDidChange(updateActions));
        updateActions();
        this._register((0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_18__.toDisposable)(() => {
            this.titleActions = [];
        }));
        this.registerPrivacyActions();
        this._register(_base_common_event_js__WEBPACK_IMPORTED_MODULE_16__.Event.once(this.tunnelService.onAddedTunnelProvider)(() => {
            let updated = false;
            if (this.tunnelPrivacyEnabledContext.get() === false) {
                this.tunnelPrivacyEnabledContext.set(tunnelService.canChangePrivacy);
                updated = true;
            }
            if (this.protocolChangableContextKey.get() === true) {
                this.protocolChangableContextKey.set(tunnelService.canChangeProtocol);
                updated = true;
            }
            if (updated) {
                updateActions();
                this.registerPrivacyActions();
                this.createTable();
                this.table?.layout(this.height, this.width);
            }
        }));
    }
    registerPrivacyActions() {
        for (const privacyOption of this.tunnelService.privacyOptions) {
            const optionId = `remote.tunnel.privacy${privacyOption.id}`;
            _platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_14__.CommandsRegistry.registerCommand(optionId, ChangeTunnelPrivacyAction.handler(privacyOption.id));
            _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuId.TunnelPrivacy, ({
                order: 0,
                command: {
                    id: optionId,
                    title: privacyOption.label,
                    toggled: ( (TunnelPrivacyContextKey.isEqualTo(privacyOption.id)))
                }
            }));
        }
    }
    get portCount() {
        return this.remoteExplorerService.tunnelModel.forwarded.size + this.remoteExplorerService.tunnelModel.detected.size;
    }
    createTable() {
        if (!this.panelContainer) {
            return;
        }
        this.tableDisposables.clear();
        (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.clearNode)(this.panelContainer);
        const widgetContainer = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.append)(this.panelContainer, (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.$)('.customview-tree'));
        widgetContainer.classList.add('ports-view');
        widgetContainer.classList.add('file-icon-themable-tree', 'show-file-icons');
        const actionBarRenderer = ( (new ActionBarRenderer(
            this.instantiationService,
            this.contextKeyService,
            this.menuService,
            this.contextViewService,
            this.remoteExplorerService,
            this.commandService,
            this.configurationService
        )));
        const columns = [( (new IconColumn())), ( (new PortColumn())), ( (new LocalAddressColumn())), ( (new RunningProcessColumn()))];
        if (this.tunnelService.canChangePrivacy) {
            columns.push(( (new PrivacyColumn())));
        }
        columns.push(( (new OriginColumn())));
        this.table = this.instantiationService.createInstance(_platform_list_browser_listService_js__WEBPACK_IMPORTED_MODULE_46__.WorkbenchTable, 'RemoteTunnels', widgetContainer, ( (new TunnelTreeVirtualDelegate(this.remoteExplorerService))), columns, [actionBarRenderer], {
            keyboardNavigationLabelProvider: {
                getKeyboardNavigationLabel: (item) => {
                    return item.label;
                }
            },
            multipleSelectionSupport: true,
            accessibilityProvider: {
                getAriaLabel: (item) => {
                    if (item instanceof TunnelItem) {
                        return `${item.tooltipPostfix} ${item.portTooltip} ${item.iconTooltip} ${item.processTooltip} ${item.originTooltip} ${this.tunnelService.canChangePrivacy ? item.privacy.label : ''}`;
                    }
                    else {
                        return item.label;
                    }
                },
                getWidgetAriaLabel: () => ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11031, "Tunnel View"))
            },
            openOnSingleClick: true
        });
        const actionRunner = ( (new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_21__.ActionRunner()));
        actionBarRenderer.actionRunner = actionRunner;
        this.tableDisposables.add(this.table);
        this.tableDisposables.add(this.table.onContextMenu(e => this.onContextMenu(e, actionRunner)));
        this.tableDisposables.add(this.table.onMouseDblClick(e => this.onMouseDblClick(e)));
        this.tableDisposables.add(this.table.onDidChangeFocus(e => this.onFocusChanged(e)));
        this.tableDisposables.add(this.table.onDidChangeSelection(e => this.onSelectionChanged(e)));
        this.tableDisposables.add(this.table.onDidFocus(() => this.tunnelViewFocusContext.set(true)));
        this.tableDisposables.add(this.table.onDidBlur(() => this.tunnelViewFocusContext.set(false)));
        const rerender = () => this.table?.splice(0, Number.POSITIVE_INFINITY, this.viewModel.all);
        rerender();
        let lastPortCount = this.portCount;
        this.tableDisposables.add(_base_common_event_js__WEBPACK_IMPORTED_MODULE_16__.Event.debounce(this.viewModel.onForwardedPortsChanged, (_last, e) => e, 50)(() => {
            const newPortCount = this.portCount;
            if (((lastPortCount === 0) || (newPortCount === 0)) && (lastPortCount !== newPortCount)) {
                this._onDidChangeViewWelcomeState.fire();
            }
            lastPortCount = newPortCount;
            rerender();
        }));
        this.tableDisposables.add(this.table.onMouseClick(e => {
            if (this.hasOpenLinkModifier(e.browserEvent) && this.table) {
                const selection = this.table.getSelectedElements();
                if ((selection.length === 0) ||
                    ((selection.length === 1) && (selection[0] === e.element))) {
                    this.commandService.executeCommand(OpenPortInBrowserAction.ID, e.element);
                }
            }
        }));
        this.tableDisposables.add(this.table.onDidOpen(e => {
            if (!e.element || (e.element.tunnelType !== _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelType.Forwarded)) {
                return;
            }
            if (e.browserEvent?.type === 'dblclick') {
                this.commandService.executeCommand(LabelTunnelAction.ID);
            }
        }));
        this.tableDisposables.add(this.remoteExplorerService.onDidChangeEditable(e => {
            this.isEditing = !!this.remoteExplorerService.getEditableData(e?.tunnel, e?.editId);
            this._onDidChangeViewWelcomeState.fire();
            if (!this.isEditing) {
                widgetContainer.classList.remove('highlight');
            }
            rerender();
            if (this.isEditing) {
                widgetContainer.classList.add('highlight');
                if (!e) {
                    this.table?.reveal(this.table.indexOf(this.viewModel.input));
                }
            }
            else {
                if (e && (e.tunnel.tunnelType !== _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelType.Add)) {
                    this.table?.setFocus(this.lastFocus);
                }
                this.focus();
            }
        }));
    }
    renderBody(container) {
        super.renderBody(container);
        this.panelContainer = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.append)(container, (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_3__.$)('.tree-explorer-viewlet-tree-view'));
        this.createTable();
    }
    shouldShowWelcome() {
        return this.viewModel.isEmpty() && !this.isEditing;
    }
    focus() {
        super.focus();
        this.table?.domFocus();
    }
    onFocusChanged(event) {
        if (event.indexes.length > 0 && event.elements.length > 0) {
            this.lastFocus = [...event.indexes];
        }
        const elements = event.elements;
        const item = elements && elements.length ? elements[0] : undefined;
        if (item) {
            this.tunnelViewSelectionContext.set((0,_services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_63__.makeAddress)(item.remoteHost, item.remotePort));
            this.tunnelTypeContext.set(item.tunnelType);
            this.tunnelCloseableContext.set(!!item.closeable);
            this.tunnelPrivacyContext.set(item.privacy.id);
            this.tunnelProtocolContext.set(item.protocol === _platform_tunnel_common_tunnel_js__WEBPACK_IMPORTED_MODULE_36__.TunnelProtocol.Https ? _platform_tunnel_common_tunnel_js__WEBPACK_IMPORTED_MODULE_36__.TunnelProtocol.Https : _platform_tunnel_common_tunnel_js__WEBPACK_IMPORTED_MODULE_36__.TunnelProtocol.Https);
            this.portChangableContextKey.set(!!item.localPort);
        }
        else {
            this.tunnelTypeContext.reset();
            this.tunnelViewSelectionContext.reset();
            this.tunnelCloseableContext.reset();
            this.tunnelPrivacyContext.reset();
            this.tunnelProtocolContext.reset();
            this.portChangableContextKey.reset();
        }
    }
    hasOpenLinkModifier(e) {
        const editorConf = this.configurationService.getValue('editor');
        let modifierKey = false;
        if (editorConf.multiCursorModifier === 'ctrlCmd') {
            modifierKey = e.altKey;
        }
        else {
            if (_base_common_platform_js__WEBPACK_IMPORTED_MODULE_45__.isMacintosh) {
                modifierKey = e.metaKey;
            }
            else {
                modifierKey = e.ctrlKey;
            }
        }
        return modifierKey;
    }
    onSelectionChanged(event) {
        const elements = event.elements;
        if (elements.length > 1) {
            this.tunnelViewMultiSelectionContext.set(( (elements.map(element => (0,_services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_63__.makeAddress)(element.remoteHost, element.remotePort)))));
        }
        else {
            this.tunnelViewMultiSelectionContext.set(undefined);
        }
    }
    onContextMenu(event, actionRunner) {
        if ((event.element !== undefined) && !(event.element instanceof TunnelItem)) {
            return;
        }
        event.browserEvent.preventDefault();
        event.browserEvent.stopPropagation();
        const node = event.element;
        if (node) {
            this.table?.setFocus([this.table.indexOf(node)]);
            this.tunnelTypeContext.set(node.tunnelType);
            this.tunnelCloseableContext.set(!!node.closeable);
            this.tunnelPrivacyContext.set(node.privacy.id);
            this.tunnelProtocolContext.set(node.protocol);
            this.portChangableContextKey.set(!!node.localPort);
        }
        else {
            this.tunnelTypeContext.set(_services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelType.Add);
            this.tunnelCloseableContext.set(false);
            this.tunnelPrivacyContext.set(undefined);
            this.tunnelProtocolContext.set(undefined);
            this.portChangableContextKey.set(false);
        }
        this.contextMenuService.showContextMenu({
            menuId: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuId.TunnelContext,
            menuActionOptions: { shouldForwardArgs: true },
            contextKeyService: this.table?.contextKeyService,
            getAnchor: () => event.anchor,
            getActionViewItem: (action) => {
                const keybinding = this.keybindingService.lookupKeybinding(action.id);
                if (keybinding) {
                    return (
                         (new _base_browser_ui_actionbar_actionViewItems_js__WEBPACK_IMPORTED_MODULE_41__.ActionViewItem(action, action, { label: true, keybinding: keybinding.getLabel() }))
                    );
                }
                return undefined;
            },
            onHide: (wasCancelled) => {
                if (wasCancelled) {
                    this.table?.domFocus();
                }
            },
            getActionsContext: () => node?.strip(),
            actionRunner
        });
    }
    onMouseDblClick(e) {
        if (!e.element) {
            this.commandService.executeCommand(ForwardPortAction.INLINE_ID);
        }
    }
    layoutBody(height, width) {
        this.height = height;
        this.width = width;
        super.layoutBody(height, width);
        this.table?.layout(height, width);
    }
};
TunnelPanel = TunnelPanel_1 = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_keybinding_common_keybinding_service_js__WEBPACK_IMPORTED_MODULE_6__.IKeybindingService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _platform_contextview_browser_contextView_service_js__WEBPACK_IMPORTED_MODULE_7__.IContextMenuService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_9__.IContextKeyService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_10__.IConfigurationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_11__.IInstantiationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, _common_views_service_js__WEBPACK_IMPORTED_MODULE_4__.IViewDescriptorService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, _platform_opener_common_opener_service_js__WEBPACK_IMPORTED_MODULE_12__.IOpenerService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, _platform_quickinput_common_quickInput_service_js__WEBPACK_IMPORTED_MODULE_13__.IQuickInputService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, _platform_commands_common_commands_service_js__WEBPACK_IMPORTED_MODULE_15__.ICommandService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(11, _platform_actions_common_actions_service_js__WEBPACK_IMPORTED_MODULE_23__.IMenuService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(12, _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_32__.IThemeService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(13, _services_remote_common_remoteExplorerService_service_js__WEBPACK_IMPORTED_MODULE_26__.IRemoteExplorerService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(14, _platform_telemetry_common_telemetry_service_js__WEBPACK_IMPORTED_MODULE_40__.ITelemetryService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(15, _platform_hover_browser_hover_service_js__WEBPACK_IMPORTED_MODULE_65__.IHoverService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(16, _platform_tunnel_common_tunnel_service_js__WEBPACK_IMPORTED_MODULE_37__.ITunnelService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(17, _platform_contextview_browser_contextView_service_js__WEBPACK_IMPORTED_MODULE_7__.IContextViewService)))
], TunnelPanel)));
class TunnelPanelDescriptor {
    constructor(viewModel, environmentService) {
        this.id = TunnelPanel.ID;
        this.name = TunnelPanel.TITLE;
        this.canToggleVisibility = true;
        this.hideByDefault = false;
        this.group = 'details@0';
        this.order = -500;
        this.canMoveView = true;
        this.containerIcon = _remoteIcons_js__WEBPACK_IMPORTED_MODULE_42__.portsViewIcon;
        this.ctorDescriptor = ( (new _platform_instantiation_common_descriptors_js__WEBPACK_IMPORTED_MODULE_38__.SyncDescriptor(TunnelPanel, [viewModel])));
        this.remoteAuthority = environmentService.remoteAuthority ? environmentService.remoteAuthority.split('+')[0] : undefined;
    }
}
function isITunnelItem(item) {
    return item && item.tunnelType && item.remoteHost && item.source;
}
var LabelTunnelAction;
( ((function(LabelTunnelAction) {
    LabelTunnelAction.ID = 'remote.tunnel.label';
    LabelTunnelAction.LABEL = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11032, "Set Port Label"));
    LabelTunnelAction.COMMAND_ID_KEYWORD = 'label';
    function handler() {
        return async (accessor, arg) => {
            const remoteExplorerService = accessor.get(_services_remote_common_remoteExplorerService_service_js__WEBPACK_IMPORTED_MODULE_26__.IRemoteExplorerService);
            let tunnelContext;
            if (isITunnelItem(arg)) {
                tunnelContext = arg;
            }
            else {
                const context = accessor.get(_platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_9__.IContextKeyService).getContextKeyValue(TunnelViewSelectionKeyName);
                const tunnel = context ? remoteExplorerService.tunnelModel.forwarded.get(context) : undefined;
                if (tunnel) {
                    const tunnelService = accessor.get(_platform_tunnel_common_tunnel_service_js__WEBPACK_IMPORTED_MODULE_37__.ITunnelService);
                    tunnelContext = TunnelItem.createFromTunnel(remoteExplorerService, tunnelService, tunnel);
                }
            }
            if (tunnelContext) {
                const tunnelItem = tunnelContext;
                return (
                     (new Promise(resolve => {
                        const startingValue = tunnelItem.name ? tunnelItem.name : `${tunnelItem.remotePort}`;
                        remoteExplorerService.setEditable(tunnelItem, _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelEditId.Label, {
                            onFinish: async (value, success) => {
                                value = value.trim();
                                remoteExplorerService.setEditable(tunnelItem, _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelEditId.Label, null);
                                const changed = success && (value !== startingValue);
                                if (changed) {
                                    await remoteExplorerService.tunnelModel.name(tunnelItem.remoteHost, tunnelItem.remotePort, value);
                                }
                                resolve(changed ? { port: tunnelItem.remotePort, label: value } : undefined);
                            },
                            validationMessage: () => null,
                            placeholder: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11033, "Port label")),
                            startingValue
                        });
                    }))
                );
            }
            return undefined;
        };
    }
    LabelTunnelAction.handler = handler;
})(LabelTunnelAction || (LabelTunnelAction = {}))));
const invalidPortString = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11034, "Forwarded port should be a number or a host:port."));
const maxPortNumber = 65536;
const invalidPortNumberString = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11035, "Port number must be \u2265 0 and < {0}.", maxPortNumber));
const requiresSudoString = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11036, "May Require Sudo"));
const alreadyForwarded = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11037, "Port is already forwarded"));
var ForwardPortAction;
( ((function(ForwardPortAction) {
    ForwardPortAction.INLINE_ID = 'remote.tunnel.forwardInline';
    ForwardPortAction.COMMANDPALETTE_ID = 'remote.tunnel.forwardCommandPalette';
    ForwardPortAction.LABEL = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize2)(11038, "Forward a Port"));
    ForwardPortAction.TREEITEM_LABEL = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11039, "Forward Port"));
    const forwardPrompt = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11040, "Port number or address (eg. 3000 or 10.10.10.10:2000)."));
    function validateInput(remoteExplorerService, tunnelService, value, canElevate) {
        const parsed = (0,_services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_63__.parseAddress)(value);
        if (!parsed) {
            return { content: invalidPortString, severity: _base_common_severity_js__WEBPACK_IMPORTED_MODULE_66__["default"].Error };
        }
        else if (parsed.port >= maxPortNumber) {
            return { content: invalidPortNumberString, severity: _base_common_severity_js__WEBPACK_IMPORTED_MODULE_66__["default"].Error };
        }
        else if (canElevate && tunnelService.isPortPrivileged(parsed.port)) {
            return { content: requiresSudoString, severity: _base_common_severity_js__WEBPACK_IMPORTED_MODULE_66__["default"].Info };
        }
        else if ((0,_services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_63__.mapHasAddressLocalhostOrAllInterfaces)(remoteExplorerService.tunnelModel.forwarded, parsed.host, parsed.port)) {
            return { content: alreadyForwarded, severity: _base_common_severity_js__WEBPACK_IMPORTED_MODULE_66__["default"].Error };
        }
        return null;
    }
    function error(notificationService, tunnelOrError, host, port) {
        if (!tunnelOrError) {
            notificationService.warn(( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(
                11041,
                "Unable to forward {0}:{1}. The host may not be available or that remote port may already be forwarded",
                host,
                port
            )));
        }
        else if (typeof tunnelOrError === 'string') {
            notificationService.warn(( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11042, "Unable to forward {0}:{1}. {2}", host, port, tunnelOrError)));
        }
    }
    function inlineHandler() {
        return async (accessor, arg) => {
            const remoteExplorerService = accessor.get(_services_remote_common_remoteExplorerService_service_js__WEBPACK_IMPORTED_MODULE_26__.IRemoteExplorerService);
            const notificationService = accessor.get(_platform_notification_common_notification_service_js__WEBPACK_IMPORTED_MODULE_29__.INotificationService);
            const tunnelService = accessor.get(_platform_tunnel_common_tunnel_service_js__WEBPACK_IMPORTED_MODULE_37__.ITunnelService);
            remoteExplorerService.setEditable(undefined, _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelEditId.New, {
                onFinish: async (value, success) => {
                    remoteExplorerService.setEditable(undefined, _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelEditId.New, null);
                    let parsed;
                    if (success && (parsed = (0,_services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_63__.parseAddress)(value))) {
                        remoteExplorerService.forward({
                            remote: { host: parsed.host, port: parsed.port },
                            elevateIfNeeded: true
                        }).then(tunnelOrError => error(notificationService, tunnelOrError, parsed.host, parsed.port));
                    }
                },
                validationMessage: (value) => validateInput(remoteExplorerService, tunnelService, value, tunnelService.canElevate),
                placeholder: forwardPrompt
            });
        };
    }
    ForwardPortAction.inlineHandler = inlineHandler;
    function commandPaletteHandler() {
        return async (accessor, arg) => {
            const remoteExplorerService = accessor.get(_services_remote_common_remoteExplorerService_service_js__WEBPACK_IMPORTED_MODULE_26__.IRemoteExplorerService);
            const notificationService = accessor.get(_platform_notification_common_notification_service_js__WEBPACK_IMPORTED_MODULE_29__.INotificationService);
            const viewsService = accessor.get(_services_views_common_viewsService_service_js__WEBPACK_IMPORTED_MODULE_5__.IViewsService);
            const quickInputService = accessor.get(_platform_quickinput_common_quickInput_service_js__WEBPACK_IMPORTED_MODULE_13__.IQuickInputService);
            const tunnelService = accessor.get(_platform_tunnel_common_tunnel_service_js__WEBPACK_IMPORTED_MODULE_37__.ITunnelService);
            await viewsService.openView(TunnelPanel.ID, true);
            const value = await quickInputService.input({
                prompt: forwardPrompt,
                validateInput: (value) => Promise.resolve(validateInput(remoteExplorerService, tunnelService, value, tunnelService.canElevate))
            });
            let parsed;
            if (value && (parsed = (0,_services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_63__.parseAddress)(value))) {
                remoteExplorerService.forward({
                    remote: { host: parsed.host, port: parsed.port },
                    elevateIfNeeded: true
                }).then(tunnel => error(notificationService, tunnel, parsed.host, parsed.port));
            }
        };
    }
    ForwardPortAction.commandPaletteHandler = commandPaletteHandler;
})(ForwardPortAction || (ForwardPortAction = {}))));
function makeTunnelPicks(tunnels, remoteExplorerService, tunnelService) {
    const picks = ( (tunnels.map(forwarded => {
        const item = TunnelItem.createFromTunnel(remoteExplorerService, tunnelService, forwarded);
        return {
            label: item.label,
            description: item.processDescription,
            tunnel: item
        };
    })));
    if (picks.length === 0) {
        picks.push({
            label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(
                11043,
                "No ports currently forwarded. Try running the {0} command",
                ForwardPortAction.LABEL.value
            ))
        });
    }
    return picks;
}
var ClosePortAction;
( ((function(ClosePortAction) {
    ClosePortAction.INLINE_ID = 'remote.tunnel.closeInline';
    ClosePortAction.COMMANDPALETTE_ID = 'remote.tunnel.closeCommandPalette';
    ClosePortAction.LABEL = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize2)(11044, "Stop Forwarding Port"));
    function inlineHandler() {
        return async (accessor, arg) => {
            const contextKeyService = accessor.get(_platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_9__.IContextKeyService);
            const remoteExplorerService = accessor.get(_services_remote_common_remoteExplorerService_service_js__WEBPACK_IMPORTED_MODULE_26__.IRemoteExplorerService);
            let ports = [];
            const multiSelectContext = contextKeyService.getContextKeyValue(TunnelViewMultiSelectionKeyName);
            if (multiSelectContext) {
                multiSelectContext.forEach(context => {
                    const tunnel = remoteExplorerService.tunnelModel.forwarded.get(context);
                    if (tunnel) {
                        ports?.push(tunnel);
                    }
                });
            }
            else if (isITunnelItem(arg)) {
                ports = [arg];
            }
            else {
                const context = contextKeyService.getContextKeyValue(TunnelViewSelectionKeyName);
                const tunnel = context ? remoteExplorerService.tunnelModel.forwarded.get(context) : undefined;
                if (tunnel) {
                    ports = [tunnel];
                }
            }
            if (!ports || ports.length === 0) {
                return;
            }
            return Promise.all(( (ports.map(
                port => remoteExplorerService.close({ host: port.remoteHost, port: port.remotePort }, _services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_63__.TunnelCloseReason.User)
            ))));
        };
    }
    ClosePortAction.inlineHandler = inlineHandler;
    function commandPaletteHandler() {
        return async (accessor) => {
            const quickInputService = accessor.get(_platform_quickinput_common_quickInput_service_js__WEBPACK_IMPORTED_MODULE_13__.IQuickInputService);
            const remoteExplorerService = accessor.get(_services_remote_common_remoteExplorerService_service_js__WEBPACK_IMPORTED_MODULE_26__.IRemoteExplorerService);
            const tunnelService = accessor.get(_platform_tunnel_common_tunnel_service_js__WEBPACK_IMPORTED_MODULE_37__.ITunnelService);
            const commandService = accessor.get(_platform_commands_common_commands_service_js__WEBPACK_IMPORTED_MODULE_15__.ICommandService);
            const picks = makeTunnelPicks(Array.from(( (remoteExplorerService.tunnelModel.forwarded.values()))).filter(tunnel => tunnel.closeable), remoteExplorerService, tunnelService);
            const result = await quickInputService.pick(picks, { placeHolder: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11045, "Choose a port to stop forwarding")) });
            if (result && result.tunnel) {
                await remoteExplorerService.close({ host: result.tunnel.remoteHost, port: result.tunnel.remotePort }, _services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_63__.TunnelCloseReason.User);
            }
            else if (result) {
                await commandService.executeCommand(ForwardPortAction.COMMANDPALETTE_ID);
            }
        };
    }
    ClosePortAction.commandPaletteHandler = commandPaletteHandler;
})(ClosePortAction || (ClosePortAction = {}))));
var OpenPortInBrowserAction;
( ((function(OpenPortInBrowserAction) {
    OpenPortInBrowserAction.ID = 'remote.tunnel.open';
    OpenPortInBrowserAction.LABEL = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11046, "Open in Browser"));
    function handler() {
        return async (accessor, arg) => {
            let key;
            if (isITunnelItem(arg)) {
                key = (0,_services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_63__.makeAddress)(arg.remoteHost, arg.remotePort);
            }
            else if (arg.tunnelRemoteHost && arg.tunnelRemotePort) {
                key = (0,_services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_63__.makeAddress)(arg.tunnelRemoteHost, arg.tunnelRemotePort);
            }
            if (key) {
                const model = accessor.get(_services_remote_common_remoteExplorerService_service_js__WEBPACK_IMPORTED_MODULE_26__.IRemoteExplorerService).tunnelModel;
                const openerService = accessor.get(_platform_opener_common_opener_service_js__WEBPACK_IMPORTED_MODULE_12__.IOpenerService);
                return run(model, openerService, key);
            }
        };
    }
    OpenPortInBrowserAction.handler = handler;
    function run(model, openerService, key) {
        const tunnel = model.forwarded.get(key) || model.detected.get(key);
        if (tunnel) {
            return openerService.open(tunnel.localUri, { allowContributedOpeners: false });
        }
        return Promise.resolve();
    }
    OpenPortInBrowserAction.run = run;
})(OpenPortInBrowserAction || (OpenPortInBrowserAction = {}))));
var OpenPortInPreviewAction;
( ((function(OpenPortInPreviewAction) {
    OpenPortInPreviewAction.ID = 'remote.tunnel.openPreview';
    OpenPortInPreviewAction.LABEL = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11047, "Preview in Editor"));
    function handler() {
        return async (accessor, arg) => {
            let key;
            if (isITunnelItem(arg)) {
                key = (0,_services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_63__.makeAddress)(arg.remoteHost, arg.remotePort);
            }
            else if (arg.tunnelRemoteHost && arg.tunnelRemotePort) {
                key = (0,_services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_63__.makeAddress)(arg.tunnelRemoteHost, arg.tunnelRemotePort);
            }
            if (key) {
                const model = accessor.get(_services_remote_common_remoteExplorerService_service_js__WEBPACK_IMPORTED_MODULE_26__.IRemoteExplorerService).tunnelModel;
                const openerService = accessor.get(_platform_opener_common_opener_service_js__WEBPACK_IMPORTED_MODULE_12__.IOpenerService);
                const externalOpenerService = accessor.get(_externalUriOpener_common_externalUriOpenerService_service_js__WEBPACK_IMPORTED_MODULE_43__.IExternalUriOpenerService);
                return run(model, openerService, externalOpenerService, key);
            }
        };
    }
    OpenPortInPreviewAction.handler = handler;
    async function run(model, openerService, externalOpenerService, key) {
        const tunnel = model.forwarded.get(key) || model.detected.get(key);
        if (tunnel) {
            const remoteHost = tunnel.remoteHost.includes(':') ? `[${tunnel.remoteHost}]` : tunnel.remoteHost;
            const sourceUri = ( (_base_common_uri_js__WEBPACK_IMPORTED_MODULE_35__.URI.parse(`http://${remoteHost}:${tunnel.remotePort}`)));
            const opener = await externalOpenerService.getOpener(tunnel.localUri, { sourceUri }, _base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_44__.CancellationToken.None);
            if (opener) {
                return opener.openExternalUri(tunnel.localUri, { sourceUri }, _base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_44__.CancellationToken.None);
            }
            return openerService.open(tunnel.localUri);
        }
        return Promise.resolve();
    }
    OpenPortInPreviewAction.run = run;
})(OpenPortInPreviewAction || (OpenPortInPreviewAction = {}))));
var OpenPortInBrowserCommandPaletteAction;
( ((function(OpenPortInBrowserCommandPaletteAction) {
    OpenPortInBrowserCommandPaletteAction.ID = 'remote.tunnel.openCommandPalette';
    OpenPortInBrowserCommandPaletteAction.LABEL = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11048, "Open Port in Browser"));
    function handler() {
        return async (accessor, arg) => {
            const remoteExplorerService = accessor.get(_services_remote_common_remoteExplorerService_service_js__WEBPACK_IMPORTED_MODULE_26__.IRemoteExplorerService);
            const tunnelService = accessor.get(_platform_tunnel_common_tunnel_service_js__WEBPACK_IMPORTED_MODULE_37__.ITunnelService);
            const model = remoteExplorerService.tunnelModel;
            const quickPickService = accessor.get(_platform_quickinput_common_quickInput_service_js__WEBPACK_IMPORTED_MODULE_13__.IQuickInputService);
            const openerService = accessor.get(_platform_opener_common_opener_service_js__WEBPACK_IMPORTED_MODULE_12__.IOpenerService);
            const commandService = accessor.get(_platform_commands_common_commands_service_js__WEBPACK_IMPORTED_MODULE_15__.ICommandService);
            const options = ( ([...model.forwarded, ...model.detected].map(value => {
                const tunnelItem = TunnelItem.createFromTunnel(remoteExplorerService, tunnelService, value[1]);
                return {
                    label: tunnelItem.label,
                    description: tunnelItem.processDescription,
                    tunnel: tunnelItem
                };
            })));
            if (options.length === 0) {
                options.push({
                    label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11049, "No ports currently forwarded. Open the Ports view to get started."))
                });
            }
            else {
                options.push({
                    label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11050, "Open the Ports view..."))
                });
            }
            const picked = await quickPickService.pick(options, { placeHolder: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11051, "Choose the port to open")) });
            if (picked && picked.tunnel) {
                return OpenPortInBrowserAction.run(model, openerService, (0,_services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_63__.makeAddress)(picked.tunnel.remoteHost, picked.tunnel.remotePort));
            }
            else if (picked) {
                return commandService.executeCommand(`${_services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TUNNEL_VIEW_ID}.focus`);
            }
        };
    }
    OpenPortInBrowserCommandPaletteAction.handler = handler;
})(
    OpenPortInBrowserCommandPaletteAction || (OpenPortInBrowserCommandPaletteAction = {})
)));
var CopyAddressAction;
( ((function(CopyAddressAction) {
    CopyAddressAction.INLINE_ID = 'remote.tunnel.copyAddressInline';
    CopyAddressAction.COMMANDPALETTE_ID = 'remote.tunnel.copyAddressCommandPalette';
    CopyAddressAction.INLINE_LABEL = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11052, "Copy Local Address"));
    CopyAddressAction.COMMANDPALETTE_LABEL = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11053, "Copy Forwarded Port Address"));
    async function copyAddress(remoteExplorerService, clipboardService, tunnelItem) {
        const address = remoteExplorerService.tunnelModel.address(tunnelItem.remoteHost, tunnelItem.remotePort);
        if (address) {
            await clipboardService.writeText(( (address.toString())));
        }
    }
    function inlineHandler() {
        return async (accessor, arg) => {
            const remoteExplorerService = accessor.get(_services_remote_common_remoteExplorerService_service_js__WEBPACK_IMPORTED_MODULE_26__.IRemoteExplorerService);
            let tunnelItem;
            if (isITunnelItem(arg)) {
                tunnelItem = arg;
            }
            else {
                const context = accessor.get(_platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_9__.IContextKeyService).getContextKeyValue(TunnelViewSelectionKeyName);
                tunnelItem = context ? remoteExplorerService.tunnelModel.forwarded.get(context) : undefined;
            }
            if (tunnelItem) {
                return copyAddress(remoteExplorerService, accessor.get(_platform_clipboard_common_clipboardService_service_js__WEBPACK_IMPORTED_MODULE_27__.IClipboardService), tunnelItem);
            }
        };
    }
    CopyAddressAction.inlineHandler = inlineHandler;
    function commandPaletteHandler() {
        return async (accessor, arg) => {
            const quickInputService = accessor.get(_platform_quickinput_common_quickInput_service_js__WEBPACK_IMPORTED_MODULE_13__.IQuickInputService);
            const remoteExplorerService = accessor.get(_services_remote_common_remoteExplorerService_service_js__WEBPACK_IMPORTED_MODULE_26__.IRemoteExplorerService);
            const tunnelService = accessor.get(_platform_tunnel_common_tunnel_service_js__WEBPACK_IMPORTED_MODULE_37__.ITunnelService);
            const commandService = accessor.get(_platform_commands_common_commands_service_js__WEBPACK_IMPORTED_MODULE_15__.ICommandService);
            const clipboardService = accessor.get(_platform_clipboard_common_clipboardService_service_js__WEBPACK_IMPORTED_MODULE_27__.IClipboardService);
            const tunnels = Array.from(( (remoteExplorerService.tunnelModel.forwarded.values()))).concat(Array.from(( (remoteExplorerService.tunnelModel.detected.values()))));
            const result = await quickInputService.pick(makeTunnelPicks(tunnels, remoteExplorerService, tunnelService), { placeHolder: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11054, "Choose a forwarded port")) });
            if (result && result.tunnel) {
                await copyAddress(remoteExplorerService, clipboardService, result.tunnel);
            }
            else if (result) {
                await commandService.executeCommand(ForwardPortAction.COMMANDPALETTE_ID);
            }
        };
    }
    CopyAddressAction.commandPaletteHandler = commandPaletteHandler;
})(CopyAddressAction || (CopyAddressAction = {}))));
var ChangeLocalPortAction;
( ((function(ChangeLocalPortAction) {
    ChangeLocalPortAction.ID = 'remote.tunnel.changeLocalPort';
    ChangeLocalPortAction.LABEL = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11055, "Change Local Address Port"));
    function validateInput(tunnelService, value, canElevate) {
        if (!value.match(/^[0-9]+$/)) {
            return { content: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11056, "Local port should be a number.")), severity: _base_common_severity_js__WEBPACK_IMPORTED_MODULE_66__["default"].Error };
        }
        else if (Number(value) >= maxPortNumber) {
            return { content: invalidPortNumberString, severity: _base_common_severity_js__WEBPACK_IMPORTED_MODULE_66__["default"].Error };
        }
        else if (canElevate && tunnelService.isPortPrivileged(Number(value))) {
            return { content: requiresSudoString, severity: _base_common_severity_js__WEBPACK_IMPORTED_MODULE_66__["default"].Info };
        }
        return null;
    }
    function handler() {
        return async (accessor, arg) => {
            const remoteExplorerService = accessor.get(_services_remote_common_remoteExplorerService_service_js__WEBPACK_IMPORTED_MODULE_26__.IRemoteExplorerService);
            const notificationService = accessor.get(_platform_notification_common_notification_service_js__WEBPACK_IMPORTED_MODULE_29__.INotificationService);
            const tunnelService = accessor.get(_platform_tunnel_common_tunnel_service_js__WEBPACK_IMPORTED_MODULE_37__.ITunnelService);
            let tunnelContext;
            if (isITunnelItem(arg)) {
                tunnelContext = arg;
            }
            else {
                const context = accessor.get(_platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_9__.IContextKeyService).getContextKeyValue(TunnelViewSelectionKeyName);
                const tunnel = context ? remoteExplorerService.tunnelModel.forwarded.get(context) : undefined;
                if (tunnel) {
                    const tunnelService = accessor.get(_platform_tunnel_common_tunnel_service_js__WEBPACK_IMPORTED_MODULE_37__.ITunnelService);
                    tunnelContext = TunnelItem.createFromTunnel(remoteExplorerService, tunnelService, tunnel);
                }
            }
            if (tunnelContext) {
                const tunnelItem = tunnelContext;
                remoteExplorerService.setEditable(tunnelItem, _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelEditId.LocalPort, {
                    onFinish: async (value, success) => {
                        remoteExplorerService.setEditable(tunnelItem, _services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelEditId.LocalPort, null);
                        if (success) {
                            await remoteExplorerService.close({ host: tunnelItem.remoteHost, port: tunnelItem.remotePort }, _services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_63__.TunnelCloseReason.Other);
                            const numberValue = Number(value);
                            const newForward = await remoteExplorerService.forward({
                                remote: { host: tunnelItem.remoteHost, port: tunnelItem.remotePort },
                                local: numberValue,
                                name: tunnelItem.name,
                                elevateIfNeeded: true,
                                source: tunnelItem.source
                            });
                            if (newForward && (typeof newForward !== 'string') && newForward.tunnelLocalPort !== numberValue) {
                                notificationService.warn(( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(
                                    11057,
                                    "The local port {0} is not available. Port number {1} has been used instead",
                                    value,
                                    newForward.tunnelLocalPort ?? newForward.localAddress
                                )));
                            }
                        }
                    },
                    validationMessage: (value) => validateInput(tunnelService, value, tunnelService.canElevate),
                    placeholder: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11058, "New local port"))
                });
            }
        };
    }
    ChangeLocalPortAction.handler = handler;
})(ChangeLocalPortAction || (ChangeLocalPortAction = {}))));
var ChangeTunnelPrivacyAction;
( ((function(ChangeTunnelPrivacyAction) {
    function handler(privacyId) {
        return async (accessor, arg) => {
            if (isITunnelItem(arg)) {
                const remoteExplorerService = accessor.get(_services_remote_common_remoteExplorerService_service_js__WEBPACK_IMPORTED_MODULE_26__.IRemoteExplorerService);
                await remoteExplorerService.close({ host: arg.remoteHost, port: arg.remotePort }, _services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_63__.TunnelCloseReason.Other);
                return remoteExplorerService.forward({
                    remote: { host: arg.remoteHost, port: arg.remotePort },
                    local: arg.localPort,
                    name: arg.name,
                    elevateIfNeeded: true,
                    privacy: privacyId,
                    source: arg.source
                });
            }
            return undefined;
        };
    }
    ChangeTunnelPrivacyAction.handler = handler;
})(ChangeTunnelPrivacyAction || (ChangeTunnelPrivacyAction = {}))));
var SetTunnelProtocolAction;
( ((function(SetTunnelProtocolAction) {
    SetTunnelProtocolAction.ID_HTTP = 'remote.tunnel.setProtocolHttp';
    SetTunnelProtocolAction.ID_HTTPS = 'remote.tunnel.setProtocolHttps';
    SetTunnelProtocolAction.LABEL_HTTP = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11059, "HTTP"));
    SetTunnelProtocolAction.LABEL_HTTPS = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11060, "HTTPS"));
    async function handler(arg, protocol, remoteExplorerService, environmentService) {
        if (isITunnelItem(arg)) {
            const attributes = {
                protocol
            };
            const target = environmentService.remoteAuthority ? 4  : 3 ;
            return remoteExplorerService.tunnelModel.configPortsAttributes.addAttributes(arg.remotePort, attributes, target);
        }
    }
    function handlerHttp() {
        return async (accessor, arg) => {
            return handler(arg, _platform_tunnel_common_tunnel_js__WEBPACK_IMPORTED_MODULE_36__.TunnelProtocol.Http, accessor.get(_services_remote_common_remoteExplorerService_service_js__WEBPACK_IMPORTED_MODULE_26__.IRemoteExplorerService), accessor.get(_services_environment_common_environmentService_service_js__WEBPACK_IMPORTED_MODULE_17__.IWorkbenchEnvironmentService));
        };
    }
    SetTunnelProtocolAction.handlerHttp = handlerHttp;
    function handlerHttps() {
        return async (accessor, arg) => {
            return handler(arg, _platform_tunnel_common_tunnel_js__WEBPACK_IMPORTED_MODULE_36__.TunnelProtocol.Https, accessor.get(_services_remote_common_remoteExplorerService_service_js__WEBPACK_IMPORTED_MODULE_26__.IRemoteExplorerService), accessor.get(_services_environment_common_environmentService_service_js__WEBPACK_IMPORTED_MODULE_17__.IWorkbenchEnvironmentService));
        };
    }
    SetTunnelProtocolAction.handlerHttps = handlerHttps;
})(SetTunnelProtocolAction || (SetTunnelProtocolAction = {}))));
const tunnelViewCommandsWeightBonus = 10;
const isForwardedExpr = ( (TunnelTypeContextKey.isEqualTo(_services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelType.Forwarded)));
const isForwardedOrDetectedExpr = ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_8__.ContextKeyExpr.or(
    isForwardedExpr,
     (TunnelTypeContextKey.isEqualTo(_services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelType.Detected))
)));
const isNotMultiSelectionExpr = ( (TunnelViewMultiSelectionContextKey.isEqualTo(undefined)));
_platform_keybinding_common_keybindingsRegistry_js__WEBPACK_IMPORTED_MODULE_39__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: LabelTunnelAction.ID,
    weight: 200  + tunnelViewCommandsWeightBonus,
    when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_8__.ContextKeyExpr.and(TunnelViewFocusContextKey, isForwardedExpr, isNotMultiSelectionExpr))),
    primary: 60 ,
    mac: {
        primary: 3
    },
    handler: LabelTunnelAction.handler()
});
_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_14__.CommandsRegistry.registerCommand(ForwardPortAction.INLINE_ID, ForwardPortAction.inlineHandler());
_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_14__.CommandsRegistry.registerCommand(ForwardPortAction.COMMANDPALETTE_ID, ForwardPortAction.commandPaletteHandler());
_platform_keybinding_common_keybindingsRegistry_js__WEBPACK_IMPORTED_MODULE_39__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: ClosePortAction.INLINE_ID,
    weight: 200  + tunnelViewCommandsWeightBonus,
    when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_8__.ContextKeyExpr.and(TunnelCloseableContextKey, TunnelViewFocusContextKey))),
    primary: 20 ,
    mac: {
        primary: 2048  | 1 ,
        secondary: [20 ]
    },
    handler: ClosePortAction.inlineHandler()
});
_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_14__.CommandsRegistry.registerCommand(ClosePortAction.COMMANDPALETTE_ID, ClosePortAction.commandPaletteHandler());
_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_14__.CommandsRegistry.registerCommand(OpenPortInBrowserAction.ID, OpenPortInBrowserAction.handler());
_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_14__.CommandsRegistry.registerCommand(OpenPortInPreviewAction.ID, OpenPortInPreviewAction.handler());
_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_14__.CommandsRegistry.registerCommand(OpenPortInBrowserCommandPaletteAction.ID, OpenPortInBrowserCommandPaletteAction.handler());
_platform_keybinding_common_keybindingsRegistry_js__WEBPACK_IMPORTED_MODULE_39__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: CopyAddressAction.INLINE_ID,
    weight: 200  + tunnelViewCommandsWeightBonus,
    when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_8__.ContextKeyExpr.and(
        TunnelViewFocusContextKey,
        isForwardedOrDetectedExpr,
        isNotMultiSelectionExpr
    ))),
    primary: 2048  | 33 ,
    handler: CopyAddressAction.inlineHandler()
});
_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_14__.CommandsRegistry.registerCommand(CopyAddressAction.COMMANDPALETTE_ID, CopyAddressAction.commandPaletteHandler());
_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_14__.CommandsRegistry.registerCommand(ChangeLocalPortAction.ID, ChangeLocalPortAction.handler());
_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_14__.CommandsRegistry.registerCommand(SetTunnelProtocolAction.ID_HTTP, SetTunnelProtocolAction.handlerHttp());
_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_14__.CommandsRegistry.registerCommand(SetTunnelProtocolAction.ID_HTTPS, SetTunnelProtocolAction.handlerHttps());
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuId.CommandPalette, ({
    command: {
        id: ClosePortAction.COMMANDPALETTE_ID,
        title: ClosePortAction.LABEL
    },
    when: _services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_63__.forwardedPortsViewEnabled
}));
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuId.CommandPalette, ({
    command: {
        id: ForwardPortAction.COMMANDPALETTE_ID,
        title: ForwardPortAction.LABEL
    },
    when: _services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_63__.forwardedPortsViewEnabled
}));
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuId.CommandPalette, ({
    command: {
        id: CopyAddressAction.COMMANDPALETTE_ID,
        title: CopyAddressAction.COMMANDPALETTE_LABEL
    },
    when: _services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_63__.forwardedPortsViewEnabled
}));
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuId.CommandPalette, ({
    command: {
        id: OpenPortInBrowserCommandPaletteAction.ID,
        title: OpenPortInBrowserCommandPaletteAction.LABEL
    },
    when: _services_remote_common_tunnelModel_js__WEBPACK_IMPORTED_MODULE_63__.forwardedPortsViewEnabled
}));
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuId.TunnelContext, ({
    group: '._open',
    order: 0,
    command: {
        id: OpenPortInBrowserAction.ID,
        title: OpenPortInBrowserAction.LABEL,
    },
    when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_8__.ContextKeyExpr.and(isForwardedOrDetectedExpr, isNotMultiSelectionExpr)))
}));
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuId.TunnelContext, ({
    group: '._open',
    order: 1,
    command: {
        id: OpenPortInPreviewAction.ID,
        title: OpenPortInPreviewAction.LABEL,
    },
    when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_8__.ContextKeyExpr.and(isForwardedOrDetectedExpr, isNotMultiSelectionExpr)))
}));
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuId.TunnelContext, ({
    group: '0_manage',
    order: 1,
    command: {
        id: LabelTunnelAction.ID,
        title: LabelTunnelAction.LABEL,
        icon: _remoteIcons_js__WEBPACK_IMPORTED_MODULE_42__.labelPortIcon
    },
    when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_8__.ContextKeyExpr.and(isForwardedExpr, isNotMultiSelectionExpr)))
}));
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuId.TunnelContext, ({
    group: '2_localaddress',
    order: 0,
    command: {
        id: CopyAddressAction.INLINE_ID,
        title: CopyAddressAction.INLINE_LABEL,
    },
    when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_8__.ContextKeyExpr.and(isForwardedOrDetectedExpr, isNotMultiSelectionExpr)))
}));
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuId.TunnelContext, ({
    group: '2_localaddress',
    order: 1,
    command: {
        id: ChangeLocalPortAction.ID,
        title: ChangeLocalPortAction.LABEL,
    },
    when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_8__.ContextKeyExpr.and(isForwardedExpr, PortChangableContextKey, isNotMultiSelectionExpr)))
}));
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuId.TunnelContext, ({
    group: '2_localaddress',
    order: 2,
    submenu: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuId.TunnelPrivacy,
    title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11061, "Port Visibility")),
    when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_8__.ContextKeyExpr.and(isForwardedExpr, TunnelPrivacyEnabledContextKey)))
}));
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuId.TunnelContext, ({
    group: '2_localaddress',
    order: 3,
    submenu: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuId.TunnelProtocol,
    title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(11062, "Change Port Protocol")),
    when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_8__.ContextKeyExpr.and(isForwardedExpr, isNotMultiSelectionExpr, ProtocolChangeableContextKey)))
}));
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuId.TunnelContext, ({
    group: '3_forward',
    order: 0,
    command: {
        id: ClosePortAction.INLINE_ID,
        title: ClosePortAction.LABEL,
    },
    when: TunnelCloseableContextKey
}));
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuId.TunnelContext, ({
    group: '3_forward',
    order: 1,
    command: {
        id: ForwardPortAction.INLINE_ID,
        title: ForwardPortAction.LABEL,
    },
}));
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuId.TunnelProtocol, ({
    order: 0,
    command: {
        id: SetTunnelProtocolAction.ID_HTTP,
        title: SetTunnelProtocolAction.LABEL_HTTP,
        toggled: ( (TunnelProtocolContextKey.isEqualTo(_platform_tunnel_common_tunnel_js__WEBPACK_IMPORTED_MODULE_36__.TunnelProtocol.Http)))
    }
}));
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuId.TunnelProtocol, ({
    order: 1,
    command: {
        id: SetTunnelProtocolAction.ID_HTTPS,
        title: SetTunnelProtocolAction.LABEL_HTTPS,
        toggled: ( (TunnelProtocolContextKey.isEqualTo(_platform_tunnel_common_tunnel_js__WEBPACK_IMPORTED_MODULE_36__.TunnelProtocol.Https)))
    }
}));
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuId.TunnelPortInline, ({
    group: '0_manage',
    order: 0,
    command: {
        id: ForwardPortAction.INLINE_ID,
        title: ForwardPortAction.TREEITEM_LABEL,
        icon: _remoteIcons_js__WEBPACK_IMPORTED_MODULE_42__.forwardPortIcon
    },
    when: ( (TunnelTypeContextKey.isEqualTo(_services_remote_common_remoteExplorerService_js__WEBPACK_IMPORTED_MODULE_25__.TunnelType.Candidate)))
}));
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuId.TunnelPortInline, ({
    group: '0_manage',
    order: 4,
    command: {
        id: LabelTunnelAction.ID,
        title: LabelTunnelAction.LABEL,
        icon: _remoteIcons_js__WEBPACK_IMPORTED_MODULE_42__.labelPortIcon
    },
    when: isForwardedExpr
}));
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuId.TunnelPortInline, ({
    group: '0_manage',
    order: 5,
    command: {
        id: ClosePortAction.INLINE_ID,
        title: ClosePortAction.LABEL,
        icon: _remoteIcons_js__WEBPACK_IMPORTED_MODULE_42__.stopForwardIcon
    },
    when: TunnelCloseableContextKey
}));
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuId.TunnelLocalAddressInline, ({
    order: -1,
    command: {
        id: CopyAddressAction.INLINE_ID,
        title: CopyAddressAction.INLINE_LABEL,
        icon: _remoteIcons_js__WEBPACK_IMPORTED_MODULE_42__.copyAddressIcon
    },
    when: isForwardedOrDetectedExpr
}));
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuId.TunnelLocalAddressInline, ({
    order: 0,
    command: {
        id: OpenPortInBrowserAction.ID,
        title: OpenPortInBrowserAction.LABEL,
        icon: _remoteIcons_js__WEBPACK_IMPORTED_MODULE_42__.openBrowserIcon
    },
    when: isForwardedOrDetectedExpr
}));
_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_22__.MenuId.TunnelLocalAddressInline, ({
    order: 1,
    command: {
        id: OpenPortInPreviewAction.ID,
        title: OpenPortInPreviewAction.LABEL,
        icon: _remoteIcons_js__WEBPACK_IMPORTED_MODULE_42__.openPreviewIcon
    },
    when: isForwardedOrDetectedExpr
}));
(0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_48__.registerColor)('ports.iconRunningProcessForeground', _common_theme_js__WEBPACK_IMPORTED_MODULE_60__.STATUS_BAR_REMOTE_ITEM_BACKGROUND, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(
    11063,
    "The color of the icon for a port that has an associated running process."
)));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/contrib/remote/browser/urlFinder.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/contrib/remote/browser/urlFinder.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   UrlFinder: () => (/* binding */ UrlFinder)
/* harmony export */ });
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../base/common/event.js */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../base/common/strings.js */ "./node_modules/vscode/vscode/src/vs/base/common/strings.js");



class UrlFinder extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.Disposable {
    static { this.localUrlRegex = /\b\w{0,20}(?::\/\/)?(?:localhost|127\.0\.0\.1|0\.0\.0\.0|:\d{2,5})[\w\-\.\~:\/\?\#[\]\@!\$&\(\)\*\+\,\;\=]*/gim; }
    static { this.extractPortRegex = /(localhost|127\.0\.0\.1|0\.0\.0\.0):(\d{1,5})/; }
    static { this.localPythonServerRegex = /HTTP\son\s(127\.0\.0\.1|0\.0\.0\.0)\sport\s(\d+)/; }
    static { this.excludeTerminals = ['Dev Containers']; }
    constructor(terminalService, debugService) {
        super();
        this._onDidMatchLocalUrl = ( new _base_common_event_js__WEBPACK_IMPORTED_MODULE_0__.Emitter());
        this.onDidMatchLocalUrl = this._onDidMatchLocalUrl.event;
        this.listeners = ( new Map());
        this.replPositions = ( new Map());
        terminalService.instances.forEach(instance => {
            this.registerTerminalInstance(instance);
        });
        this._register(terminalService.onDidCreateInstance(instance => {
            this.registerTerminalInstance(instance);
        }));
        this._register(terminalService.onDidDisposeInstance(instance => {
            this.listeners.get(instance)?.dispose();
            this.listeners.delete(instance);
        }));
        this._register(debugService.onDidNewSession(session => {
            if (!session.parentSession || (session.parentSession && session.hasSeparateRepl())) {
                this.listeners.set(session.getId(), session.onDidChangeReplElements(() => {
                    this.processNewReplElements(session);
                }));
            }
        }));
        this._register(debugService.onDidEndSession(({ session }) => {
            if (( this.listeners.has(session.getId()))) {
                this.listeners.get(session.getId())?.dispose();
                this.listeners.delete(session.getId());
            }
        }));
    }
    registerTerminalInstance(instance) {
        if (!UrlFinder.excludeTerminals.includes(instance.title)) {
            this.listeners.set(instance, instance.onData(data => {
                this.processData(data);
            }));
        }
    }
    processNewReplElements(session) {
        const oldReplPosition = this.replPositions.get(session.getId());
        const replElements = session.getReplElements();
        this.replPositions.set(session.getId(), { position: replElements.length - 1, tail: replElements[replElements.length - 1] });
        if (!oldReplPosition && replElements.length > 0) {
            replElements.forEach(element => this.processData(( element.toString())));
        }
        else if (oldReplPosition && (replElements.length - 1 !== oldReplPosition.position)) {
            for (let i = replElements.length - 1; i >= 0; i--) {
                const element = replElements[i];
                if (element === oldReplPosition.tail) {
                    break;
                }
                else {
                    this.processData(( element.toString()));
                }
            }
        }
    }
    dispose() {
        super.dispose();
        const listeners = ( this.listeners.values());
        for (const listener of listeners) {
            listener.dispose();
        }
    }
    processData(data) {
        data = (0,_base_common_strings_js__WEBPACK_IMPORTED_MODULE_2__.removeAnsiEscapeCodes)(data);
        const urlMatches = data.match(UrlFinder.localUrlRegex) || [];
        if (urlMatches && urlMatches.length > 0) {
            urlMatches.forEach((match) => {
                let serverUrl;
                try {
                    serverUrl = ( new URL(match));
                }
                catch (e) {
                }
                if (serverUrl) {
                    const portMatch = match.match(UrlFinder.extractPortRegex);
                    const port = parseFloat(serverUrl.port ? serverUrl.port : (portMatch ? portMatch[2] : 'NaN'));
                    if (!isNaN(port) && Number.isInteger(port) && port > 0 && port <= 65535) {
                        let host = serverUrl.hostname;
                        if (host !== '0.0.0.0' && host !== '127.0.0.1') {
                            host = 'localhost';
                        }
                        if (port !== 9229 && data.startsWith('Debugger listening on')) {
                            return;
                        }
                        this._onDidMatchLocalUrl.fire({ port, host });
                    }
                }
            });
        }
        else {
            const pythonMatch = data.match(UrlFinder.localPythonServerRegex);
            if (pythonMatch && pythonMatch.length === 3) {
                this._onDidMatchLocalUrl.fire({ host: pythonMatch[1], port: Number(pythonMatch[2]) });
            }
        }
    }
}



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/contrib/scm/common/scm.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/contrib/scm/common/scm.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HISTORY_VIEW_PANE_ID: () => (/* binding */ HISTORY_VIEW_PANE_ID),
/* harmony export */   REPOSITORIES_VIEW_PANE_ID: () => (/* binding */ REPOSITORIES_VIEW_PANE_ID),
/* harmony export */   SCMInputChangeReason: () => (/* binding */ SCMInputChangeReason),
/* harmony export */   VIEWLET_ID: () => (/* binding */ VIEWLET_ID),
/* harmony export */   VIEW_PANE_ID: () => (/* binding */ VIEW_PANE_ID)
/* harmony export */ });
const VIEWLET_ID = 'workbench.view.scm';
const VIEW_PANE_ID = 'workbench.scm';
const REPOSITORIES_VIEW_PANE_ID = 'workbench.scm.repositories';
const HISTORY_VIEW_PANE_ID = 'workbench.scm.history';
var SCMInputChangeReason;
( (function(SCMInputChangeReason) {
    SCMInputChangeReason[SCMInputChangeReason["HistoryPrevious"] = 0] = "HistoryPrevious";
    SCMInputChangeReason[SCMInputChangeReason["HistoryNext"] = 1] = "HistoryNext";
})(SCMInputChangeReason || (SCMInputChangeReason = {})));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/contrib/webview/browser/webview.contribution.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/contrib/webview/browser/webview.contribution.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PreventDefaultContextMenuItemsContextKeyName: () => (/* binding */ PreventDefaultContextMenuItemsContextKeyName)
/* harmony export */ });
/* harmony import */ var _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../base/browser/dom.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var _editor_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../editor/browser/editorExtensions.js */ "./node_modules/vscode/vscode/src/vs/editor/browser/editorExtensions.js");
/* harmony import */ var _editor_contrib_clipboard_browser_clipboard_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../editor/contrib/clipboard/browser/clipboard.js */ "./node_modules/vscode/vscode/src/vs/editor/contrib/clipboard/browser/clipboard.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../platform/actions/common/actions.js */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../platform/contextkey/common/contextkey.js */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.js");
/* harmony import */ var _webview_service_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./webview.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/webview/browser/webview.service.js");
/* harmony import */ var _webviewPanel_browser_webviewEditorInput_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../webviewPanel/browser/webviewEditorInput.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/webviewPanel/browser/webviewEditorInput.js");
/* harmony import */ var _services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../services/editor/common/editorService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");









const PRIORITY = 100;
function overrideCommandForWebview(command, f) {
    command?.addImplementation(PRIORITY, 'webview', accessor => {
        const webviewService = accessor.get(_webview_service_js__WEBPACK_IMPORTED_MODULE_6__.IWebviewService);
        const webview = webviewService.activeWebview;
        if (webview?.isFocused) {
            f(webview);
            return true;
        }
        if ((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_0__.getActiveElement)()?.classList.contains('action-menu-item')) {
            const editorService = accessor.get(_services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_8__.IEditorService);
            if (editorService.activeEditor instanceof _webviewPanel_browser_webviewEditorInput_js__WEBPACK_IMPORTED_MODULE_7__.WebviewInput) {
                f(editorService.activeEditor.webview);
                return true;
            }
        }
        return false;
    });
}
overrideCommandForWebview(_editor_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__.UndoCommand, webview => webview.undo());
overrideCommandForWebview(_editor_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__.RedoCommand, webview => webview.redo());
overrideCommandForWebview(_editor_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__.SelectAllCommand, webview => webview.selectAll());
overrideCommandForWebview(_editor_contrib_clipboard_browser_clipboard_js__WEBPACK_IMPORTED_MODULE_2__.CopyAction, webview => webview.copy());
overrideCommandForWebview(_editor_contrib_clipboard_browser_clipboard_js__WEBPACK_IMPORTED_MODULE_2__.PasteAction, webview => webview.paste());
overrideCommandForWebview(_editor_contrib_clipboard_browser_clipboard_js__WEBPACK_IMPORTED_MODULE_2__.CutAction, webview => webview.cut());
const PreventDefaultContextMenuItemsContextKeyName = 'preventDefaultContextMenuItems';
if (_editor_contrib_clipboard_browser_clipboard_js__WEBPACK_IMPORTED_MODULE_2__.CutAction) {
    _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_4__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_4__.MenuId.WebviewContext, {
        command: {
            id: _editor_contrib_clipboard_browser_clipboard_js__WEBPACK_IMPORTED_MODULE_2__.CutAction.id,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_3__.localize)(4450, "Cut")),
        },
        group: '5_cutcopypaste',
        order: 1,
        when: _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_5__.ContextKeyExpr.not(PreventDefaultContextMenuItemsContextKeyName),
    });
}
if (_editor_contrib_clipboard_browser_clipboard_js__WEBPACK_IMPORTED_MODULE_2__.CopyAction) {
    _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_4__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_4__.MenuId.WebviewContext, {
        command: {
            id: _editor_contrib_clipboard_browser_clipboard_js__WEBPACK_IMPORTED_MODULE_2__.CopyAction.id,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_3__.localize)(4451, "Copy")),
        },
        group: '5_cutcopypaste',
        order: 2,
        when: _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_5__.ContextKeyExpr.not(PreventDefaultContextMenuItemsContextKeyName),
    });
}
if (_editor_contrib_clipboard_browser_clipboard_js__WEBPACK_IMPORTED_MODULE_2__.PasteAction) {
    _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_4__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_4__.MenuId.WebviewContext, {
        command: {
            id: _editor_contrib_clipboard_browser_clipboard_js__WEBPACK_IMPORTED_MODULE_2__.PasteAction.id,
            title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_3__.localize)(4452, "Paste")),
        },
        group: '5_cutcopypaste',
        order: 3,
        when: _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_5__.ContextKeyExpr.not(PreventDefaultContextMenuItemsContextKeyName),
    });
}



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/services/activity/common/activity.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/services/activity/common/activity.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   IconBadge: () => (/* binding */ IconBadge),
/* harmony export */   NumberBadge: () => (/* binding */ NumberBadge),
/* harmony export */   ProgressBadge: () => (/* binding */ ProgressBadge),
/* harmony export */   WarningBadge: () => (/* binding */ WarningBadge)
/* harmony export */ });
/* harmony import */ var _base_common_color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../base/common/color.js */ "./node_modules/vscode/vscode/src/vs/base/common/color.js");
/* harmony import */ var _platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../platform/theme/common/colorUtils.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/colorUtils.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../base/common/codicons.js */ "./node_modules/vscode/vscode/src/vs/base/common/codicons.js");




class BaseBadge {
    constructor(descriptorFn, stylesFn) {
        this.descriptorFn = descriptorFn;
        this.stylesFn = stylesFn;
    }
    getDescription() {
        return this.descriptorFn(null);
    }
    getColors(theme) {
        return this.stylesFn?.(theme);
    }
}
class NumberBadge extends BaseBadge {
    constructor(number, descriptorFn) {
        super(descriptorFn, undefined);
        this.number = number;
        this.number = number;
    }
    getDescription() {
        return this.descriptorFn(this.number);
    }
}
class IconBadge extends BaseBadge {
    constructor(icon, descriptorFn, stylesFn) {
        super(descriptorFn, stylesFn);
        this.icon = icon;
    }
}
class ProgressBadge extends BaseBadge {
    constructor(descriptorFn) {
        super(descriptorFn, undefined);
    }
}
class WarningBadge extends IconBadge {
    constructor(descriptorFn) {
        super(_base_common_codicons_js__WEBPACK_IMPORTED_MODULE_3__.Codicon.warning, descriptorFn, (theme) => ({
            badgeBackground: theme.getColor(activityWarningBadgeBackground),
            badgeForeground: theme.getColor(activityWarningBadgeForeground),
            badgeBorder: undefined,
        }));
    }
}
const activityWarningBadgeForeground = (0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_1__.registerColor)('activityWarningBadge.foreground', { dark: ( (_base_common_color_js__WEBPACK_IMPORTED_MODULE_0__.Color.black.lighten(0.2))), light: _base_common_color_js__WEBPACK_IMPORTED_MODULE_0__.Color.white, hcDark: null, hcLight: ( (_base_common_color_js__WEBPACK_IMPORTED_MODULE_0__.Color.black.lighten(0.2))) }, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(5316, 'Foreground color of the warning activity badge')));
const activityWarningBadgeBackground = (0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_1__.registerColor)('activityWarningBadge.background', { dark: '#CCA700', light: '#BF8803', hcDark: null, hcLight: '#CCA700' }, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(5317, 'Background color of the warning activity badge')));
(0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_1__.registerColor)('activityErrorBadge.foreground', { dark: ( (_base_common_color_js__WEBPACK_IMPORTED_MODULE_0__.Color.black.lighten(0.2))), light: _base_common_color_js__WEBPACK_IMPORTED_MODULE_0__.Color.white, hcDark: null, hcLight: ( (_base_common_color_js__WEBPACK_IMPORTED_MODULE_0__.Color.black.lighten(0.2))) }, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(5318, 'Foreground color of the error activity badge')));
(0,_platform_theme_common_colorUtils_js__WEBPACK_IMPORTED_MODULE_1__.registerColor)('activityErrorBadge.background', { dark: '#F14C4C', light: '#E51400', hcDark: null, hcLight: '#F14C4C' }, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_2__.localize)(5319, 'Background color of the error activity badge')));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/services/auxiliaryWindow/browser/auxiliaryWindowService.js":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/services/auxiliaryWindow/browser/auxiliaryWindowService.js ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AuxiliaryWindow: () => (/* binding */ AuxiliaryWindow),
/* harmony export */   AuxiliaryWindowMode: () => (/* binding */ AuxiliaryWindowMode),
/* harmony export */   BrowserAuxiliaryWindowService: () => (/* binding */ BrowserAuxiliaryWindowService)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _base_browser_browser_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../base/browser/browser.js */ "./node_modules/vscode/vscode/src/vs/base/browser/browser.js");
/* harmony import */ var _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../base/browser/dom.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var _base_browser_window_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../base/browser/window.js */ "./node_modules/vscode/vscode/src/vs/base/browser/window.js");
/* harmony import */ var _base_common_arrays_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../base/common/arrays.js */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var _base_common_async_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../base/common/async.js */ "./node_modules/vscode/vscode/src/vs/base/common/async.js");
/* harmony import */ var _base_common_errors_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../base/common/errors.js */ "./node_modules/vscode/vscode/src/vs/base/common/errors.js");
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../base/common/event.js */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _base_common_performance_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../base/common/performance.js */ "./node_modules/vscode/vscode/src/vs/base/common/performance.js");
/* harmony import */ var _base_common_platform_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../base/common/platform.js */ "./node_modules/vscode/vscode/src/vs/base/common/platform.js");
/* harmony import */ var _base_common_severity_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../base/common/severity.js */ "./node_modules/vscode/vscode/src/vs/base/common/severity.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../platform/configuration/common/configuration.service.js */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var _platform_dialogs_common_dialogs_service_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../platform/dialogs/common/dialogs.service.js */ "./node_modules/vscode/vscode/src/vs/platform/dialogs/common/dialogs.service.js");
/* harmony import */ var _platform_telemetry_common_telemetry_service_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../platform/telemetry/common/telemetry.service.js */ "./node_modules/vscode/vscode/src/vs/platform/telemetry/common/telemetry.service.js");
/* harmony import */ var _platform_window_common_window_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../platform/window/common/window.js */ "./node_modules/vscode/vscode/src/vs/platform/window/common/window.js");
/* harmony import */ var _browser_window_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../browser/window.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/window.js");
/* harmony import */ var _environment_common_environmentService_service_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../environment/common/environmentService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/environment/common/environmentService.service.js");
/* harmony import */ var _host_browser_host_service_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../host/browser/host.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/host/browser/host.service.js");
/* harmony import */ var _layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../layout/browser/layoutService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/layout/browser/layoutService.service.js");
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../platform/instantiation/common/instantiation.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");






















var BrowserAuxiliaryWindowService_1;
var AuxiliaryWindowMode;
( ((function(AuxiliaryWindowMode) {
    AuxiliaryWindowMode[AuxiliaryWindowMode["Maximized"] = 0] = "Maximized";
    AuxiliaryWindowMode[AuxiliaryWindowMode["Normal"] = 1] = "Normal";
    AuxiliaryWindowMode[AuxiliaryWindowMode["Fullscreen"] = 2] = "Fullscreen";
})(AuxiliaryWindowMode || (AuxiliaryWindowMode = {}))));
let AuxiliaryWindow = class AuxiliaryWindow extends _browser_window_js__WEBPACK_IMPORTED_MODULE_17__.BaseWindow {
    constructor(window, container, stylesHaveLoaded, configurationService, hostService, environmentService) {
        super(window, undefined, hostService, environmentService);
        this.window = window;
        this.container = container;
        this.configurationService = configurationService;
        this._onWillLayout = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_7__.Emitter())));
        this.onWillLayout = this._onWillLayout.event;
        this._onDidLayout = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_7__.Emitter())));
        this.onDidLayout = this._onDidLayout.event;
        this._onBeforeUnload = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_7__.Emitter())));
        this.onBeforeUnload = this._onBeforeUnload.event;
        this._onUnload = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_7__.Emitter())));
        this.onUnload = this._onUnload.event;
        this._onWillDispose = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_7__.Emitter())));
        this.onWillDispose = this._onWillDispose.event;
        this.whenStylesHaveLoaded = stylesHaveLoaded.wait().then(() => undefined);
        this.registerListeners();
    }
    registerListeners() {
        this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.addDisposableListener)(this.window, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.EventType.BEFORE_UNLOAD, (e) => this.handleBeforeUnload(e)));
        this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.addDisposableListener)(this.window, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.EventType.UNLOAD, () => this.handleUnload()));
        this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.addDisposableListener)(this.window, 'unhandledrejection', e => {
            (0,_base_common_errors_js__WEBPACK_IMPORTED_MODULE_6__.onUnexpectedError)(e.reason);
            e.preventDefault();
        }));
        this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.addDisposableListener)(this.window, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.EventType.RESIZE, () => this.layout()));
        this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.addDisposableListener)(this.container, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.EventType.SCROLL, () => this.container.scrollTop = 0));
        if (_base_common_platform_js__WEBPACK_IMPORTED_MODULE_10__.isWeb) {
            this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.addDisposableListener)(this.container, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.EventType.DROP, e => _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.EventHelper.stop(e, true)));
            this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.addDisposableListener)(this.container, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.EventType.WHEEL, e => e.preventDefault(), { passive: false }));
            this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.addDisposableListener)(this.container, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.EventType.CONTEXT_MENU, e => _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.EventHelper.stop(e, true)));
        }
        else {
            this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.addDisposableListener)(this.window.document.body, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.EventType.DRAG_OVER, (e) => _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.EventHelper.stop(e)));
            this._register((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.addDisposableListener)(this.window.document.body, _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.EventType.DROP, (e) => _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.EventHelper.stop(e)));
        }
    }
    handleBeforeUnload(e) {
        let veto;
        this._onBeforeUnload.fire({
            veto(reason) {
                if (reason) {
                    veto = reason;
                }
            }
        });
        if (veto) {
            this.handleVetoBeforeClose(e, veto);
            return;
        }
        const confirmBeforeCloseSetting = this.configurationService.getValue('window.confirmBeforeClose');
        const confirmBeforeClose = confirmBeforeCloseSetting === 'always' || (confirmBeforeCloseSetting === 'keyboardOnly' && _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.ModifierKeyEmitter.getInstance().isModifierPressed);
        if (confirmBeforeClose) {
            this.confirmBeforeClose(e);
        }
    }
    handleVetoBeforeClose(e, reason) {
        this.preventUnload(e);
    }
    preventUnload(e) {
        e.preventDefault();
        e.returnValue = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(
            4225,
            "Changes that you made may not be saved. Please check press 'Cancel' and try again."
        ));
    }
    confirmBeforeClose(e) {
        this.preventUnload(e);
    }
    handleUnload() {
        this._onUnload.fire();
    }
    layout() {
        const dimension = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.getClientArea)(this.window.document.body, this.container);
        this._onWillLayout.fire(dimension);
        this._onDidLayout.fire(dimension);
    }
    createState() {
        return {
            bounds: {
                x: this.window.screenX,
                y: this.window.screenY,
                width: this.window.outerWidth,
                height: this.window.outerHeight
            },
            zoomLevel: (0,_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_1__.getZoomLevel)(this.window)
        };
    }
    dispose() {
        if (this._store.isDisposed) {
            return;
        }
        this._onWillDispose.fire();
        super.dispose();
    }
};
AuxiliaryWindow = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_13__.IConfigurationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _host_browser_host_service_js__WEBPACK_IMPORTED_MODULE_19__.IHostService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _environment_common_environmentService_service_js__WEBPACK_IMPORTED_MODULE_18__.IWorkbenchEnvironmentService)))
], AuxiliaryWindow)));
let BrowserAuxiliaryWindowService = class BrowserAuxiliaryWindowService extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_8__.Disposable {
    static { BrowserAuxiliaryWindowService_1 = this; }
    static { this.DEFAULT_SIZE = { width: 800, height: 600 }; }
    static { this.WINDOW_IDS = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.getWindowId)(_base_browser_window_js__WEBPACK_IMPORTED_MODULE_3__.mainWindow) + 1; }
    constructor(layoutService, dialogService, configurationService, telemetryService, hostService, environmentService) {
        super();
        this.layoutService = layoutService;
        this.dialogService = dialogService;
        this.configurationService = configurationService;
        this.telemetryService = telemetryService;
        this.hostService = hostService;
        this.environmentService = environmentService;
        this._onDidOpenAuxiliaryWindow = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_7__.Emitter())));
        this.onDidOpenAuxiliaryWindow = this._onDidOpenAuxiliaryWindow.event;
        this.windows = ( (new Map()));
    }
    async open(options) {
        (0,_base_common_performance_js__WEBPACK_IMPORTED_MODULE_9__.mark)('code/auxiliaryWindow/willOpen');
        const targetWindow = await this.openWindow(options);
        if (!targetWindow) {
            throw ( (new Error((0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(4226, "Unable to open a new window."))));
        }
        const resolvedWindowId = await this.resolveWindowId(targetWindow);
        (0,_base_browser_window_js__WEBPACK_IMPORTED_MODULE_3__.ensureCodeWindow)(targetWindow, resolvedWindowId);
        const containerDisposables = ( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_8__.DisposableStore()));
        const { container, stylesLoaded } = this.createContainer(targetWindow, containerDisposables, options);
        const auxiliaryWindow = this.createAuxiliaryWindow(targetWindow, container, stylesLoaded);
        const registryDisposables = ( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_8__.DisposableStore()));
        this.windows.set(targetWindow.vscodeWindowId, auxiliaryWindow);
        registryDisposables.add((0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_8__.toDisposable)(() => this.windows.delete(targetWindow.vscodeWindowId)));
        const eventDisposables = ( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_8__.DisposableStore()));
        _base_common_event_js__WEBPACK_IMPORTED_MODULE_7__.Event.once(auxiliaryWindow.onWillDispose)(() => {
            targetWindow.close();
            containerDisposables.dispose();
            registryDisposables.dispose();
            eventDisposables.dispose();
        });
        registryDisposables.add((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.registerWindow)(targetWindow));
        this._onDidOpenAuxiliaryWindow.fire({ window: auxiliaryWindow, disposables: eventDisposables });
        (0,_base_common_performance_js__WEBPACK_IMPORTED_MODULE_9__.mark)('code/auxiliaryWindow/didOpen');
        this.telemetryService.publicLog2('auxiliaryWindowOpen', { bounds: !!options?.bounds });
        return auxiliaryWindow;
    }
    createAuxiliaryWindow(targetWindow, container, stylesLoaded) {
        return (
             (new AuxiliaryWindow(
                targetWindow,
                container,
                stylesLoaded,
                this.configurationService,
                this.hostService,
                this.environmentService
            ))
        );
    }
    async openWindow(options) {
        const activeWindow = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.getActiveWindow)();
        const activeWindowBounds = {
            x: activeWindow.screenX,
            y: activeWindow.screenY,
            width: activeWindow.outerWidth,
            height: activeWindow.outerHeight
        };
        const width = Math.max(options?.bounds?.width ?? BrowserAuxiliaryWindowService_1.DEFAULT_SIZE.width, _platform_window_common_window_js__WEBPACK_IMPORTED_MODULE_16__.WindowMinimumSize.WIDTH);
        const height = Math.max(options?.bounds?.height ?? BrowserAuxiliaryWindowService_1.DEFAULT_SIZE.height, _platform_window_common_window_js__WEBPACK_IMPORTED_MODULE_16__.WindowMinimumSize.HEIGHT);
        let newWindowBounds = {
            x: options?.bounds?.x ?? Math.max(activeWindowBounds.x + activeWindowBounds.width / 2 - width / 2, 0),
            y: options?.bounds?.y ?? Math.max(activeWindowBounds.y + activeWindowBounds.height / 2 - height / 2, 0),
            width,
            height
        };
        if (!options?.bounds && newWindowBounds.x === activeWindowBounds.x && newWindowBounds.y === activeWindowBounds.y) {
            newWindowBounds = {
                ...newWindowBounds,
                x: newWindowBounds.x + 30,
                y: newWindowBounds.y + 30
            };
        }
        const features = (0,_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_4__.coalesce)([
            'popup=yes',
            `left=${newWindowBounds.x}`,
            `top=${newWindowBounds.y}`,
            `width=${newWindowBounds.width}`,
            `height=${newWindowBounds.height}`,
            options?.nativeTitlebar ? 'window-native-titlebar=yes' : undefined,
            options?.disableFullscreen ? 'window-disable-fullscreen=yes' : undefined,
            options?.mode === AuxiliaryWindowMode.Maximized ? 'window-maximized=yes' : undefined,
            options?.mode === AuxiliaryWindowMode.Fullscreen ? 'window-fullscreen=yes' : undefined
        ]);
        const auxiliaryWindow = _base_browser_window_js__WEBPACK_IMPORTED_MODULE_3__.mainWindow.open(_base_common_platform_js__WEBPACK_IMPORTED_MODULE_10__.isFirefox ? ''  : 'about:blank', undefined, features.join(','));
        if (!auxiliaryWindow && _base_common_platform_js__WEBPACK_IMPORTED_MODULE_10__.isWeb) {
            return (await this.dialogService.prompt({
                type: _base_common_severity_js__WEBPACK_IMPORTED_MODULE_11__["default"].Warning,
                message: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(
                    4227,
                    "The browser interrupted the opening of a new window. Press 'Retry' to try again."
                )),
                detail: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(
                    4228,
                    "To avoid this problem in the future, please ensure to allow popups for this website."
                )),
                buttons: [
                    {
                        label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_12__.localize)(4229, "&&Retry")),
                        run: () => this.openWindow(options)
                    }
                ],
                cancelButton: true
            })).result;
        }
        return auxiliaryWindow?.window;
    }
    async resolveWindowId(auxiliaryWindow) {
        return BrowserAuxiliaryWindowService_1.WINDOW_IDS++;
    }
    createContainer(auxiliaryWindow, disposables, options) {
        this.applyMeta(auxiliaryWindow);
        const { stylesLoaded } = this.applyCSS(auxiliaryWindow, disposables);
        const container = this.applyHTML(auxiliaryWindow, disposables);
        return { stylesLoaded, container };
    }
    applyMeta(auxiliaryWindow) {
        for (const metaTag of ['meta[charset="utf-8"]', 'meta[http-equiv="Content-Security-Policy"]', 'meta[name="viewport"]', 'meta[name="theme-color"]']) {
            const metaElement = _base_browser_window_js__WEBPACK_IMPORTED_MODULE_3__.mainWindow.document.querySelector(metaTag);
            if (metaElement) {
                const clonedMetaElement = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.createMetaElement)(auxiliaryWindow.document.head);
                (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.copyAttributes)(metaElement, clonedMetaElement);
                if (metaTag === 'meta[http-equiv="Content-Security-Policy"]') {
                    const content = clonedMetaElement.getAttribute('content');
                    if (content) {
                        clonedMetaElement.setAttribute('content', content.replace(/(script-src[^\;]*)/, `script-src 'none'`));
                    }
                }
            }
        }
        const originalIconLinkTag = _base_browser_window_js__WEBPACK_IMPORTED_MODULE_3__.mainWindow.document.querySelector('link[rel="icon"]');
        if (originalIconLinkTag) {
            const icon = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.createLinkElement)(auxiliaryWindow.document.head);
            (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.copyAttributes)(originalIconLinkTag, icon);
        }
    }
    applyCSS(auxiliaryWindow, disposables) {
        (0,_base_common_performance_js__WEBPACK_IMPORTED_MODULE_9__.mark)('code/auxiliaryWindow/willApplyCSS');
        const mapOriginalToClone = ( (new Map()));
        const stylesLoaded = ( (new _base_common_async_js__WEBPACK_IMPORTED_MODULE_5__.Barrier()));
        stylesLoaded.wait().then(() => (0,_base_common_performance_js__WEBPACK_IMPORTED_MODULE_9__.mark)('code/auxiliaryWindow/didLoadCSSStyles'));
        const pendingLinksDisposables = disposables.add(( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_8__.DisposableStore())));
        let pendingLinksToSettle = 0;
        function onLinkSettled() {
            if (--pendingLinksToSettle === 0) {
                pendingLinksDisposables.dispose();
                stylesLoaded.open();
            }
        }
        function cloneNode(originalNode) {
            if ((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.isGlobalStylesheet)(originalNode)) {
                return;
            }
            const clonedNode = auxiliaryWindow.document.head.appendChild(originalNode.cloneNode(true));
            if (originalNode.tagName.toLowerCase() === 'link') {
                pendingLinksToSettle++;
                pendingLinksDisposables.add((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.addDisposableListener)(clonedNode, 'load', onLinkSettled));
                pendingLinksDisposables.add((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.addDisposableListener)(clonedNode, 'error', onLinkSettled));
            }
            mapOriginalToClone.set(originalNode, clonedNode);
        }
        pendingLinksToSettle++;
        try {
            for (const originalNode of _base_browser_window_js__WEBPACK_IMPORTED_MODULE_3__.mainWindow.document.head.querySelectorAll('link[rel="stylesheet"], style')) {
                cloneNode(originalNode);
            }
        }
        finally {
            onLinkSettled();
        }
        disposables.add((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.cloneGlobalStylesheets)(auxiliaryWindow));
        disposables.add(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.sharedMutationObserver.observe(_base_browser_window_js__WEBPACK_IMPORTED_MODULE_3__.mainWindow.document.head, disposables, { childList: true, subtree: true })(mutations => {
            for (const mutation of mutations) {
                if (mutation.type !== 'childList' ||
                    mutation.target.nodeName.toLowerCase() === 'title' ||
                    mutation.target.nodeName.toLowerCase() === 'script' ||
                    mutation.target.nodeName.toLowerCase() === 'meta'
                ) {
                    continue;
                }
                for (const node of mutation.addedNodes) {
                    if ((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.isHTMLElement)(node) && (node.tagName.toLowerCase() === 'style' || node.tagName.toLowerCase() === 'link')) {
                        cloneNode(node);
                    }
                    else if (node.nodeType === Node.TEXT_NODE && node.parentNode) {
                        const clonedNode = mapOriginalToClone.get(node.parentNode);
                        if (clonedNode) {
                            clonedNode.textContent = node.textContent;
                        }
                    }
                }
                for (const node of mutation.removedNodes) {
                    const clonedNode = mapOriginalToClone.get(node);
                    if (clonedNode) {
                        clonedNode.parentNode?.removeChild(clonedNode);
                        mapOriginalToClone.delete(node);
                    }
                }
            }
        }));
        (0,_base_common_performance_js__WEBPACK_IMPORTED_MODULE_9__.mark)('code/auxiliaryWindow/didApplyCSS');
        return { stylesLoaded };
    }
    applyHTML(auxiliaryWindow, disposables) {
        (0,_base_common_performance_js__WEBPACK_IMPORTED_MODULE_9__.mark)('code/auxiliaryWindow/willApplyHTML');
        const container = document.createElement('div');
        container.setAttribute('role', 'application');
        (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.position)(container, 0, 0, 0, 0, 'relative');
        container.style.display = 'flex';
        container.style.height = '100%';
        container.style.flexDirection = 'column';
        auxiliaryWindow.document.body.append(container);
        disposables.add((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.trackAttributes)(_base_browser_window_js__WEBPACK_IMPORTED_MODULE_3__.mainWindow.document.documentElement, auxiliaryWindow.document.documentElement));
        disposables.add((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.trackAttributes)(_base_browser_window_js__WEBPACK_IMPORTED_MODULE_3__.mainWindow.document.body, auxiliaryWindow.document.body));
        disposables.add((0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.trackAttributes)(this.layoutService.mainContainer, container, ['class']));
        (0,_base_common_performance_js__WEBPACK_IMPORTED_MODULE_9__.mark)('code/auxiliaryWindow/didApplyHTML');
        return container;
    }
    getWindow(windowId) {
        return this.windows.get(windowId);
    }
};
BrowserAuxiliaryWindowService = BrowserAuxiliaryWindowService_1 = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, _layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_20__.IWorkbenchLayoutService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _platform_dialogs_common_dialogs_service_js__WEBPACK_IMPORTED_MODULE_14__.IDialogService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_13__.IConfigurationService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _platform_telemetry_common_telemetry_service_js__WEBPACK_IMPORTED_MODULE_15__.ITelemetryService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _host_browser_host_service_js__WEBPACK_IMPORTED_MODULE_19__.IHostService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _environment_common_environmentService_service_js__WEBPACK_IMPORTED_MODULE_18__.IWorkbenchEnvironmentService)))
], BrowserAuxiliaryWindowService)));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/services/driver/browser/driver.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/services/driver/browser/driver.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BrowserWindowDriver: () => (/* binding */ BrowserWindowDriver),
/* harmony export */   registerWindowDriver: () => (/* binding */ registerWindowDriver)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../base/browser/dom.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");
/* harmony import */ var _base_browser_window_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../base/browser/window.js */ "./node_modules/vscode/vscode/src/vs/base/browser/window.js");
/* harmony import */ var _base_common_arrays_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../base/common/arrays.js */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var _base_common_platform_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../base/common/platform.js */ "./node_modules/vscode/vscode/src/vs/base/common/platform.js");
/* harmony import */ var _platform_environment_common_environment_service_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../platform/environment/common/environment.service.js */ "./node_modules/vscode/vscode/src/vs/platform/environment/common/environment.service.js");
/* harmony import */ var _platform_files_common_files_service_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../platform/files/common/files.service.js */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.service.js");
/* harmony import */ var _platform_languagePacks_common_localizedStrings_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../platform/languagePacks/common/localizedStrings.js */ "./node_modules/vscode/vscode/src/vs/platform/languagePacks/common/localizedStrings.js");
/* harmony import */ var _platform_log_browser_log_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../platform/log/browser/log.js */ "./node_modules/vscode/vscode/src/vs/platform/log/browser/log.js");
/* harmony import */ var _platform_log_common_log_service_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../platform/log/common/log.service.js */ "./node_modules/vscode/vscode/src/vs/platform/log/common/log.service.js");
/* harmony import */ var _platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../platform/registry/common/platform.js */ "./node_modules/vscode/vscode/src/vs/platform/registry/common/platform.js");
/* harmony import */ var _common_contributions_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../common/contributions.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/contributions.js");
/* harmony import */ var _lifecycle_common_lifecycle_service_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../lifecycle/common/lifecycle.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/lifecycle/common/lifecycle.service.js");













let BrowserWindowDriver = class BrowserWindowDriver {
    constructor(fileService, environmentService, lifecycleService, logService) {
        this.fileService = fileService;
        this.environmentService = environmentService;
        this.lifecycleService = lifecycleService;
        this.logService = logService;
    }
    async getLogs() {
        return (0,_platform_log_browser_log_js__WEBPACK_IMPORTED_MODULE_8__.getLogs)(this.fileService, this.environmentService);
    }
    async whenWorkbenchRestored() {
        this.logService.info('[driver] Waiting for restored lifecycle phase...');
        await this.lifecycleService.when(3 );
        this.logService.info('[driver] Restored lifecycle phase reached. Waiting for contributions...');
        await ( _platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_10__.Registry.as(_common_contributions_js__WEBPACK_IMPORTED_MODULE_11__.Extensions.Workbench)).whenRestored;
        this.logService.info('[driver] Workbench contributions created.');
    }
    async setValue(selector, text) {
        const element = _base_browser_window_js__WEBPACK_IMPORTED_MODULE_2__.mainWindow.document.querySelector(selector);
        if (!element) {
            return Promise.reject(( new Error(`Element not found: ${selector}`)));
        }
        const inputElement = element;
        inputElement.value = text;
        const event = ( new Event('input', { bubbles: true, cancelable: true }));
        inputElement.dispatchEvent(event);
    }
    async isActiveElement(selector) {
        const element = _base_browser_window_js__WEBPACK_IMPORTED_MODULE_2__.mainWindow.document.querySelector(selector);
        if (element !== _base_browser_window_js__WEBPACK_IMPORTED_MODULE_2__.mainWindow.document.activeElement) {
            const chain = [];
            let el = _base_browser_window_js__WEBPACK_IMPORTED_MODULE_2__.mainWindow.document.activeElement;
            while (el) {
                const tagName = el.tagName;
                const id = el.id ? `#${el.id}` : '';
                const classes = ( (0,_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_3__.coalesce)(( el.className.split(/\s+/g).map(c => c.trim()))).map(c => `.${c}`)).join('');
                chain.unshift(`${tagName}${id}${classes}`);
                el = el.parentElement;
            }
            throw ( new Error(
                `Active element not found. Current active element is '${chain.join(' > ')}'. Looking for ${selector}`
            ));
        }
        return true;
    }
    async getElements(selector, recursive) {
        const query = _base_browser_window_js__WEBPACK_IMPORTED_MODULE_2__.mainWindow.document.querySelectorAll(selector);
        const result = [];
        for (let i = 0; i < query.length; i++) {
            const element = query.item(i);
            result.push(this.serializeElement(element, recursive));
        }
        return result;
    }
    serializeElement(element, recursive) {
        const attributes = Object.create(null);
        for (let j = 0; j < element.attributes.length; j++) {
            const attr = element.attributes.item(j);
            if (attr) {
                attributes[attr.name] = attr.value;
            }
        }
        const children = [];
        if (recursive) {
            for (let i = 0; i < element.children.length; i++) {
                const child = element.children.item(i);
                if (child) {
                    children.push(this.serializeElement(child, true));
                }
            }
        }
        const { left, top } = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.getTopLeftOffset)(element);
        return {
            tagName: element.tagName,
            className: element.className,
            textContent: element.textContent || '',
            attributes,
            children,
            left,
            top
        };
    }
    async getElementXY(selector, xoffset, yoffset) {
        const offset = typeof xoffset === 'number' && typeof yoffset === 'number' ? { x: xoffset, y: yoffset } : undefined;
        return this._getElementXY(selector, offset);
    }
    async typeInEditor(selector, text) {
        const element = _base_browser_window_js__WEBPACK_IMPORTED_MODULE_2__.mainWindow.document.querySelector(selector);
        if (!element) {
            throw ( new Error(`Editor not found: ${selector}`));
        }
        const textarea = element;
        const start = textarea.selectionStart;
        const newStart = start + text.length;
        const value = textarea.value;
        const newValue = value.substr(0, start) + text + value.substr(start);
        textarea.value = newValue;
        textarea.setSelectionRange(newStart, newStart);
        const event = ( new Event('input', { 'bubbles': true, 'cancelable': true }));
        textarea.dispatchEvent(event);
    }
    async getTerminalBuffer(selector) {
        const element = _base_browser_window_js__WEBPACK_IMPORTED_MODULE_2__.mainWindow.document.querySelector(selector);
        if (!element) {
            throw ( new Error(`Terminal not found: ${selector}`));
        }
        const xterm = element.xterm;
        if (!xterm) {
            throw ( new Error(`Xterm not found: ${selector}`));
        }
        const lines = [];
        for (let i = 0; i < xterm.buffer.active.length; i++) {
            lines.push(xterm.buffer.active.getLine(i).translateToString(true));
        }
        return lines;
    }
    async writeInTerminal(selector, text) {
        const element = _base_browser_window_js__WEBPACK_IMPORTED_MODULE_2__.mainWindow.document.querySelector(selector);
        if (!element) {
            throw ( new Error(`Element not found: ${selector}`));
        }
        const xterm = element.xterm;
        if (!xterm) {
            throw ( new Error(`Xterm not found: ${selector}`));
        }
        xterm.input(text);
    }
    getLocaleInfo() {
        return Promise.resolve({
            language: _base_common_platform_js__WEBPACK_IMPORTED_MODULE_4__.language,
            locale: _base_common_platform_js__WEBPACK_IMPORTED_MODULE_4__.locale
        });
    }
    getLocalizedStrings() {
        return Promise.resolve({
            open: _platform_languagePacks_common_localizedStrings_js__WEBPACK_IMPORTED_MODULE_7__["default"].open,
            close: _platform_languagePacks_common_localizedStrings_js__WEBPACK_IMPORTED_MODULE_7__["default"].close,
            find: _platform_languagePacks_common_localizedStrings_js__WEBPACK_IMPORTED_MODULE_7__["default"].find
        });
    }
    async _getElementXY(selector, offset) {
        const element = _base_browser_window_js__WEBPACK_IMPORTED_MODULE_2__.mainWindow.document.querySelector(selector);
        if (!element) {
            return Promise.reject(( new Error(`Element not found: ${selector}`)));
        }
        const { left, top } = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.getTopLeftOffset)(element);
        const { width, height } = (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.getClientArea)(element);
        let x, y;
        if (offset) {
            x = left + offset.x;
            y = top + offset.y;
        }
        else {
            x = left + (width / 2);
            y = top + (height / 2);
        }
        x = Math.round(x);
        y = Math.round(y);
        return { x, y };
    }
    async exitApplication() {
    }
};
BrowserWindowDriver = ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, _platform_files_common_files_service_js__WEBPACK_IMPORTED_MODULE_6__.IFileService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _platform_environment_common_environment_service_js__WEBPACK_IMPORTED_MODULE_5__.IEnvironmentService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _lifecycle_common_lifecycle_service_js__WEBPACK_IMPORTED_MODULE_12__.ILifecycleService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _platform_log_common_log_service_js__WEBPACK_IMPORTED_MODULE_9__.ILogService))
], BrowserWindowDriver));
function registerWindowDriver(instantiationService) {
    Object.assign(_base_browser_window_js__WEBPACK_IMPORTED_MODULE_2__.mainWindow, { driver: instantiationService.createInstance(BrowserWindowDriver) });
}



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/services/statusbar/browser/statusbar.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/services/statusbar/browser/statusbar.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ShowTooltipCommand: () => (/* binding */ ShowTooltipCommand),
/* harmony export */   StatusbarEntryKinds: () => (/* binding */ StatusbarEntryKinds),
/* harmony export */   isStatusbarEntryLocation: () => (/* binding */ isStatusbarEntryLocation),
/* harmony export */   isStatusbarEntryPriority: () => (/* binding */ isStatusbarEntryPriority)
/* harmony export */ });
function isStatusbarEntryLocation(thing) {
    const candidate = thing;
    return typeof candidate?.id === 'string' && typeof candidate.alignment === 'number';
}
function isStatusbarEntryPriority(thing) {
    const candidate = thing;
    return (typeof candidate?.primary === 'number' || isStatusbarEntryLocation(candidate?.primary)) && typeof candidate?.secondary === 'number';
}
const ShowTooltipCommand = {
    id: 'statusBar.entry.showTooltip',
    title: ''
};
const StatusbarEntryKinds = ['standard', 'warning', 'error', 'prominent', 'remote', 'offline'];



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/services/themes/common/workbenchThemeService.service.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/services/themes/common/workbenchThemeService.service.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   IWorkbenchThemeService: () => (/* binding */ IWorkbenchThemeService)
/* harmony export */ });
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../platform/instantiation/common/instantiation.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../platform/theme/common/themeService.service.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.service.js");


const IWorkbenchThemeService = (0,_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.refineServiceDecorator)(_platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_1__.IThemeService);



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/services/userDataProfile/common/userDataProfileIcons.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/services/userDataProfile/common/userDataProfileIcons.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DEFAULT_ICON: () => (/* binding */ DEFAULT_ICON),
/* harmony export */   ICONS: () => (/* binding */ ICONS)
/* harmony export */ });
/* harmony import */ var _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../base/common/codicons.js */ "./node_modules/vscode/vscode/src/vs/base/common/codicons.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../platform/theme/common/iconRegistry.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/iconRegistry.js");



const DEFAULT_ICON = (0,_platform_theme_common_iconRegistry_js__WEBPACK_IMPORTED_MODULE_2__.registerIcon)('settings-view-bar-icon', _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.settingsGear, ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_1__.localize)(10679, "Settings icon in the view bar.")));
const ICONS = [
    DEFAULT_ICON,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.vm,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.server,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.recordKeys,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.deviceMobile,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.watch,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.vr,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.piano,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.ruby,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.code,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.coffee,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.snake,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.window,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.library,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.extensions,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.terminal,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.beaker,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.package,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.cloud,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.book,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.globe,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.database,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.notebook,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.robot,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.game,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.chip,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.music,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.gift,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.send,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.briefcase,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.megaphone,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.comment,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.telescope,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.creditCard,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.map,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.deviceCameraVideo,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.unmute,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.law,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.graphLine,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.heart,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.home,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.inbox,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.mortarBoard,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.rocket,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.magnet,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.lock,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.milestone,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.tag,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.pulse,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.radioTower,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.smiley,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.zap,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.squirrel,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.symbolColor,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.mail,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.key,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.pieChart,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.organization,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.preview,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.wand,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.starEmpty,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.lightbulb,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.symbolRuler,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.dashboard,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.calendar,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.shield,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.flame,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.compass,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.paintcan,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.archive,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.mic,
    _base_common_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.jersey,
];



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/services/views/browser/viewsService.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/services/views/browser/viewsService.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ViewsService: () => (/* binding */ ViewsService),
/* harmony export */   getPartByLocation: () => (/* binding */ getPartByLocation)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _common_views_service_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../common/views.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/views.service.js");
/* harmony import */ var _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../common/contextkeys.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/contextkeys.js");
/* harmony import */ var _platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../platform/registry/common/platform.js */ "./node_modules/vscode/vscode/src/vs/platform/registry/common/platform.js");
/* harmony import */ var _platform_storage_common_storage_service_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../platform/storage/common/storage.service.js */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../platform/contextkey/common/contextkey.js */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.js");
/* harmony import */ var _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../platform/contextkey/common/contextkey.service.js */ "./node_modules/vscode/vscode/src/vs/platform/contextkey/common/contextkey.service.js");
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../base/common/event.js */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var _base_common_types_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../base/common/types.js */ "./node_modules/vscode/vscode/src/vs/base/common/types.js");
/* harmony import */ var _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../platform/actions/common/actions.js */ "./node_modules/vscode/vscode/src/vs/platform/actions/common/actions.js");
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../platform/instantiation/common/instantiation.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var _platform_telemetry_common_telemetry_service_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../platform/telemetry/common/telemetry.service.js */ "./node_modules/vscode/vscode/src/vs/platform/telemetry/common/telemetry.service.js");
/* harmony import */ var _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../platform/theme/common/themeService.service.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.service.js");
/* harmony import */ var _platform_contextview_browser_contextView_service_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../platform/contextview/browser/contextView.service.js */ "./node_modules/vscode/vscode/src/vs/platform/contextview/browser/contextView.service.js");
/* harmony import */ var _extensions_common_extensions_service_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../extensions/common/extensions.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/extensions/common/extensions.service.js");
/* harmony import */ var _platform_workspace_common_workspace_service_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../platform/workspace/common/workspace.service.js */ "./node_modules/vscode/vscode/src/vs/platform/workspace/common/workspace.service.js");
/* harmony import */ var _browser_panecomposite_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../browser/panecomposite.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/panecomposite.js");
/* harmony import */ var _layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../layout/browser/layoutService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/layout/browser/layoutService.service.js");
/* harmony import */ var _base_common_uri_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../base/common/uri.js */ "./node_modules/vscode/vscode/src/vs/base/common/uri.js");
/* harmony import */ var _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../platform/action/common/actionCommonCategories.js */ "./node_modules/vscode/vscode/src/vs/platform/action/common/actionCommonCategories.js");
/* harmony import */ var _editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../editor/common/editorGroupsService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorGroupsService.service.js");
/* harmony import */ var _browser_parts_views_viewsViewlet_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../browser/parts/views/viewsViewlet.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/views/viewsViewlet.js");
/* harmony import */ var _panecomposite_browser_panecomposite_service_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../panecomposite/browser/panecomposite.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/panecomposite/browser/panecomposite.service.js");
/* harmony import */ var _editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../editor/common/editorService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");
/* harmony import */ var _common_viewsService_service_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../common/viewsService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/views/common/viewsService.service.js");



























let ViewsService = class ViewsService extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.Disposable {
    constructor(viewDescriptorService, paneCompositeService, contextKeyService, layoutService, editorService) {
        super();
        this.viewDescriptorService = viewDescriptorService;
        this.paneCompositeService = paneCompositeService;
        this.contextKeyService = contextKeyService;
        this.layoutService = layoutService;
        this.editorService = editorService;
        this._onDidChangeViewVisibility = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_8__.Emitter())));
        this.onDidChangeViewVisibility = this._onDidChangeViewVisibility.event;
        this._onDidChangeViewContainerVisibility = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_8__.Emitter())));
        this.onDidChangeViewContainerVisibility = this._onDidChangeViewContainerVisibility.event;
        this._onDidChangeFocusedView = this._register(( (new _base_common_event_js__WEBPACK_IMPORTED_MODULE_8__.Emitter())));
        this.onDidChangeFocusedView = this._onDidChangeFocusedView.event;
        this.viewContainerDisposables = this._register(( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.DisposableMap())));
        this.viewDisposable = ( (new Map()));
        this.enabledViewContainersContextKeys = ( (new Map()));
        this.visibleViewContextKeys = ( (new Map()));
        this.viewPaneContainers = ( (new Map()));
        this._register((0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.toDisposable)(() => {
            this.viewDisposable.forEach(disposable => disposable.dispose());
            this.viewDisposable.clear();
        }));
        this.viewDescriptorService.viewContainers.forEach(viewContainer => this.onDidRegisterViewContainer(viewContainer, this.viewDescriptorService.getViewContainerLocation(viewContainer)));
        this._register(this.viewDescriptorService.onDidChangeViewContainers(({ added, removed }) => this.onDidChangeContainers(added, removed)));
        this._register(this.viewDescriptorService.onDidChangeContainerLocation(({ viewContainer, from, to }) => this.onDidChangeContainerLocation(viewContainer, from, to)));
        this._register(this.paneCompositeService.onDidPaneCompositeOpen(e => this._onDidChangeViewContainerVisibility.fire({ id: e.composite.getId(), visible: true, location: e.viewContainerLocation })));
        this._register(this.paneCompositeService.onDidPaneCompositeClose(e => this._onDidChangeViewContainerVisibility.fire({ id: e.composite.getId(), visible: false, location: e.viewContainerLocation })));
        this.focusedViewContextKey = _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_3__.FocusedViewContext.bindTo(contextKeyService);
    }
    onViewsAdded(added) {
        for (const view of added) {
            this.onViewsVisibilityChanged(view, view.isBodyVisible());
        }
    }
    onViewsVisibilityChanged(view, visible) {
        this.getOrCreateActiveViewContextKey(view).set(visible);
        this._onDidChangeViewVisibility.fire({ id: view.id, visible: visible });
    }
    onViewsRemoved(removed) {
        for (const view of removed) {
            this.onViewsVisibilityChanged(view, false);
        }
    }
    getOrCreateActiveViewContextKey(view) {
        const visibleContextKeyId = (0,_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_3__.getVisbileViewContextKey)(view.id);
        let contextKey = this.visibleViewContextKeys.get(visibleContextKeyId);
        if (!contextKey) {
            contextKey = ( (new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_6__.RawContextKey(visibleContextKeyId, false))).bindTo(this.contextKeyService);
            this.visibleViewContextKeys.set(visibleContextKeyId, contextKey);
        }
        return contextKey;
    }
    onDidChangeContainers(added, removed) {
        for (const { container, location } of removed) {
            this.onDidDeregisterViewContainer(container, location);
        }
        for (const { container, location } of added) {
            this.onDidRegisterViewContainer(container, location);
        }
    }
    onDidRegisterViewContainer(viewContainer, viewContainerLocation) {
        this.registerPaneComposite(viewContainer, viewContainerLocation);
        const disposables = ( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.DisposableStore()));
        const viewContainerModel = this.viewDescriptorService.getViewContainerModel(viewContainer);
        this.onViewDescriptorsAdded(viewContainerModel.allViewDescriptors, viewContainer);
        disposables.add(viewContainerModel.onDidChangeAllViewDescriptors(({ added, removed }) => {
            this.onViewDescriptorsAdded(added, viewContainer);
            this.onViewDescriptorsRemoved(removed);
        }));
        this.updateViewContainerEnablementContextKey(viewContainer);
        disposables.add(viewContainerModel.onDidChangeActiveViewDescriptors(() => this.updateViewContainerEnablementContextKey(viewContainer)));
        disposables.add(this.registerOpenViewContainerAction(viewContainer));
        this.viewContainerDisposables.set(viewContainer.id, disposables);
    }
    onDidDeregisterViewContainer(viewContainer, viewContainerLocation) {
        this.deregisterPaneComposite(viewContainer, viewContainerLocation);
        this.viewContainerDisposables.deleteAndDispose(viewContainer.id);
    }
    onDidChangeContainerLocation(viewContainer, from, to) {
        this.deregisterPaneComposite(viewContainer, from);
        this.registerPaneComposite(viewContainer, to);
        if (this.layoutService.isVisible(getPartByLocation(to)) &&
            this.viewDescriptorService.getViewContainersByLocation(to).filter(vc => this.isViewContainerActive(vc.id)).length === 1) {
            this.openViewContainer(viewContainer.id);
        }
    }
    onViewDescriptorsAdded(views, container) {
        const location = this.viewDescriptorService.getViewContainerLocation(container);
        if (location === null) {
            return;
        }
        for (const viewDescriptor of views) {
            const disposables = ( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.DisposableStore()));
            disposables.add(this.registerOpenViewAction(viewDescriptor));
            disposables.add(this.registerFocusViewAction(viewDescriptor, container.title));
            disposables.add(this.registerResetViewLocationAction(viewDescriptor));
            this.viewDisposable.set(viewDescriptor, disposables);
        }
    }
    onViewDescriptorsRemoved(views) {
        for (const view of views) {
            const disposable = this.viewDisposable.get(view);
            if (disposable) {
                disposable.dispose();
                this.viewDisposable.delete(view);
            }
        }
    }
    updateViewContainerEnablementContextKey(viewContainer) {
        let contextKey = this.enabledViewContainersContextKeys.get(viewContainer.id);
        if (!contextKey) {
            contextKey = this.contextKeyService.createKey(getEnabledViewContainerContextKey(viewContainer.id), false);
            this.enabledViewContainersContextKeys.set(viewContainer.id, contextKey);
        }
        contextKey.set(!(viewContainer.hideIfEmpty && this.viewDescriptorService.getViewContainerModel(viewContainer).activeViewDescriptors.length === 0));
    }
    async openComposite(compositeId, location, focus) {
        return this.paneCompositeService.openPaneComposite(compositeId, location, focus);
    }
    getComposite(compositeId, location) {
        return this.paneCompositeService.getPaneComposite(compositeId, location);
    }
    isViewContainerVisible(id) {
        const viewContainer = this.viewDescriptorService.getViewContainerById(id);
        if (!viewContainer) {
            return false;
        }
        const viewContainerLocation = this.viewDescriptorService.getViewContainerLocation(viewContainer);
        if (viewContainerLocation === null) {
            return false;
        }
        return this.paneCompositeService.getActivePaneComposite(viewContainerLocation)?.getId() === id;
    }
    isViewContainerActive(id) {
        const viewContainer = this.viewDescriptorService.getViewContainerById(id);
        if (!viewContainer) {
            return false;
        }
        if (!viewContainer.hideIfEmpty) {
            return true;
        }
        return this.viewDescriptorService.getViewContainerModel(viewContainer).activeViewDescriptors.length > 0;
    }
    getVisibleViewContainer(location) {
        const viewContainerId = this.paneCompositeService.getActivePaneComposite(location)?.getId();
        return viewContainerId ? this.viewDescriptorService.getViewContainerById(viewContainerId) : null;
    }
    getActiveViewPaneContainerWithId(viewContainerId) {
        const viewContainer = this.viewDescriptorService.getViewContainerById(viewContainerId);
        return viewContainer ? this.getActiveViewPaneContainer(viewContainer) : null;
    }
    async openViewContainer(id, focus) {
        const viewContainer = this.viewDescriptorService.getViewContainerById(id);
        if (viewContainer) {
            const viewContainerLocation = this.viewDescriptorService.getViewContainerLocation(viewContainer);
            if (viewContainerLocation !== null) {
                const paneComposite = await this.paneCompositeService.openPaneComposite(id, viewContainerLocation, focus);
                return paneComposite || null;
            }
        }
        return null;
    }
    async closeViewContainer(id) {
        const viewContainer = this.viewDescriptorService.getViewContainerById(id);
        if (viewContainer) {
            const viewContainerLocation = this.viewDescriptorService.getViewContainerLocation(viewContainer);
            const isActive = viewContainerLocation !== null && this.paneCompositeService.getActivePaneComposite(viewContainerLocation);
            if (viewContainerLocation !== null) {
                return isActive ? this.layoutService.setPartHidden(true, getPartByLocation(viewContainerLocation)) : undefined;
            }
        }
    }
    isViewVisible(id) {
        const activeView = this.getActiveViewWithId(id);
        return activeView?.isBodyVisible() || false;
    }
    getActiveViewWithId(id) {
        const viewContainer = this.viewDescriptorService.getViewContainerByViewId(id);
        if (viewContainer) {
            const activeViewPaneContainer = this.getActiveViewPaneContainer(viewContainer);
            if (activeViewPaneContainer) {
                return activeViewPaneContainer.getView(id);
            }
        }
        return null;
    }
    getViewWithId(id) {
        const viewContainer = this.viewDescriptorService.getViewContainerByViewId(id);
        if (viewContainer) {
            const viewPaneContainer = this.viewPaneContainers.get(viewContainer.id);
            if (viewPaneContainer) {
                return viewPaneContainer.getView(id);
            }
        }
        return null;
    }
    getFocusedViewName() {
        const viewId = this.contextKeyService.getContextKeyValue(_common_contextkeys_js__WEBPACK_IMPORTED_MODULE_3__.FocusedViewContext.key) ?? '';
        const textEditorFocused = this.editorService.activeTextEditorControl?.hasTextFocus() ? ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_11__.localize)(4230, "Text Editor")) : undefined;
        return this.viewDescriptorService.getViewDescriptorById(( (viewId.toString())))?.name?.value ?? textEditorFocused ?? '';
    }
    async openView(id, focus) {
        const viewContainer = this.viewDescriptorService.getViewContainerByViewId(id);
        if (!viewContainer) {
            return null;
        }
        if (!( (this.viewDescriptorService.getViewContainerModel(viewContainer).activeViewDescriptors.some(viewDescriptor => viewDescriptor.id === id)))) {
            return null;
        }
        const location = this.viewDescriptorService.getViewContainerLocation(viewContainer);
        const compositeDescriptor = this.getComposite(viewContainer.id, location);
        if (compositeDescriptor) {
            const paneComposite = await this.openComposite(compositeDescriptor.id, location);
            if (paneComposite && paneComposite.openView) {
                return paneComposite.openView(id, focus) || null;
            }
            else if (focus) {
                paneComposite?.focus();
            }
        }
        return null;
    }
    closeView(id) {
        const viewContainer = this.viewDescriptorService.getViewContainerByViewId(id);
        if (viewContainer) {
            const activeViewPaneContainer = this.getActiveViewPaneContainer(viewContainer);
            if (activeViewPaneContainer) {
                const view = activeViewPaneContainer.getView(id);
                if (view) {
                    if (activeViewPaneContainer.views.length === 1) {
                        const location = this.viewDescriptorService.getViewContainerLocation(viewContainer);
                        if (location === 0 ) {
                            this.layoutService.setPartHidden(true, "workbench.parts.sidebar" );
                        }
                        else if (location === 1  || location === 2 ) {
                            this.paneCompositeService.hideActivePaneComposite(location);
                        }
                        if (this.focusedViewContextKey.get() === id) {
                            this.focusedViewContextKey.reset();
                        }
                    }
                    else {
                        view.setExpanded(false);
                    }
                }
            }
        }
    }
    getActiveViewPaneContainer(viewContainer) {
        const location = this.viewDescriptorService.getViewContainerLocation(viewContainer);
        if (location === null) {
            return null;
        }
        const activePaneComposite = this.paneCompositeService.getActivePaneComposite(location);
        if (activePaneComposite?.getId() === viewContainer.id) {
            return activePaneComposite.getViewPaneContainer() || null;
        }
        return null;
    }
    getViewProgressIndicator(viewId) {
        const viewContainer = this.viewDescriptorService.getViewContainerByViewId(viewId);
        if (!viewContainer) {
            return undefined;
        }
        const viewPaneContainer = this.viewPaneContainers.get(viewContainer.id);
        if (!viewPaneContainer) {
            return undefined;
        }
        const view = viewPaneContainer.getView(viewId);
        if (!view) {
            return undefined;
        }
        if (viewPaneContainer.isViewMergedWithContainer()) {
            return this.getViewContainerProgressIndicator(viewContainer);
        }
        return view.getProgressIndicator();
    }
    getViewContainerProgressIndicator(viewContainer) {
        const viewContainerLocation = this.viewDescriptorService.getViewContainerLocation(viewContainer);
        if (viewContainerLocation === null) {
            return undefined;
        }
        return this.paneCompositeService.getProgressIndicator(viewContainer.id, viewContainerLocation);
    }
    registerOpenViewContainerAction(viewContainer) {
        const disposables = ( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.DisposableStore()));
        if (viewContainer.openCommandActionDescriptor) {
            const { id, mnemonicTitle, keybindings, order } = viewContainer.openCommandActionDescriptor ?? { id: viewContainer.id };
            const title = viewContainer.openCommandActionDescriptor.title ?? viewContainer.title;
            const that = this;
            disposables.add((0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_10__.registerAction2)(class OpenViewContainerAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_10__.Action2 {
                constructor() {
                    super({
                        id,
                        get title() {
                            const viewContainerLocation = that.viewDescriptorService.getViewContainerLocation(viewContainer);
                            const localizedTitle = typeof title === 'string' ? title : title.value;
                            const originalTitle = typeof title === 'string' ? title : title.original;
                            if (viewContainerLocation === 0 ) {
                                return { value: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_11__.localize)(4231, "Show {0}", localizedTitle)), original: `Show ${originalTitle}` };
                            }
                            else {
                                return { value: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_11__.localize)(4232, "Toggle {0}", localizedTitle)), original: `Toggle ${originalTitle}` };
                            }
                        },
                        category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_21__.Categories.View,
                        precondition: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_6__.ContextKeyExpr.has(getEnabledViewContainerContextKey(viewContainer.id)))),
                        keybinding: keybindings ? { ...keybindings, weight: 200  } : undefined,
                        f1: true
                    });
                }
                async run(serviceAccessor) {
                    const editorGroupService = serviceAccessor.get(_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_22__.IEditorGroupsService);
                    const viewDescriptorService = serviceAccessor.get(_common_views_service_js__WEBPACK_IMPORTED_MODULE_2__.IViewDescriptorService);
                    const layoutService = serviceAccessor.get(_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_19__.IWorkbenchLayoutService);
                    const viewsService = serviceAccessor.get(_common_viewsService_service_js__WEBPACK_IMPORTED_MODULE_26__.IViewsService);
                    const viewContainerLocation = viewDescriptorService.getViewContainerLocation(viewContainer);
                    switch (viewContainerLocation) {
                        case 2 :
                        case 0 : {
                            const part = viewContainerLocation === 0  ? "workbench.parts.sidebar"  : "workbench.parts.auxiliarybar" ;
                            if (!viewsService.isViewContainerVisible(viewContainer.id) || !layoutService.hasFocus(part)) {
                                await viewsService.openViewContainer(viewContainer.id, true);
                            }
                            else {
                                editorGroupService.activeGroup.focus();
                            }
                            break;
                        }
                        case 1 :
                            if (!viewsService.isViewContainerVisible(viewContainer.id) || !layoutService.hasFocus("workbench.parts.panel" )) {
                                await viewsService.openViewContainer(viewContainer.id, true);
                            }
                            else {
                                viewsService.closeViewContainer(viewContainer.id);
                            }
                            break;
                    }
                }
            }));
            if (mnemonicTitle) {
                const defaultLocation = this.viewDescriptorService.getDefaultViewContainerLocation(viewContainer);
                disposables.add(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_10__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_10__.MenuId.MenubarViewMenu, {
                    command: {
                        id,
                        title: mnemonicTitle,
                    },
                    group: defaultLocation === 0  ? '3_views' : '4_panels',
                    when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_6__.ContextKeyExpr.has(getEnabledViewContainerContextKey(viewContainer.id)))),
                    order: order ?? Number.MAX_VALUE
                }));
            }
        }
        return disposables;
    }
    registerOpenViewAction(viewDescriptor) {
        const disposables = ( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.DisposableStore()));
        if (viewDescriptor.openCommandActionDescriptor) {
            const title = viewDescriptor.openCommandActionDescriptor.title ?? viewDescriptor.name;
            const commandId = viewDescriptor.openCommandActionDescriptor.id;
            const that = this;
            disposables.add((0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_10__.registerAction2)(class OpenViewAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_10__.Action2 {
                constructor() {
                    super({
                        id: commandId,
                        get title() {
                            const viewContainerLocation = that.viewDescriptorService.getViewLocationById(viewDescriptor.id);
                            const localizedTitle = typeof title === 'string' ? title : title.value;
                            const originalTitle = typeof title === 'string' ? title : title.original;
                            if (viewContainerLocation === 0 ) {
                                return { value: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_11__.localize)(4231, "Show {0}", localizedTitle)), original: `Show ${originalTitle}` };
                            }
                            else {
                                return { value: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_11__.localize)(4232, "Toggle {0}", localizedTitle)), original: `Toggle ${originalTitle}` };
                            }
                        },
                        category: _platform_action_common_actionCommonCategories_js__WEBPACK_IMPORTED_MODULE_21__.Categories.View,
                        precondition: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_6__.ContextKeyExpr.has(`${viewDescriptor.id}.active`))),
                        keybinding: viewDescriptor.openCommandActionDescriptor.keybindings ? { ...viewDescriptor.openCommandActionDescriptor.keybindings, weight: 200  } : undefined,
                        f1: true
                    });
                }
                async run(serviceAccessor) {
                    const editorGroupService = serviceAccessor.get(_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_22__.IEditorGroupsService);
                    const viewDescriptorService = serviceAccessor.get(_common_views_service_js__WEBPACK_IMPORTED_MODULE_2__.IViewDescriptorService);
                    const layoutService = serviceAccessor.get(_layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_19__.IWorkbenchLayoutService);
                    const viewsService = serviceAccessor.get(_common_viewsService_service_js__WEBPACK_IMPORTED_MODULE_26__.IViewsService);
                    const contextKeyService = serviceAccessor.get(_platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_7__.IContextKeyService);
                    const focusedViewId = _common_contextkeys_js__WEBPACK_IMPORTED_MODULE_3__.FocusedViewContext.getValue(contextKeyService);
                    if (focusedViewId === viewDescriptor.id) {
                        const viewLocation = viewDescriptorService.getViewLocationById(viewDescriptor.id);
                        if (viewDescriptorService.getViewLocationById(viewDescriptor.id) === 0 ) {
                            editorGroupService.activeGroup.focus();
                        }
                        else if (viewLocation !== null) {
                            layoutService.setPartHidden(true, getPartByLocation(viewLocation));
                        }
                    }
                    else {
                        viewsService.openView(viewDescriptor.id, true);
                    }
                }
            }));
            if (viewDescriptor.openCommandActionDescriptor.mnemonicTitle) {
                const defaultViewContainer = this.viewDescriptorService.getDefaultContainerById(viewDescriptor.id);
                if (defaultViewContainer) {
                    const defaultLocation = this.viewDescriptorService.getDefaultViewContainerLocation(defaultViewContainer);
                    disposables.add(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_10__.MenuRegistry.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_10__.MenuId.MenubarViewMenu, {
                        command: {
                            id: commandId,
                            title: viewDescriptor.openCommandActionDescriptor.mnemonicTitle,
                        },
                        group: defaultLocation === 0  ? '3_views' : '4_panels',
                        when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_6__.ContextKeyExpr.has(`${viewDescriptor.id}.active`))),
                        order: viewDescriptor.openCommandActionDescriptor.order ?? Number.MAX_VALUE
                    }));
                }
            }
        }
        return disposables;
    }
    registerFocusViewAction(viewDescriptor, category) {
        return (0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_10__.registerAction2)(class FocusViewAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_10__.Action2 {
            constructor() {
                const title = ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_11__.localize2)(4233, "Focus on {0} View", viewDescriptor.name.value));
                super({
                    id: viewDescriptor.focusCommand ? viewDescriptor.focusCommand.id : `${viewDescriptor.id}.focus`,
                    title,
                    category,
                    menu: [{
                            id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_10__.MenuId.CommandPalette,
                            when: viewDescriptor.when,
                        }],
                    keybinding: {
                        when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_6__.ContextKeyExpr.has(`${viewDescriptor.id}.active`))),
                        weight: 200 ,
                        primary: viewDescriptor.focusCommand?.keybindings?.primary,
                        secondary: viewDescriptor.focusCommand?.keybindings?.secondary,
                        linux: viewDescriptor.focusCommand?.keybindings?.linux,
                        mac: viewDescriptor.focusCommand?.keybindings?.mac,
                        win: viewDescriptor.focusCommand?.keybindings?.win
                    },
                    metadata: {
                        description: title.value,
                        args: [
                            {
                                name: 'focusOptions',
                                description: 'Focus Options',
                                schema: {
                                    type: 'object',
                                    properties: {
                                        'preserveFocus': {
                                            type: 'boolean',
                                            default: false
                                        }
                                    },
                                }
                            }
                        ]
                    }
                });
            }
            run(accessor, options) {
                accessor.get(_common_viewsService_service_js__WEBPACK_IMPORTED_MODULE_26__.IViewsService).openView(viewDescriptor.id, !options?.preserveFocus);
            }
        });
    }
    registerResetViewLocationAction(viewDescriptor) {
        return (0,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_10__.registerAction2)(class ResetViewLocationAction extends _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_10__.Action2 {
            constructor() {
                super({
                    id: `${viewDescriptor.id}.resetViewLocation`,
                    title: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_11__.localize2)(4234, "Reset Location")),
                    menu: [{
                            id: _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_10__.MenuId.ViewTitleContext,
                            when: ( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_6__.ContextKeyExpr.or( (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_6__.ContextKeyExpr.and(
                                 (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_6__.ContextKeyExpr.equals('view', viewDescriptor.id)),
                                 (_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_6__.ContextKeyExpr.equals(`${viewDescriptor.id}.defaultViewLocation`, false))
                            ))))),
                            group: '1_hide',
                            order: 2
                        }],
                });
            }
            run(accessor) {
                const viewDescriptorService = accessor.get(_common_views_service_js__WEBPACK_IMPORTED_MODULE_2__.IViewDescriptorService);
                const defaultContainer = viewDescriptorService.getDefaultContainerById(viewDescriptor.id);
                const containerModel = viewDescriptorService.getViewContainerModel(defaultContainer);
                if (defaultContainer.hideIfEmpty && containerModel.visibleViewDescriptors.length === 0) {
                    const defaultLocation = viewDescriptorService.getDefaultViewContainerLocation(defaultContainer);
                    viewDescriptorService.moveViewContainerToLocation(defaultContainer, defaultLocation, undefined, this.desc.id);
                }
                viewDescriptorService.moveViewsToContainer([viewDescriptor], viewDescriptorService.getDefaultContainerById(viewDescriptor.id), undefined, this.desc.id);
                accessor.get(_common_viewsService_service_js__WEBPACK_IMPORTED_MODULE_26__.IViewsService).openView(viewDescriptor.id, true);
            }
        });
    }
    registerPaneComposite(viewContainer, viewContainerLocation) {
        const that = this;
        let PaneContainer = class PaneContainer extends _browser_panecomposite_js__WEBPACK_IMPORTED_MODULE_18__.PaneComposite {
            constructor(telemetryService, contextService, storageService, instantiationService, themeService, contextMenuService, extensionService) {
                super(viewContainer.id, telemetryService, storageService, instantiationService, themeService, contextMenuService, extensionService, contextService);
            }
            createViewPaneContainer(element) {
                const viewPaneContainerDisposables = this._register(( (new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.DisposableStore())));
                const viewPaneContainer = that.createViewPaneContainer(element, viewContainer, viewContainerLocation, viewPaneContainerDisposables, this.instantiationService);
                if (!(viewPaneContainer instanceof _browser_parts_views_viewsViewlet_js__WEBPACK_IMPORTED_MODULE_23__.FilterViewPaneContainer)) {
                    viewPaneContainerDisposables.add(_base_common_event_js__WEBPACK_IMPORTED_MODULE_8__.Event.any(viewPaneContainer.onDidAddViews, viewPaneContainer.onDidRemoveViews, viewPaneContainer.onTitleAreaUpdate)(() => {
                        this.updateTitleArea();
                    }));
                }
                return viewPaneContainer;
            }
        };
        PaneContainer = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
            ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, _platform_telemetry_common_telemetry_service_js__WEBPACK_IMPORTED_MODULE_13__.ITelemetryService))),
            ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _platform_workspace_common_workspace_service_js__WEBPACK_IMPORTED_MODULE_17__.IWorkspaceContextService))),
            ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_storage_common_storage_service_js__WEBPACK_IMPORTED_MODULE_5__.IStorageService))),
            ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_12__.IInstantiationService))),
            ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_14__.IThemeService))),
            ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _platform_contextview_browser_contextView_service_js__WEBPACK_IMPORTED_MODULE_15__.IContextMenuService))),
            ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _extensions_common_extensions_service_js__WEBPACK_IMPORTED_MODULE_16__.IExtensionService)))
        ], PaneContainer)));
        ( (_platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_4__.Registry.as(getPaneCompositeExtension(viewContainerLocation)))).registerPaneComposite(_browser_panecomposite_js__WEBPACK_IMPORTED_MODULE_18__.PaneCompositeDescriptor.create(PaneContainer, viewContainer.id, typeof viewContainer.title === 'string' ? viewContainer.title : viewContainer.title.value, (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_9__.isString)(viewContainer.icon) ? viewContainer.icon : undefined, viewContainer.order, viewContainer.requestedIndex, viewContainer.icon instanceof _base_common_uri_js__WEBPACK_IMPORTED_MODULE_20__.URI ? viewContainer.icon : undefined));
    }
    deregisterPaneComposite(viewContainer, viewContainerLocation) {
        ( (_platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_4__.Registry.as(getPaneCompositeExtension(viewContainerLocation)))).deregisterPaneComposite(viewContainer.id);
    }
    createViewPaneContainer(element, viewContainer, viewContainerLocation, disposables, instantiationService) {
        const viewPaneContainer = instantiationService.createInstance(viewContainer.ctorDescriptor.ctor, ...(viewContainer.ctorDescriptor.staticArguments || []));
        this.viewPaneContainers.set(viewPaneContainer.getId(), viewPaneContainer);
        disposables.add((0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.toDisposable)(() => this.viewPaneContainers.delete(viewPaneContainer.getId())));
        disposables.add(viewPaneContainer.onDidAddViews(views => this.onViewsAdded(views)));
        disposables.add(viewPaneContainer.onDidChangeViewVisibility(view => this.onViewsVisibilityChanged(view, view.isBodyVisible())));
        disposables.add(viewPaneContainer.onDidRemoveViews(views => this.onViewsRemoved(views)));
        disposables.add(viewPaneContainer.onDidFocusView(view => {
            if (this.focusedViewContextKey.get() !== view.id) {
                this.focusedViewContextKey.set(view.id);
                this._onDidChangeFocusedView.fire();
            }
        }));
        disposables.add(viewPaneContainer.onDidBlurView(view => {
            if (this.focusedViewContextKey.get() === view.id) {
                this.focusedViewContextKey.reset();
                this._onDidChangeFocusedView.fire();
            }
        }));
        return viewPaneContainer;
    }
};
ViewsService = ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, _common_views_service_js__WEBPACK_IMPORTED_MODULE_2__.IViewDescriptorService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _panecomposite_browser_panecomposite_service_js__WEBPACK_IMPORTED_MODULE_24__.IPaneCompositePartService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_contextkey_common_contextkey_service_js__WEBPACK_IMPORTED_MODULE_7__.IContextKeyService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _layout_browser_layoutService_service_js__WEBPACK_IMPORTED_MODULE_19__.IWorkbenchLayoutService))),
    ( ((0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_25__.IEditorService)))
], ViewsService)));
function getEnabledViewContainerContextKey(viewContainerId) { return `viewContainer.${viewContainerId}.enabled`; }
function getPaneCompositeExtension(viewContainerLocation) {
    switch (viewContainerLocation) {
        case 2 :
            return _browser_panecomposite_js__WEBPACK_IMPORTED_MODULE_18__.Extensions.Auxiliary;
        case 1 :
            return _browser_panecomposite_js__WEBPACK_IMPORTED_MODULE_18__.Extensions.Panels;
        case 0 :
        default:
            return _browser_panecomposite_js__WEBPACK_IMPORTED_MODULE_18__.Extensions.Viewlets;
    }
}
function getPartByLocation(viewContainerLocation) {
    switch (viewContainerLocation) {
        case 2 :
            return "workbench.parts.auxiliarybar" ;
        case 1 :
            return "workbench.parts.panel" ;
        case 0 :
        default:
            return "workbench.parts.sidebar" ;
    }
}



/***/ })

}])
//# sourceMappingURL=vendors-node_modules_codingame_monaco-vscode-view-common-service-override_index_js.immt_editor.js.map