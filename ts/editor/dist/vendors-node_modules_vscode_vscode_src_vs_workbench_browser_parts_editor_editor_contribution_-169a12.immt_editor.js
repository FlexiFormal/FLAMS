(self["webpackChunkimmt_editor"] = self["webpackChunkimmt_editor"] || []).push([["vendors-node_modules_vscode_vscode_src_vs_workbench_browser_parts_editor_editor_contribution_-169a12"],{

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editor.contribution._autosave.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editor.contribution._autosave.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _editorAutoSave_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editorAutoSave.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorAutoSave.js");
/* harmony import */ var _common_contributions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../common/contributions.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/contributions.js");


(0,_common_contributions_js__WEBPACK_IMPORTED_MODULE_1__.registerWorkbenchContribution2)(_editorAutoSave_js__WEBPACK_IMPORTED_MODULE_0__.EditorAutoSave.ID, _editorAutoSave_js__WEBPACK_IMPORTED_MODULE_0__.EditorAutoSave, 2 );


/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorAutoSave.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorAutoSave.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EditorAutoSave: () => (/* binding */ EditorAutoSave)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _services_filesConfiguration_common_filesConfigurationService_service_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/filesConfiguration/common/filesConfigurationService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/filesConfiguration/common/filesConfigurationService.service.js");
/* harmony import */ var _services_host_browser_host_service_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/host/browser/host.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/host/browser/host.service.js");
/* harmony import */ var _services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/editor/common/editorService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");
/* harmony import */ var _services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/editor/common/editorGroupsService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorGroupsService.service.js");
/* harmony import */ var _services_workingCopy_common_workingCopyService_service_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/workingCopy/common/workingCopyService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/workingCopy/common/workingCopyService.service.js");
/* harmony import */ var _platform_log_common_log_service_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../platform/log/common/log.service.js */ "./node_modules/vscode/vscode/src/vs/platform/log/common/log.service.js");
/* harmony import */ var _platform_markers_common_markers_service_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../platform/markers/common/markers.service.js */ "./node_modules/vscode/vscode/src/vs/platform/markers/common/markers.service.js");
/* harmony import */ var _base_common_map_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../base/common/map.js */ "./node_modules/vscode/vscode/src/vs/base/common/map.js");
/* harmony import */ var _platform_uriIdentity_common_uriIdentity_service_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../platform/uriIdentity/common/uriIdentity.service.js */ "./node_modules/vscode/vscode/src/vs/platform/uriIdentity/common/uriIdentity.service.js");











let EditorAutoSave = class EditorAutoSave extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.Disposable {
    static { this.ID = 'workbench.contrib.editorAutoSave'; }
    constructor(filesConfigurationService, hostService, editorService, editorGroupService, workingCopyService, logService, markerService, uriIdentityService) {
        super();
        this.filesConfigurationService = filesConfigurationService;
        this.hostService = hostService;
        this.editorService = editorService;
        this.editorGroupService = editorGroupService;
        this.workingCopyService = workingCopyService;
        this.logService = logService;
        this.markerService = markerService;
        this.uriIdentityService = uriIdentityService;
        this.scheduledAutoSavesAfterDelay = ( new Map());
        this.lastActiveEditor = undefined;
        this.lastActiveGroupId = undefined;
        this.lastActiveEditorControlDisposable = this._register(( new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.DisposableStore()));
        this.waitingOnConditionAutoSaveWorkingCopies = ( new _base_common_map_js__WEBPACK_IMPORTED_MODULE_9__.ResourceMap(resource => this.uriIdentityService.extUri.getComparisonKey(resource)));
        this.waitingOnConditionAutoSaveEditors = ( new _base_common_map_js__WEBPACK_IMPORTED_MODULE_9__.ResourceMap(resource => this.uriIdentityService.extUri.getComparisonKey(resource)));
        for (const dirtyWorkingCopy of this.workingCopyService.dirtyWorkingCopies) {
            this.onDidRegister(dirtyWorkingCopy);
        }
        this.registerListeners();
    }
    registerListeners() {
        this._register(this.hostService.onDidChangeFocus(focused => this.onWindowFocusChange(focused)));
        this._register(this.hostService.onDidChangeActiveWindow(() => this.onActiveWindowChange()));
        this._register(this.editorService.onDidActiveEditorChange(() => this.onDidActiveEditorChange()));
        this._register(this.filesConfigurationService.onDidChangeAutoSaveConfiguration(() => this.onDidChangeAutoSaveConfiguration()));
        this._register(this.workingCopyService.onDidRegister(workingCopy => this.onDidRegister(workingCopy)));
        this._register(this.workingCopyService.onDidUnregister(workingCopy => this.onDidUnregister(workingCopy)));
        this._register(this.workingCopyService.onDidChangeDirty(workingCopy => this.onDidChangeDirty(workingCopy)));
        this._register(this.workingCopyService.onDidChangeContent(workingCopy => this.onDidChangeContent(workingCopy)));
        this._register(this.markerService.onMarkerChanged(e => this.onConditionChanged(e, 3 )));
        this._register(this.filesConfigurationService.onDidChangeAutoSaveDisabled(resource => this.onConditionChanged([resource], 4 )));
    }
    onConditionChanged(resources, condition) {
        for (const resource of resources) {
            const workingCopyResult = this.waitingOnConditionAutoSaveWorkingCopies.get(resource);
            if (workingCopyResult?.condition === condition) {
                if (workingCopyResult.workingCopy.isDirty() &&
                    this.filesConfigurationService.getAutoSaveMode(workingCopyResult.workingCopy.resource, workingCopyResult.reason).mode !== 0 ) {
                    this.discardAutoSave(workingCopyResult.workingCopy);
                    this.logService.trace(`[editor auto save] running auto save from condition change event`, ( workingCopyResult.workingCopy.resource.toString()), workingCopyResult.workingCopy.typeId);
                    workingCopyResult.workingCopy.save({ reason: workingCopyResult.reason });
                }
            }
            else {
                const editorResult = this.waitingOnConditionAutoSaveEditors.get(resource);
                if (editorResult?.condition === condition &&
                    !editorResult.editor.editor.isDisposed() &&
                    editorResult.editor.editor.isDirty() &&
                    this.filesConfigurationService.getAutoSaveMode(editorResult.editor.editor, editorResult.reason).mode !== 0 ) {
                    this.waitingOnConditionAutoSaveEditors.delete(resource);
                    this.logService.trace(`[editor auto save] running auto save from condition change event with reason ${editorResult.reason}`);
                    this.editorService.save(editorResult.editor, { reason: editorResult.reason });
                }
            }
        }
    }
    onWindowFocusChange(focused) {
        if (!focused) {
            this.maybeTriggerAutoSave(4 );
        }
    }
    onActiveWindowChange() {
        this.maybeTriggerAutoSave(4 );
    }
    onDidActiveEditorChange() {
        if (this.lastActiveEditor && typeof this.lastActiveGroupId === 'number') {
            this.maybeTriggerAutoSave(3 , { groupId: this.lastActiveGroupId, editor: this.lastActiveEditor });
        }
        const activeGroup = this.editorGroupService.activeGroup;
        const activeEditor = this.lastActiveEditor = activeGroup.activeEditor ?? undefined;
        this.lastActiveGroupId = activeGroup.id;
        this.lastActiveEditorControlDisposable.clear();
        const activeEditorPane = this.editorService.activeEditorPane;
        if (activeEditor && activeEditorPane) {
            this.lastActiveEditorControlDisposable.add(activeEditorPane.onDidBlur(() => {
                this.maybeTriggerAutoSave(3 , { groupId: activeGroup.id, editor: activeEditor });
            }));
        }
    }
    maybeTriggerAutoSave(reason, editorIdentifier) {
        if (editorIdentifier) {
            if (!editorIdentifier.editor.isDirty() ||
                editorIdentifier.editor.isReadonly() ||
                editorIdentifier.editor.hasCapability(4 )) {
                return;
            }
            const autoSaveMode = this.filesConfigurationService.getAutoSaveMode(editorIdentifier.editor, reason);
            if (autoSaveMode.mode !== 0 ) {
                if ((reason === 4  && ((autoSaveMode.mode === 3  || autoSaveMode.mode === 4) )) ||
                    ((reason === 3  && autoSaveMode.mode === 3) )) {
                    this.logService.trace(`[editor auto save] triggering auto save with reason ${reason}`);
                    this.editorService.save(editorIdentifier, { reason });
                }
            }
            else if (editorIdentifier.editor.resource && ((autoSaveMode.reason === 3  || autoSaveMode.reason === 4) )) {
                this.waitingOnConditionAutoSaveEditors.set(editorIdentifier.editor.resource, { editor: editorIdentifier, reason, condition: autoSaveMode.reason });
            }
        }
        else {
            this.saveAllDirtyAutoSaveables(reason);
        }
    }
    onDidChangeAutoSaveConfiguration() {
        let reason = undefined;
        switch (this.filesConfigurationService.getAutoSaveMode(undefined).mode) {
            case 3 :
                reason = 3 ;
                break;
            case 4 :
                reason = 4 ;
                break;
            case 1 :
            case 2 :
                reason = 2 ;
                break;
        }
        if (reason) {
            this.saveAllDirtyAutoSaveables(reason);
        }
    }
    saveAllDirtyAutoSaveables(reason) {
        for (const workingCopy of this.workingCopyService.dirtyWorkingCopies) {
            if (workingCopy.capabilities & 2 ) {
                continue;
            }
            const autoSaveMode = this.filesConfigurationService.getAutoSaveMode(workingCopy.resource, reason);
            if (autoSaveMode.mode !== 0 ) {
                workingCopy.save({ reason });
            }
            else if (autoSaveMode.reason === 3  || autoSaveMode.reason === 4 ) {
                this.waitingOnConditionAutoSaveWorkingCopies.set(workingCopy.resource, { workingCopy, reason, condition: autoSaveMode.reason });
            }
        }
    }
    onDidRegister(workingCopy) {
        if (workingCopy.isDirty()) {
            this.scheduleAutoSave(workingCopy);
        }
    }
    onDidUnregister(workingCopy) {
        this.discardAutoSave(workingCopy);
    }
    onDidChangeDirty(workingCopy) {
        if (workingCopy.isDirty()) {
            this.scheduleAutoSave(workingCopy);
        }
        else {
            this.discardAutoSave(workingCopy);
        }
    }
    onDidChangeContent(workingCopy) {
        if (workingCopy.isDirty()) {
            this.scheduleAutoSave(workingCopy);
        }
    }
    scheduleAutoSave(workingCopy) {
        if (workingCopy.capabilities & 2 ) {
            return;
        }
        const autoSaveAfterDelay = this.filesConfigurationService.getAutoSaveConfiguration(workingCopy.resource).autoSaveDelay;
        if (typeof autoSaveAfterDelay !== 'number') {
            return;
        }
        this.discardAutoSave(workingCopy);
        this.logService.trace(`[editor auto save] scheduling auto save after ${autoSaveAfterDelay}ms`, ( workingCopy.resource.toString()), workingCopy.typeId);
        const handle = setTimeout(() => {
            this.discardAutoSave(workingCopy);
            if (workingCopy.isDirty()) {
                const reason = 2 ;
                const autoSaveMode = this.filesConfigurationService.getAutoSaveMode(workingCopy.resource, reason);
                if (autoSaveMode.mode !== 0 ) {
                    this.logService.trace(`[editor auto save] running auto save`, ( workingCopy.resource.toString()), workingCopy.typeId);
                    workingCopy.save({ reason });
                }
                else if (autoSaveMode.reason === 3  || autoSaveMode.reason === 4 ) {
                    this.waitingOnConditionAutoSaveWorkingCopies.set(workingCopy.resource, { workingCopy, reason, condition: autoSaveMode.reason });
                }
            }
        }, autoSaveAfterDelay);
        this.scheduledAutoSavesAfterDelay.set(workingCopy, (0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.toDisposable)(() => {
            this.logService.trace(`[editor auto save] clearing pending auto save`, ( workingCopy.resource.toString()), workingCopy.typeId);
            clearTimeout(handle);
        }));
    }
    discardAutoSave(workingCopy) {
        (0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.dispose)(this.scheduledAutoSavesAfterDelay.get(workingCopy));
        this.scheduledAutoSavesAfterDelay.delete(workingCopy);
        this.waitingOnConditionAutoSaveWorkingCopies.delete(workingCopy.resource);
        this.waitingOnConditionAutoSaveEditors.delete(workingCopy.resource);
    }
};
EditorAutoSave = ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, _services_filesConfiguration_common_filesConfigurationService_service_js__WEBPACK_IMPORTED_MODULE_2__.IFilesConfigurationService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _services_host_browser_host_service_js__WEBPACK_IMPORTED_MODULE_3__.IHostService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_4__.IEditorService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_5__.IEditorGroupsService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _services_workingCopy_common_workingCopyService_service_js__WEBPACK_IMPORTED_MODULE_6__.IWorkingCopyService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _platform_log_common_log_service_js__WEBPACK_IMPORTED_MODULE_7__.ILogService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _platform_markers_common_markers_service_js__WEBPACK_IMPORTED_MODULE_8__.IMarkerService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, _platform_uriIdentity_common_uriIdentity_service_js__WEBPACK_IMPORTED_MODULE_10__.IUriIdentityService))
], EditorAutoSave));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorsObserver.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorsObserver.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EditorsObserver: () => (/* binding */ EditorsObserver)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _common_editor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../common/editor.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor.js");
/* harmony import */ var _common_editor_sideBySideEditorInput_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../common/editor/sideBySideEditorInput.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/sideBySideEditorInput.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _platform_storage_common_storage_service_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../platform/storage/common/storage.service.js */ "./node_modules/vscode/vscode/src/vs/platform/storage/common/storage.service.js");
/* harmony import */ var _platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../platform/registry/common/platform.js */ "./node_modules/vscode/vscode/src/vs/platform/registry/common/platform.js");
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../base/common/event.js */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var _services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../services/editor/common/editorGroupsService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorGroupsService.service.js");
/* harmony import */ var _base_common_arrays_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../base/common/arrays.js */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var _base_common_map_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../base/common/map.js */ "./node_modules/vscode/vscode/src/vs/base/common/map.js");
/* harmony import */ var _base_common_objects_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../base/common/objects.js */ "./node_modules/vscode/vscode/src/vs/base/common/objects.js");











var EditorsObserver_1;
let EditorsObserver = class EditorsObserver extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.Disposable {
    static { EditorsObserver_1 = this; }
    static { this.STORAGE_KEY = 'editors.mru'; }
    get count() {
        return this.mostRecentEditorsMap.size;
    }
    get editors() {
        return [...( this.mostRecentEditorsMap.values())];
    }
    hasEditor(editor) {
        const editors = this.editorsPerResourceCounter.get(editor.resource);
        return editors?.has(this.toIdentifier(editor)) ?? false;
    }
    hasEditors(resource) {
        return ( this.editorsPerResourceCounter.has(resource));
    }
    toIdentifier(arg1, editorId) {
        if (typeof arg1 !== 'string') {
            return this.toIdentifier(arg1.typeId, arg1.editorId);
        }
        if (editorId) {
            return `${arg1}/${editorId}`;
        }
        return arg1;
    }
    constructor(editorGroupsContainer, editorGroupService, storageService) {
        super();
        this.editorGroupService = editorGroupService;
        this.storageService = storageService;
        this.keyMap = ( new Map());
        this.mostRecentEditorsMap = ( new _base_common_map_js__WEBPACK_IMPORTED_MODULE_9__.LinkedMap());
        this.editorsPerResourceCounter = ( new _base_common_map_js__WEBPACK_IMPORTED_MODULE_9__.ResourceMap());
        this._onDidMostRecentlyActiveEditorsChange = this._register(( new _base_common_event_js__WEBPACK_IMPORTED_MODULE_6__.Emitter()));
        this.onDidMostRecentlyActiveEditorsChange = this._onDidMostRecentlyActiveEditorsChange.event;
        this.editorGroupsContainer = editorGroupsContainer ?? editorGroupService;
        this.isScoped = !!editorGroupsContainer;
        this.registerListeners();
        this.loadState();
    }
    registerListeners() {
        this._register(this.editorGroupsContainer.onDidAddGroup(group => this.onGroupAdded(group)));
        this._register(this.editorGroupService.onDidChangeEditorPartOptions(e => this.onDidChangeEditorPartOptions(e)));
        this._register(this.storageService.onWillSaveState(() => this.saveState()));
    }
    onGroupAdded(group) {
        const groupEditorsMru = group.getEditors(0 );
        for (let i = groupEditorsMru.length - 1; i >= 0; i--) {
            this.addMostRecentEditor(group, groupEditorsMru[i], false , true );
        }
        if (this.editorGroupsContainer.activeGroup === group && group.activeEditor) {
            this.addMostRecentEditor(group, group.activeEditor, true , false );
        }
        this.registerGroupListeners(group);
    }
    registerGroupListeners(group) {
        const groupDisposables = ( new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.DisposableStore());
        groupDisposables.add(group.onDidModelChange(e => {
            switch (e.kind) {
                case 0 : {
                    if (this.editorGroupsContainer.activeGroup === group && group.activeEditor) {
                        this.addMostRecentEditor(group, group.activeEditor, true , false );
                    }
                    break;
                }
                case 5 : {
                    if (e.editor) {
                        this.addMostRecentEditor(group, e.editor, false , true );
                        this.ensureOpenedEditorsLimit({ groupId: group.id, editor: e.editor }, group.id);
                    }
                    break;
                }
            }
        }));
        groupDisposables.add(group.onDidCloseEditor(e => {
            this.removeMostRecentEditor(group, e.editor);
        }));
        groupDisposables.add(group.onDidActiveEditorChange(e => {
            if (e.editor) {
                this.addMostRecentEditor(group, e.editor, this.editorGroupsContainer.activeGroup === group, false );
            }
        }));
        _base_common_event_js__WEBPACK_IMPORTED_MODULE_6__.Event.once(group.onWillDispose)(() => (0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.dispose)(groupDisposables));
    }
    onDidChangeEditorPartOptions(event) {
        if (!(0,_base_common_objects_js__WEBPACK_IMPORTED_MODULE_10__.equals)(event.newPartOptions.limit, event.oldPartOptions.limit)) {
            const activeGroup = this.editorGroupsContainer.activeGroup;
            let exclude = undefined;
            if (activeGroup.activeEditor) {
                exclude = { editor: activeGroup.activeEditor, groupId: activeGroup.id };
            }
            this.ensureOpenedEditorsLimit(exclude);
        }
    }
    addMostRecentEditor(group, editor, isActive, isNew) {
        const key = this.ensureKey(group, editor);
        const mostRecentEditor = this.mostRecentEditorsMap.first;
        if (isActive || !mostRecentEditor) {
            this.mostRecentEditorsMap.set(key, key, mostRecentEditor ? 1  : undefined);
        }
        else {
            this.mostRecentEditorsMap.set(key, key, 1 );
            this.mostRecentEditorsMap.set(mostRecentEditor, mostRecentEditor, 1 );
        }
        if (isNew) {
            this.updateEditorResourcesMap(editor, true);
        }
        this._onDidMostRecentlyActiveEditorsChange.fire();
    }
    updateEditorResourcesMap(editor, add) {
        let resource = undefined;
        let typeId = undefined;
        let editorId = undefined;
        if (editor instanceof _common_editor_sideBySideEditorInput_js__WEBPACK_IMPORTED_MODULE_2__.SideBySideEditorInput) {
            resource = editor.primary.resource;
            typeId = editor.primary.typeId;
            editorId = editor.primary.editorId;
        }
        else {
            resource = editor.resource;
            typeId = editor.typeId;
            editorId = editor.editorId;
        }
        if (!resource) {
            return;
        }
        const identifier = this.toIdentifier(typeId, editorId);
        if (add) {
            let editorsPerResource = this.editorsPerResourceCounter.get(resource);
            if (!editorsPerResource) {
                editorsPerResource = ( new Map());
                this.editorsPerResourceCounter.set(resource, editorsPerResource);
            }
            editorsPerResource.set(identifier, (editorsPerResource.get(identifier) ?? 0) + 1);
        }
        else {
            const editorsPerResource = this.editorsPerResourceCounter.get(resource);
            if (editorsPerResource) {
                const counter = editorsPerResource.get(identifier) ?? 0;
                if (counter > 1) {
                    editorsPerResource.set(identifier, counter - 1);
                }
                else {
                    editorsPerResource.delete(identifier);
                    if (editorsPerResource.size === 0) {
                        this.editorsPerResourceCounter.delete(resource);
                    }
                }
            }
        }
    }
    removeMostRecentEditor(group, editor) {
        this.updateEditorResourcesMap(editor, false);
        const key = this.findKey(group, editor);
        if (key) {
            this.mostRecentEditorsMap.delete(key);
            const map = this.keyMap.get(group.id);
            if (map && map.delete(key.editor) && map.size === 0) {
                this.keyMap.delete(group.id);
            }
            this._onDidMostRecentlyActiveEditorsChange.fire();
        }
    }
    findKey(group, editor) {
        const groupMap = this.keyMap.get(group.id);
        if (!groupMap) {
            return undefined;
        }
        return groupMap.get(editor);
    }
    ensureKey(group, editor) {
        let groupMap = this.keyMap.get(group.id);
        if (!groupMap) {
            groupMap = ( new Map());
            this.keyMap.set(group.id, groupMap);
        }
        let key = groupMap.get(editor);
        if (!key) {
            key = { groupId: group.id, editor };
            groupMap.set(editor, key);
        }
        return key;
    }
    async ensureOpenedEditorsLimit(exclude, groupId) {
        if (!this.editorGroupService.partOptions.limit?.enabled ||
            typeof this.editorGroupService.partOptions.limit.value !== 'number' ||
            this.editorGroupService.partOptions.limit.value <= 0) {
            return;
        }
        const limit = this.editorGroupService.partOptions.limit.value;
        if (this.editorGroupService.partOptions.limit?.perEditorGroup) {
            if (typeof groupId === 'number') {
                const group = this.editorGroupsContainer.getGroup(groupId);
                if (group) {
                    await this.doEnsureOpenedEditorsLimit(limit, ( group.getEditors(0 ).map(editor => ({ editor, groupId }))), exclude);
                }
            }
            else {
                for (const group of this.editorGroupsContainer.groups) {
                    await this.ensureOpenedEditorsLimit(exclude, group.id);
                }
            }
        }
        else {
            await this.doEnsureOpenedEditorsLimit(limit, [...( this.mostRecentEditorsMap.values())], exclude);
        }
    }
    async doEnsureOpenedEditorsLimit(limit, mostRecentEditors, exclude) {
        let mostRecentEditorsCountingForLimit;
        if (this.editorGroupService.partOptions.limit?.excludeDirty) {
            mostRecentEditorsCountingForLimit = mostRecentEditors.filter(({ editor }) => {
                if ((editor.isDirty() && !editor.isSaving()) || editor.hasCapability(512 )) {
                    return false;
                }
                return true;
            });
        }
        else {
            mostRecentEditorsCountingForLimit = mostRecentEditors;
        }
        if (limit >= mostRecentEditorsCountingForLimit.length) {
            return;
        }
        const leastRecentlyClosableEditors = mostRecentEditorsCountingForLimit.reverse().filter(({ editor, groupId }) => {
            if ((editor.isDirty() && !editor.isSaving()) || editor.hasCapability(512 )) {
                return false;
            }
            if (exclude && editor === exclude.editor && groupId === exclude.groupId) {
                return false;
            }
            if (this.editorGroupsContainer.getGroup(groupId)?.isSticky(editor)) {
                return false;
            }
            return true;
        });
        let editorsToCloseCount = mostRecentEditorsCountingForLimit.length - limit;
        const mapGroupToEditorsToClose = ( new Map());
        for (const { groupId, editor } of leastRecentlyClosableEditors) {
            let editorsInGroupToClose = mapGroupToEditorsToClose.get(groupId);
            if (!editorsInGroupToClose) {
                editorsInGroupToClose = [];
                mapGroupToEditorsToClose.set(groupId, editorsInGroupToClose);
            }
            editorsInGroupToClose.push(editor);
            editorsToCloseCount--;
            if (editorsToCloseCount === 0) {
                break;
            }
        }
        for (const [groupId, editors] of mapGroupToEditorsToClose) {
            const group = this.editorGroupsContainer.getGroup(groupId);
            if (group) {
                await group.closeEditors(editors, { preserveFocus: true });
            }
        }
    }
    saveState() {
        if (this.isScoped) {
            return;
        }
        if (this.mostRecentEditorsMap.isEmpty()) {
            this.storageService.remove(EditorsObserver_1.STORAGE_KEY, 1 );
        }
        else {
            this.storageService.store(EditorsObserver_1.STORAGE_KEY, JSON.stringify(this.serialize()), 1 , 1 );
        }
    }
    serialize() {
        const registry = ( _platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_5__.Registry.as(_common_editor_js__WEBPACK_IMPORTED_MODULE_1__.EditorExtensions.EditorFactory));
        const entries = [...( this.mostRecentEditorsMap.values())];
        const mapGroupToSerializableEditorsOfGroup = ( new Map());
        return {
            entries: (0,_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_8__.coalesce)(( entries.map(({ editor, groupId }) => {
                const group = this.editorGroupsContainer.getGroup(groupId);
                if (!group) {
                    return undefined;
                }
                let serializableEditorsOfGroup = mapGroupToSerializableEditorsOfGroup.get(group);
                if (!serializableEditorsOfGroup) {
                    serializableEditorsOfGroup = group.getEditors(1 ).filter(editor => {
                        const editorSerializer = registry.getEditorSerializer(editor);
                        return editorSerializer?.canSerialize(editor);
                    });
                    mapGroupToSerializableEditorsOfGroup.set(group, serializableEditorsOfGroup);
                }
                const index = serializableEditorsOfGroup.indexOf(editor);
                if (index === -1) {
                    return undefined;
                }
                return { groupId, index };
            })))
        };
    }
    async loadState() {
        if (this.editorGroupsContainer === this.editorGroupService.mainPart || this.editorGroupsContainer === this.editorGroupService) {
            await this.editorGroupService.whenReady;
        }
        let hasRestorableState = false;
        if (!this.isScoped) {
            const serialized = this.storageService.get(EditorsObserver_1.STORAGE_KEY, 1 );
            if (serialized) {
                hasRestorableState = true;
                this.deserialize(JSON.parse(serialized));
            }
        }
        if (!hasRestorableState) {
            const groups = this.editorGroupsContainer.getGroups(1 );
            for (let i = groups.length - 1; i >= 0; i--) {
                const group = groups[i];
                const groupEditorsMru = group.getEditors(0 );
                for (let i = groupEditorsMru.length - 1; i >= 0; i--) {
                    this.addMostRecentEditor(group, groupEditorsMru[i], true , true );
                }
            }
        }
        for (const group of this.editorGroupsContainer.groups) {
            this.registerGroupListeners(group);
        }
    }
    deserialize(serialized) {
        const mapValues = [];
        for (const { groupId, index } of serialized.entries) {
            const group = this.editorGroupsContainer.getGroup(groupId);
            if (!group) {
                continue;
            }
            const editor = group.getEditorByIndex(index);
            if (!editor) {
                continue;
            }
            const editorIdentifier = this.ensureKey(group, editor);
            mapValues.push([editorIdentifier, editorIdentifier]);
            this.updateEditorResourcesMap(editor, true);
        }
        this.mostRecentEditorsMap.fromJSON(mapValues);
    }
};
EditorsObserver = EditorsObserver_1 = ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_7__.IEditorGroupsService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_storage_common_storage_service_js__WEBPACK_IMPORTED_MODULE_4__.IStorageService))
], EditorsObserver));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/binaryEditorModel.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/common/editor/binaryEditorModel.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BinaryEditorModel: () => (/* binding */ BinaryEditorModel)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _editorModel_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editorModel.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/editorModel.js");
/* harmony import */ var _platform_files_common_files_service_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../platform/files/common/files.service.js */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.service.js");
/* harmony import */ var _base_common_mime_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../base/common/mime.js */ "./node_modules/vscode/vscode/src/vs/base/common/mime.js");




let BinaryEditorModel = class BinaryEditorModel extends _editorModel_js__WEBPACK_IMPORTED_MODULE_1__.EditorModel {
    constructor(resource, name, fileService) {
        super();
        this.resource = resource;
        this.name = name;
        this.fileService = fileService;
        this.mime = _base_common_mime_js__WEBPACK_IMPORTED_MODULE_3__.Mimes.binary;
    }
    getName() {
        return this.name;
    }
    getSize() {
        return this.size;
    }
    getMime() {
        return this.mime;
    }
    getETag() {
        return this.etag;
    }
    async resolve() {
        if (this.fileService.hasProvider(this.resource)) {
            const stat = await this.fileService.stat(this.resource);
            this.etag = stat.etag;
            if (typeof stat.size === 'number') {
                this.size = stat.size;
            }
        }
        return super.resolve();
    }
};
BinaryEditorModel = ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_files_common_files_service_js__WEBPACK_IMPORTED_MODULE_2__.IFileService))
], BinaryEditorModel));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/editors/fileEditorInput.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/editors/fileEditorInput.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FileEditorInput: () => (/* binding */ FileEditorInput)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _common_editor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../common/editor.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor.js");
/* harmony import */ var _common_editor_textResourceEditorInput_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../common/editor/textResourceEditorInput.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/textResourceEditorInput.js");
/* harmony import */ var _common_editor_binaryEditorModel_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../common/editor/binaryEditorModel.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/binaryEditorModel.js");
/* harmony import */ var _platform_files_common_files_service_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../platform/files/common/files.service.js */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.service.js");
/* harmony import */ var _services_textfile_common_textfiles_service_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../services/textfile/common/textfiles.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/textfile/common/textfiles.service.js");
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../platform/instantiation/common/instantiation.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _editor_common_services_resolverService_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../editor/common/services/resolverService.js */ "./node_modules/vscode/vscode/src/vs/editor/common/services/resolverService.js");
/* harmony import */ var _common_files_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../common/files.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/common/files.js");
/* harmony import */ var _platform_label_common_label_service_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../platform/label/common/label.service.js */ "./node_modules/vscode/vscode/src/vs/platform/label/common/label.service.js");
/* harmony import */ var _services_filesConfiguration_common_filesConfigurationService_service_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../services/filesConfiguration/common/filesConfigurationService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/filesConfiguration/common/filesConfigurationService.service.js");
/* harmony import */ var _services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../services/editor/common/editorService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");
/* harmony import */ var _base_common_resources_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../base/common/resources.js */ "./node_modules/vscode/vscode/src/vs/base/common/resources.js");
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../../base/common/event.js */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var _base_common_network_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../../base/common/network.js */ "./node_modules/vscode/vscode/src/vs/base/common/network.js");
/* harmony import */ var _editor_common_model_textModel_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../../editor/common/model/textModel.js */ "./node_modules/vscode/vscode/src/vs/editor/common/model/textModel.js");
/* harmony import */ var _services_path_common_pathService_service_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../services/path/common/pathService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/path/common/pathService.service.js");
/* harmony import */ var _editor_common_services_textResourceConfiguration_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../../editor/common/services/textResourceConfiguration.js */ "./node_modules/vscode/vscode/src/vs/editor/common/services/textResourceConfiguration.js");
/* harmony import */ var _services_editor_common_customEditorLabelService_service_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../services/editor/common/customEditorLabelService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/customEditorLabelService.service.js");




















var FileEditorInput_1;
let FileEditorInput = FileEditorInput_1 = class FileEditorInput extends _common_editor_textResourceEditorInput_js__WEBPACK_IMPORTED_MODULE_2__.AbstractTextResourceEditorInput {
    get typeId() {
        return _common_files_js__WEBPACK_IMPORTED_MODULE_9__.FILE_EDITOR_INPUT_ID;
    }
    get editorId() {
        return _common_editor_js__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_EDITOR_ASSOCIATION.id;
    }
    get capabilities() {
        let capabilities = 32 ;
        if (this.model) {
            if (this.model.isReadonly()) {
                capabilities |= 2 ;
            }
        }
        else {
            if (this.fileService.hasProvider(this.resource)) {
                if (this.filesConfigurationService.isReadonly(this.resource)) {
                    capabilities |= 2 ;
                }
            }
            else {
                capabilities |= 4 ;
            }
        }
        if (!((capabilities & 2) )) {
            capabilities |= 128 ;
        }
        return capabilities;
    }
    constructor(resource, preferredResource, preferredName, preferredDescription, preferredEncoding, preferredLanguageId, preferredContents, instantiationService, textFileService, textModelService, labelService, fileService, filesConfigurationService, editorService, pathService, textResourceConfigurationService, customEditorLabelService) {
        super(resource, preferredResource, editorService, textFileService, labelService, fileService, filesConfigurationService, textResourceConfigurationService, customEditorLabelService);
        this.instantiationService = instantiationService;
        this.textModelService = textModelService;
        this.pathService = pathService;
        this.forceOpenAs = 0 ;
        this.model = undefined;
        this.cachedTextFileModelReference = undefined;
        this.modelListeners = this._register(( new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_7__.DisposableStore()));
        this.model = this.textFileService.files.get(resource);
        if (preferredName) {
            this.setPreferredName(preferredName);
        }
        if (preferredDescription) {
            this.setPreferredDescription(preferredDescription);
        }
        if (preferredEncoding) {
            this.setPreferredEncoding(preferredEncoding);
        }
        if (preferredLanguageId) {
            this.setPreferredLanguageId(preferredLanguageId);
        }
        if (typeof preferredContents === 'string') {
            this.setPreferredContents(preferredContents);
        }
        this._register(this.textFileService.files.onDidCreate(model => this.onDidCreateTextFileModel(model)));
        if (this.model) {
            this.registerModelListeners(this.model);
        }
    }
    onDidCreateTextFileModel(model) {
        if ((0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_13__.isEqual)(model.resource, this.resource)) {
            this.model = model;
            this.registerModelListeners(model);
        }
    }
    registerModelListeners(model) {
        this.modelListeners.clear();
        this.modelListeners.add(model.onDidChangeDirty(() => this._onDidChangeDirty.fire()));
        this.modelListeners.add(model.onDidChangeReadonly(() => this._onDidChangeCapabilities.fire()));
        this.modelListeners.add(model.onDidSaveError(() => this._onDidChangeDirty.fire()));
        this.modelListeners.add(_base_common_event_js__WEBPACK_IMPORTED_MODULE_14__.Event.once(model.onWillDispose)(() => {
            this.modelListeners.clear();
            this.model = undefined;
        }));
    }
    getName() {
        return this.preferredName || super.getName();
    }
    setPreferredName(name) {
        if (!this.allowLabelOverride()) {
            return;
        }
        if (this.preferredName !== name) {
            this.preferredName = name;
            this._onDidChangeLabel.fire();
        }
    }
    allowLabelOverride() {
        return this.resource.scheme !== this.pathService.defaultUriScheme &&
            this.resource.scheme !== _base_common_network_js__WEBPACK_IMPORTED_MODULE_15__.Schemas.vscodeUserData &&
            this.resource.scheme !== _base_common_network_js__WEBPACK_IMPORTED_MODULE_15__.Schemas.file &&
            this.resource.scheme !== _base_common_network_js__WEBPACK_IMPORTED_MODULE_15__.Schemas.vscodeRemote;
    }
    getPreferredName() {
        return this.preferredName;
    }
    isReadonly() {
        return this.model ? this.model.isReadonly() : this.filesConfigurationService.isReadonly(this.resource);
    }
    getDescription(verbosity) {
        return this.preferredDescription || super.getDescription(verbosity);
    }
    setPreferredDescription(description) {
        if (!this.allowLabelOverride()) {
            return;
        }
        if (this.preferredDescription !== description) {
            this.preferredDescription = description;
            this._onDidChangeLabel.fire();
        }
    }
    getPreferredDescription() {
        return this.preferredDescription;
    }
    getTitle(verbosity) {
        let title = super.getTitle(verbosity);
        const preferredTitle = this.getPreferredTitle();
        if (preferredTitle) {
            title = `${preferredTitle} (${title})`;
        }
        return title;
    }
    getPreferredTitle() {
        if (this.preferredName && this.preferredDescription) {
            return `${this.preferredName} ${this.preferredDescription}`;
        }
        if (this.preferredName || this.preferredDescription) {
            return this.preferredName ?? this.preferredDescription;
        }
        return undefined;
    }
    getEncoding() {
        if (this.model) {
            return this.model.getEncoding();
        }
        return this.preferredEncoding;
    }
    getPreferredEncoding() {
        return this.preferredEncoding;
    }
    async setEncoding(encoding, mode) {
        this.setPreferredEncoding(encoding);
        return this.model?.setEncoding(encoding, mode);
    }
    setPreferredEncoding(encoding) {
        this.preferredEncoding = encoding;
        this.setForceOpenAsText();
    }
    getLanguageId() {
        if (this.model) {
            return this.model.getLanguageId();
        }
        return this.preferredLanguageId;
    }
    getPreferredLanguageId() {
        return this.preferredLanguageId;
    }
    setLanguageId(languageId, source) {
        this.setPreferredLanguageId(languageId);
        this.model?.setLanguageId(languageId, source);
    }
    setPreferredLanguageId(languageId) {
        this.preferredLanguageId = languageId;
        this.setForceOpenAsText();
    }
    setPreferredContents(contents) {
        this.preferredContents = contents;
        this.setForceOpenAsText();
    }
    setForceOpenAsText() {
        this.forceOpenAs = 1 ;
    }
    setForceOpenAsBinary() {
        this.forceOpenAs = 2 ;
    }
    isDirty() {
        return !!(this.model?.isDirty());
    }
    isSaving() {
        if (this.model?.hasState(0 ) || this.model?.hasState(3 ) || this.model?.hasState(5 )) {
            return false;
        }
        if (this.filesConfigurationService.hasShortAutoSaveDelay(this)) {
            return true;
        }
        return super.isSaving();
    }
    prefersEditorPane(editorPanes) {
        if (this.forceOpenAs === 2 ) {
            return editorPanes.find(editorPane => editorPane.typeId === _common_files_js__WEBPACK_IMPORTED_MODULE_9__.BINARY_FILE_EDITOR_ID);
        }
        return editorPanes.find(editorPane => editorPane.typeId === _common_files_js__WEBPACK_IMPORTED_MODULE_9__.TEXT_FILE_EDITOR_ID);
    }
    resolve(options) {
        if (this.forceOpenAs === 2 ) {
            return this.doResolveAsBinary();
        }
        return this.doResolveAsText(options);
    }
    async doResolveAsText(options) {
        try {
            const preferredContents = this.preferredContents;
            this.preferredContents = undefined;
            await this.textFileService.files.resolve(this.resource, {
                languageId: this.preferredLanguageId,
                encoding: this.preferredEncoding,
                contents: typeof preferredContents === 'string' ? (0,_editor_common_model_textModel_js__WEBPACK_IMPORTED_MODULE_16__.createTextBufferFactory)(preferredContents) : undefined,
                reload: { async: true },
                allowBinary: this.forceOpenAs === 1 ,
                reason: 1 ,
                limits: this.ensureLimits(options)
            });
            if (!this.cachedTextFileModelReference) {
                this.cachedTextFileModelReference = await this.textModelService.createModelReference(this.resource);
            }
            const model = this.cachedTextFileModelReference.object;
            if (this.isDisposed()) {
                this.disposeModelReference();
            }
            return model;
        }
        catch (error) {
            if (error.textFileOperationResult === 0 ) {
                return this.doResolveAsBinary();
            }
            throw error;
        }
    }
    async doResolveAsBinary() {
        const model = this.instantiationService.createInstance(_common_editor_binaryEditorModel_js__WEBPACK_IMPORTED_MODULE_3__.BinaryEditorModel, this.preferredResource, this.getName());
        await model.resolve();
        return model;
    }
    isResolved() {
        return !!this.model;
    }
    async rename(group, target) {
        return {
            editor: {
                resource: target,
                encoding: this.getEncoding(),
                options: {
                    viewState: (0,_common_editor_js__WEBPACK_IMPORTED_MODULE_1__.findViewStateForEditor)(this, group, this.editorService)
                }
            }
        };
    }
    toUntyped(options) {
        const untypedInput = {
            resource: this.preferredResource,
            forceFile: true,
            options: {
                override: this.editorId
            }
        };
        if (typeof options?.preserveViewState === 'number') {
            untypedInput.encoding = this.getEncoding();
            untypedInput.languageId = this.getLanguageId();
            untypedInput.contents = (() => {
                const model = this.textFileService.files.get(this.resource);
                if (model?.isDirty() && !model.textEditorModel.isTooLargeForHeapOperation()) {
                    return model.textEditorModel.getValue();
                }
                return undefined;
            })();
            untypedInput.options = {
                ...untypedInput.options,
                viewState: (0,_common_editor_js__WEBPACK_IMPORTED_MODULE_1__.findViewStateForEditor)(this, options.preserveViewState, this.editorService)
            };
        }
        return untypedInput;
    }
    matches(otherInput) {
        if (this === otherInput) {
            return true;
        }
        if (otherInput instanceof FileEditorInput_1) {
            return (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_13__.isEqual)(otherInput.resource, this.resource);
        }
        if ((0,_common_editor_js__WEBPACK_IMPORTED_MODULE_1__.isResourceEditorInput)(otherInput)) {
            return super.matches(otherInput);
        }
        return false;
    }
    dispose() {
        this.model = undefined;
        this.disposeModelReference();
        super.dispose();
    }
    disposeModelReference() {
        (0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_7__.dispose)(this.cachedTextFileModelReference);
        this.cachedTextFileModelReference = undefined;
    }
};
FileEditorInput = FileEditorInput_1 = ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_6__.IInstantiationService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, _services_textfile_common_textfiles_service_js__WEBPACK_IMPORTED_MODULE_5__.ITextFileService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, _editor_common_services_resolverService_js__WEBPACK_IMPORTED_MODULE_8__.ITextModelService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, _platform_label_common_label_service_js__WEBPACK_IMPORTED_MODULE_10__.ILabelService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(11, _platform_files_common_files_service_js__WEBPACK_IMPORTED_MODULE_4__.IFileService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(12, _services_filesConfiguration_common_filesConfigurationService_service_js__WEBPACK_IMPORTED_MODULE_11__.IFilesConfigurationService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(13, _services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_12__.IEditorService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(14, _services_path_common_pathService_service_js__WEBPACK_IMPORTED_MODULE_17__.IPathService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(15, _editor_common_services_textResourceConfiguration_js__WEBPACK_IMPORTED_MODULE_18__.ITextResourceConfigurationService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(16, _services_editor_common_customEditorLabelService_service_js__WEBPACK_IMPORTED_MODULE_19__.ICustomEditorLabelService))
], FileEditorInput));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/fileCommands._save.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/fileCommands._save.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../nls.js */ "./node_modules/vscode/vscode/src/vs/nls.js");
/* harmony import */ var _common_editor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../common/editor.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor.js");
/* harmony import */ var _common_editor_sideBySideEditorInput_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../common/editor/sideBySideEditorInput.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/sideBySideEditorInput.js");
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../platform/instantiation/common/instantiation.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var _base_common_errorMessage_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../base/common/errorMessage.js */ "./node_modules/vscode/vscode/src/vs/base/common/errorMessage.js");
/* harmony import */ var _platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../platform/commands/common/commands.js */ "./node_modules/vscode/vscode/src/vs/platform/commands/common/commands.js");
/* harmony import */ var _platform_keybinding_common_keybindingsRegistry_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../platform/keybinding/common/keybindingsRegistry.js */ "./node_modules/vscode/vscode/src/vs/platform/keybinding/common/keybindingsRegistry.js");
/* harmony import */ var _base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../base/common/keyCodes.js */ "./node_modules/vscode/vscode/src/vs/base/common/keyCodes.js");
/* harmony import */ var _files_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./files.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/files.js");
/* harmony import */ var _browser_parts_editor_editorCommandsContext_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../browser/parts/editor/editorCommandsContext.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorCommandsContext.js");
/* harmony import */ var _platform_notification_common_notification_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../platform/notification/common/notification.js */ "./node_modules/vscode/vscode/src/vs/platform/notification/common/notification.js");
/* harmony import */ var _platform_notification_common_notification_service_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../platform/notification/common/notification.service.js */ "./node_modules/vscode/vscode/src/vs/platform/notification/common/notification.service.js");
/* harmony import */ var _services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../services/editor/common/editorService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");
/* harmony import */ var _services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../services/editor/common/editorGroupsService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorGroupsService.service.js");
/* harmony import */ var _base_common_resources_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../base/common/resources.js */ "./node_modules/vscode/vscode/src/vs/base/common/resources.js");
/* harmony import */ var _editor_browser_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../editor/browser/services/codeEditorService.js */ "./node_modules/vscode/vscode/src/vs/editor/browser/services/codeEditorService.js");
/* harmony import */ var _editor_browser_widget_codeEditor_embeddedCodeEditorWidget_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../editor/browser/widget/codeEditor/embeddedCodeEditorWidget.js */ "./node_modules/vscode/vscode/src/vs/editor/browser/widget/codeEditor/embeddedCodeEditorWidget.js");
/* harmony import */ var _services_textfile_common_textfiles_service_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../services/textfile/common/textfiles.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/textfile/common/textfiles.service.js");
/* harmony import */ var _base_common_errors_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../base/common/errors.js */ "./node_modules/vscode/vscode/src/vs/base/common/errors.js");
/* harmony import */ var _base_common_actions_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../base/common/actions.js */ "./node_modules/vscode/vscode/src/vs/base/common/actions.js");
/* harmony import */ var _base_common_hash_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../base/common/hash.js */ "./node_modules/vscode/vscode/src/vs/base/common/hash.js");
/* harmony import */ var _fileConstants_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./fileConstants.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/fileConstants.js");
/* harmony import */ var _platform_list_browser_listService_service_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../platform/list/browser/listService.service.js */ "./node_modules/vscode/vscode/src/vs/platform/list/browser/listService.service.js");
/* harmony import */ var _base_common_severity_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../base/common/severity.js */ "./node_modules/vscode/vscode/src/vs/base/common/severity.js");
























async function saveSelectedEditors(accessor, options) {
    const editorGroupService = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_13__.IEditorGroupsService);
    const codeEditorService = accessor.get(_editor_browser_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_15__.ICodeEditorService);
    const textFileService = accessor.get(_services_textfile_common_textfiles_service_js__WEBPACK_IMPORTED_MODULE_17__.ITextFileService);
    let editors = (0,_files_js__WEBPACK_IMPORTED_MODULE_8__.getOpenEditorsViewMultiSelection)(accessor);
    if (!editors) {
        const activeGroup = editorGroupService.activeGroup;
        if (activeGroup.activeEditor) {
            editors = [];
            if (activeGroup.activeEditor instanceof _common_editor_sideBySideEditorInput_js__WEBPACK_IMPORTED_MODULE_2__.SideBySideEditorInput &&
                !options?.saveAs && !(activeGroup.activeEditor.primary.hasCapability(4 ) || activeGroup.activeEditor.secondary.hasCapability(4 )) &&
                activeGroup.activeEditor.secondary.isModified()) {
                editors.push({ groupId: activeGroup.id, editor: activeGroup.activeEditor.primary });
                editors.push({ groupId: activeGroup.id, editor: activeGroup.activeEditor.secondary });
            }
            else {
                editors.push({ groupId: activeGroup.id, editor: activeGroup.activeEditor });
            }
        }
    }
    if (!editors || editors.length === 0) {
        return;
    }
    await doSaveEditors(accessor, editors, options);
    const focusedCodeEditor = codeEditorService.getFocusedCodeEditor();
    if (focusedCodeEditor instanceof _editor_browser_widget_codeEditor_embeddedCodeEditorWidget_js__WEBPACK_IMPORTED_MODULE_16__.EmbeddedCodeEditorWidget && !focusedCodeEditor.isSimpleWidget) {
        const resource = focusedCodeEditor.getModel()?.uri;
        if (resource && !( (editors.some(
            ({ editor }) => (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_14__.isEqual)(_common_editor_js__WEBPACK_IMPORTED_MODULE_1__.EditorResourceAccessor.getCanonicalUri(editor, { supportSideBySide: _common_editor_js__WEBPACK_IMPORTED_MODULE_1__.SideBySideEditor.PRIMARY }), resource)
        )))) {
            const model = textFileService.files.get(resource);
            if (!model?.isReadonly()) {
                await textFileService.save(resource, options);
            }
        }
    }
}
function saveDirtyEditorsOfGroups(accessor, groups, options) {
    const dirtyEditors = [];
    for (const group of groups) {
        for (const editor of group.getEditors(0 )) {
            if (editor.isDirty()) {
                dirtyEditors.push({ groupId: group.id, editor });
            }
        }
    }
    return doSaveEditors(accessor, dirtyEditors, options);
}
async function doSaveEditors(accessor, editors, options) {
    const editorService = accessor.get(_services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_12__.IEditorService);
    const notificationService = accessor.get(_platform_notification_common_notification_service_js__WEBPACK_IMPORTED_MODULE_11__.INotificationService);
    const instantiationService = accessor.get(_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_3__.IInstantiationService);
    try {
        await editorService.save(editors, options);
    }
    catch (error) {
        if (!(0,_base_common_errors_js__WEBPACK_IMPORTED_MODULE_18__.isCancellationError)(error)) {
            const actions = [(0,_base_common_actions_js__WEBPACK_IMPORTED_MODULE_19__.toAction)({ id: 'workbench.action.files.saveEditors', label: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(3749, "Retry")), run: () => instantiationService.invokeFunction(accessor => doSaveEditors(accessor, editors, options)) })];
            const editorsToRevert = editors.filter(({ editor }) => !editor.hasCapability(4 ) );
            if (editorsToRevert.length > 0) {
                actions.push((0,_base_common_actions_js__WEBPACK_IMPORTED_MODULE_19__.toAction)({ id: 'workbench.action.files.revertEditors', label: editorsToRevert.length > 1 ? ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(3750, "Revert All")) : ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(3751, "Revert")), run: () => editorService.revert(editorsToRevert) }));
            }
            notificationService.notify({
                id: ( (editors.map(({ editor }) => (0,_base_common_hash_js__WEBPACK_IMPORTED_MODULE_20__.hash)(editor.resource?.toString())))).join(),
                severity: _base_common_severity_js__WEBPACK_IMPORTED_MODULE_23__["default"].Error,
                message: ( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(
                    3752,
                    "Failed to save '{0}': {1}",
                    ( (editors.map(({ editor }) => editor.getName()))).join(', '),
                    (0,_base_common_errorMessage_js__WEBPACK_IMPORTED_MODULE_4__.toErrorMessage)(error, false)
                )),
                actions: { primary: actions }
            });
        }
    }
}
_platform_keybinding_common_keybindingsRegistry_js__WEBPACK_IMPORTED_MODULE_6__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    when: undefined,
    weight: 200 ,
    primary: 2048  | 49 ,
    id: _fileConstants_js__WEBPACK_IMPORTED_MODULE_21__.SAVE_FILE_COMMAND_ID,
    handler: accessor => {
        return saveSelectedEditors(accessor, { reason: 1 , force: true  });
    }
});
_platform_keybinding_common_keybindingsRegistry_js__WEBPACK_IMPORTED_MODULE_6__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    when: undefined,
    weight: 200 ,
    primary: (0,_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_7__.KeyChord)(2048  | 41 , 49 ),
    win: { primary: (0,_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_7__.KeyChord)(2048  | 41 , 2048  | 1024  | 49 ) },
    id: _fileConstants_js__WEBPACK_IMPORTED_MODULE_21__.SAVE_FILE_WITHOUT_FORMATTING_COMMAND_ID,
    handler: accessor => {
        return saveSelectedEditors(accessor, { reason: 1 , force: true , skipSaveParticipants: true });
    }
});
_platform_keybinding_common_keybindingsRegistry_js__WEBPACK_IMPORTED_MODULE_6__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: _fileConstants_js__WEBPACK_IMPORTED_MODULE_21__.SAVE_FILE_AS_COMMAND_ID,
    weight: 200 ,
    when: undefined,
    primary: 2048  | 1024  | 49 ,
    handler: accessor => {
        return saveSelectedEditors(accessor, { reason: 1 , saveAs: true });
    }
});
_platform_keybinding_common_keybindingsRegistry_js__WEBPACK_IMPORTED_MODULE_6__.KeybindingsRegistry.registerCommandAndKeybindingRule({
    when: undefined,
    weight: 200 ,
    primary: undefined,
    mac: { primary: 2048  | 512  | 49  },
    win: { primary: (0,_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_7__.KeyChord)(2048  | 41 , 49 ) },
    id: _fileConstants_js__WEBPACK_IMPORTED_MODULE_21__.SAVE_ALL_COMMAND_ID,
    handler: accessor => {
        return saveDirtyEditorsOfGroups(accessor, accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_13__.IEditorGroupsService).getGroups(1 ), { reason: 1  });
    }
});
_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_5__.CommandsRegistry.registerCommand({
    id: _fileConstants_js__WEBPACK_IMPORTED_MODULE_21__.SAVE_ALL_IN_GROUP_COMMAND_ID,
    handler: (accessor, _, editorContext) => {
        const editorGroupsService = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_13__.IEditorGroupsService);
        const resolvedContext = (0,_browser_parts_editor_editorCommandsContext_js__WEBPACK_IMPORTED_MODULE_9__.resolveCommandsContext)([editorContext], accessor.get(_services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_12__.IEditorService), editorGroupsService, accessor.get(_platform_list_browser_listService_service_js__WEBPACK_IMPORTED_MODULE_22__.IListService));
        let groups = undefined;
        if (!resolvedContext.groupedEditors.length) {
            groups = editorGroupsService.getGroups(1 );
        }
        else {
            groups = ( (resolvedContext.groupedEditors.map(({ group }) => group)));
        }
        return saveDirtyEditorsOfGroups(accessor, groups, { reason: 1  });
    }
});
_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_5__.CommandsRegistry.registerCommand({
    id: _fileConstants_js__WEBPACK_IMPORTED_MODULE_21__.SAVE_FILES_COMMAND_ID,
    handler: async (accessor) => {
        const editorService = accessor.get(_services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_12__.IEditorService);
        const res = await editorService.saveAll({ includeUntitled: false, reason: 1  });
        return res.success;
    }
});
_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_5__.CommandsRegistry.registerCommand({
    id: _fileConstants_js__WEBPACK_IMPORTED_MODULE_21__.REVERT_FILE_COMMAND_ID,
    handler: async (accessor) => {
        const editorGroupService = accessor.get(_services_editor_common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_13__.IEditorGroupsService);
        const editorService = accessor.get(_services_editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_12__.IEditorService);
        let editors = (0,_files_js__WEBPACK_IMPORTED_MODULE_8__.getOpenEditorsViewMultiSelection)(accessor);
        if (!editors) {
            const activeGroup = editorGroupService.activeGroup;
            if (activeGroup.activeEditor) {
                editors = [{ groupId: activeGroup.id, editor: activeGroup.activeEditor }];
            }
        }
        if (!editors || editors.length === 0) {
            return;
        }
        try {
            await editorService.revert(editors.filter(({ editor }) => !editor.hasCapability(4 ) ), { force: true });
        }
        catch (error) {
            const notificationService = accessor.get(_platform_notification_common_notification_service_js__WEBPACK_IMPORTED_MODULE_11__.INotificationService);
            notificationService.error(( (0,_nls_js__WEBPACK_IMPORTED_MODULE_0__.localize)(
                3753,
                "Failed to revert '{0}': {1}",
                ( (editors.map(({ editor }) => editor.getName()))).join(', '),
                (0,_base_common_errorMessage_js__WEBPACK_IMPORTED_MODULE_4__.toErrorMessage)(error, false)
            )));
        }
    }
});


/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/files.contribution._fileEditorFactory.js":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/files.contribution._fileEditorFactory.js ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../platform/registry/common/platform.js */ "./node_modules/vscode/vscode/src/vs/platform/registry/common/platform.js");
/* harmony import */ var _common_editor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../common/editor.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor.js");
/* harmony import */ var _editors_fileEditorInput_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./editors/fileEditorInput.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/editors/fileEditorInput.js");
/* harmony import */ var _common_files_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/files.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/common/files.js");




( _platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_0__.Registry.as(_common_editor_js__WEBPACK_IMPORTED_MODULE_1__.EditorExtensions.EditorFactory)).registerFileEditorFactory({
    typeId: _common_files_js__WEBPACK_IMPORTED_MODULE_3__.FILE_EDITOR_INPUT_ID,
    createFileEditor: (resource, preferredResource, preferredName, preferredDescription, preferredEncoding, preferredLanguageId, preferredContents, instantiationService) => {
        return instantiationService.createInstance(_editors_fileEditorInput_js__WEBPACK_IMPORTED_MODULE_2__.FileEditorInput, resource, preferredResource, preferredName, preferredDescription, preferredEncoding, preferredLanguageId, preferredContents);
    },
    isFileEditor: (obj) => {
        return obj instanceof _editors_fileEditorInput_js__WEBPACK_IMPORTED_MODULE_2__.FileEditorInput;
    }
});


/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/files.js":
/*!************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/contrib/files/browser/files.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getMultiSelectedResources: () => (/* binding */ getMultiSelectedResources),
/* harmony export */   getOpenEditorsViewMultiSelection: () => (/* binding */ getOpenEditorsViewMultiSelection),
/* harmony export */   getResourceForCommand: () => (/* binding */ getResourceForCommand)
/* harmony export */ });
/* harmony import */ var _base_common_uri_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../base/common/uri.js */ "./node_modules/vscode/vscode/src/vs/base/common/uri.js");
/* harmony import */ var _platform_list_browser_listService_service_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../platform/list/browser/listService.service.js */ "./node_modules/vscode/vscode/src/vs/platform/list/browser/listService.service.js");
/* harmony import */ var _common_files_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/files.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/common/files.js");
/* harmony import */ var _common_editor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../common/editor.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor.js");
/* harmony import */ var _base_browser_ui_list_listWidget_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../base/browser/ui/list/listWidget.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/list/listWidget.js");
/* harmony import */ var _common_explorerModel_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/explorerModel.js */ "./node_modules/vscode/vscode/src/vs/workbench/contrib/files/common/explorerModel.js");
/* harmony import */ var _base_common_arrays_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../base/common/arrays.js */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var _base_browser_ui_tree_asyncDataTree_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../base/browser/ui/tree/asyncDataTree.js */ "./node_modules/vscode/vscode/src/vs/base/browser/ui/tree/asyncDataTree.js");
/* harmony import */ var _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../base/browser/dom.js */ "./node_modules/vscode/vscode/src/vs/base/browser/dom.js");









function getFocus(listService) {
    const list = listService.lastFocusedList;
    const element = list?.getHTMLElement();
    if (element && (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.isActiveElement)(element)) {
        let focus;
        if (list instanceof _base_browser_ui_list_listWidget_js__WEBPACK_IMPORTED_MODULE_4__.List) {
            const focused = list.getFocusedElements();
            if (focused.length) {
                focus = focused[0];
            }
        }
        else if (list instanceof _base_browser_ui_tree_asyncDataTree_js__WEBPACK_IMPORTED_MODULE_7__.AsyncDataTree) {
            const focused = list.getFocus();
            if (focused.length) {
                focus = focused[0];
            }
        }
        return focus;
    }
    return undefined;
}
function getResourceForCommand(commandArg, editorService, listService) {
    if (_base_common_uri_js__WEBPACK_IMPORTED_MODULE_0__.URI.isUri(commandArg)) {
        return commandArg;
    }
    const focus = getFocus(listService);
    if (focus instanceof _common_explorerModel_js__WEBPACK_IMPORTED_MODULE_5__.ExplorerItem) {
        return focus.resource;
    }
    else if (focus instanceof _common_files_js__WEBPACK_IMPORTED_MODULE_2__.OpenEditor) {
        return focus.getResource();
    }
    return _common_editor_js__WEBPACK_IMPORTED_MODULE_3__.EditorResourceAccessor.getOriginalUri(editorService.activeEditor, { supportSideBySide: _common_editor_js__WEBPACK_IMPORTED_MODULE_3__.SideBySideEditor.PRIMARY });
}
function getMultiSelectedResources(commandArg, listService, editorSerice, editorGroupService, explorerService) {
    const list = listService.lastFocusedList;
    const element = list?.getHTMLElement();
    if (element && (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.isActiveElement)(element)) {
        if (list instanceof _base_browser_ui_tree_asyncDataTree_js__WEBPACK_IMPORTED_MODULE_7__.AsyncDataTree && list.getFocus().every(item => item instanceof _common_explorerModel_js__WEBPACK_IMPORTED_MODULE_5__.ExplorerItem)) {
            const context = explorerService.getContext(true, true);
            if (context.length) {
                return ( context.map(c => c.resource));
            }
        }
        if (list instanceof _base_browser_ui_list_listWidget_js__WEBPACK_IMPORTED_MODULE_4__.List) {
            const selection = (0,_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_6__.coalesce)(( list.getSelectedElements().filter(s => s instanceof _common_files_js__WEBPACK_IMPORTED_MODULE_2__.OpenEditor).map((oe) => oe.getResource())));
            const focusedElements = list.getFocusedElements();
            const focus = focusedElements.length ? focusedElements[0] : undefined;
            let mainUriStr = undefined;
            if (_base_common_uri_js__WEBPACK_IMPORTED_MODULE_0__.URI.isUri(commandArg)) {
                mainUriStr = ( commandArg.toString());
            }
            else if (focus instanceof _common_files_js__WEBPACK_IMPORTED_MODULE_2__.OpenEditor) {
                const focusedResource = focus.getResource();
                mainUriStr = focusedResource ? ( focusedResource.toString()) : undefined;
            }
            const mainIndex = selection.findIndex(s => ( s.toString()) === mainUriStr);
            if (mainIndex !== -1) {
                const mainResource = selection[mainIndex];
                selection.splice(mainIndex, 1);
                selection.unshift(mainResource);
                return selection;
            }
        }
    }
    const activeGroup = editorGroupService.activeGroup;
    const selection = activeGroup.selectedEditors;
    if (selection.length > 1 && _base_common_uri_js__WEBPACK_IMPORTED_MODULE_0__.URI.isUri(commandArg)) {
        const mainEditorSelectionIndex = selection.findIndex(e => e.matches({ resource: commandArg }));
        if (mainEditorSelectionIndex !== -1) {
            const mainEditor = selection[mainEditorSelectionIndex];
            selection.splice(mainEditorSelectionIndex, 1);
            selection.unshift(mainEditor);
            return ( selection.map(editor => _common_editor_js__WEBPACK_IMPORTED_MODULE_3__.EditorResourceAccessor.getOriginalUri(editor))).filter(uri => !!uri);
        }
    }
    const result = getResourceForCommand(commandArg, editorSerice, listService);
    return !!result ? [result] : [];
}
function getOpenEditorsViewMultiSelection(accessor) {
    const list = accessor.get(_platform_list_browser_listService_service_js__WEBPACK_IMPORTED_MODULE_1__.IListService).lastFocusedList;
    const element = list?.getHTMLElement();
    if (element && (0,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_8__.isActiveElement)(element)) {
        if (list instanceof _base_browser_ui_list_listWidget_js__WEBPACK_IMPORTED_MODULE_4__.List) {
            const selection = (0,_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_6__.coalesce)(list.getSelectedElements().filter(s => s instanceof _common_files_js__WEBPACK_IMPORTED_MODULE_2__.OpenEditor));
            const focusedElements = list.getFocusedElements();
            const focus = focusedElements.length ? focusedElements[0] : undefined;
            let mainEditor = undefined;
            if (focus instanceof _common_files_js__WEBPACK_IMPORTED_MODULE_2__.OpenEditor) {
                mainEditor = focus;
            }
            if (( selection.some(s => s === mainEditor))) {
                return selection;
            }
            return mainEditor ? [mainEditor] : undefined;
        }
    }
    return undefined;
}



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/browser/codeEditorService.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/services/editor/browser/codeEditorService.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CodeEditorService: () => (/* binding */ CodeEditorService)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _editor_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../editor/browser/editorBrowser.js */ "./node_modules/vscode/vscode/src/vs/editor/browser/editorBrowser.js");
/* harmony import */ var _editor_browser_services_abstractCodeEditorService_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../editor/browser/services/abstractCodeEditorService.js */ "./node_modules/vscode/vscode/src/vs/editor/browser/services/abstractCodeEditorService.js");
/* harmony import */ var _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../platform/theme/common/themeService.service.js */ "./node_modules/vscode/vscode/src/vs/platform/theme/common/themeService.service.js");
/* harmony import */ var _common_editorService_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/editorService.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.js");
/* harmony import */ var _common_editorService_service_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/editorService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../platform/instantiation/common/instantiation.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var _base_common_resources_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../base/common/resources.js */ "./node_modules/vscode/vscode/src/vs/base/common/resources.js");
/* harmony import */ var _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../platform/configuration/common/configuration.service.js */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var _common_editor_editorOptions_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../common/editor/editorOptions.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/editorOptions.js");










let CodeEditorService = class CodeEditorService extends _editor_browser_services_abstractCodeEditorService_js__WEBPACK_IMPORTED_MODULE_2__.AbstractCodeEditorService {
    constructor(editorService, themeService, configurationService) {
        super(themeService);
        this.editorService = editorService;
        this.configurationService = configurationService;
        this._register(this.registerCodeEditorOpenHandler(this.doOpenCodeEditor.bind(this)));
        this._register(this.registerCodeEditorOpenHandler(this.doOpenCodeEditorFromDiff.bind(this)));
    }
    getActiveCodeEditor() {
        const activeTextEditorControl = this.editorService.activeTextEditorControl;
        if ((0,_editor_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_1__.isCodeEditor)(activeTextEditorControl)) {
            return activeTextEditorControl;
        }
        if ((0,_editor_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_1__.isDiffEditor)(activeTextEditorControl)) {
            return activeTextEditorControl.getModifiedEditor();
        }
        const activeControl = this.editorService.activeEditorPane?.getControl();
        if ((0,_editor_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_1__.isCompositeEditor)(activeControl) && (0,_editor_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_1__.isCodeEditor)(activeControl.activeCodeEditor)) {
            return activeControl.activeCodeEditor;
        }
        return null;
    }
    async doOpenCodeEditorFromDiff(input, source, sideBySide) {
        const activeTextEditorControl = this.editorService.activeTextEditorControl;
        if (!sideBySide &&
            (0,_editor_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_1__.isDiffEditor)(activeTextEditorControl) &&
            input.options &&
            input.resource &&
            source === activeTextEditorControl.getModifiedEditor() &&
            activeTextEditorControl.getModel() &&
            (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_7__.isEqual)(input.resource, activeTextEditorControl.getModel()?.modified.uri)
        ) {
            const targetEditor = activeTextEditorControl.getModifiedEditor();
            (0,_common_editor_editorOptions_js__WEBPACK_IMPORTED_MODULE_9__.applyTextEditorOptions)(input.options, targetEditor, 0 );
            return targetEditor;
        }
        return null;
    }
    async doOpenCodeEditor(input, source, sideBySide) {
        const enablePreviewFromCodeNavigation = this.configurationService.getValue().workbench?.editor?.enablePreviewFromCodeNavigation;
        if (!enablePreviewFromCodeNavigation &&
            source &&
            !input.options?.pinned &&
            !sideBySide &&
            !(0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_7__.isEqual)(source.getModel()?.uri, input.resource)
        ) {
            for (const visiblePane of this.editorService.visibleEditorPanes) {
                if ((0,_editor_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_1__.getCodeEditor)(visiblePane.getControl()) === source) {
                    visiblePane.group.pinEditor();
                    break;
                }
            }
        }
        const control = await this.editorService.openEditor(input, sideBySide ? _common_editorService_js__WEBPACK_IMPORTED_MODULE_4__.SIDE_GROUP : _common_editorService_js__WEBPACK_IMPORTED_MODULE_4__.ACTIVE_GROUP);
        if (control) {
            const widget = control.getControl();
            if ((0,_editor_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_1__.isCodeEditor)(widget)) {
                return widget;
            }
            if ((0,_editor_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_1__.isCompositeEditor)(widget) && (0,_editor_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_1__.isCodeEditor)(widget.activeCodeEditor)) {
                return widget.activeCodeEditor;
            }
        }
        return null;
    }
};
CodeEditorService = ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, _common_editorService_service_js__WEBPACK_IMPORTED_MODULE_5__.IEditorService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _platform_theme_common_themeService_service_js__WEBPACK_IMPORTED_MODULE_3__.IThemeService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_8__.IConfigurationService))
], CodeEditorService));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/browser/editorService.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/services/editor/browser/editorService.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EditorService: () => (/* binding */ EditorService)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../platform/instantiation/common/instantiation.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var _common_editor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../common/editor.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor.js");
/* harmony import */ var _common_editor_editorInput_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../common/editor/editorInput.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/editorInput.js");
/* harmony import */ var _common_editor_sideBySideEditorInput_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../common/editor/sideBySideEditorInput.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/sideBySideEditorInput.js");
/* harmony import */ var _base_common_map_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../base/common/map.js */ "./node_modules/vscode/vscode/src/vs/base/common/map.js");
/* harmony import */ var _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../platform/files/common/files.js */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.js");
/* harmony import */ var _platform_files_common_files_service_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../platform/files/common/files.service.js */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.service.js");
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../base/common/event.js */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var _base_common_uri_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../base/common/uri.js */ "./node_modules/vscode/vscode/src/vs/base/common/uri.js");
/* harmony import */ var _base_common_resources_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../base/common/resources.js */ "./node_modules/vscode/vscode/src/vs/base/common/resources.js");
/* harmony import */ var _common_editor_diffEditorInput_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../common/editor/diffEditorInput.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/diffEditorInput.js");
/* harmony import */ var _browser_parts_editor_sideBySideEditor_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../browser/parts/editor/sideBySideEditor.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/sideBySideEditor.js");
/* harmony import */ var _common_editorGroupsService_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../common/editorGroupsService.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorGroupsService.js");
/* harmony import */ var _common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../common/editorGroupsService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorGroupsService.service.js");
/* harmony import */ var _common_editorService_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../common/editorService.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.js");
/* harmony import */ var _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../platform/configuration/common/configuration.service.js */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _base_common_arrays_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../base/common/arrays.js */ "./node_modules/vscode/vscode/src/vs/base/common/arrays.js");
/* harmony import */ var _editor_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../editor/browser/editorBrowser.js */ "./node_modules/vscode/vscode/src/vs/editor/browser/editorBrowser.js");
/* harmony import */ var _base_common_types_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../base/common/types.js */ "./node_modules/vscode/vscode/src/vs/base/common/types.js");
/* harmony import */ var _browser_parts_editor_editorsObserver_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../browser/parts/editor/editorsObserver.js */ "./node_modules/vscode/vscode/src/vs/workbench/browser/parts/editor/editorsObserver.js");
/* harmony import */ var _base_common_async_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../base/common/async.js */ "./node_modules/vscode/vscode/src/vs/base/common/async.js");
/* harmony import */ var _platform_workspace_common_workspace_service_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../platform/workspace/common/workspace.service.js */ "./node_modules/vscode/vscode/src/vs/platform/workspace/common/workspace.service.js");
/* harmony import */ var _base_common_extpath_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../base/common/extpath.js */ "./node_modules/vscode/vscode/src/vs/base/common/extpath.js");
/* harmony import */ var _platform_uriIdentity_common_uriIdentity_service_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../../platform/uriIdentity/common/uriIdentity.service.js */ "./node_modules/vscode/vscode/src/vs/platform/uriIdentity/common/uriIdentity.service.js");
/* harmony import */ var _common_editorResolverService_service_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../common/editorResolverService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorResolverService.service.js");
/* harmony import */ var _platform_workspace_common_workspaceTrust_service_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../../platform/workspace/common/workspaceTrust.service.js */ "./node_modules/vscode/vscode/src/vs/platform/workspace/common/workspaceTrust.service.js");
/* harmony import */ var _host_browser_host_service_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../host/browser/host.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/host/browser/host.service.js");
/* harmony import */ var _common_editorGroupFinder_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../common/editorGroupFinder.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorGroupFinder.js");
/* harmony import */ var _textfile_common_textEditorService_service_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../textfile/common/textEditorService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/textfile/common/textEditorService.service.js");































var EditorService_1;
let EditorService = EditorService_1 = class EditorService extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_17__.Disposable {
    constructor(editorGroupsContainer, editorGroupService, instantiationService, fileService, configurationService, contextService, uriIdentityService, editorResolverService, workspaceTrustRequestService, hostService, textEditorService) {
        super();
        this.editorGroupService = editorGroupService;
        this.instantiationService = instantiationService;
        this.fileService = fileService;
        this.configurationService = configurationService;
        this.contextService = contextService;
        this.uriIdentityService = uriIdentityService;
        this.editorResolverService = editorResolverService;
        this.workspaceTrustRequestService = workspaceTrustRequestService;
        this.hostService = hostService;
        this.textEditorService = textEditorService;
        this._onDidActiveEditorChange = this._register(( new _base_common_event_js__WEBPACK_IMPORTED_MODULE_8__.Emitter()));
        this.onDidActiveEditorChange = this._onDidActiveEditorChange.event;
        this._onDidVisibleEditorsChange = this._register(( new _base_common_event_js__WEBPACK_IMPORTED_MODULE_8__.Emitter()));
        this.onDidVisibleEditorsChange = this._onDidVisibleEditorsChange.event;
        this._onDidEditorsChange = this._register(( new _base_common_event_js__WEBPACK_IMPORTED_MODULE_8__.Emitter()));
        this.onDidEditorsChange = this._onDidEditorsChange.event;
        this._onWillOpenEditor = this._register(( new _base_common_event_js__WEBPACK_IMPORTED_MODULE_8__.Emitter()));
        this.onWillOpenEditor = this._onWillOpenEditor.event;
        this._onDidCloseEditor = this._register(( new _base_common_event_js__WEBPACK_IMPORTED_MODULE_8__.Emitter()));
        this.onDidCloseEditor = this._onDidCloseEditor.event;
        this._onDidOpenEditorFail = this._register(( new _base_common_event_js__WEBPACK_IMPORTED_MODULE_8__.Emitter()));
        this.onDidOpenEditorFail = this._onDidOpenEditorFail.event;
        this._onDidMostRecentlyActiveEditorsChange = this._register(( new _base_common_event_js__WEBPACK_IMPORTED_MODULE_8__.Emitter()));
        this.onDidMostRecentlyActiveEditorsChange = this._onDidMostRecentlyActiveEditorsChange.event;
        this.lastActiveEditor = undefined;
        this.activeOutOfWorkspaceWatchers = ( new _base_common_map_js__WEBPACK_IMPORTED_MODULE_5__.ResourceMap());
        this.closeOnFileDelete = false;
        this.editorGroupsContainer = editorGroupsContainer ?? editorGroupService;
        this.editorsObserver = this._register(this.instantiationService.createInstance(_browser_parts_editor_editorsObserver_js__WEBPACK_IMPORTED_MODULE_21__.EditorsObserver, this.editorGroupsContainer));
        this.onConfigurationUpdated();
        this.registerListeners();
    }
    createScoped(editorGroupsContainer, disposables) {
        return disposables.add(( new EditorService_1(
            editorGroupsContainer === 'main' ? this.editorGroupService.mainPart : editorGroupsContainer,
            this.editorGroupService,
            this.instantiationService,
            this.fileService,
            this.configurationService,
            this.contextService,
            this.uriIdentityService,
            this.editorResolverService,
            this.workspaceTrustRequestService,
            this.hostService,
            this.textEditorService
        )));
    }
    registerListeners() {
        if (this.editorGroupsContainer === this.editorGroupService.mainPart || this.editorGroupsContainer === this.editorGroupService) {
            this.editorGroupService.whenReady.then(() => this.onEditorGroupsReady());
        }
        else {
            this.onEditorGroupsReady();
        }
        this._register(this.editorGroupsContainer.onDidChangeActiveGroup(group => this.handleActiveEditorChange(group)));
        this._register(this.editorGroupsContainer.onDidAddGroup(group => this.registerGroupListeners(group)));
        this._register(this.editorsObserver.onDidMostRecentlyActiveEditorsChange(() => this._onDidMostRecentlyActiveEditorsChange.fire()));
        this._register(this.onDidVisibleEditorsChange(() => this.handleVisibleEditorsChange()));
        this._register(this.fileService.onDidRunOperation(e => this.onDidRunFileOperation(e)));
        this._register(this.fileService.onDidFilesChange(e => this.onDidFilesChange(e)));
        this._register(this.configurationService.onDidChangeConfiguration(e => this.onConfigurationUpdated(e)));
    }
    onEditorGroupsReady() {
        for (const group of this.editorGroupsContainer.groups) {
            this.registerGroupListeners(group);
        }
        if (this.activeEditor) {
            this.doHandleActiveEditorChangeEvent();
            this._onDidVisibleEditorsChange.fire();
        }
    }
    handleActiveEditorChange(group) {
        if (group !== this.editorGroupsContainer.activeGroup) {
            return;
        }
        if (!this.lastActiveEditor && !group.activeEditor) {
            return;
        }
        this.doHandleActiveEditorChangeEvent();
    }
    doHandleActiveEditorChangeEvent() {
        const activeGroup = this.editorGroupsContainer.activeGroup;
        this.lastActiveEditor = activeGroup.activeEditor ?? undefined;
        this._onDidActiveEditorChange.fire();
    }
    registerGroupListeners(group) {
        const groupDisposables = ( new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_17__.DisposableStore());
        groupDisposables.add(group.onDidModelChange(e => {
            this._onDidEditorsChange.fire({ groupId: group.id, event: e });
        }));
        groupDisposables.add(group.onDidActiveEditorChange(() => {
            this.handleActiveEditorChange(group);
            this._onDidVisibleEditorsChange.fire();
        }));
        groupDisposables.add(group.onWillOpenEditor(e => {
            this._onWillOpenEditor.fire(e);
        }));
        groupDisposables.add(group.onDidCloseEditor(e => {
            this._onDidCloseEditor.fire(e);
        }));
        groupDisposables.add(group.onDidOpenEditorFail(editor => {
            this._onDidOpenEditorFail.fire({ editor, groupId: group.id });
        }));
        _base_common_event_js__WEBPACK_IMPORTED_MODULE_8__.Event.once(group.onWillDispose)(() => {
            (0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_17__.dispose)(groupDisposables);
        });
    }
    handleVisibleEditorsChange() {
        const visibleOutOfWorkspaceResources = ( new _base_common_map_js__WEBPACK_IMPORTED_MODULE_5__.ResourceSet());
        for (const editor of this.visibleEditors) {
            const resources = (0,_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_18__.distinct)((0,_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_18__.coalesce)([
                _common_editor_js__WEBPACK_IMPORTED_MODULE_2__.EditorResourceAccessor.getCanonicalUri(editor, { supportSideBySide: _common_editor_js__WEBPACK_IMPORTED_MODULE_2__.SideBySideEditor.PRIMARY }),
                _common_editor_js__WEBPACK_IMPORTED_MODULE_2__.EditorResourceAccessor.getCanonicalUri(editor, { supportSideBySide: _common_editor_js__WEBPACK_IMPORTED_MODULE_2__.SideBySideEditor.SECONDARY })
            ]), resource => ( resource.toString()));
            for (const resource of resources) {
                if (this.fileService.hasProvider(resource) && !this.contextService.isInsideWorkspace(resource)) {
                    visibleOutOfWorkspaceResources.add(resource);
                }
            }
        }
        for (const resource of ( this.activeOutOfWorkspaceWatchers.keys())) {
            if (!( visibleOutOfWorkspaceResources.has(resource))) {
                (0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_17__.dispose)(this.activeOutOfWorkspaceWatchers.get(resource));
                this.activeOutOfWorkspaceWatchers.delete(resource);
            }
        }
        for (const resource of ( visibleOutOfWorkspaceResources.keys())) {
            if (!this.activeOutOfWorkspaceWatchers.get(resource)) {
                const disposable = this.fileService.watch(resource);
                this.activeOutOfWorkspaceWatchers.set(resource, disposable);
            }
        }
    }
    async onDidRunFileOperation(e) {
        if (e.isOperation(2 )) {
            this.handleMovedFile(e.resource, e.target.resource);
        }
        if (e.isOperation(1 ) || e.isOperation(2 )) {
            this.handleDeletedFile(e.resource, false, e.target ? e.target.resource : undefined);
        }
    }
    onDidFilesChange(e) {
        if (e.gotDeleted()) {
            this.handleDeletedFile(e, true);
        }
    }
    async handleMovedFile(source, target) {
        for (const group of this.editorGroupsContainer.groups) {
            const replacements = [];
            for (const editor of group.editors) {
                const resource = editor.resource;
                if (!resource || !this.uriIdentityService.extUri.isEqualOrParent(resource, source)) {
                    continue;
                }
                let targetResource;
                if (this.uriIdentityService.extUri.isEqual(source, resource)) {
                    targetResource = target;
                }
                else {
                    const index = (0,_base_common_extpath_js__WEBPACK_IMPORTED_MODULE_24__.indexOfPath)(resource.path, source.path, this.uriIdentityService.extUri.ignorePathCasing(resource));
                    targetResource = (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_10__.joinPath)(target, resource.path.substr(index + source.path.length + 1));
                }
                const moveResult = await editor.rename(group.id, targetResource);
                if (!moveResult) {
                    return;
                }
                const optionOverrides = {
                    preserveFocus: true,
                    pinned: group.isPinned(editor),
                    sticky: group.isSticky(editor),
                    index: group.getIndexOfEditor(editor),
                    inactive: !group.isActive(editor)
                };
                if ((0,_common_editor_js__WEBPACK_IMPORTED_MODULE_2__.isEditorInput)(moveResult.editor)) {
                    replacements.push({
                        editor,
                        replacement: moveResult.editor,
                        options: {
                            ...moveResult.options,
                            ...optionOverrides
                        }
                    });
                }
                else {
                    replacements.push({
                        editor,
                        replacement: {
                            ...moveResult.editor,
                            options: {
                                ...moveResult.editor.options,
                                ...optionOverrides
                            }
                        }
                    });
                }
            }
            if (replacements.length) {
                this.replaceEditors(replacements, group);
            }
        }
    }
    onConfigurationUpdated(e) {
        if (e && !e.affectsConfiguration('workbench.editor.closeOnFileDelete')) {
            return;
        }
        const configuration = this.configurationService.getValue();
        if (typeof configuration.workbench?.editor?.closeOnFileDelete === 'boolean') {
            this.closeOnFileDelete = configuration.workbench.editor.closeOnFileDelete;
        }
        else {
            this.closeOnFileDelete = false;
        }
    }
    handleDeletedFile(arg1, isExternal, movedTo) {
        for (const editor of this.getAllNonDirtyEditors({ includeUntitled: false, supportSideBySide: true })) {
            (async () => {
                const resource = editor.resource;
                if (!resource) {
                    return;
                }
                if (this.closeOnFileDelete || !isExternal) {
                    if (movedTo && this.uriIdentityService.extUri.isEqualOrParent(resource, movedTo)) {
                        return;
                    }
                    let matches = false;
                    if (arg1 instanceof _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_6__.FileChangesEvent) {
                        matches = arg1.contains(resource, 2 );
                    }
                    else {
                        matches = this.uriIdentityService.extUri.isEqualOrParent(resource, arg1);
                    }
                    if (!matches) {
                        return;
                    }
                    let exists = false;
                    if (isExternal && this.fileService.hasProvider(resource)) {
                        await (0,_base_common_async_js__WEBPACK_IMPORTED_MODULE_22__.timeout)(100);
                        exists = await this.fileService.exists(resource);
                    }
                    if (!exists && !editor.isDisposed()) {
                        editor.dispose();
                    }
                }
            })();
        }
    }
    getAllNonDirtyEditors(options) {
        const editors = [];
        function conditionallyAddEditor(editor) {
            if (editor.hasCapability(4 ) && !options.includeUntitled) {
                return;
            }
            if (editor.isDirty()) {
                return;
            }
            editors.push(editor);
        }
        for (const editor of this.editors) {
            if (options.supportSideBySide && editor instanceof _common_editor_sideBySideEditorInput_js__WEBPACK_IMPORTED_MODULE_4__.SideBySideEditorInput) {
                conditionallyAddEditor(editor.primary);
                conditionallyAddEditor(editor.secondary);
            }
            else {
                conditionallyAddEditor(editor);
            }
        }
        return editors;
    }
    get activeEditorPane() {
        return this.editorGroupsContainer.activeGroup?.activeEditorPane;
    }
    get activeTextEditorControl() {
        const activeEditorPane = this.activeEditorPane;
        if (activeEditorPane) {
            const activeControl = activeEditorPane.getControl();
            if ((0,_editor_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_19__.isCodeEditor)(activeControl) || (0,_editor_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_19__.isDiffEditor)(activeControl)) {
                return activeControl;
            }
            if ((0,_editor_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_19__.isCompositeEditor)(activeControl) && (0,_editor_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_19__.isCodeEditor)(activeControl.activeCodeEditor)) {
                return activeControl.activeCodeEditor;
            }
        }
        return undefined;
    }
    get activeTextEditorLanguageId() {
        let activeCodeEditor = undefined;
        const activeTextEditorControl = this.activeTextEditorControl;
        if ((0,_editor_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_19__.isDiffEditor)(activeTextEditorControl)) {
            activeCodeEditor = activeTextEditorControl.getModifiedEditor();
        }
        else {
            activeCodeEditor = activeTextEditorControl;
        }
        return activeCodeEditor?.getModel()?.getLanguageId();
    }
    get count() {
        return this.editorsObserver.count;
    }
    get editors() {
        return ( this.getEditors(1 ).map(({ editor }) => editor));
    }
    getEditors(order, options) {
        switch (order) {
            case 0 :
                if (options?.excludeSticky) {
                    return this.editorsObserver.editors.filter(({ groupId, editor }) => !this.editorGroupsContainer.getGroup(groupId)?.isSticky(editor));
                }
                return this.editorsObserver.editors;
            case 1 : {
                const editors = [];
                for (const group of this.editorGroupsContainer.getGroups(2 )) {
                    editors.push(...( group.getEditors(1 , options).map(editor => ({ editor, groupId: group.id }))));
                }
                return editors;
            }
        }
    }
    get activeEditor() {
        const activeGroup = this.editorGroupsContainer.activeGroup;
        return activeGroup ? activeGroup.activeEditor ?? undefined : undefined;
    }
    get visibleEditorPanes() {
        return (0,_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_18__.coalesce)(( this.editorGroupsContainer.groups.map(group => group.activeEditorPane)));
    }
    get visibleTextEditorControls() {
        const visibleTextEditorControls = [];
        for (const visibleEditorPane of this.visibleEditorPanes) {
            const controls = [];
            if (visibleEditorPane instanceof _browser_parts_editor_sideBySideEditor_js__WEBPACK_IMPORTED_MODULE_12__.SideBySideEditor) {
                controls.push(visibleEditorPane.getPrimaryEditorPane()?.getControl());
                controls.push(visibleEditorPane.getSecondaryEditorPane()?.getControl());
            }
            else {
                controls.push(visibleEditorPane.getControl());
            }
            for (const control of controls) {
                if ((0,_editor_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_19__.isCodeEditor)(control) || (0,_editor_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_19__.isDiffEditor)(control)) {
                    visibleTextEditorControls.push(control);
                }
            }
        }
        return visibleTextEditorControls;
    }
    get visibleEditors() {
        return (0,_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_18__.coalesce)(( this.editorGroupsContainer.groups.map(group => group.activeEditor)));
    }
    async openEditor(editor, optionsOrPreferredGroup, preferredGroup) {
        let typedEditor = undefined;
        let options = (0,_common_editor_js__WEBPACK_IMPORTED_MODULE_2__.isEditorInput)(editor) ? optionsOrPreferredGroup : editor.options;
        let group = undefined;
        if ((0,_common_editorService_js__WEBPACK_IMPORTED_MODULE_15__.isPreferredGroup)(optionsOrPreferredGroup)) {
            preferredGroup = optionsOrPreferredGroup;
        }
        if (!(0,_common_editor_js__WEBPACK_IMPORTED_MODULE_2__.isEditorInput)(editor)) {
            const resolvedEditor = await this.editorResolverService.resolveEditor(editor, preferredGroup);
            if (resolvedEditor === 1 ) {
                return;
            }
            if ((0,_common_editor_js__WEBPACK_IMPORTED_MODULE_2__.isEditorInputWithOptionsAndGroup)(resolvedEditor)) {
                typedEditor = resolvedEditor.editor;
                options = resolvedEditor.options;
                group = resolvedEditor.group;
            }
        }
        if (!typedEditor) {
            typedEditor = (0,_common_editor_js__WEBPACK_IMPORTED_MODULE_2__.isEditorInput)(editor) ? editor : await this.textEditorService.resolveTextEditor(editor);
        }
        if (!group) {
            let activation = undefined;
            const findGroupResult = this.instantiationService.invokeFunction(_common_editorGroupFinder_js__WEBPACK_IMPORTED_MODULE_29__.findGroup, { editor: typedEditor, options }, preferredGroup);
            if (findGroupResult instanceof Promise) {
                ([group, activation] = await findGroupResult);
            }
            else {
                ([group, activation] = findGroupResult);
            }
            if (activation) {
                options = { ...options, activation };
            }
        }
        return group.openEditor(typedEditor, options);
    }
    async openEditors(editors, preferredGroup, options) {
        if (options?.validateTrust) {
            const editorsTrusted = await this.handleWorkspaceTrust(editors);
            if (!editorsTrusted) {
                return [];
            }
        }
        const mapGroupToTypedEditors = ( new Map());
        for (const editor of editors) {
            let typedEditor = undefined;
            let group = undefined;
            if (!(0,_common_editor_js__WEBPACK_IMPORTED_MODULE_2__.isEditorInputWithOptions)(editor)) {
                const resolvedEditor = await this.editorResolverService.resolveEditor(editor, preferredGroup);
                if (resolvedEditor === 1 ) {
                    continue;
                }
                if ((0,_common_editor_js__WEBPACK_IMPORTED_MODULE_2__.isEditorInputWithOptionsAndGroup)(resolvedEditor)) {
                    typedEditor = resolvedEditor;
                    group = resolvedEditor.group;
                }
            }
            if (!typedEditor) {
                typedEditor = (0,_common_editor_js__WEBPACK_IMPORTED_MODULE_2__.isEditorInputWithOptions)(editor) ? editor : { editor: await this.textEditorService.resolveTextEditor(editor), options: editor.options };
            }
            if (!group) {
                const findGroupResult = this.instantiationService.invokeFunction(_common_editorGroupFinder_js__WEBPACK_IMPORTED_MODULE_29__.findGroup, typedEditor, preferredGroup);
                if (findGroupResult instanceof Promise) {
                    ([group] = await findGroupResult);
                }
                else {
                    ([group] = findGroupResult);
                }
            }
            let targetGroupEditors = mapGroupToTypedEditors.get(group);
            if (!targetGroupEditors) {
                targetGroupEditors = [];
                mapGroupToTypedEditors.set(group, targetGroupEditors);
            }
            targetGroupEditors.push(typedEditor);
        }
        const result = [];
        for (const [group, editors] of mapGroupToTypedEditors) {
            result.push(group.openEditors(editors));
        }
        return (0,_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_18__.coalesce)(await _base_common_async_js__WEBPACK_IMPORTED_MODULE_22__.Promises.settled(result));
    }
    async handleWorkspaceTrust(editors) {
        const { resources, diffMode, mergeMode } = this.extractEditorResources(editors);
        const trustResult = await this.workspaceTrustRequestService.requestOpenFilesTrust(resources);
        switch (trustResult) {
            case 1 :
                return true;
            case 2 :
                await this.hostService.openWindow(( resources.map(resource => ({ fileUri: resource }))), { forceNewWindow: true, diffMode, mergeMode });
                return false;
            case 3 :
                return false;
        }
    }
    extractEditorResources(editors) {
        const resources = ( new _base_common_map_js__WEBPACK_IMPORTED_MODULE_5__.ResourceSet());
        let diffMode = false;
        let mergeMode = false;
        for (const editor of editors) {
            if ((0,_common_editor_js__WEBPACK_IMPORTED_MODULE_2__.isEditorInputWithOptions)(editor)) {
                const resource = _common_editor_js__WEBPACK_IMPORTED_MODULE_2__.EditorResourceAccessor.getOriginalUri(editor.editor, { supportSideBySide: _common_editor_js__WEBPACK_IMPORTED_MODULE_2__.SideBySideEditor.BOTH });
                if (_base_common_uri_js__WEBPACK_IMPORTED_MODULE_9__.URI.isUri(resource)) {
                    resources.add(resource);
                }
                else if (resource) {
                    if (resource.primary) {
                        resources.add(resource.primary);
                    }
                    if (resource.secondary) {
                        resources.add(resource.secondary);
                    }
                    diffMode = editor.editor instanceof _common_editor_diffEditorInput_js__WEBPACK_IMPORTED_MODULE_11__.DiffEditorInput;
                }
            }
            else {
                if ((0,_common_editor_js__WEBPACK_IMPORTED_MODULE_2__.isResourceMergeEditorInput)(editor)) {
                    if (_base_common_uri_js__WEBPACK_IMPORTED_MODULE_9__.URI.isUri(editor.input1)) {
                        resources.add(editor.input1.resource);
                    }
                    if (_base_common_uri_js__WEBPACK_IMPORTED_MODULE_9__.URI.isUri(editor.input2)) {
                        resources.add(editor.input2.resource);
                    }
                    if (_base_common_uri_js__WEBPACK_IMPORTED_MODULE_9__.URI.isUri(editor.base)) {
                        resources.add(editor.base.resource);
                    }
                    if (_base_common_uri_js__WEBPACK_IMPORTED_MODULE_9__.URI.isUri(editor.result)) {
                        resources.add(editor.result.resource);
                    }
                    mergeMode = true;
                }
                if ((0,_common_editor_js__WEBPACK_IMPORTED_MODULE_2__.isResourceDiffEditorInput)(editor)) {
                    if (_base_common_uri_js__WEBPACK_IMPORTED_MODULE_9__.URI.isUri(editor.original.resource)) {
                        resources.add(editor.original.resource);
                    }
                    if (_base_common_uri_js__WEBPACK_IMPORTED_MODULE_9__.URI.isUri(editor.modified.resource)) {
                        resources.add(editor.modified.resource);
                    }
                    diffMode = true;
                }
                else if ((0,_common_editor_js__WEBPACK_IMPORTED_MODULE_2__.isResourceEditorInput)(editor)) {
                    resources.add(editor.resource);
                }
            }
        }
        return {
            resources: Array.from(( resources.keys())),
            diffMode,
            mergeMode
        };
    }
    isOpened(editor) {
        return this.editorsObserver.hasEditor({
            resource: this.uriIdentityService.asCanonicalUri(editor.resource),
            typeId: editor.typeId,
            editorId: editor.editorId
        });
    }
    isVisible(editor) {
        for (const group of this.editorGroupsContainer.groups) {
            if (group.activeEditor?.matches(editor)) {
                return true;
            }
        }
        return false;
    }
    async closeEditor({ editor, groupId }, options) {
        const group = this.editorGroupsContainer.getGroup(groupId);
        await group?.closeEditor(editor, options);
    }
    async closeEditors(editors, options) {
        const mapGroupToEditors = ( new Map());
        for (const { editor, groupId } of editors) {
            const group = this.editorGroupsContainer.getGroup(groupId);
            if (!group) {
                continue;
            }
            let editors = mapGroupToEditors.get(group);
            if (!editors) {
                editors = [];
                mapGroupToEditors.set(group, editors);
            }
            editors.push(editor);
        }
        for (const [group, editors] of mapGroupToEditors) {
            await group.closeEditors(editors, options);
        }
    }
    findEditors(arg1, options, arg2) {
        const resource = _base_common_uri_js__WEBPACK_IMPORTED_MODULE_9__.URI.isUri(arg1) ? arg1 : arg1.resource;
        const typeId = _base_common_uri_js__WEBPACK_IMPORTED_MODULE_9__.URI.isUri(arg1) ? undefined : arg1.typeId;
        if (options?.supportSideBySide !== _common_editor_js__WEBPACK_IMPORTED_MODULE_2__.SideBySideEditor.ANY && options?.supportSideBySide !== _common_editor_js__WEBPACK_IMPORTED_MODULE_2__.SideBySideEditor.SECONDARY) {
            if (!this.editorsObserver.hasEditors(resource)) {
                if (_base_common_uri_js__WEBPACK_IMPORTED_MODULE_9__.URI.isUri(arg1) || (0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_20__.isUndefined)(arg2)) {
                    return [];
                }
                return undefined;
            }
        }
        if (!(0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_20__.isUndefined)(arg2)) {
            const targetGroup = typeof arg2 === 'number' ? this.editorGroupsContainer.getGroup(arg2) : arg2;
            if (_base_common_uri_js__WEBPACK_IMPORTED_MODULE_9__.URI.isUri(arg1)) {
                if (!targetGroup) {
                    return [];
                }
                return targetGroup.findEditors(resource, options);
            }
            else {
                if (!targetGroup) {
                    return undefined;
                }
                const editors = targetGroup.findEditors(resource, options);
                for (const editor of editors) {
                    if (editor.typeId === typeId) {
                        return editor;
                    }
                }
                return undefined;
            }
        }
        else {
            const result = [];
            for (const group of this.editorGroupsContainer.getGroups(1 )) {
                const editors = [];
                if (_base_common_uri_js__WEBPACK_IMPORTED_MODULE_9__.URI.isUri(arg1)) {
                    editors.push(...this.findEditors(arg1, options, group));
                }
                else {
                    const editor = this.findEditors(arg1, options, group);
                    if (editor) {
                        editors.push(editor);
                    }
                }
                result.push(...( editors.map(editor => ({ editor, groupId: group.id }))));
            }
            return result;
        }
    }
    async replaceEditors(replacements, group) {
        const targetGroup = typeof group === 'number' ? this.editorGroupsContainer.getGroup(group) : group;
        const typedReplacements = [];
        for (const replacement of replacements) {
            let typedReplacement = undefined;
            if (!(0,_common_editor_js__WEBPACK_IMPORTED_MODULE_2__.isEditorInput)(replacement.replacement)) {
                const resolvedEditor = await this.editorResolverService.resolveEditor(replacement.replacement, targetGroup);
                if (resolvedEditor === 1 ) {
                    continue;
                }
                if ((0,_common_editor_js__WEBPACK_IMPORTED_MODULE_2__.isEditorInputWithOptionsAndGroup)(resolvedEditor)) {
                    typedReplacement = {
                        editor: replacement.editor,
                        replacement: resolvedEditor.editor,
                        options: resolvedEditor.options,
                        forceReplaceDirty: replacement.forceReplaceDirty
                    };
                }
            }
            if (!typedReplacement) {
                typedReplacement = {
                    editor: replacement.editor,
                    replacement: (0,_common_editorGroupsService_js__WEBPACK_IMPORTED_MODULE_13__.isEditorReplacement)(replacement) ? replacement.replacement : await this.textEditorService.resolveTextEditor(replacement.replacement),
                    options: (0,_common_editorGroupsService_js__WEBPACK_IMPORTED_MODULE_13__.isEditorReplacement)(replacement) ? replacement.options : replacement.replacement.options,
                    forceReplaceDirty: replacement.forceReplaceDirty
                };
            }
            typedReplacements.push(typedReplacement);
        }
        return targetGroup?.replaceEditors(typedReplacements);
    }
    async save(editors, options) {
        if (!Array.isArray(editors)) {
            editors = [editors];
        }
        const uniqueEditors = this.getUniqueEditors(editors);
        const editorsToSaveParallel = [];
        const editorsToSaveSequentially = [];
        if (options?.saveAs) {
            editorsToSaveSequentially.push(...uniqueEditors);
        }
        else {
            for (const { groupId, editor } of uniqueEditors) {
                if (editor.hasCapability(4 )) {
                    editorsToSaveSequentially.push({ groupId, editor });
                }
                else {
                    editorsToSaveParallel.push({ groupId, editor });
                }
            }
        }
        const saveResults = await _base_common_async_js__WEBPACK_IMPORTED_MODULE_22__.Promises.settled(( editorsToSaveParallel.map(({ groupId, editor }) => {
            if (options?.reason === 1 ) {
                this.editorGroupsContainer.getGroup(groupId)?.pinEditor(editor);
            }
            return editor.save(groupId, options);
        })));
        for (const { groupId, editor } of editorsToSaveSequentially) {
            if (editor.isDisposed()) {
                continue;
            }
            const editorPane = await this.openEditor(editor, groupId);
            const editorOptions = {
                pinned: true,
                viewState: editorPane?.getViewState()
            };
            const result = options?.saveAs ? await editor.saveAs(groupId, options) : await editor.save(groupId, options);
            saveResults.push(result);
            if (!result) {
                break;
            }
            if (!editor.matches(result)) {
                const targetGroups = editor.hasCapability(4 ) ? ( this.editorGroupsContainer.groups.map(group => group.id) ) : [groupId];
                for (const targetGroup of targetGroups) {
                    if (result instanceof _common_editor_editorInput_js__WEBPACK_IMPORTED_MODULE_3__.EditorInput) {
                        await this.replaceEditors([{ editor, replacement: result, options: editorOptions }], targetGroup);
                    }
                    else {
                        await this.replaceEditors([{ editor, replacement: { ...result, options: editorOptions } }], targetGroup);
                    }
                }
            }
        }
        return {
            success: saveResults.every(result => !!result),
            editors: (0,_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_18__.coalesce)(saveResults)
        };
    }
    saveAll(options) {
        return this.save(this.getAllModifiedEditors(options), options);
    }
    async revert(editors, options) {
        if (!Array.isArray(editors)) {
            editors = [editors];
        }
        const uniqueEditors = this.getUniqueEditors(editors);
        await _base_common_async_js__WEBPACK_IMPORTED_MODULE_22__.Promises.settled(( uniqueEditors.map(async ({ groupId, editor }) => {
            this.editorGroupsContainer.getGroup(groupId)?.pinEditor(editor);
            return editor.revert(groupId, options);
        })));
        return !( uniqueEditors.some(({ editor }) => editor.isDirty()));
    }
    async revertAll(options) {
        return this.revert(this.getAllModifiedEditors(options), options);
    }
    getAllModifiedEditors(options) {
        const editors = [];
        for (const group of this.editorGroupsContainer.getGroups(1 )) {
            for (const editor of group.getEditors(0 )) {
                if (!editor.isModified()) {
                    continue;
                }
                if ((typeof options?.includeUntitled === 'boolean' || !options?.includeUntitled?.includeScratchpad)
                    && editor.hasCapability(512 )) {
                    continue;
                }
                if (!options?.includeUntitled && editor.hasCapability(4 )) {
                    continue;
                }
                if (options?.excludeSticky && group.isSticky(editor)) {
                    continue;
                }
                editors.push({ groupId: group.id, editor });
            }
        }
        return editors;
    }
    getUniqueEditors(editors) {
        const uniqueEditors = [];
        for (const { editor, groupId } of editors) {
            if (( uniqueEditors.some(uniqueEditor => uniqueEditor.editor.matches(editor)))) {
                continue;
            }
            uniqueEditors.push({ editor, groupId });
        }
        return uniqueEditors;
    }
    dispose() {
        super.dispose();
        this.activeOutOfWorkspaceWatchers.forEach(disposable => (0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_17__.dispose)(disposable));
        this.activeOutOfWorkspaceWatchers.clear();
    }
};
EditorService = EditorService_1 = ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _common_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_14__.IEditorGroupsService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_1__.IInstantiationService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _platform_files_common_files_service_js__WEBPACK_IMPORTED_MODULE_7__.IFileService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_16__.IConfigurationService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _platform_workspace_common_workspace_service_js__WEBPACK_IMPORTED_MODULE_23__.IWorkspaceContextService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _platform_uriIdentity_common_uriIdentity_service_js__WEBPACK_IMPORTED_MODULE_25__.IUriIdentityService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, _common_editorResolverService_service_js__WEBPACK_IMPORTED_MODULE_26__.IEditorResolverService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, _platform_workspace_common_workspaceTrust_service_js__WEBPACK_IMPORTED_MODULE_27__.IWorkspaceTrustRequestService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, _host_browser_host_service_js__WEBPACK_IMPORTED_MODULE_28__.IHostService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, _textfile_common_textEditorService_service_js__WEBPACK_IMPORTED_MODULE_30__.ITextEditorService))
], EditorService));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorGroupFinder.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorGroupFinder.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   findGroup: () => (/* binding */ findGroup)
/* harmony export */ });
/* harmony import */ var _platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../platform/configuration/common/configuration.service.js */ "./node_modules/vscode/vscode/src/vs/platform/configuration/common/configuration.service.js");
/* harmony import */ var _platform_editor_common_editor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../platform/editor/common/editor.js */ "./node_modules/vscode/vscode/src/vs/platform/editor/common/editor.js");
/* harmony import */ var _common_editor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../common/editor.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor.js");
/* harmony import */ var _editorGroupsService_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./editorGroupsService.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorGroupsService.js");
/* harmony import */ var _editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./editorGroupsService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorGroupsService.service.js");
/* harmony import */ var _editorService_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./editorService.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.js");






function findGroup(accessor, editor, preferredGroup) {
    const editorGroupService = accessor.get(_editorGroupsService_service_js__WEBPACK_IMPORTED_MODULE_4__.IEditorGroupsService);
    const configurationService = accessor.get(_platform_configuration_common_configuration_service_js__WEBPACK_IMPORTED_MODULE_0__.IConfigurationService);
    const group = doFindGroup(editor, preferredGroup, editorGroupService, configurationService);
    if (group instanceof Promise) {
        return group.then(group => handleGroupActivation(group, editor, preferredGroup, editorGroupService));
    }
    return handleGroupActivation(group, editor, preferredGroup, editorGroupService);
}
function handleGroupActivation(group, editor, preferredGroup, editorGroupService) {
    let activation = undefined;
    if (editorGroupService.activeGroup !== group &&
        editor.options && !editor.options.inactive &&
        editor.options.preserveFocus &&
        typeof editor.options.activation !== 'number' &&
        preferredGroup !== _editorService_js__WEBPACK_IMPORTED_MODULE_5__.SIDE_GROUP
    ) {
        activation = _platform_editor_common_editor_js__WEBPACK_IMPORTED_MODULE_1__.EditorActivation.ACTIVATE;
    }
    return [group, activation];
}
function doFindGroup(input, preferredGroup, editorGroupService, configurationService) {
    let group;
    const editor = (0,_common_editor_js__WEBPACK_IMPORTED_MODULE_2__.isEditorInputWithOptions)(input) ? input.editor : input;
    const options = input.options;
    if (preferredGroup && typeof preferredGroup !== 'number') {
        group = preferredGroup;
    }
    else if (typeof preferredGroup === 'number' && preferredGroup >= 0) {
        group = editorGroupService.getGroup(preferredGroup);
    }
    else if (preferredGroup === _editorService_js__WEBPACK_IMPORTED_MODULE_5__.SIDE_GROUP) {
        const direction = (0,_editorGroupsService_js__WEBPACK_IMPORTED_MODULE_3__.preferredSideBySideGroupDirection)(configurationService);
        let candidateGroup = editorGroupService.findGroup({ direction });
        if (!candidateGroup || isGroupLockedForEditor(candidateGroup, editor)) {
            candidateGroup = editorGroupService.addGroup(editorGroupService.activeGroup, direction);
        }
        group = candidateGroup;
    }
    else if (preferredGroup === _editorService_js__WEBPACK_IMPORTED_MODULE_5__.AUX_WINDOW_GROUP) {
        group = editorGroupService.createAuxiliaryEditorPart().then(group => group.activeGroup);
    }
    else if (!options || typeof options.index !== 'number') {
        const groupsByLastActive = editorGroupService.getGroups(1 );
        if (options?.revealIfVisible) {
            for (const lastActiveGroup of groupsByLastActive) {
                if (isActive(lastActiveGroup, editor)) {
                    group = lastActiveGroup;
                    break;
                }
            }
        }
        if (!group) {
            if (options?.revealIfOpened || configurationService.getValue('workbench.editor.revealIfOpen') || ((0,_common_editor_js__WEBPACK_IMPORTED_MODULE_2__.isEditorInput)(editor) && editor.hasCapability(8 ))) {
                let groupWithInputActive = undefined;
                let groupWithInputOpened = undefined;
                for (const group of groupsByLastActive) {
                    if (isOpened(group, editor)) {
                        if (!groupWithInputOpened) {
                            groupWithInputOpened = group;
                        }
                        if (!groupWithInputActive && group.isActive(editor)) {
                            groupWithInputActive = group;
                        }
                    }
                    if (groupWithInputOpened && groupWithInputActive) {
                        break;
                    }
                }
                group = groupWithInputActive || groupWithInputOpened;
            }
        }
    }
    if (!group) {
        let candidateGroup = editorGroupService.activeGroup;
        if (isGroupLockedForEditor(candidateGroup, editor)) {
            for (const group of editorGroupService.getGroups(1 )) {
                if (isGroupLockedForEditor(group, editor)) {
                    continue;
                }
                candidateGroup = group;
                break;
            }
            if (isGroupLockedForEditor(candidateGroup, editor)) {
                group = editorGroupService.addGroup(candidateGroup, (0,_editorGroupsService_js__WEBPACK_IMPORTED_MODULE_3__.preferredSideBySideGroupDirection)(configurationService));
            }
            else {
                group = candidateGroup;
            }
        }
        else {
            group = candidateGroup;
        }
    }
    return group;
}
function isGroupLockedForEditor(group, editor) {
    if (!group.isLocked) {
        return false;
    }
    if (isOpened(group, editor)) {
        return false;
    }
    return true;
}
function isActive(group, editor) {
    if (!group.activeEditor) {
        return false;
    }
    return group.activeEditor.matches(editor);
}
function isOpened(group, editor) {
    for (const typedEditor of group.editors) {
        if (typedEditor.matches(editor)) {
            return true;
        }
    }
    return false;
}



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/services/textfile/common/textEditorService.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/services/textfile/common/textEditorService.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TextEditorService: () => (/* binding */ TextEditorService)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../base/common/event.js */ "./node_modules/vscode/vscode/src/vs/base/common/event.js");
/* harmony import */ var _platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../platform/registry/common/platform.js */ "./node_modules/vscode/vscode/src/vs/platform/registry/common/platform.js");
/* harmony import */ var _base_common_map_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../base/common/map.js */ "./node_modules/vscode/vscode/src/vs/base/common/map.js");
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../platform/instantiation/common/instantiation.js */ "./node_modules/vscode/vscode/src/vs/platform/instantiation/common/instantiation.js");
/* harmony import */ var _common_editor_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../common/editor.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor.js");
/* harmony import */ var _untitled_common_untitledTextEditorService_service_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../untitled/common/untitledTextEditorService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/untitled/common/untitledTextEditorService.service.js");
/* harmony import */ var _base_common_network_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../base/common/network.js */ "./node_modules/vscode/vscode/src/vs/base/common/network.js");
/* harmony import */ var _common_editor_diffEditorInput_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../common/editor/diffEditorInput.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/diffEditorInput.js");
/* harmony import */ var _common_editor_sideBySideEditorInput_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../common/editor/sideBySideEditorInput.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/sideBySideEditorInput.js");
/* harmony import */ var _common_editor_textResourceEditorInput_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../common/editor/textResourceEditorInput.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/textResourceEditorInput.js");
/* harmony import */ var _untitled_common_untitledTextEditorInput_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../untitled/common/untitledTextEditorInput.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/untitled/common/untitledTextEditorInput.js");
/* harmony import */ var _base_common_resources_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../base/common/resources.js */ "./node_modules/vscode/vscode/src/vs/base/common/resources.js");
/* harmony import */ var _base_common_uri_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../base/common/uri.js */ "./node_modules/vscode/vscode/src/vs/base/common/uri.js");
/* harmony import */ var _platform_uriIdentity_common_uriIdentity_service_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../platform/uriIdentity/common/uriIdentity.service.js */ "./node_modules/vscode/vscode/src/vs/platform/uriIdentity/common/uriIdentity.service.js");
/* harmony import */ var _platform_files_common_files_service_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../platform/files/common/files.service.js */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.service.js");
/* harmony import */ var _editor_common_editorResolverService_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../editor/common/editorResolverService.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorResolverService.js");
/* harmony import */ var _editor_common_editorResolverService_service_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../editor/common/editorResolverService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorResolverService.service.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");



















let TextEditorService = class TextEditorService extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_18__.Disposable {
    constructor(untitledTextEditorService, instantiationService, uriIdentityService, fileService, editorResolverService) {
        super();
        this.untitledTextEditorService = untitledTextEditorService;
        this.instantiationService = instantiationService;
        this.uriIdentityService = uriIdentityService;
        this.fileService = fileService;
        this.editorResolverService = editorResolverService;
        this.editorInputCache = ( new _base_common_map_js__WEBPACK_IMPORTED_MODULE_3__.ResourceMap());
        this.fileEditorFactory = ( _platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.Registry.as(_common_editor_js__WEBPACK_IMPORTED_MODULE_5__.EditorExtensions.EditorFactory)).getFileEditorFactory();
        this.registerDefaultEditor();
    }
    registerDefaultEditor() {
        this._register(this.editorResolverService.registerEditor('*', {
            id: _common_editor_js__WEBPACK_IMPORTED_MODULE_5__.DEFAULT_EDITOR_ASSOCIATION.id,
            label: _common_editor_js__WEBPACK_IMPORTED_MODULE_5__.DEFAULT_EDITOR_ASSOCIATION.displayName,
            detail: _common_editor_js__WEBPACK_IMPORTED_MODULE_5__.DEFAULT_EDITOR_ASSOCIATION.providerDisplayName,
            priority: _editor_common_editorResolverService_js__WEBPACK_IMPORTED_MODULE_16__.RegisteredEditorPriority.builtin
        }, {}, {
            createEditorInput: editor => ({ editor: this.createTextEditor(editor) }),
            createUntitledEditorInput: untitledEditor => ({ editor: this.createTextEditor(untitledEditor) }),
            createDiffEditorInput: diffEditor => ({ editor: this.createTextEditor(diffEditor) })
        }));
    }
    async resolveTextEditor(input) {
        return this.createTextEditor(input);
    }
    createTextEditor(input) {
        if ((0,_common_editor_js__WEBPACK_IMPORTED_MODULE_5__.isResourceMergeEditorInput)(input)) {
            return this.createTextEditor(input.result);
        }
        if ((0,_common_editor_js__WEBPACK_IMPORTED_MODULE_5__.isResourceDiffEditorInput)(input)) {
            const original = this.createTextEditor(input.original);
            const modified = this.createTextEditor(input.modified);
            return this.instantiationService.createInstance(_common_editor_diffEditorInput_js__WEBPACK_IMPORTED_MODULE_8__.DiffEditorInput, input.label, input.description, original, modified, undefined);
        }
        if ((0,_common_editor_js__WEBPACK_IMPORTED_MODULE_5__.isResourceSideBySideEditorInput)(input)) {
            const primary = this.createTextEditor(input.primary);
            const secondary = this.createTextEditor(input.secondary);
            return this.instantiationService.createInstance(_common_editor_sideBySideEditorInput_js__WEBPACK_IMPORTED_MODULE_9__.SideBySideEditorInput, input.label, input.description, secondary, primary);
        }
        const untitledInput = input;
        if (untitledInput.forceUntitled || !untitledInput.resource || (untitledInput.resource.scheme === _base_common_network_js__WEBPACK_IMPORTED_MODULE_7__.Schemas.untitled)) {
            const untitledOptions = {
                languageId: untitledInput.languageId,
                initialValue: untitledInput.contents,
                encoding: untitledInput.encoding
            };
            let untitledModel;
            if (untitledInput.resource?.scheme === _base_common_network_js__WEBPACK_IMPORTED_MODULE_7__.Schemas.untitled) {
                untitledModel = this.untitledTextEditorService.create({ untitledResource: untitledInput.resource, ...untitledOptions });
            }
            else {
                untitledModel = this.untitledTextEditorService.create({ associatedResource: untitledInput.resource, ...untitledOptions });
            }
            return this.createOrGetCached(untitledModel.resource, () => this.instantiationService.createInstance(_untitled_common_untitledTextEditorInput_js__WEBPACK_IMPORTED_MODULE_11__.UntitledTextEditorInput, untitledModel));
        }
        const textResourceEditorInput = input;
        if (textResourceEditorInput.resource instanceof _base_common_uri_js__WEBPACK_IMPORTED_MODULE_13__.URI) {
            const label = textResourceEditorInput.label || (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_12__.basename)(textResourceEditorInput.resource);
            const preferredResource = textResourceEditorInput.resource;
            const canonicalResource = this.uriIdentityService.asCanonicalUri(preferredResource);
            return this.createOrGetCached(canonicalResource, () => {
                if (textResourceEditorInput.forceFile || this.fileService.hasProvider(canonicalResource)) {
                    return this.fileEditorFactory.createFileEditor(canonicalResource, preferredResource, textResourceEditorInput.label, textResourceEditorInput.description, textResourceEditorInput.encoding, textResourceEditorInput.languageId, textResourceEditorInput.contents, this.instantiationService);
                }
                return this.instantiationService.createInstance(_common_editor_textResourceEditorInput_js__WEBPACK_IMPORTED_MODULE_10__.TextResourceEditorInput, canonicalResource, textResourceEditorInput.label, textResourceEditorInput.description, textResourceEditorInput.languageId, textResourceEditorInput.contents);
            }, cachedInput => {
                if (cachedInput instanceof _untitled_common_untitledTextEditorInput_js__WEBPACK_IMPORTED_MODULE_11__.UntitledTextEditorInput) {
                    return;
                }
                else if (!(cachedInput instanceof _common_editor_textResourceEditorInput_js__WEBPACK_IMPORTED_MODULE_10__.TextResourceEditorInput)) {
                    cachedInput.setPreferredResource(preferredResource);
                    if (textResourceEditorInput.label) {
                        cachedInput.setPreferredName(textResourceEditorInput.label);
                    }
                    if (textResourceEditorInput.description) {
                        cachedInput.setPreferredDescription(textResourceEditorInput.description);
                    }
                    if (textResourceEditorInput.encoding) {
                        cachedInput.setPreferredEncoding(textResourceEditorInput.encoding);
                    }
                    if (textResourceEditorInput.languageId) {
                        cachedInput.setPreferredLanguageId(textResourceEditorInput.languageId);
                    }
                    if (typeof textResourceEditorInput.contents === 'string') {
                        cachedInput.setPreferredContents(textResourceEditorInput.contents);
                    }
                }
                else {
                    if (label) {
                        cachedInput.setName(label);
                    }
                    if (textResourceEditorInput.description) {
                        cachedInput.setDescription(textResourceEditorInput.description);
                    }
                    if (textResourceEditorInput.languageId) {
                        cachedInput.setPreferredLanguageId(textResourceEditorInput.languageId);
                    }
                    if (typeof textResourceEditorInput.contents === 'string') {
                        cachedInput.setPreferredContents(textResourceEditorInput.contents);
                    }
                }
            });
        }
        throw ( new Error(
            `ITextEditorService: Unable to create texteditor from ${JSON.stringify(input)}`
        ));
    }
    createOrGetCached(resource, factoryFn, cachedFn) {
        let input = this.editorInputCache.get(resource);
        if (input) {
            cachedFn?.(input);
            return input;
        }
        input = factoryFn();
        this.editorInputCache.set(resource, input);
        _base_common_event_js__WEBPACK_IMPORTED_MODULE_1__.Event.once(input.onWillDispose)(() => this.editorInputCache.delete(resource));
        return input;
    }
};
TextEditorService = ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(0, _untitled_common_untitledTextEditorService_service_js__WEBPACK_IMPORTED_MODULE_6__.IUntitledTextEditorService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_4__.IInstantiationService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_uriIdentity_common_uriIdentity_service_js__WEBPACK_IMPORTED_MODULE_14__.IUriIdentityService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _platform_files_common_files_service_js__WEBPACK_IMPORTED_MODULE_15__.IFileService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _editor_common_editorResolverService_service_js__WEBPACK_IMPORTED_MODULE_17__.IEditorResolverService))
], TextEditorService));



/***/ }),

/***/ "./node_modules/vscode/vscode/src/vs/workbench/services/untitled/common/untitledTextEditorInput.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/vscode/vscode/src/vs/workbench/services/untitled/common/untitledTextEditorInput.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   UntitledTextEditorInput: () => (/* binding */ UntitledTextEditorInput)
/* harmony export */ });
/* harmony import */ var _external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../external/tslib/tslib.es6.js */ "./node_modules/vscode/external/tslib/tslib.es6.js");
/* harmony import */ var _common_editor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../common/editor.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor.js");
/* harmony import */ var _common_editor_textResourceEditorInput_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../common/editor/textResourceEditorInput.js */ "./node_modules/vscode/vscode/src/vs/workbench/common/editor/textResourceEditorInput.js");
/* harmony import */ var _textfile_common_textfiles_service_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../textfile/common/textfiles.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/textfile/common/textfiles.service.js");
/* harmony import */ var _platform_label_common_label_service_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../platform/label/common/label.service.js */ "./node_modules/vscode/vscode/src/vs/platform/label/common/label.service.js");
/* harmony import */ var _editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../editor/common/editorService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/editorService.service.js");
/* harmony import */ var _platform_files_common_files_service_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../platform/files/common/files.service.js */ "./node_modules/vscode/vscode/src/vs/platform/files/common/files.service.js");
/* harmony import */ var _base_common_resources_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../base/common/resources.js */ "./node_modules/vscode/vscode/src/vs/base/common/resources.js");
/* harmony import */ var _environment_common_environmentService_service_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../environment/common/environmentService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/environment/common/environmentService.service.js");
/* harmony import */ var _path_common_pathService_service_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../path/common/pathService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/path/common/pathService.service.js");
/* harmony import */ var _filesConfiguration_common_filesConfigurationService_service_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../filesConfiguration/common/filesConfigurationService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/filesConfiguration/common/filesConfigurationService.service.js");
/* harmony import */ var _editor_common_services_resolverService_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../editor/common/services/resolverService.js */ "./node_modules/vscode/vscode/src/vs/editor/common/services/resolverService.js");
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../base/common/lifecycle.js */ "./node_modules/vscode/vscode/src/vs/base/common/lifecycle.js");
/* harmony import */ var _editor_common_services_textResourceConfiguration_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../editor/common/services/textResourceConfiguration.js */ "./node_modules/vscode/vscode/src/vs/editor/common/services/textResourceConfiguration.js");
/* harmony import */ var _editor_common_customEditorLabelService_service_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../editor/common/customEditorLabelService.service.js */ "./node_modules/vscode/vscode/src/vs/workbench/services/editor/common/customEditorLabelService.service.js");















var UntitledTextEditorInput_1;
let UntitledTextEditorInput = class UntitledTextEditorInput extends _common_editor_textResourceEditorInput_js__WEBPACK_IMPORTED_MODULE_2__.AbstractTextResourceEditorInput {
    static { UntitledTextEditorInput_1 = this; }
    static { this.ID = 'workbench.editors.untitledEditorInput'; }
    get typeId() {
        return UntitledTextEditorInput_1.ID;
    }
    get editorId() {
        return _common_editor_js__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_EDITOR_ASSOCIATION.id;
    }
    constructor(model, textFileService, labelService, editorService, fileService, environmentService, pathService, filesConfigurationService, textModelService, textResourceConfigurationService, customEditorLabelService) {
        super(model.resource, undefined, editorService, textFileService, labelService, fileService, filesConfigurationService, textResourceConfigurationService, customEditorLabelService);
        this.model = model;
        this.environmentService = environmentService;
        this.pathService = pathService;
        this.textModelService = textModelService;
        this.modelResolve = undefined;
        this.modelDisposables = this._register(( new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_12__.DisposableStore()));
        this.cachedUntitledTextEditorModelReference = undefined;
        this.registerModelListeners(model);
        this._register(this.textFileService.untitled.onDidCreate(model => this.onDidCreateUntitledModel(model)));
    }
    registerModelListeners(model) {
        this.modelDisposables.clear();
        this.modelDisposables.add(model.onDidChangeDirty(() => this._onDidChangeDirty.fire()));
        this.modelDisposables.add(model.onDidChangeName(() => this._onDidChangeLabel.fire()));
        this.modelDisposables.add(model.onDidRevert(() => this.dispose()));
    }
    onDidCreateUntitledModel(model) {
        if ((0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_7__.isEqual)(model.resource, this.model.resource) && model !== this.model) {
            this.model = model;
            this.registerModelListeners(model);
        }
    }
    getName() {
        return this.model.name;
    }
    getDescription(verbosity = 1 ) {
        if (!this.model.hasAssociatedFilePath) {
            const descriptionCandidate = this.resource.path;
            if (descriptionCandidate !== this.getName()) {
                return descriptionCandidate;
            }
            return undefined;
        }
        return super.getDescription(verbosity);
    }
    getTitle(verbosity) {
        if (!this.model.hasAssociatedFilePath) {
            const name = this.getName();
            const description = this.getDescription();
            if (description && description !== name) {
                return `${name}  ${description}`;
            }
            return name;
        }
        return super.getTitle(verbosity);
    }
    isDirty() {
        return this.model.isDirty();
    }
    getEncoding() {
        return this.model.getEncoding();
    }
    setEncoding(encoding, mode ) {
        return this.model.setEncoding(encoding);
    }
    get hasLanguageSetExplicitly() { return this.model.hasLanguageSetExplicitly; }
    get hasAssociatedFilePath() { return this.model.hasAssociatedFilePath; }
    setLanguageId(languageId, source) {
        this.model.setLanguageId(languageId, source);
    }
    getLanguageId() {
        return this.model.getLanguageId();
    }
    async resolve() {
        if (!this.modelResolve) {
            this.modelResolve = (async () => {
                this.cachedUntitledTextEditorModelReference = await this.textModelService.createModelReference(this.resource);
            })();
        }
        await this.modelResolve;
        if (this.isDisposed()) {
            this.disposeModelReference();
        }
        return this.model;
    }
    toUntyped(options) {
        const untypedInput = {
            resource: this.model.hasAssociatedFilePath ? (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_7__.toLocalResource)(this.model.resource, this.environmentService.remoteAuthority, this.pathService.defaultUriScheme) : this.resource,
            forceUntitled: true,
            options: {
                override: this.editorId
            }
        };
        if (typeof options?.preserveViewState === 'number') {
            untypedInput.encoding = this.getEncoding();
            untypedInput.languageId = this.getLanguageId();
            untypedInput.contents = this.model.isModified() ? this.model.textEditorModel?.getValue() : undefined;
            untypedInput.options.viewState = (0,_common_editor_js__WEBPACK_IMPORTED_MODULE_1__.findViewStateForEditor)(this, options.preserveViewState, this.editorService);
            if (typeof untypedInput.contents === 'string' && !this.model.hasAssociatedFilePath && !options.preserveResource) {
                untypedInput.resource = undefined;
            }
        }
        return untypedInput;
    }
    matches(otherInput) {
        if (this === otherInput) {
            return true;
        }
        if (otherInput instanceof UntitledTextEditorInput_1) {
            return (0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_7__.isEqual)(otherInput.resource, this.resource);
        }
        if ((0,_common_editor_js__WEBPACK_IMPORTED_MODULE_1__.isUntitledResourceEditorInput)(otherInput)) {
            return super.matches(otherInput);
        }
        return false;
    }
    dispose() {
        this.modelResolve = undefined;
        this.disposeModelReference();
        super.dispose();
    }
    disposeModelReference() {
        (0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_12__.dispose)(this.cachedUntitledTextEditorModelReference);
        this.cachedUntitledTextEditorModelReference = undefined;
    }
};
UntitledTextEditorInput = UntitledTextEditorInput_1 = ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(1, _textfile_common_textfiles_service_js__WEBPACK_IMPORTED_MODULE_3__.ITextFileService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(2, _platform_label_common_label_service_js__WEBPACK_IMPORTED_MODULE_4__.ILabelService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(3, _editor_common_editorService_service_js__WEBPACK_IMPORTED_MODULE_5__.IEditorService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(4, _platform_files_common_files_service_js__WEBPACK_IMPORTED_MODULE_6__.IFileService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(5, _environment_common_environmentService_service_js__WEBPACK_IMPORTED_MODULE_8__.IWorkbenchEnvironmentService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(6, _path_common_pathService_service_js__WEBPACK_IMPORTED_MODULE_9__.IPathService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(7, _filesConfiguration_common_filesConfigurationService_service_js__WEBPACK_IMPORTED_MODULE_10__.IFilesConfigurationService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(8, _editor_common_services_resolverService_js__WEBPACK_IMPORTED_MODULE_11__.ITextModelService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(9, _editor_common_services_textResourceConfiguration_js__WEBPACK_IMPORTED_MODULE_13__.ITextResourceConfigurationService)),
    ( (0,_external_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.__param)(10, _editor_common_customEditorLabelService_service_js__WEBPACK_IMPORTED_MODULE_14__.ICustomEditorLabelService))
], UntitledTextEditorInput));



/***/ })

}])
//# sourceMappingURL=vendors-node_modules_vscode_vscode_src_vs_workbench_browser_parts_editor_editor_contribution_-169a12.immt_editor.js.map